var fq=Object.defineProperty;var K3=e=>{throw TypeError(e)};var mq=(e,t,s)=>t in e?fq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var et=(e,t,s)=>mq(e,typeof t!="symbol"?t+"":t,s),$w=(e,t,s)=>t.has(e)||K3("Cannot "+s);var he=(e,t,s)=>($w(e,t,"read from private field"),s?s.call(e):t.get(e)),Bt=(e,t,s)=>t.has(e)?K3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ct=(e,t,s,n)=>($w(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),ls=(e,t,s)=>($w(e,t,"access private method"),s);var _v=(e,t,s,n)=>({set _(i){ct(e,t,i,s)},get _(){return he(e,t,n)}});function pq(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var dwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eR={exports:{}},zb={},tR={exports:{}},gs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=Symbol.for("react.element"),gq=Symbol.for("react.portal"),xq=Symbol.for("react.fragment"),vq=Symbol.for("react.strict_mode"),yq=Symbol.for("react.profiler"),bq=Symbol.for("react.provider"),wq=Symbol.for("react.context"),jq=Symbol.for("react.forward_ref"),Nq=Symbol.for("react.suspense"),Sq=Symbol.for("react.memo"),Cq=Symbol.for("react.lazy"),Z3=Symbol.iterator;function kq(e){return e===null||typeof e!="object"?null:(e=Z3&&e[Z3]||e["@@iterator"],typeof e=="function"?e:null)}var sR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nR=Object.assign,rR={};function Qm(e,t,s){this.props=e,this.context=t,this.refs=rR,this.updater=s||sR}Qm.prototype.isReactComponent={};Qm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iR(){}iR.prototype=Qm.prototype;function b4(e,t,s){this.props=e,this.context=t,this.refs=rR,this.updater=s||sR}var w4=b4.prototype=new iR;w4.constructor=b4;nR(w4,Qm.prototype);w4.isPureReactComponent=!0;var X3=Array.isArray,aR=Object.prototype.hasOwnProperty,j4={current:null},oR={key:!0,ref:!0,__self:!0,__source:!0};function lR(e,t,s){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)aR.call(t,n)&&!oR.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:g0,type:e,key:a,ref:o,props:i,_owner:j4.current}}function _q(e,t){return{$$typeof:g0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function N4(e){return typeof e=="object"&&e!==null&&e.$$typeof===g0}function Pq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Q3=/\/+/g;function Uw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pq(""+e.key):t.toString(36)}function Ey(e,t,s,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case g0:case gq:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Uw(o,0):n,X3(i)?(s="",e!=null&&(s=e.replace(Q3,"$&/")+"/"),Ey(i,t,s,"",function(d){return d})):i!=null&&(N4(i)&&(i=_q(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q3,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",X3(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Uw(a,l);o+=Ey(a,t,s,c,i)}else if(c=kq(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Uw(a,l++),o+=Ey(a,t,s,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Pv(e,t,s){if(e==null)return e;var n=[],i=0;return Ey(e,n,"","",function(a){return t.call(s,a,i++)}),n}function Aq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _i={current:null},Ty={transition:null},Eq={ReactCurrentDispatcher:_i,ReactCurrentBatchConfig:Ty,ReactCurrentOwner:j4};function cR(){throw Error("act(...) is not supported in production builds of React.")}gs.Children={map:Pv,forEach:function(e,t,s){Pv(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Pv(e,function(){t++}),t},toArray:function(e){return Pv(e,function(t){return t})||[]},only:function(e){if(!N4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gs.Component=Qm;gs.Fragment=xq;gs.Profiler=yq;gs.PureComponent=b4;gs.StrictMode=vq;gs.Suspense=Nq;gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eq;gs.act=cR;gs.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nR({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=j4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)aR.call(t,c)&&!oR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:g0,type:e.type,key:i,ref:a,props:n,_owner:o}};gs.createContext=function(e){return e={$$typeof:wq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bq,_context:e},e.Consumer=e};gs.createElement=lR;gs.createFactory=function(e){var t=lR.bind(null,e);return t.type=e,t};gs.createRef=function(){return{current:null}};gs.forwardRef=function(e){return{$$typeof:jq,render:e}};gs.isValidElement=N4;gs.lazy=function(e){return{$$typeof:Cq,_payload:{_status:-1,_result:e},_init:Aq}};gs.memo=function(e,t){return{$$typeof:Sq,type:e,compare:t===void 0?null:t}};gs.startTransition=function(e){var t=Ty.transition;Ty.transition={};try{e()}finally{Ty.transition=t}};gs.unstable_act=cR;gs.useCallback=function(e,t){return _i.current.useCallback(e,t)};gs.useContext=function(e){return _i.current.useContext(e)};gs.useDebugValue=function(){};gs.useDeferredValue=function(e){return _i.current.useDeferredValue(e)};gs.useEffect=function(e,t){return _i.current.useEffect(e,t)};gs.useId=function(){return _i.current.useId()};gs.useImperativeHandle=function(e,t,s){return _i.current.useImperativeHandle(e,t,s)};gs.useInsertionEffect=function(e,t){return _i.current.useInsertionEffect(e,t)};gs.useLayoutEffect=function(e,t){return _i.current.useLayoutEffect(e,t)};gs.useMemo=function(e,t){return _i.current.useMemo(e,t)};gs.useReducer=function(e,t,s){return _i.current.useReducer(e,t,s)};gs.useRef=function(e){return _i.current.useRef(e)};gs.useState=function(e){return _i.current.useState(e)};gs.useSyncExternalStore=function(e,t,s){return _i.current.useSyncExternalStore(e,t,s)};gs.useTransition=function(){return _i.current.useTransition()};gs.version="18.3.1";tR.exports=gs;var j=tR.exports;const it=y4(j),dR=pq({__proto__:null,default:it},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tq=j,Mq=Symbol.for("react.element"),Rq=Symbol.for("react.fragment"),Lq=Object.prototype.hasOwnProperty,Dq=Tq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oq={key:!0,ref:!0,__self:!0,__source:!0};function uR(e,t,s){var n,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Lq.call(t,n)&&!Oq.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Mq,type:e,key:a,ref:o,props:i,_owner:Dq.current}}zb.Fragment=Rq;zb.jsx=uR;zb.jsxs=uR;eR.exports=zb;var r=eR.exports,hR={exports:{}},Pa={},fR={exports:{}},mR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,U){var xe=P.length;P.push(U);e:for(;0<xe;){var X=xe-1>>>1,O=P[X];if(0<i(O,U))P[X]=U,P[xe]=O,xe=X;else break e}}function s(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],xe=P.pop();if(xe!==U){P[0]=xe;e:for(var X=0,O=P.length,W=O>>>1;X<W;){var Z=2*(X+1)-1,ce=P[Z],ae=Z+1,ne=P[ae];if(0>i(ce,xe))ae<O&&0>i(ne,ce)?(P[X]=ne,P[ae]=xe,X=ae):(P[X]=ce,P[Z]=xe,X=Z);else if(ae<O&&0>i(ne,xe))P[X]=ne,P[ae]=xe,X=ae;else break e}}return U}function i(P,U){var xe=P.sortIndex-U.sortIndex;return xe!==0?xe:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,g=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var U=s(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=P)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=s(d)}}function S(P){if(p=!1,w(P),!g)if(s(c)!==null)g=!0,ie(C);else{var U=s(d);U!==null&&G(S,U.startTime-P)}}function C(P,U){g=!1,p&&(p=!1,x(M),M=-1),f=!0;var xe=m;try{for(w(U),h=s(c);h!==null&&(!(h.expirationTime>U)||P&&!E());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var O=X(h.expirationTime<=U);U=e.unstable_now(),typeof O=="function"?h.callback=O:h===s(c)&&n(c),w(U)}else n(c);h=s(c)}if(h!==null)var W=!0;else{var Z=s(d);Z!==null&&G(S,Z.startTime-U),W=!1}return W}finally{h=null,m=xe,f=!1}}var L=!1,R=null,M=-1,D=5,$=-1;function E(){return!(e.unstable_now()-$<D)}function T(){if(R!==null){var P=e.unstable_now();$=P;var U=!0;try{U=R(!0,P)}finally{U?q():(L=!1,R=null)}}else L=!1}var q;if(typeof y=="function")q=function(){y(T)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=T,q=function(){te.postMessage(null)}}else q=function(){b(T,0)};function ie(P){R=P,L||(L=!0,q())}function G(P,U){M=b(function(){P(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,ie(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var xe=m;m=U;try{return P()}finally{m=xe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var xe=m;m=P;try{return U()}finally{m=xe}},e.unstable_scheduleCallback=function(P,U,xe){var X=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?X+xe:X):xe=X,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=xe+O,P={id:u++,callback:U,priorityLevel:P,startTime:xe,expirationTime:O,sortIndex:-1},xe>X?(P.sortIndex=xe,t(d,P),s(c)===null&&P===s(d)&&(p?(x(M),M=-1):p=!0,G(S,xe-X))):(P.sortIndex=O,t(c,P),g||f||(g=!0,ie(C))),P},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(P){var U=m;return function(){var xe=m;m=U;try{return P.apply(this,arguments)}finally{m=xe}}}})(mR);fR.exports=mR;var Iq=fR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fq=j,Na=Iq;function Je(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pR=new Set,lx={};function Th(e,t){bm(e,t),bm(e+"Capture",t)}function bm(e,t){for(lx[e]=t,e=0;e<t.length;e++)pR.add(t[e])}var mc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qN=Object.prototype.hasOwnProperty,Bq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J3={},e6={};function zq(e){return qN.call(e6,e)?!0:qN.call(J3,e)?!1:Bq.test(e)?e6[e]=!0:(J3[e]=!0,!1)}function Vq(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $q(e,t,s,n){if(t===null||typeof t>"u"||Vq(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pi(e,t,s,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hr[e]=new Pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hr[t]=new Pi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hr[e]=new Pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hr[e]=new Pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hr[e]=new Pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hr[e]=new Pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hr[e]=new Pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hr[e]=new Pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hr[e]=new Pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var S4=/[\-:]([a-z])/g;function C4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S4,C4);Hr[t]=new Pi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S4,C4);Hr[t]=new Pi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S4,C4);Hr[t]=new Pi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hr[e]=new Pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Hr.xlinkHref=new Pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hr[e]=new Pi(e,1,!1,e.toLowerCase(),null,!0,!0)});function k4(e,t,s,n){var i=Hr.hasOwnProperty(t)?Hr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($q(t,s,i,n)&&(s=null),n||i===null?zq(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,n=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var Cc=Fq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Av=Symbol.for("react.element"),bf=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),_4=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),gR=Symbol.for("react.provider"),xR=Symbol.for("react.context"),P4=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),GN=Symbol.for("react.suspense_list"),A4=Symbol.for("react.memo"),sd=Symbol.for("react.lazy"),vR=Symbol.for("react.offscreen"),t6=Symbol.iterator;function Gp(e){return e===null||typeof e!="object"?null:(e=t6&&e[t6]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,Hw;function yg(e){if(Hw===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Hw=t&&t[1]||""}return`
`+Hw+e}var qw=!1;function Ww(e,t){if(!e||qw)return"";qw=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{qw=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?yg(e):""}function Uq(e){switch(e.tag){case 5:return yg(e.type);case 16:return yg("Lazy");case 13:return yg("Suspense");case 19:return yg("SuspenseList");case 0:case 2:case 15:return e=Ww(e.type,!1),e;case 11:return e=Ww(e.type.render,!1),e;case 1:return e=Ww(e.type,!0),e;default:return""}}function KN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wf:return"Fragment";case bf:return"Portal";case WN:return"Profiler";case _4:return"StrictMode";case YN:return"Suspense";case GN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xR:return(e.displayName||"Context")+".Consumer";case gR:return(e._context.displayName||"Context")+".Provider";case P4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A4:return t=e.displayName||null,t!==null?t:KN(e.type)||"Memo";case sd:t=e._payload,e=e._init;try{return KN(e(t))}catch{}}return null}function Hq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KN(t);case 8:return t===_4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ud(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qq(e){var t=yR(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ev(e){e._valueTracker||(e._valueTracker=qq(e))}function bR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=yR(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function p1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZN(e,t){var s=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function s6(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=Ud(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wR(e,t){t=t.checked,t!=null&&k4(e,"checked",t,!1)}function XN(e,t){wR(e,t);var s=Ud(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?QN(e,t.type,s):t.hasOwnProperty("defaultValue")&&QN(e,t.type,Ud(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n6(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function QN(e,t,s){(t!=="number"||p1(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var bg=Array.isArray;function Bf(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+Ud(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function JN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Je(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r6(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Je(92));if(bg(s)){if(1<s.length)throw Error(Je(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ud(s)}}function jR(e,t){var s=Ud(t.value),n=Ud(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function i6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tv,SR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tv=Tv||document.createElement("div"),Tv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cx(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wq=["Webkit","ms","Moz","O"];Object.keys(Ig).forEach(function(e){Wq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ig[t]=Ig[e]})});function CR(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Ig.hasOwnProperty(e)&&Ig[e]?(""+t).trim():t+"px"}function kR(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,i=CR(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}var Yq=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t5(e,t){if(t){if(Yq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Je(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Je(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Je(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Je(62))}}function s5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n5=null;function E4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r5=null,zf=null,Vf=null;function a6(e){if(e=y0(e)){if(typeof r5!="function")throw Error(Je(280));var t=e.stateNode;t&&(t=qb(t),r5(e.stateNode,e.type,t))}}function _R(e){zf?Vf?Vf.push(e):Vf=[e]:zf=e}function PR(){if(zf){var e=zf,t=Vf;if(Vf=zf=null,a6(e),t)for(e=0;e<t.length;e++)a6(t[e])}}function AR(e,t){return e(t)}function ER(){}var Yw=!1;function TR(e,t,s){if(Yw)return e(t,s);Yw=!0;try{return AR(e,t,s)}finally{Yw=!1,(zf!==null||Vf!==null)&&(ER(),PR())}}function dx(e,t){var s=e.stateNode;if(s===null)return null;var n=qb(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Je(231,t,typeof s));return s}var i5=!1;if(mc)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){i5=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{i5=!1}function Gq(e,t,s,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(u){this.onError(u)}}var Fg=!1,g1=null,x1=!1,a5=null,Kq={onError:function(e){Fg=!0,g1=e}};function Zq(e,t,s,n,i,a,o,l,c){Fg=!1,g1=null,Gq.apply(Kq,arguments)}function Xq(e,t,s,n,i,a,o,l,c){if(Zq.apply(this,arguments),Fg){if(Fg){var d=g1;Fg=!1,g1=null}else throw Error(Je(198));x1||(x1=!0,a5=d)}}function Mh(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function MR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o6(e){if(Mh(e)!==e)throw Error(Je(188))}function Qq(e){var t=e.alternate;if(!t){if(t=Mh(e),t===null)throw Error(Je(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return o6(i),e;if(a===n)return o6(i),t;a=a.sibling}throw Error(Je(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(Je(189))}}if(s.alternate!==n)throw Error(Je(190))}if(s.tag!==3)throw Error(Je(188));return s.stateNode.current===s?e:t}function RR(e){return e=Qq(e),e!==null?LR(e):null}function LR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=LR(e);if(t!==null)return t;e=e.sibling}return null}var DR=Na.unstable_scheduleCallback,l6=Na.unstable_cancelCallback,Jq=Na.unstable_shouldYield,eW=Na.unstable_requestPaint,Kn=Na.unstable_now,tW=Na.unstable_getCurrentPriorityLevel,T4=Na.unstable_ImmediatePriority,OR=Na.unstable_UserBlockingPriority,v1=Na.unstable_NormalPriority,sW=Na.unstable_LowPriority,IR=Na.unstable_IdlePriority,Vb=null,ml=null;function nW(e){if(ml&&typeof ml.onCommitFiberRoot=="function")try{ml.onCommitFiberRoot(Vb,e,void 0,(e.current.flags&128)===128)}catch{}}var Co=Math.clz32?Math.clz32:aW,rW=Math.log,iW=Math.LN2;function aW(e){return e>>>=0,e===0?32:31-(rW(e)/iW|0)|0}var Mv=64,Rv=4194304;function wg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function y1(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~i;l!==0?n=wg(l):(a&=o,a!==0&&(n=wg(a)))}else o=s&~i,o!==0?n=wg(o):a!==0&&(n=wg(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-Co(t),i=1<<s,n|=e[s],t&=~i;return n}function oW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lW(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Co(a),l=1<<o,c=i[o];c===-1?(!(l&s)||l&n)&&(i[o]=oW(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function o5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FR(){var e=Mv;return Mv<<=1,!(Mv&4194240)&&(Mv=64),e}function Gw(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function x0(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Co(t),e[t]=s}function cW(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Co(s),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~a}}function M4(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-Co(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var Us=0;function BR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zR,R4,VR,$R,UR,l5=!1,Lv=[],Cd=null,kd=null,_d=null,ux=new Map,hx=new Map,rd=[],dW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c6(e,t){switch(e){case"focusin":case"focusout":Cd=null;break;case"dragenter":case"dragleave":kd=null;break;case"mouseover":case"mouseout":_d=null;break;case"pointerover":case"pointerout":ux.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hx.delete(t.pointerId)}}function Zp(e,t,s,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=y0(t),t!==null&&R4(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uW(e,t,s,n,i){switch(t){case"focusin":return Cd=Zp(Cd,e,t,s,n,i),!0;case"dragenter":return kd=Zp(kd,e,t,s,n,i),!0;case"mouseover":return _d=Zp(_d,e,t,s,n,i),!0;case"pointerover":var a=i.pointerId;return ux.set(a,Zp(ux.get(a)||null,e,t,s,n,i)),!0;case"gotpointercapture":return a=i.pointerId,hx.set(a,Zp(hx.get(a)||null,e,t,s,n,i)),!0}return!1}function HR(e){var t=$u(e.target);if(t!==null){var s=Mh(t);if(s!==null){if(t=s.tag,t===13){if(t=MR(s),t!==null){e.blockedOn=t,UR(e.priority,function(){VR(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function My(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=c5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);n5=n,s.target.dispatchEvent(n),n5=null}else return t=y0(s),t!==null&&R4(t),e.blockedOn=s,!1;t.shift()}return!0}function d6(e,t,s){My(e)&&s.delete(t)}function hW(){l5=!1,Cd!==null&&My(Cd)&&(Cd=null),kd!==null&&My(kd)&&(kd=null),_d!==null&&My(_d)&&(_d=null),ux.forEach(d6),hx.forEach(d6)}function Xp(e,t){e.blockedOn===t&&(e.blockedOn=null,l5||(l5=!0,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,hW)))}function fx(e){function t(i){return Xp(i,e)}if(0<Lv.length){Xp(Lv[0],e);for(var s=1;s<Lv.length;s++){var n=Lv[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Cd!==null&&Xp(Cd,e),kd!==null&&Xp(kd,e),_d!==null&&Xp(_d,e),ux.forEach(t),hx.forEach(t),s=0;s<rd.length;s++)n=rd[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<rd.length&&(s=rd[0],s.blockedOn===null);)HR(s),s.blockedOn===null&&rd.shift()}var $f=Cc.ReactCurrentBatchConfig,b1=!0;function fW(e,t,s,n){var i=Us,a=$f.transition;$f.transition=null;try{Us=1,L4(e,t,s,n)}finally{Us=i,$f.transition=a}}function mW(e,t,s,n){var i=Us,a=$f.transition;$f.transition=null;try{Us=4,L4(e,t,s,n)}finally{Us=i,$f.transition=a}}function L4(e,t,s,n){if(b1){var i=c5(e,t,s,n);if(i===null)rj(e,t,n,w1,s),c6(e,n);else if(uW(i,e,t,s,n))n.stopPropagation();else if(c6(e,n),t&4&&-1<dW.indexOf(e)){for(;i!==null;){var a=y0(i);if(a!==null&&zR(a),a=c5(e,t,s,n),a===null&&rj(e,t,n,w1,s),a===i)break;i=a}i!==null&&n.stopPropagation()}else rj(e,t,n,null,s)}}var w1=null;function c5(e,t,s,n){if(w1=null,e=E4(n),e=$u(e),e!==null)if(t=Mh(e),t===null)e=null;else if(s=t.tag,s===13){if(e=MR(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w1=e,null}function qR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tW()){case T4:return 1;case OR:return 4;case v1:case sW:return 16;case IR:return 536870912;default:return 16}default:return 16}}var xd=null,D4=null,Ry=null;function WR(){if(Ry)return Ry;var e,t=D4,s=t.length,n,i="value"in xd?xd.value:xd.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===i[a-n];n++);return Ry=i.slice(e,1<n?1-n:void 0)}function Ly(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dv(){return!0}function u6(){return!1}function Aa(e){function t(s,n,i,a,o){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dv:u6,this.isPropagationStopped=u6,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Dv)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Dv)},persist:function(){},isPersistent:Dv}),t}var Jm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O4=Aa(Jm),v0=An({},Jm,{view:0,detail:0}),pW=Aa(v0),Kw,Zw,Qp,$b=An({},v0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qp&&(Qp&&e.type==="mousemove"?(Kw=e.screenX-Qp.screenX,Zw=e.screenY-Qp.screenY):Zw=Kw=0,Qp=e),Kw)},movementY:function(e){return"movementY"in e?e.movementY:Zw}}),h6=Aa($b),gW=An({},$b,{dataTransfer:0}),xW=Aa(gW),vW=An({},v0,{relatedTarget:0}),Xw=Aa(vW),yW=An({},Jm,{animationName:0,elapsedTime:0,pseudoElement:0}),bW=Aa(yW),wW=An({},Jm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jW=Aa(wW),NW=An({},Jm,{data:0}),f6=Aa(NW),SW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _W(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kW[e])?!!t[e]:!1}function I4(){return _W}var PW=An({},v0,{key:function(e){if(e.key){var t=SW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ly(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I4,charCode:function(e){return e.type==="keypress"?Ly(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ly(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AW=Aa(PW),EW=An({},$b,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m6=Aa(EW),TW=An({},v0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I4}),MW=Aa(TW),RW=An({},Jm,{propertyName:0,elapsedTime:0,pseudoElement:0}),LW=Aa(RW),DW=An({},$b,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),OW=Aa(DW),IW=[9,13,27,32],F4=mc&&"CompositionEvent"in window,Bg=null;mc&&"documentMode"in document&&(Bg=document.documentMode);var FW=mc&&"TextEvent"in window&&!Bg,YR=mc&&(!F4||Bg&&8<Bg&&11>=Bg),p6=" ",g6=!1;function GR(e,t){switch(e){case"keyup":return IW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jf=!1;function BW(e,t){switch(e){case"compositionend":return KR(t);case"keypress":return t.which!==32?null:(g6=!0,p6);case"textInput":return e=t.data,e===p6&&g6?null:e;default:return null}}function zW(e,t){if(jf)return e==="compositionend"||!F4&&GR(e,t)?(e=WR(),Ry=D4=xd=null,jf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YR&&t.locale!=="ko"?null:t.data;default:return null}}var VW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VW[e.type]:t==="textarea"}function ZR(e,t,s,n){_R(n),t=j1(t,"onChange"),0<t.length&&(s=new O4("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var zg=null,mx=null;function $W(e){oL(e,0)}function Ub(e){var t=Cf(e);if(bR(t))return e}function UW(e,t){if(e==="change")return t}var XR=!1;if(mc){var Qw;if(mc){var Jw="oninput"in document;if(!Jw){var v6=document.createElement("div");v6.setAttribute("oninput","return;"),Jw=typeof v6.oninput=="function"}Qw=Jw}else Qw=!1;XR=Qw&&(!document.documentMode||9<document.documentMode)}function y6(){zg&&(zg.detachEvent("onpropertychange",QR),mx=zg=null)}function QR(e){if(e.propertyName==="value"&&Ub(mx)){var t=[];ZR(t,mx,e,E4(e)),TR($W,t)}}function HW(e,t,s){e==="focusin"?(y6(),zg=t,mx=s,zg.attachEvent("onpropertychange",QR)):e==="focusout"&&y6()}function qW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ub(mx)}function WW(e,t){if(e==="click")return Ub(t)}function YW(e,t){if(e==="input"||e==="change")return Ub(t)}function GW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ao=typeof Object.is=="function"?Object.is:GW;function px(e,t){if(Ao(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!qN.call(t,i)||!Ao(e[i],t[i]))return!1}return!0}function b6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w6(e,t){var s=b6(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=b6(s)}}function JR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eL(){for(var e=window,t=p1();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=p1(e.document)}return t}function B4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KW(e){var t=eL(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&JR(s.ownerDocument.documentElement,s)){if(n!==null&&B4(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=w6(s,a);var o=w6(s,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZW=mc&&"documentMode"in document&&11>=document.documentMode,Nf=null,d5=null,Vg=null,u5=!1;function j6(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;u5||Nf==null||Nf!==p1(n)||(n=Nf,"selectionStart"in n&&B4(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vg&&px(Vg,n)||(Vg=n,n=j1(d5,"onSelect"),0<n.length&&(t=new O4("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=Nf)))}function Ov(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Sf={animationend:Ov("Animation","AnimationEnd"),animationiteration:Ov("Animation","AnimationIteration"),animationstart:Ov("Animation","AnimationStart"),transitionend:Ov("Transition","TransitionEnd")},ej={},tL={};mc&&(tL=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function Hb(e){if(ej[e])return ej[e];if(!Sf[e])return e;var t=Sf[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in tL)return ej[e]=t[s];return e}var sL=Hb("animationend"),nL=Hb("animationiteration"),rL=Hb("animationstart"),iL=Hb("transitionend"),aL=new Map,N6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ru(e,t){aL.set(e,t),Th(t,[e])}for(var tj=0;tj<N6.length;tj++){var sj=N6[tj],XW=sj.toLowerCase(),QW=sj[0].toUpperCase()+sj.slice(1);ru(XW,"on"+QW)}ru(sL,"onAnimationEnd");ru(nL,"onAnimationIteration");ru(rL,"onAnimationStart");ru("dblclick","onDoubleClick");ru("focusin","onFocus");ru("focusout","onBlur");ru(iL,"onTransitionEnd");bm("onMouseEnter",["mouseout","mouseover"]);bm("onMouseLeave",["mouseout","mouseover"]);bm("onPointerEnter",["pointerout","pointerover"]);bm("onPointerLeave",["pointerout","pointerover"]);Th("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Th("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Th("onBeforeInput",["compositionend","keypress","textInput","paste"]);Th("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Th("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Th("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JW=new Set("cancel close invalid load scroll toggle".split(" ").concat(jg));function S6(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Xq(n,t,void 0,e),e.currentTarget=null}function oL(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;S6(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;S6(i,l,d),a=c}}}if(x1)throw e=a5,x1=!1,a5=null,e}function on(e,t){var s=t[g5];s===void 0&&(s=t[g5]=new Set);var n=e+"__bubble";s.has(n)||(lL(t,e,2,!1),s.add(n))}function nj(e,t,s){var n=0;t&&(n|=4),lL(s,e,n,t)}var Iv="_reactListening"+Math.random().toString(36).slice(2);function gx(e){if(!e[Iv]){e[Iv]=!0,pR.forEach(function(s){s!=="selectionchange"&&(JW.has(s)||nj(s,!1,e),nj(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Iv]||(t[Iv]=!0,nj("selectionchange",!1,t))}}function lL(e,t,s,n){switch(qR(t)){case 1:var i=fW;break;case 4:i=mW;break;default:i=L4}s=i.bind(null,t,s,e),i=void 0,!i5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function rj(e,t,s,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$u(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}TR(function(){var d=a,u=E4(s),h=[];e:{var m=aL.get(e);if(m!==void 0){var f=O4,g=e;switch(e){case"keypress":if(Ly(s)===0)break e;case"keydown":case"keyup":f=AW;break;case"focusin":g="focus",f=Xw;break;case"focusout":g="blur",f=Xw;break;case"beforeblur":case"afterblur":f=Xw;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=h6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=xW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=MW;break;case sL:case nL:case rL:f=bW;break;case iL:f=LW;break;case"scroll":f=pW;break;case"wheel":f=OW;break;case"copy":case"cut":case"paste":f=jW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=m6}var p=(t&4)!==0,b=!p&&e==="scroll",x=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=dx(y,x),S!=null&&p.push(xx(y,S,w)))),b)break;y=y.return}0<p.length&&(m=new f(m,g,null,s,u),h.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&s!==n5&&(g=s.relatedTarget||s.fromElement)&&($u(g)||g[pc]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=s.relatedTarget||s.toElement,f=d,g=g?$u(g):null,g!==null&&(b=Mh(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(p=h6,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=m6,S="onPointerLeave",x="onPointerEnter",y="pointer"),b=f==null?m:Cf(f),w=g==null?m:Cf(g),m=new p(S,y+"leave",f,s,u),m.target=b,m.relatedTarget=w,S=null,$u(u)===d&&(p=new p(x,y+"enter",g,s,u),p.target=w,p.relatedTarget=b,S=p),b=S,f&&g)t:{for(p=f,x=g,y=0,w=p;w;w=rf(w))y++;for(w=0,S=x;S;S=rf(S))w++;for(;0<y-w;)p=rf(p),y--;for(;0<w-y;)x=rf(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=rf(p),x=rf(x)}p=null}else p=null;f!==null&&C6(h,m,f,p,!1),g!==null&&b!==null&&C6(h,b,g,p,!0)}}e:{if(m=d?Cf(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var C=UW;else if(x6(m))if(XR)C=YW;else{C=qW;var L=HW}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=WW);if(C&&(C=C(e,d))){ZR(h,C,s,u);break e}L&&L(e,m,d),e==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&QN(m,"number",m.value)}switch(L=d?Cf(d):window,e){case"focusin":(x6(L)||L.contentEditable==="true")&&(Nf=L,d5=d,Vg=null);break;case"focusout":Vg=d5=Nf=null;break;case"mousedown":u5=!0;break;case"contextmenu":case"mouseup":case"dragend":u5=!1,j6(h,s,u);break;case"selectionchange":if(ZW)break;case"keydown":case"keyup":j6(h,s,u)}var R;if(F4)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else jf?GR(e,s)&&(M="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(M="onCompositionStart");M&&(YR&&s.locale!=="ko"&&(jf||M!=="onCompositionStart"?M==="onCompositionEnd"&&jf&&(R=WR()):(xd=u,D4="value"in xd?xd.value:xd.textContent,jf=!0)),L=j1(d,M),0<L.length&&(M=new f6(M,e,null,s,u),h.push({event:M,listeners:L}),R?M.data=R:(R=KR(s),R!==null&&(M.data=R)))),(R=FW?BW(e,s):zW(e,s))&&(d=j1(d,"onBeforeInput"),0<d.length&&(u=new f6("onBeforeInput","beforeinput",null,s,u),h.push({event:u,listeners:d}),u.data=R))}oL(h,t)})}function xx(e,t,s){return{instance:e,listener:t,currentTarget:s}}function j1(e,t){for(var s=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dx(e,s),a!=null&&n.unshift(xx(e,a,i)),a=dx(e,t),a!=null&&n.push(xx(e,a,i))),e=e.return}return n}function rf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C6(e,t,s,n,i){for(var a=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=dx(s,a),c!=null&&o.unshift(xx(s,c,l))):i||(c=dx(s,a),c!=null&&o.push(xx(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var eY=/\r\n?/g,tY=/\u0000|\uFFFD/g;function k6(e){return(typeof e=="string"?e:""+e).replace(eY,`
`).replace(tY,"")}function Fv(e,t,s){if(t=k6(t),k6(e)!==t&&s)throw Error(Je(425))}function N1(){}var h5=null,f5=null;function m5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var p5=typeof setTimeout=="function"?setTimeout:void 0,sY=typeof clearTimeout=="function"?clearTimeout:void 0,_6=typeof Promise=="function"?Promise:void 0,nY=typeof queueMicrotask=="function"?queueMicrotask:typeof _6<"u"?function(e){return _6.resolve(null).then(e).catch(rY)}:p5;function rY(e){setTimeout(function(){throw e})}function ij(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(n===0){e.removeChild(i),fx(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=i}while(s);fx(t)}function Pd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function P6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ep=Math.random().toString(36).slice(2),ll="__reactFiber$"+ep,vx="__reactProps$"+ep,pc="__reactContainer$"+ep,g5="__reactEvents$"+ep,iY="__reactListeners$"+ep,aY="__reactHandles$"+ep;function $u(e){var t=e[ll];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pc]||s[ll]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=P6(e);e!==null;){if(s=e[ll])return s;e=P6(e)}return t}e=s,s=e.parentNode}return null}function y0(e){return e=e[ll]||e[pc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Je(33))}function qb(e){return e[vx]||null}var x5=[],kf=-1;function iu(e){return{current:e}}function un(e){0>kf||(e.current=x5[kf],x5[kf]=null,kf--)}function Js(e,t){kf++,x5[kf]=e.current,e.current=t}var Hd={},oi=iu(Hd),qi=iu(!1),uh=Hd;function wm(e,t){var s=e.type.contextTypes;if(!s)return Hd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wi(e){return e=e.childContextTypes,e!=null}function S1(){un(qi),un(oi)}function A6(e,t,s){if(oi.current!==Hd)throw Error(Je(168));Js(oi,t),Js(qi,s)}function cL(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Je(108,Hq(e)||"Unknown",i));return An({},s,n)}function C1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hd,uh=oi.current,Js(oi,e),Js(qi,qi.current),!0}function E6(e,t,s){var n=e.stateNode;if(!n)throw Error(Je(169));s?(e=cL(e,t,uh),n.__reactInternalMemoizedMergedChildContext=e,un(qi),un(oi),Js(oi,e)):un(qi),Js(qi,s)}var Ql=null,Wb=!1,aj=!1;function dL(e){Ql===null?Ql=[e]:Ql.push(e)}function oY(e){Wb=!0,dL(e)}function au(){if(!aj&&Ql!==null){aj=!0;var e=0,t=Us;try{var s=Ql;for(Us=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Ql=null,Wb=!1}catch(i){throw Ql!==null&&(Ql=Ql.slice(e+1)),DR(T4,au),i}finally{Us=t,aj=!1}}return null}var _f=[],Pf=0,k1=null,_1=0,za=[],Va=0,hh=null,rc=1,ic="";function Ru(e,t){_f[Pf++]=_1,_f[Pf++]=k1,k1=e,_1=t}function uL(e,t,s){za[Va++]=rc,za[Va++]=ic,za[Va++]=hh,hh=e;var n=rc;e=ic;var i=32-Co(n)-1;n&=~(1<<i),s+=1;var a=32-Co(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,rc=1<<32-Co(t)+i|s<<i|n,ic=a+e}else rc=1<<a|s<<i|n,ic=e}function z4(e){e.return!==null&&(Ru(e,1),uL(e,1,0))}function V4(e){for(;e===k1;)k1=_f[--Pf],_f[Pf]=null,_1=_f[--Pf],_f[Pf]=null;for(;e===hh;)hh=za[--Va],za[Va]=null,ic=za[--Va],za[Va]=null,rc=za[--Va],za[Va]=null}var xa=null,ma=null,mn=!1,vo=null;function hL(e,t){var s=Ua(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function T6(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xa=e,ma=Pd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xa=e,ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=hh!==null?{id:rc,overflow:ic}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Ua(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,xa=e,ma=null,!0):!1;default:return!1}}function v5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y5(e){if(mn){var t=ma;if(t){var s=t;if(!T6(e,t)){if(v5(e))throw Error(Je(418));t=Pd(s.nextSibling);var n=xa;t&&T6(e,t)?hL(n,s):(e.flags=e.flags&-4097|2,mn=!1,xa=e)}}else{if(v5(e))throw Error(Je(418));e.flags=e.flags&-4097|2,mn=!1,xa=e}}}function M6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xa=e}function Bv(e){if(e!==xa)return!1;if(!mn)return M6(e),mn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!m5(e.type,e.memoizedProps)),t&&(t=ma)){if(v5(e))throw fL(),Error(Je(418));for(;t;)hL(e,t),t=Pd(t.nextSibling)}if(M6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Je(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ma=Pd(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ma=null}}else ma=xa?Pd(e.stateNode.nextSibling):null;return!0}function fL(){for(var e=ma;e;)e=Pd(e.nextSibling)}function jm(){ma=xa=null,mn=!1}function $4(e){vo===null?vo=[e]:vo.push(e)}var lY=Cc.ReactCurrentBatchConfig;function Jp(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Je(309));var n=s.stateNode}if(!n)throw Error(Je(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Je(284));if(!s._owner)throw Error(Je(290,e))}return e}function zv(e,t){throw e=Object.prototype.toString.call(t),Error(Je(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function R6(e){var t=e._init;return t(e._payload)}function mL(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function s(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Md(x,y),x.index=0,x.sibling=null,x}function a(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=fj(w,x.mode,S),y.return=x,y):(y=i(y,w),y.return=x,y)}function c(x,y,w,S){var C=w.type;return C===wf?u(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sd&&R6(C)===y.type)?(S=i(y,w.props),S.ref=Jp(x,y,w),S.return=x,S):(S=Vy(w.type,w.key,w.props,null,x.mode,S),S.ref=Jp(x,y,w),S.return=x,S)}function d(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=mj(w,x.mode,S),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function u(x,y,w,S,C){return y===null||y.tag!==7?(y=ah(w,x.mode,S,C),y.return=x,y):(y=i(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fj(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Av:return w=Vy(y.type,y.key,y.props,null,x.mode,w),w.ref=Jp(x,null,y),w.return=x,w;case bf:return y=mj(y,x.mode,w),y.return=x,y;case sd:var S=y._init;return h(x,S(y._payload),w)}if(bg(y)||Gp(y))return y=ah(y,x.mode,w,null),y.return=x,y;zv(x,y)}return null}function m(x,y,w,S){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Av:return w.key===C?c(x,y,w,S):null;case bf:return w.key===C?d(x,y,w,S):null;case sd:return C=w._init,m(x,y,C(w._payload),S)}if(bg(w)||Gp(w))return C!==null?null:u(x,y,w,S,null);zv(x,w)}return null}function f(x,y,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Av:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,C);case bf:return x=x.get(S.key===null?w:S.key)||null,d(y,x,S,C);case sd:var L=S._init;return f(x,y,w,L(S._payload),C)}if(bg(S)||Gp(S))return x=x.get(w)||null,u(y,x,S,C,null);zv(y,S)}return null}function g(x,y,w,S){for(var C=null,L=null,R=y,M=y=0,D=null;R!==null&&M<w.length;M++){R.index>M?(D=R,R=null):D=R.sibling;var $=m(x,R,w[M],S);if($===null){R===null&&(R=D);break}e&&R&&$.alternate===null&&t(x,R),y=a($,y,M),L===null?C=$:L.sibling=$,L=$,R=D}if(M===w.length)return s(x,R),mn&&Ru(x,M),C;if(R===null){for(;M<w.length;M++)R=h(x,w[M],S),R!==null&&(y=a(R,y,M),L===null?C=R:L.sibling=R,L=R);return mn&&Ru(x,M),C}for(R=n(x,R);M<w.length;M++)D=f(R,x,M,w[M],S),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?M:D.key),y=a(D,y,M),L===null?C=D:L.sibling=D,L=D);return e&&R.forEach(function(E){return t(x,E)}),mn&&Ru(x,M),C}function p(x,y,w,S){var C=Gp(w);if(typeof C!="function")throw Error(Je(150));if(w=C.call(w),w==null)throw Error(Je(151));for(var L=C=null,R=y,M=y=0,D=null,$=w.next();R!==null&&!$.done;M++,$=w.next()){R.index>M?(D=R,R=null):D=R.sibling;var E=m(x,R,$.value,S);if(E===null){R===null&&(R=D);break}e&&R&&E.alternate===null&&t(x,R),y=a(E,y,M),L===null?C=E:L.sibling=E,L=E,R=D}if($.done)return s(x,R),mn&&Ru(x,M),C;if(R===null){for(;!$.done;M++,$=w.next())$=h(x,$.value,S),$!==null&&(y=a($,y,M),L===null?C=$:L.sibling=$,L=$);return mn&&Ru(x,M),C}for(R=n(x,R);!$.done;M++,$=w.next())$=f(R,x,M,$.value,S),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?M:$.key),y=a($,y,M),L===null?C=$:L.sibling=$,L=$);return e&&R.forEach(function(T){return t(x,T)}),mn&&Ru(x,M),C}function b(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===wf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Av:e:{for(var C=w.key,L=y;L!==null;){if(L.key===C){if(C=w.type,C===wf){if(L.tag===7){s(x,L.sibling),y=i(L,w.props.children),y.return=x,x=y;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sd&&R6(C)===L.type){s(x,L.sibling),y=i(L,w.props),y.ref=Jp(x,L,w),y.return=x,x=y;break e}s(x,L);break}else t(x,L);L=L.sibling}w.type===wf?(y=ah(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Vy(w.type,w.key,w.props,null,x.mode,S),S.ref=Jp(x,y,w),S.return=x,x=S)}return o(x);case bf:e:{for(L=w.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){s(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{s(x,y);break}else t(x,y);y=y.sibling}y=mj(w,x.mode,S),y.return=x,x=y}return o(x);case sd:return L=w._init,b(x,y,L(w._payload),S)}if(bg(w))return g(x,y,w,S);if(Gp(w))return p(x,y,w,S);zv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(s(x,y.sibling),y=i(y,w),y.return=x,x=y):(s(x,y),y=fj(w,x.mode,S),y.return=x,x=y),o(x)):s(x,y)}return b}var Nm=mL(!0),pL=mL(!1),P1=iu(null),A1=null,Af=null,U4=null;function H4(){U4=Af=A1=null}function q4(e){var t=P1.current;un(P1),e._currentValue=t}function b5(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Uf(e,t){A1=e,U4=Af=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vi=!0),e.firstContext=null)}function Ka(e){var t=e._currentValue;if(U4!==e)if(e={context:e,memoizedValue:t,next:null},Af===null){if(A1===null)throw Error(Je(308));Af=e,A1.dependencies={lanes:0,firstContext:e}}else Af=Af.next=e;return t}var Uu=null;function W4(e){Uu===null?Uu=[e]:Uu.push(e)}function gL(e,t,s,n){var i=t.interleaved;return i===null?(s.next=s,W4(t)):(s.next=i.next,i.next=s),t.interleaved=s,gc(e,n)}function gc(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var nd=!1;function Y4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ad(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Es&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,gc(e,s)}return i=n.interleaved,i===null?(t.next=t,W4(n)):(t.next=i.next,i.next=t),n.interleaved=t,gc(e,s)}function Dy(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,M4(e,s)}}function L6(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function E1(e,t,s,n){var i=e.updateQueue;nd=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(m=t,f=s,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=An({},h,m);break e;case 2:nd=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mh|=o,e.lanes=o,e.memoizedState=h}}function D6(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=s,typeof i!="function")throw Error(Je(191,i));i.call(n)}}}var b0={},pl=iu(b0),yx=iu(b0),bx=iu(b0);function Hu(e){if(e===b0)throw Error(Je(174));return e}function G4(e,t){switch(Js(bx,t),Js(yx,e),Js(pl,b0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e5(t,e)}un(pl),Js(pl,t)}function Sm(){un(pl),un(yx),un(bx)}function vL(e){Hu(bx.current);var t=Hu(pl.current),s=e5(t,e.type);t!==s&&(Js(yx,e),Js(pl,s))}function K4(e){yx.current===e&&(un(pl),un(yx))}var Nn=iu(0);function T1(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oj=[];function Z4(){for(var e=0;e<oj.length;e++)oj[e]._workInProgressVersionPrimary=null;oj.length=0}var Oy=Cc.ReactCurrentDispatcher,lj=Cc.ReactCurrentBatchConfig,fh=0,kn=null,br=null,Pr=null,M1=!1,$g=!1,wx=0,cY=0;function Yr(){throw Error(Je(321))}function X4(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ao(e[s],t[s]))return!1;return!0}function Q4(e,t,s,n,i,a){if(fh=a,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oy.current=e===null||e.memoizedState===null?fY:mY,e=s(n,i),$g){a=0;do{if($g=!1,wx=0,25<=a)throw Error(Je(301));a+=1,Pr=br=null,t.updateQueue=null,Oy.current=pY,e=s(n,i)}while($g)}if(Oy.current=R1,t=br!==null&&br.next!==null,fh=0,Pr=br=kn=null,M1=!1,t)throw Error(Je(300));return e}function J4(){var e=wx!==0;return wx=0,e}function el(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?kn.memoizedState=Pr=e:Pr=Pr.next=e,Pr}function Za(){if(br===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=br.next;var t=Pr===null?kn.memoizedState:Pr.next;if(t!==null)Pr=t,br=e;else{if(e===null)throw Error(Je(310));br=e,e={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Pr===null?kn.memoizedState=Pr=e:Pr=Pr.next=e}return Pr}function jx(e,t){return typeof t=="function"?t(e):t}function cj(e){var t=Za(),s=t.queue;if(s===null)throw Error(Je(311));s.lastRenderedReducer=e;var n=br,i=n.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((fh&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,kn.lanes|=u,mh|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Ao(n,t.memoizedState)||(Vi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){i=e;do a=i.lane,kn.lanes|=a,mh|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function dj(e){var t=Za(),s=t.queue;if(s===null)throw Error(Je(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ao(a,t.memoizedState)||(Vi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function yL(){}function bL(e,t){var s=kn,n=Za(),i=t(),a=!Ao(n.memoizedState,i);if(a&&(n.memoizedState=i,Vi=!0),n=n.queue,eC(NL.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||Pr!==null&&Pr.memoizedState.tag&1){if(s.flags|=2048,Nx(9,jL.bind(null,s,n,i,t),void 0,null),Mr===null)throw Error(Je(349));fh&30||wL(s,t,i)}return i}function wL(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function jL(e,t,s,n){t.value=s,t.getSnapshot=n,SL(t)&&CL(e)}function NL(e,t,s){return s(function(){SL(t)&&CL(e)})}function SL(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ao(e,s)}catch{return!0}}function CL(e){var t=gc(e,1);t!==null&&ko(t,e,1,-1)}function O6(e){var t=el();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jx,lastRenderedState:e},t.queue=e,e=e.dispatch=hY.bind(null,kn,e),[t.memoizedState,e]}function Nx(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=kn.updateQueue,t===null?(t={lastEffect:null,stores:null},kn.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function kL(){return Za().memoizedState}function Iy(e,t,s,n){var i=el();kn.flags|=e,i.memoizedState=Nx(1|t,s,void 0,n===void 0?null:n)}function Yb(e,t,s,n){var i=Za();n=n===void 0?null:n;var a=void 0;if(br!==null){var o=br.memoizedState;if(a=o.destroy,n!==null&&X4(n,o.deps)){i.memoizedState=Nx(t,s,a,n);return}}kn.flags|=e,i.memoizedState=Nx(1|t,s,a,n)}function I6(e,t){return Iy(8390656,8,e,t)}function eC(e,t){return Yb(2048,8,e,t)}function _L(e,t){return Yb(4,2,e,t)}function PL(e,t){return Yb(4,4,e,t)}function AL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EL(e,t,s){return s=s!=null?s.concat([e]):null,Yb(4,4,AL.bind(null,t,e),s)}function tC(){}function TL(e,t){var s=Za();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&X4(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function ML(e,t){var s=Za();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&X4(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function RL(e,t,s){return fh&21?(Ao(s,t)||(s=FR(),kn.lanes|=s,mh|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vi=!0),e.memoizedState=s)}function dY(e,t){var s=Us;Us=s!==0&&4>s?s:4,e(!0);var n=lj.transition;lj.transition={};try{e(!1),t()}finally{Us=s,lj.transition=n}}function LL(){return Za().memoizedState}function uY(e,t,s){var n=Td(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},DL(e))OL(t,s);else if(s=gL(e,t,s,n),s!==null){var i=Ci();ko(s,e,n,i),IL(s,t,n)}}function hY(e,t,s){var n=Td(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(DL(e))OL(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,s);if(i.hasEagerState=!0,i.eagerState=l,Ao(l,o)){var c=t.interleaved;c===null?(i.next=i,W4(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}s=gL(e,t,i,n),s!==null&&(i=Ci(),ko(s,e,n,i),IL(s,t,n))}}function DL(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function OL(e,t){$g=M1=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function IL(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,M4(e,s)}}var R1={readContext:Ka,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},fY={readContext:Ka,useCallback:function(e,t){return el().memoizedState=[e,t===void 0?null:t],e},useContext:Ka,useEffect:I6,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Iy(4194308,4,AL.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Iy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Iy(4,2,e,t)},useMemo:function(e,t){var s=el();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=el();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uY.bind(null,kn,e),[n.memoizedState,e]},useRef:function(e){var t=el();return e={current:e},t.memoizedState=e},useState:O6,useDebugValue:tC,useDeferredValue:function(e){return el().memoizedState=e},useTransition:function(){var e=O6(!1),t=e[0];return e=dY.bind(null,e[1]),el().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=kn,i=el();if(mn){if(s===void 0)throw Error(Je(407));s=s()}else{if(s=t(),Mr===null)throw Error(Je(349));fh&30||wL(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,I6(NL.bind(null,n,a,e),[e]),n.flags|=2048,Nx(9,jL.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=el(),t=Mr.identifierPrefix;if(mn){var s=ic,n=rc;s=(n&~(1<<32-Co(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=wx++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=cY++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mY={readContext:Ka,useCallback:TL,useContext:Ka,useEffect:eC,useImperativeHandle:EL,useInsertionEffect:_L,useLayoutEffect:PL,useMemo:ML,useReducer:cj,useRef:kL,useState:function(){return cj(jx)},useDebugValue:tC,useDeferredValue:function(e){var t=Za();return RL(t,br.memoizedState,e)},useTransition:function(){var e=cj(jx)[0],t=Za().memoizedState;return[e,t]},useMutableSource:yL,useSyncExternalStore:bL,useId:LL,unstable_isNewReconciler:!1},pY={readContext:Ka,useCallback:TL,useContext:Ka,useEffect:eC,useImperativeHandle:EL,useInsertionEffect:_L,useLayoutEffect:PL,useMemo:ML,useReducer:dj,useRef:kL,useState:function(){return dj(jx)},useDebugValue:tC,useDeferredValue:function(e){var t=Za();return br===null?t.memoizedState=e:RL(t,br.memoizedState,e)},useTransition:function(){var e=dj(jx)[0],t=Za().memoizedState;return[e,t]},useMutableSource:yL,useSyncExternalStore:bL,useId:LL,unstable_isNewReconciler:!1};function po(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function w5(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:An({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gb={isMounted:function(e){return(e=e._reactInternals)?Mh(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Ci(),i=Td(e),a=cc(n,i);a.payload=t,s!=null&&(a.callback=s),t=Ad(e,a,i),t!==null&&(ko(t,e,i,n),Dy(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Ci(),i=Td(e),a=cc(n,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Ad(e,a,i),t!==null&&(ko(t,e,i,n),Dy(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ci(),n=Td(e),i=cc(s,n);i.tag=2,t!=null&&(i.callback=t),t=Ad(e,i,n),t!==null&&(ko(t,e,n,s),Dy(t,e,n))}};function F6(e,t,s,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!px(s,n)||!px(i,a):!0}function FL(e,t,s){var n=!1,i=Hd,a=t.contextType;return typeof a=="object"&&a!==null?a=Ka(a):(i=Wi(t)?uh:oi.current,n=t.contextTypes,a=(n=n!=null)?wm(e,i):Hd),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function B6(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&Gb.enqueueReplaceState(t,t.state,null)}function j5(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Y4(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ka(a):(a=Wi(t)?uh:oi.current,i.context=wm(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(w5(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gb.enqueueReplaceState(i,i.state,null),E1(e,s,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cm(e,t){try{var s="",n=t;do s+=Uq(n),n=n.return;while(n);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function uj(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function N5(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var gY=typeof WeakMap=="function"?WeakMap:Map;function BL(e,t,s){s=cc(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){D1||(D1=!0,R5=n),N5(e,t)},s}function zL(e,t,s){s=cc(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){N5(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){N5(e,t),typeof n!="function"&&(Ed===null?Ed=new Set([this]):Ed.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function z6(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new gY;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=EY.bind(null,e,t,s),t.then(e,e))}function V6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $6(e,t,s,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=cc(-1,1),t.tag=2,Ad(s,t,1))),s.lanes|=1),e)}var xY=Cc.ReactCurrentOwner,Vi=!1;function wi(e,t,s,n){t.child=e===null?pL(t,null,s,n):Nm(t,e.child,s,n)}function U6(e,t,s,n,i){s=s.render;var a=t.ref;return Uf(t,i),n=Q4(e,t,s,n,a,i),s=J4(),e!==null&&!Vi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xc(e,t,i)):(mn&&s&&z4(t),t.flags|=1,wi(e,t,n,i),t.child)}function H6(e,t,s,n,i){if(e===null){var a=s.type;return typeof a=="function"&&!cC(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,VL(e,t,a,n,i)):(e=Vy(s.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:px,s(o,n)&&e.ref===t.ref)return xc(e,t,i)}return t.flags|=1,e=Md(a,n),e.ref=t.ref,e.return=t,t.child=e}function VL(e,t,s,n,i){if(e!==null){var a=e.memoizedProps;if(px(a,n)&&e.ref===t.ref)if(Vi=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Vi=!0);else return t.lanes=e.lanes,xc(e,t,i)}return S5(e,t,s,n,i)}function $L(e,t,s){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Js(Tf,la),la|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Js(Tf,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:s,Js(Tf,la),la|=n}else a!==null?(n=a.baseLanes|s,t.memoizedState=null):n=s,Js(Tf,la),la|=n;return wi(e,t,i,s),t.child}function UL(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function S5(e,t,s,n,i){var a=Wi(s)?uh:oi.current;return a=wm(t,a),Uf(t,i),s=Q4(e,t,s,n,a,i),n=J4(),e!==null&&!Vi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xc(e,t,i)):(mn&&n&&z4(t),t.flags|=1,wi(e,t,s,i),t.child)}function q6(e,t,s,n,i){if(Wi(s)){var a=!0;C1(t)}else a=!1;if(Uf(t,i),t.stateNode===null)Fy(e,t),FL(t,s,n),j5(t,s,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=s.contextType;typeof d=="object"&&d!==null?d=Ka(d):(d=Wi(s)?uh:oi.current,d=wm(t,d));var u=s.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&B6(t,o,n,d),nd=!1;var m=t.memoizedState;o.state=m,E1(t,n,o,i),c=t.memoizedState,l!==n||m!==c||qi.current||nd?(typeof u=="function"&&(w5(t,s,u,n),c=t.memoizedState),(l=nd||F6(t,s,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xL(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:po(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=Ka(c):(c=Wi(s)?uh:oi.current,c=wm(t,c));var f=s.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&B6(t,o,n,c),nd=!1,m=t.memoizedState,o.state=m,E1(t,n,o,i);var g=t.memoizedState;l!==h||m!==g||qi.current||nd?(typeof f=="function"&&(w5(t,s,f,n),g=t.memoizedState),(d=nd||F6(t,s,d,n,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return C5(e,t,s,n,a,i)}function C5(e,t,s,n,i,a){UL(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&E6(t,s,!1),xc(e,t,a);n=t.stateNode,xY.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Nm(t,e.child,null,a),t.child=Nm(t,null,l,a)):wi(e,t,l,a),t.memoizedState=n.state,i&&E6(t,s,!0),t.child}function HL(e){var t=e.stateNode;t.pendingContext?A6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&A6(e,t.context,!1),G4(e,t.containerInfo)}function W6(e,t,s,n,i){return jm(),$4(i),t.flags|=256,wi(e,t,s,n),t.child}var k5={dehydrated:null,treeContext:null,retryLane:0};function _5(e){return{baseLanes:e,cachePool:null,transitions:null}}function qL(e,t,s){var n=t.pendingProps,i=Nn.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Js(Nn,i&1),e===null)return y5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xb(o,n,0,null),e=ah(e,n,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=_5(s),t.memoizedState=k5,e):sC(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return vY(e,t,o,n,l,i,s);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Md(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Md(l,a):(a=ah(a,o,s,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?_5(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=k5,n}return a=e.child,e=a.sibling,n=Md(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function sC(e,t){return t=Xb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vv(e,t,s,n){return n!==null&&$4(n),Nm(t,e.child,null,s),e=sC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vY(e,t,s,n,i,a,o){if(s)return t.flags&256?(t.flags&=-257,n=uj(Error(Je(422))),Vv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Xb({mode:"visible",children:n.children},i,0,null),a=ah(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Nm(t,e.child,null,o),t.child.memoizedState=_5(o),t.memoizedState=k5,a);if(!(t.mode&1))return Vv(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Je(419)),n=uj(a,n,void 0),Vv(e,t,o,n)}if(l=(o&e.childLanes)!==0,Vi||l){if(n=Mr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,gc(e,i),ko(n,e,i,-1))}return lC(),n=uj(Error(Je(421))),Vv(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TY.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ma=Pd(i.nextSibling),xa=t,mn=!0,vo=null,e!==null&&(za[Va++]=rc,za[Va++]=ic,za[Va++]=hh,rc=e.id,ic=e.overflow,hh=t),t=sC(t,n.children),t.flags|=4096,t)}function Y6(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),b5(e.return,t,s)}function hj(e,t,s,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=s,a.tailMode=i)}function WL(e,t,s){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wi(e,t,n.children,s),n=Nn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y6(e,s,t);else if(e.tag===19)Y6(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Js(Nn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&T1(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),hj(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&T1(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}hj(t,!0,s,null,a);break;case"together":hj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xc(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),mh|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Je(153));if(t.child!==null){for(e=t.child,s=Md(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Md(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function yY(e,t,s){switch(t.tag){case 3:HL(t),jm();break;case 5:vL(t);break;case 1:Wi(t.type)&&C1(t);break;case 4:G4(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Js(P1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Js(Nn,Nn.current&1),t.flags|=128,null):s&t.child.childLanes?qL(e,t,s):(Js(Nn,Nn.current&1),e=xc(e,t,s),e!==null?e.sibling:null);Js(Nn,Nn.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return WL(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Js(Nn,Nn.current),n)break;return null;case 22:case 23:return t.lanes=0,$L(e,t,s)}return xc(e,t,s)}var YL,P5,GL,KL;YL=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};P5=function(){};GL=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hu(pl.current);var a=null;switch(s){case"input":i=ZN(e,i),n=ZN(e,n),a=[];break;case"select":i=An({},i,{value:void 0}),n=An({},n,{value:void 0}),a=[];break;case"textarea":i=JN(e,i),n=JN(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=N1)}t5(s,n);var o;s=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(lx.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(a||(a=[]),a.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(lx.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&on("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};KL=function(e,t,s,n){s!==n&&(t.flags|=4)};function eg(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function bY(e,t,s){var n=t.pendingProps;switch(V4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return Wi(t.type)&&S1(),Gr(t),null;case 3:return n=t.stateNode,Sm(),un(qi),un(oi),Z4(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo!==null&&(O5(vo),vo=null))),P5(e,t),Gr(t),null;case 5:K4(t);var i=Hu(bx.current);if(s=t.type,e!==null&&t.stateNode!=null)GL(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Je(166));return Gr(t),null}if(e=Hu(pl.current),Bv(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[ll]=t,n[vx]=a,e=(t.mode&1)!==0,s){case"dialog":on("cancel",n),on("close",n);break;case"iframe":case"object":case"embed":on("load",n);break;case"video":case"audio":for(i=0;i<jg.length;i++)on(jg[i],n);break;case"source":on("error",n);break;case"img":case"image":case"link":on("error",n),on("load",n);break;case"details":on("toggle",n);break;case"input":s6(n,a),on("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},on("invalid",n);break;case"textarea":r6(n,a),on("invalid",n)}t5(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fv(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fv(n.textContent,l,e),i=["children",""+l]):lx.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&on("scroll",n)}switch(s){case"input":Ev(n),n6(n,a,!0);break;case"textarea":Ev(n),i6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=N1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NR(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[ll]=t,e[vx]=n,YL(e,t,!1,!1),t.stateNode=e;e:{switch(o=s5(s,n),s){case"dialog":on("cancel",e),on("close",e),i=n;break;case"iframe":case"object":case"embed":on("load",e),i=n;break;case"video":case"audio":for(i=0;i<jg.length;i++)on(jg[i],e);i=n;break;case"source":on("error",e),i=n;break;case"img":case"image":case"link":on("error",e),on("load",e),i=n;break;case"details":on("toggle",e),i=n;break;case"input":s6(e,n),i=ZN(e,n),on("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=An({},n,{value:void 0}),on("invalid",e);break;case"textarea":r6(e,n),i=JN(e,n),on("invalid",e);break;default:i=n}t5(s,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?kR(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&SR(e,c)):a==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&cx(e,c):typeof c=="number"&&cx(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(lx.hasOwnProperty(a)?c!=null&&a==="onScroll"&&on("scroll",e):c!=null&&k4(e,a,c,o))}switch(s){case"input":Ev(e),n6(e,n,!1);break;case"textarea":Ev(e),i6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ud(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Bf(e,!!n.multiple,a,!1):n.defaultValue!=null&&Bf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=N1)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&t.stateNode!=null)KL(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Je(166));if(s=Hu(bx.current),Hu(pl.current),Bv(t)){if(n=t.stateNode,s=t.memoizedProps,n[ll]=t,(a=n.nodeValue!==s)&&(e=xa,e!==null))switch(e.tag){case 3:Fv(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fv(n.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[ll]=t,t.stateNode=n}return Gr(t),null;case 13:if(un(Nn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mn&&ma!==null&&t.mode&1&&!(t.flags&128))fL(),jm(),t.flags|=98560,a=!1;else if(a=Bv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Je(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Je(317));a[ll]=t}else jm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gr(t),a=!1}else vo!==null&&(O5(vo),vo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?Nr===0&&(Nr=3):lC())),t.updateQueue!==null&&(t.flags|=4),Gr(t),null);case 4:return Sm(),P5(e,t),e===null&&gx(t.stateNode.containerInfo),Gr(t),null;case 10:return q4(t.type._context),Gr(t),null;case 17:return Wi(t.type)&&S1(),Gr(t),null;case 19:if(un(Nn),a=t.memoizedState,a===null)return Gr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)eg(a,!1);else{if(Nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=T1(e),o!==null){for(t.flags|=128,eg(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)a=s,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Js(Nn,Nn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Kn()>km&&(t.flags|=128,n=!0,eg(a,!1),t.lanes=4194304)}else{if(!n)if(e=T1(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),eg(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!mn)return Gr(t),null}else 2*Kn()-a.renderingStartTime>km&&s!==1073741824&&(t.flags|=128,n=!0,eg(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Kn(),t.sibling=null,s=Nn.current,Js(Nn,n?s&1|2:s&1),t):(Gr(t),null);case 22:case 23:return oC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?la&1073741824&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),null;case 24:return null;case 25:return null}throw Error(Je(156,t.tag))}function wY(e,t){switch(V4(t),t.tag){case 1:return Wi(t.type)&&S1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sm(),un(qi),un(oi),Z4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return K4(t),null;case 13:if(un(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Je(340));jm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return un(Nn),null;case 4:return Sm(),null;case 10:return q4(t.type._context),null;case 22:case 23:return oC(),null;case 24:return null;default:return null}}var $v=!1,si=!1,jY=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Ef(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){In(e,t,n)}else s.current=null}function A5(e,t,s){try{s()}catch(n){In(e,t,n)}}var G6=!1;function NY(e,t){if(h5=b1,e=eL(),B4(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var f;h!==s||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(f5={focusedElem:e,selectionRange:s},b1=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,b=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:po(t.type,p),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(S){In(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return g=G6,G6=!1,g}function Ug(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&A5(t,s,a)}i=i.next}while(i!==n)}}function Kb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function E5(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function ZL(e){var t=e.alternate;t!==null&&(e.alternate=null,ZL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ll],delete t[vx],delete t[g5],delete t[iY],delete t[aY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XL(e){return e.tag===5||e.tag===3||e.tag===4}function K6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function T5(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=N1));else if(n!==4&&(e=e.child,e!==null))for(T5(e,t,s),e=e.sibling;e!==null;)T5(e,t,s),e=e.sibling}function M5(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M5(e,t,s),e=e.sibling;e!==null;)M5(e,t,s),e=e.sibling}var Br=null,xo=!1;function $c(e,t,s){for(s=s.child;s!==null;)QL(e,t,s),s=s.sibling}function QL(e,t,s){if(ml&&typeof ml.onCommitFiberUnmount=="function")try{ml.onCommitFiberUnmount(Vb,s)}catch{}switch(s.tag){case 5:si||Ef(s,t);case 6:var n=Br,i=xo;Br=null,$c(e,t,s),Br=n,xo=i,Br!==null&&(xo?(e=Br,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Br.removeChild(s.stateNode));break;case 18:Br!==null&&(xo?(e=Br,s=s.stateNode,e.nodeType===8?ij(e.parentNode,s):e.nodeType===1&&ij(e,s),fx(e)):ij(Br,s.stateNode));break;case 4:n=Br,i=xo,Br=s.stateNode.containerInfo,xo=!0,$c(e,t,s),Br=n,xo=i;break;case 0:case 11:case 14:case 15:if(!si&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&A5(s,t,o),i=i.next}while(i!==n)}$c(e,t,s);break;case 1:if(!si&&(Ef(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){In(s,t,l)}$c(e,t,s);break;case 21:$c(e,t,s);break;case 22:s.mode&1?(si=(n=si)||s.memoizedState!==null,$c(e,t,s),si=n):$c(e,t,s);break;default:$c(e,t,s)}}function Z6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new jY),t.forEach(function(n){var i=MY.bind(null,e,n);s.has(n)||(s.add(n),n.then(i,i))})}}function uo(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Br=l.stateNode,xo=!1;break e;case 3:Br=l.stateNode.containerInfo,xo=!0;break e;case 4:Br=l.stateNode.containerInfo,xo=!0;break e}l=l.return}if(Br===null)throw Error(Je(160));QL(a,o,i),Br=null,xo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){In(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JL(t,e),t=t.sibling}function JL(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(uo(t,e),Ko(e),n&4){try{Ug(3,e,e.return),Kb(3,e)}catch(p){In(e,e.return,p)}try{Ug(5,e,e.return)}catch(p){In(e,e.return,p)}}break;case 1:uo(t,e),Ko(e),n&512&&s!==null&&Ef(s,s.return);break;case 5:if(uo(t,e),Ko(e),n&512&&s!==null&&Ef(s,s.return),e.flags&32){var i=e.stateNode;try{cx(i,"")}catch(p){In(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&wR(i,a),s5(l,o);var d=s5(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?kR(i,h):u==="dangerouslySetInnerHTML"?SR(i,h):u==="children"?cx(i,h):k4(i,u,h,d)}switch(l){case"input":XN(i,a);break;case"textarea":jR(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Bf(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Bf(i,!!a.multiple,a.defaultValue,!0):Bf(i,!!a.multiple,a.multiple?[]:"",!1))}i[vx]=a}catch(p){In(e,e.return,p)}}break;case 6:if(uo(t,e),Ko(e),n&4){if(e.stateNode===null)throw Error(Je(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){In(e,e.return,p)}}break;case 3:if(uo(t,e),Ko(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{fx(t.containerInfo)}catch(p){In(e,e.return,p)}break;case 4:uo(t,e),Ko(e);break;case 13:uo(t,e),Ko(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(iC=Kn())),n&4&&Z6(e);break;case 22:if(u=s!==null&&s.memoizedState!==null,e.mode&1?(si=(d=si)||u,uo(t,e),si=d):uo(t,e),Ko(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ht=e,u=e.child;u!==null;){for(h=ht=u;ht!==null;){switch(m=ht,f=m.child,m.tag){case 0:case 11:case 14:case 15:Ug(4,m,m.return);break;case 1:Ef(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){In(n,s,p)}}break;case 5:Ef(m,m.return);break;case 22:if(m.memoizedState!==null){Q6(h);continue}}f!==null?(f.return=m,ht=f):Q6(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CR("display",o))}catch(p){In(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){In(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:uo(t,e),Ko(e),n&4&&Z6(e);break;case 21:break;default:uo(t,e),Ko(e)}}function Ko(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(XL(s)){var n=s;break e}s=s.return}throw Error(Je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(cx(i,""),n.flags&=-33);var a=K6(e);M5(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=K6(e);T5(e,l,o);break;default:throw Error(Je(161))}}catch(c){In(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SY(e,t,s){ht=e,eD(e)}function eD(e,t,s){for(var n=(e.mode&1)!==0;ht!==null;){var i=ht,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||$v;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||si;l=$v;var d=si;if($v=o,(si=c)&&!d)for(ht=i;ht!==null;)o=ht,c=o.child,o.tag===22&&o.memoizedState!==null?J6(i):c!==null?(c.return=o,ht=c):J6(i);for(;a!==null;)ht=a,eD(a),a=a.sibling;ht=i,$v=l,si=d}X6(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ht=a):X6(e)}}function X6(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||Kb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(s===null)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:po(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&D6(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}D6(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&fx(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}si||t.flags&512&&E5(t)}catch(m){In(t,t.return,m)}}if(t===e){ht=null;break}if(s=t.sibling,s!==null){s.return=t.return,ht=s;break}ht=t.return}}function Q6(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ht=s;break}ht=t.return}}function J6(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Kb(4,t)}catch(c){In(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){In(t,i,c)}}var a=t.return;try{E5(t)}catch(c){In(t,a,c)}break;case 5:var o=t.return;try{E5(t)}catch(c){In(t,o,c)}}}catch(c){In(t,t.return,c)}if(t===e){ht=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ht=l;break}ht=t.return}}var CY=Math.ceil,L1=Cc.ReactCurrentDispatcher,nC=Cc.ReactCurrentOwner,Wa=Cc.ReactCurrentBatchConfig,Es=0,Mr=null,dr=null,$r=0,la=0,Tf=iu(0),Nr=0,Sx=null,mh=0,Zb=0,rC=0,Hg=null,Ii=null,iC=0,km=1/0,Xl=null,D1=!1,R5=null,Ed=null,Uv=!1,vd=null,O1=0,qg=0,L5=null,By=-1,zy=0;function Ci(){return Es&6?Kn():By!==-1?By:By=Kn()}function Td(e){return e.mode&1?Es&2&&$r!==0?$r&-$r:lY.transition!==null?(zy===0&&(zy=FR()),zy):(e=Us,e!==0||(e=window.event,e=e===void 0?16:qR(e.type)),e):1}function ko(e,t,s,n){if(50<qg)throw qg=0,L5=null,Error(Je(185));x0(e,s,n),(!(Es&2)||e!==Mr)&&(e===Mr&&(!(Es&2)&&(Zb|=s),Nr===4&&id(e,$r)),Yi(e,n),s===1&&Es===0&&!(t.mode&1)&&(km=Kn()+500,Wb&&au()))}function Yi(e,t){var s=e.callbackNode;lW(e,t);var n=y1(e,e===Mr?$r:0);if(n===0)s!==null&&l6(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&l6(s),t===1)e.tag===0?oY(eP.bind(null,e)):dL(eP.bind(null,e)),nY(function(){!(Es&6)&&au()}),s=null;else{switch(BR(n)){case 1:s=T4;break;case 4:s=OR;break;case 16:s=v1;break;case 536870912:s=IR;break;default:s=v1}s=lD(s,tD.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function tD(e,t){if(By=-1,zy=0,Es&6)throw Error(Je(327));var s=e.callbackNode;if(Hf()&&e.callbackNode!==s)return null;var n=y1(e,e===Mr?$r:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=I1(e,n);else{t=n;var i=Es;Es|=2;var a=nD();(Mr!==e||$r!==t)&&(Xl=null,km=Kn()+500,ih(e,t));do try{PY();break}catch(l){sD(e,l)}while(!0);H4(),L1.current=a,Es=i,dr!==null?t=0:(Mr=null,$r=0,t=Nr)}if(t!==0){if(t===2&&(i=o5(e),i!==0&&(n=i,t=D5(e,i))),t===1)throw s=Sx,ih(e,0),id(e,n),Yi(e,Kn()),s;if(t===6)id(e,n);else{if(i=e.current.alternate,!(n&30)&&!kY(i)&&(t=I1(e,n),t===2&&(a=o5(e),a!==0&&(n=a,t=D5(e,a))),t===1))throw s=Sx,ih(e,0),id(e,n),Yi(e,Kn()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Je(345));case 2:Lu(e,Ii,Xl);break;case 3:if(id(e,n),(n&130023424)===n&&(t=iC+500-Kn(),10<t)){if(y1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ci(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=p5(Lu.bind(null,e,Ii,Xl),t);break}Lu(e,Ii,Xl);break;case 4:if(id(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Co(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Kn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CY(n/1960))-n,10<n){e.timeoutHandle=p5(Lu.bind(null,e,Ii,Xl),n);break}Lu(e,Ii,Xl);break;case 5:Lu(e,Ii,Xl);break;default:throw Error(Je(329))}}}return Yi(e,Kn()),e.callbackNode===s?tD.bind(null,e):null}function D5(e,t){var s=Hg;return e.current.memoizedState.isDehydrated&&(ih(e,t).flags|=256),e=I1(e,t),e!==2&&(t=Ii,Ii=s,t!==null&&O5(t)),e}function O5(e){Ii===null?Ii=e:Ii.push.apply(Ii,e)}function kY(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var i=s[n],a=i.getSnapshot;i=i.value;try{if(!Ao(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function id(e,t){for(t&=~rC,t&=~Zb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Co(t),n=1<<s;e[s]=-1,t&=~n}}function eP(e){if(Es&6)throw Error(Je(327));Hf();var t=y1(e,0);if(!(t&1))return Yi(e,Kn()),null;var s=I1(e,t);if(e.tag!==0&&s===2){var n=o5(e);n!==0&&(t=n,s=D5(e,n))}if(s===1)throw s=Sx,ih(e,0),id(e,t),Yi(e,Kn()),s;if(s===6)throw Error(Je(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Lu(e,Ii,Xl),Yi(e,Kn()),null}function aC(e,t){var s=Es;Es|=1;try{return e(t)}finally{Es=s,Es===0&&(km=Kn()+500,Wb&&au())}}function ph(e){vd!==null&&vd.tag===0&&!(Es&6)&&Hf();var t=Es;Es|=1;var s=Wa.transition,n=Us;try{if(Wa.transition=null,Us=1,e)return e()}finally{Us=n,Wa.transition=s,Es=t,!(Es&6)&&au()}}function oC(){la=Tf.current,un(Tf)}function ih(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,sY(s)),dr!==null)for(s=dr.return;s!==null;){var n=s;switch(V4(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&S1();break;case 3:Sm(),un(qi),un(oi),Z4();break;case 5:K4(n);break;case 4:Sm();break;case 13:un(Nn);break;case 19:un(Nn);break;case 10:q4(n.type._context);break;case 22:case 23:oC()}s=s.return}if(Mr=e,dr=e=Md(e.current,null),$r=la=t,Nr=0,Sx=null,rC=Zb=mh=0,Ii=Hg=null,Uu!==null){for(t=0;t<Uu.length;t++)if(s=Uu[t],n=s.interleaved,n!==null){s.interleaved=null;var i=n.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}s.pending=n}Uu=null}return e}function sD(e,t){do{var s=dr;try{if(H4(),Oy.current=R1,M1){for(var n=kn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}M1=!1}if(fh=0,Pr=br=kn=null,$g=!1,wx=0,nC.current=null,s===null||s.return===null){Nr=1,Sx=t,dr=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=$r,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=V6(o);if(f!==null){f.flags&=-257,$6(f,o,l,a,t),f.mode&1&&z6(a,d,t),t=f,c=d;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){z6(a,d,t),lC();break e}c=Error(Je(426))}}else if(mn&&l.mode&1){var b=V6(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$6(b,o,l,a,t),$4(Cm(c,l));break e}}a=c=Cm(c,l),Nr!==4&&(Nr=2),Hg===null?Hg=[a]:Hg.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=BL(a,c,t);L6(a,x);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ed===null||!Ed.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=zL(a,l,t);L6(a,S);break e}}a=a.return}while(a!==null)}iD(s)}catch(C){t=C,dr===s&&s!==null&&(dr=s=s.return);continue}break}while(!0)}function nD(){var e=L1.current;return L1.current=R1,e===null?R1:e}function lC(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),Mr===null||!(mh&268435455)&&!(Zb&268435455)||id(Mr,$r)}function I1(e,t){var s=Es;Es|=2;var n=nD();(Mr!==e||$r!==t)&&(Xl=null,ih(e,t));do try{_Y();break}catch(i){sD(e,i)}while(!0);if(H4(),Es=s,L1.current=n,dr!==null)throw Error(Je(261));return Mr=null,$r=0,Nr}function _Y(){for(;dr!==null;)rD(dr)}function PY(){for(;dr!==null&&!Jq();)rD(dr)}function rD(e){var t=oD(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?iD(e):dr=t,nC.current=null}function iD(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=wY(s,t),s!==null){s.flags&=32767,dr=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nr=6,dr=null;return}}else if(s=bY(s,t,la),s!==null){dr=s;return}if(t=t.sibling,t!==null){dr=t;return}dr=t=e}while(t!==null);Nr===0&&(Nr=5)}function Lu(e,t,s){var n=Us,i=Wa.transition;try{Wa.transition=null,Us=1,AY(e,t,s,n)}finally{Wa.transition=i,Us=n}return null}function AY(e,t,s,n){do Hf();while(vd!==null);if(Es&6)throw Error(Je(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Je(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(cW(e,a),e===Mr&&(dr=Mr=null,$r=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Uv||(Uv=!0,lD(v1,function(){return Hf(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=Wa.transition,Wa.transition=null;var o=Us;Us=1;var l=Es;Es|=4,nC.current=null,NY(e,s),JL(s,e),KW(f5),b1=!!h5,f5=h5=null,e.current=s,SY(s),eW(),Es=l,Us=o,Wa.transition=a}else e.current=s;if(Uv&&(Uv=!1,vd=e,O1=i),a=e.pendingLanes,a===0&&(Ed=null),nW(s.stateNode),Yi(e,Kn()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(D1)throw D1=!1,e=R5,R5=null,e;return O1&1&&e.tag!==0&&Hf(),a=e.pendingLanes,a&1?e===L5?qg++:(qg=0,L5=e):qg=0,au(),null}function Hf(){if(vd!==null){var e=BR(O1),t=Wa.transition,s=Us;try{if(Wa.transition=null,Us=16>e?16:e,vd===null)var n=!1;else{if(e=vd,vd=null,O1=0,Es&6)throw Error(Je(331));var i=Es;for(Es|=4,ht=e.current;ht!==null;){var a=ht,o=a.child;if(ht.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ht=d;ht!==null;){var u=ht;switch(u.tag){case 0:case 11:case 15:Ug(8,u,a)}var h=u.child;if(h!==null)h.return=u,ht=h;else for(;ht!==null;){u=ht;var m=u.sibling,f=u.return;if(ZL(u),u===d){ht=null;break}if(m!==null){m.return=f,ht=m;break}ht=f}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}ht=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ht=o;else e:for(;ht!==null;){if(a=ht,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ug(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ht=x;break e}ht=a.return}}var y=e.current;for(ht=y;ht!==null;){o=ht;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ht=w;else e:for(o=y;ht!==null;){if(l=ht,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kb(9,l)}}catch(C){In(l,l.return,C)}if(l===o){ht=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ht=S;break e}ht=l.return}}if(Es=i,au(),ml&&typeof ml.onPostCommitFiberRoot=="function")try{ml.onPostCommitFiberRoot(Vb,e)}catch{}n=!0}return n}finally{Us=s,Wa.transition=t}}return!1}function tP(e,t,s){t=Cm(s,t),t=BL(e,t,1),e=Ad(e,t,1),t=Ci(),e!==null&&(x0(e,1,t),Yi(e,t))}function In(e,t,s){if(e.tag===3)tP(e,e,s);else for(;t!==null;){if(t.tag===3){tP(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ed===null||!Ed.has(n))){e=Cm(s,e),e=zL(t,e,1),t=Ad(t,e,1),e=Ci(),t!==null&&(x0(t,1,e),Yi(t,e));break}}t=t.return}}function EY(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=Ci(),e.pingedLanes|=e.suspendedLanes&s,Mr===e&&($r&s)===s&&(Nr===4||Nr===3&&($r&130023424)===$r&&500>Kn()-iC?ih(e,0):rC|=s),Yi(e,t)}function aD(e,t){t===0&&(e.mode&1?(t=Rv,Rv<<=1,!(Rv&130023424)&&(Rv=4194304)):t=1);var s=Ci();e=gc(e,t),e!==null&&(x0(e,t,s),Yi(e,s))}function TY(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),aD(e,s)}function MY(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Je(314))}n!==null&&n.delete(t),aD(e,s)}var oD;oD=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||qi.current)Vi=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Vi=!1,yY(e,t,s);Vi=!!(e.flags&131072)}else Vi=!1,mn&&t.flags&1048576&&uL(t,_1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fy(e,t),e=t.pendingProps;var i=wm(t,oi.current);Uf(t,s),i=Q4(null,t,n,e,i,s);var a=J4();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wi(n)?(a=!0,C1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y4(t),i.updater=Gb,t.stateNode=i,i._reactInternals=t,j5(t,n,e,s),t=C5(null,t,n,!0,a,s)):(t.tag=0,mn&&a&&z4(t),wi(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Fy(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=LY(n),e=po(n,e),i){case 0:t=S5(null,t,n,e,s);break e;case 1:t=q6(null,t,n,e,s);break e;case 11:t=U6(null,t,n,e,s);break e;case 14:t=H6(null,t,n,po(n.type,e),s);break e}throw Error(Je(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:po(n,i),S5(e,t,n,i,s);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:po(n,i),q6(e,t,n,i,s);case 3:e:{if(HL(t),e===null)throw Error(Je(387));n=t.pendingProps,a=t.memoizedState,i=a.element,xL(e,t),E1(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Cm(Error(Je(423)),t),t=W6(e,t,n,s,i);break e}else if(n!==i){i=Cm(Error(Je(424)),t),t=W6(e,t,n,s,i);break e}else for(ma=Pd(t.stateNode.containerInfo.firstChild),xa=t,mn=!0,vo=null,s=pL(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(jm(),n===i){t=xc(e,t,s);break e}wi(e,t,n,s)}t=t.child}return t;case 5:return vL(t),e===null&&y5(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,m5(n,i)?o=null:a!==null&&m5(n,a)&&(t.flags|=32),UL(e,t),wi(e,t,o,s),t.child;case 6:return e===null&&y5(t),null;case 13:return qL(e,t,s);case 4:return G4(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nm(t,null,n,s):wi(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:po(n,i),U6(e,t,n,i,s);case 7:return wi(e,t,t.pendingProps,s),t.child;case 8:return wi(e,t,t.pendingProps.children,s),t.child;case 12:return wi(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Js(P1,n._currentValue),n._currentValue=o,a!==null)if(Ao(a.value,o)){if(a.children===i.children&&!qi.current){t=xc(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=cc(-1,s&-s),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=s,c=a.alternate,c!==null&&(c.lanes|=s),b5(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Je(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),b5(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wi(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Uf(t,s),i=Ka(i),n=n(i),t.flags|=1,wi(e,t,n,s),t.child;case 14:return n=t.type,i=po(n,t.pendingProps),i=po(n.type,i),H6(e,t,n,i,s);case 15:return VL(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:po(n,i),Fy(e,t),t.tag=1,Wi(n)?(e=!0,C1(t)):e=!1,Uf(t,s),FL(t,n,i),j5(t,n,i,s),C5(null,t,n,!0,e,s);case 19:return WL(e,t,s);case 22:return $L(e,t,s)}throw Error(Je(156,t.tag))};function lD(e,t){return DR(e,t)}function RY(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,s,n){return new RY(e,t,s,n)}function cC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LY(e){if(typeof e=="function")return cC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===P4)return 11;if(e===A4)return 14}return 2}function Md(e,t){var s=e.alternate;return s===null?(s=Ua(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vy(e,t,s,n,i,a){var o=2;if(n=e,typeof e=="function")cC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wf:return ah(s.children,i,a,t);case _4:o=8,i|=8;break;case WN:return e=Ua(12,s,t,i|2),e.elementType=WN,e.lanes=a,e;case YN:return e=Ua(13,s,t,i),e.elementType=YN,e.lanes=a,e;case GN:return e=Ua(19,s,t,i),e.elementType=GN,e.lanes=a,e;case vR:return Xb(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gR:o=10;break e;case xR:o=9;break e;case P4:o=11;break e;case A4:o=14;break e;case sd:o=16,n=null;break e}throw Error(Je(130,e==null?e:typeof e,""))}return t=Ua(o,s,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ah(e,t,s,n){return e=Ua(7,e,n,t),e.lanes=s,e}function Xb(e,t,s,n){return e=Ua(22,e,n,t),e.elementType=vR,e.lanes=s,e.stateNode={isHidden:!1},e}function fj(e,t,s){return e=Ua(6,e,null,t),e.lanes=s,e}function mj(e,t,s){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DY(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gw(0),this.expirationTimes=Gw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dC(e,t,s,n,i,a,o,l,c){return e=new DY(e,t,s,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ua(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y4(a),e}function OY(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function cD(e){if(!e)return Hd;e=e._reactInternals;e:{if(Mh(e)!==e||e.tag!==1)throw Error(Je(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Je(171))}if(e.tag===1){var s=e.type;if(Wi(s))return cL(e,s,t)}return t}function dD(e,t,s,n,i,a,o,l,c){return e=dC(s,n,!0,e,i,a,o,l,c),e.context=cD(null),s=e.current,n=Ci(),i=Td(s),a=cc(n,i),a.callback=t??null,Ad(s,a,i),e.current.lanes=i,x0(e,i,n),Yi(e,n),e}function Qb(e,t,s,n){var i=t.current,a=Ci(),o=Td(i);return s=cD(s),t.context===null?t.context=s:t.pendingContext=s,t=cc(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ad(i,t,o),e!==null&&(ko(e,i,o,a),Dy(e,i,o)),o}function F1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function uC(e,t){sP(e,t),(e=e.alternate)&&sP(e,t)}function IY(){return null}var uD=typeof reportError=="function"?reportError:function(e){console.error(e)};function hC(e){this._internalRoot=e}Jb.prototype.render=hC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Je(409));Qb(e,t,null,null)};Jb.prototype.unmount=hC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ph(function(){Qb(null,e,null,null)}),t[pc]=null}};function Jb(e){this._internalRoot=e}Jb.prototype.unstable_scheduleHydration=function(e){if(e){var t=$R();e={blockedOn:null,target:e,priority:t};for(var s=0;s<rd.length&&t!==0&&t<rd[s].priority;s++);rd.splice(s,0,e),s===0&&HR(e)}};function fC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function e2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nP(){}function FY(e,t,s,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=F1(o);a.call(d)}}var o=dD(t,n,e,0,null,!1,!1,"",nP);return e._reactRootContainer=o,e[pc]=o.current,gx(e.nodeType===8?e.parentNode:e),ph(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=F1(c);l.call(d)}}var c=dC(e,0,!1,null,null,!1,!1,"",nP);return e._reactRootContainer=c,e[pc]=c.current,gx(e.nodeType===8?e.parentNode:e),ph(function(){Qb(t,c,s,n)}),c}function t2(e,t,s,n,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=F1(o);l.call(c)}}Qb(t,o,e,i)}else o=FY(s,t,e,i,n);return F1(o)}zR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=wg(t.pendingLanes);s!==0&&(M4(t,s|1),Yi(t,Kn()),!(Es&6)&&(km=Kn()+500,au()))}break;case 13:ph(function(){var n=gc(e,1);if(n!==null){var i=Ci();ko(n,e,1,i)}}),uC(e,1)}};R4=function(e){if(e.tag===13){var t=gc(e,134217728);if(t!==null){var s=Ci();ko(t,e,134217728,s)}uC(e,134217728)}};VR=function(e){if(e.tag===13){var t=Td(e),s=gc(e,t);if(s!==null){var n=Ci();ko(s,e,t,n)}uC(e,t)}};$R=function(){return Us};UR=function(e,t){var s=Us;try{return Us=e,t()}finally{Us=s}};r5=function(e,t,s){switch(t){case"input":if(XN(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=qb(n);if(!i)throw Error(Je(90));bR(n),XN(n,i)}}}break;case"textarea":jR(e,s);break;case"select":t=s.value,t!=null&&Bf(e,!!s.multiple,t,!1)}};AR=aC;ER=ph;var BY={usingClientEntryPoint:!1,Events:[y0,Cf,qb,_R,PR,aC]},tg={findFiberByHostInstance:$u,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zY={bundleType:tg.bundleType,version:tg.version,rendererPackageName:tg.rendererPackageName,rendererConfig:tg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=RR(e),e===null?null:e.stateNode},findFiberByHostInstance:tg.findFiberByHostInstance||IY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hv.isDisabled&&Hv.supportsFiber)try{Vb=Hv.inject(zY),ml=Hv}catch{}}Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BY;Pa.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fC(t))throw Error(Je(200));return OY(e,t,null,s)};Pa.createRoot=function(e,t){if(!fC(e))throw Error(Je(299));var s=!1,n="",i=uD;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dC(e,1,!1,null,null,s,!1,n,i),e[pc]=t.current,gx(e.nodeType===8?e.parentNode:e),new hC(t)};Pa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Je(188)):(e=Object.keys(e).join(","),Error(Je(268,e)));return e=RR(t),e=e===null?null:e.stateNode,e};Pa.flushSync=function(e){return ph(e)};Pa.hydrate=function(e,t,s){if(!e2(t))throw Error(Je(200));return t2(null,e,t,!0,s)};Pa.hydrateRoot=function(e,t,s){if(!fC(e))throw Error(Je(405));var n=s!=null&&s.hydratedSources||null,i=!1,a="",o=uD;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=dD(t,null,e,1,s??null,i,!1,a,o),e[pc]=t.current,gx(e),n)for(e=0;e<n.length;e++)s=n[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Jb(t)};Pa.render=function(e,t,s){if(!e2(t))throw Error(Je(200));return t2(null,e,t,!1,s)};Pa.unmountComponentAtNode=function(e){if(!e2(e))throw Error(Je(40));return e._reactRootContainer?(ph(function(){t2(null,null,e,!1,function(){e._reactRootContainer=null,e[pc]=null})}),!0):!1};Pa.unstable_batchedUpdates=aC;Pa.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!e2(s))throw Error(Je(200));if(e==null||e._reactInternals===void 0)throw Error(Je(38));return t2(e,t,s,!1,n)};Pa.version="18.3.1-next-f1338f8080-20240426";function hD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hD)}catch(e){console.error(e)}}hD(),hR.exports=Pa;var Rh=hR.exports;const VY=y4(Rh);var fD,rP=Rh;fD=rP.createRoot,rP.hydrateRoot;function $Y(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,n,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)s=i[0],s==="*"?(o.push(s),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var mD={exports:{}},pD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m=j;function UY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HY=typeof Object.is=="function"?Object.is:UY,qY=_m.useState,WY=_m.useEffect,YY=_m.useLayoutEffect,GY=_m.useDebugValue;function KY(e,t){var s=t(),n=qY({inst:{value:s,getSnapshot:t}}),i=n[0].inst,a=n[1];return YY(function(){i.value=s,i.getSnapshot=t,pj(i)&&a({inst:i})},[e,s,t]),WY(function(){return pj(i)&&a({inst:i}),e(function(){pj(i)&&a({inst:i})})},[e]),GY(s),s}function pj(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!HY(e,s)}catch{return!0}}function ZY(e,t){return t()}var XY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZY:KY;pD.useSyncExternalStore=_m.useSyncExternalStore!==void 0?_m.useSyncExternalStore:XY;mD.exports=pD;var gD=mD.exports;const QY=dR.useInsertionEffect,JY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eG=JY?j.useLayoutEffect:j.useEffect,tG=QY||eG,xD=e=>{const t=j.useRef([e,(...s)=>t[0](...s)]).current;return tG(()=>{t[0]=e}),t[1]},sG="popstate",mC="pushState",pC="replaceState",nG="hashchange",iP=[sG,mC,pC,nG],rG=e=>{for(const t of iP)addEventListener(t,e);return()=>{for(const t of iP)removeEventListener(t,e)}},vD=(e,t)=>gD.useSyncExternalStore(rG,e,t),iG=()=>location.search,aG=({ssrSearch:e=""}={})=>vD(iG,()=>e),aP=()=>location.pathname,oG=({ssrPath:e}={})=>vD(aP,e?()=>e:aP),lG=(e,{replace:t=!1,state:s=null}={})=>history[t?pC:mC](s,"",e),cG=(e={})=>[oG(e),lG],oP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[oP]>"u"){for(const e of[mC,pC]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,oP,{value:!0})}const dG=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",yD=(e="")=>e==="/"?"":e,uG=(e,t)=>e[0]==="~"?e.slice(1):yD(t)+e,hG=(e="",t)=>dG(lP(yD(e)),lP(t)),lP=e=>{try{return decodeURI(e)}catch{return e}},bD={hook:cG,searchHook:aG,parser:$Y,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},wD=j.createContext(bD),tp=()=>j.useContext(wD),jD={},ND=j.createContext(jD),fG=()=>j.useContext(ND),s2=e=>{const[t,s]=e.hook(e);return[hG(e.base,t),xD((n,i)=>s(uG(n,e.base),i))]},nr=()=>s2(tp()),gC=(e,t,s,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(s)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},SD=e=>gC(tp().parser,e,nr()[0]),mG=({children:e,...t})=>{var u,h;const s=tp(),n=t.hook?bD:s;let i=n;const[a,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=j.useRef({}),c=l.current,d=c;for(let m in n){const f=m==="base"?n[m]+(t[m]||""):t[m]||n[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,f!==n[m]&&(i=d)}return j.createElement(wD.Provider,{value:i,children:e})},cP=({children:e,component:t},s)=>t?j.createElement(t,{params:s}):typeof e=="function"?e(s):e,pG=e=>{let t=j.useRef(jD),s=t.current;for(const n in e)e[n]!==s[n]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},ds=({path:e,nest:t,match:s,...n})=>{const i=tp(),[a]=s2(i),[o,l,c]=s??gC(i.parser,e,a,t),d=pG({...fG(),...l});if(!o)return null;const u=c?j.createElement(mG,{base:c},cP(n,d)):cP(n,d);return j.createElement(ND.Provider,{value:d,children:u})},fn=j.forwardRef((e,t)=>{const s=tp(),[n,i]=s2(s),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,...f}=e,g=xD(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),i(o,e)))}),p=s.hrefs(o[0]==="~"?o.slice(1):s.base+o,s);return c&&j.isValidElement(d)?j.cloneElement(d,{onClick:g,href:p}):j.createElement("a",{...f,onClick:g,href:p,className:u!=null&&u.call?u(n===o):u,children:d,ref:t})}),CD=e=>Array.isArray(e)?e.flatMap(t=>CD(t&&t.type===j.Fragment?t.props.children:t)):[e],gG=({children:e,location:t})=>{const s=tp(),[n]=s2(s);for(const i of CD(e)){let a=0;if(j.isValidElement(i)&&(a=gC(s.parser,i.props.path,t||n,i.props.nest))[0])return j.cloneElement(i,{match:a})}return null};var sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gh=typeof window>"u"||"Deno"in globalThis;function Ba(){}function xG(e,t){return typeof e=="function"?e(t):e}function I5(e){return typeof e=="number"&&e>=0&&e!==1/0}function kD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qf(e,t){return typeof e=="function"?e(t):e}function yo(e,t){return typeof e=="function"?e(t):e}function dP(e,t){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==xC(o,t.options))return!1}else if(!Cx(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function uP(e,t){const{exact:s,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(xh(t.options.mutationKey)!==xh(a))return!1}else if(!Cx(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function xC(e,t){return((t==null?void 0:t.queryKeyHashFn)||xh)(e)}function xh(e){return JSON.stringify(e,(t,s)=>F5(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function Cx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Cx(e[s],t[s])):!1}function _D(e,t){if(e===t)return e;const s=hP(e)&&hP(t);if(s||F5(e)&&F5(t)){const n=s?e:Object.keys(e),i=n.length,a=s?t:Object.keys(t),o=a.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const u=s?d:a[d];(!s&&n.includes(u)||s)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=_D(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function B1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function hP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function F5(e){if(!fP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!fP(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fP(e){return Object.prototype.toString.call(e)==="[object Object]"}function vG(e){return new Promise(t=>{setTimeout(t,e)})}function B5(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?_D(e,t):t}function yG(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function bG(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var vC=Symbol();function PD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qu,ld,om,HM,wG=(HM=class extends sp{constructor(){super();Bt(this,Qu);Bt(this,ld);Bt(this,om);ct(this,om,t=>{if(!gh&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){he(this,ld)||this.setEventListener(he(this,om))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,ld))==null||t.call(this),ct(this,ld,void 0))}setEventListener(t){var s;ct(this,om,t),(s=he(this,ld))==null||s.call(this),ct(this,ld,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,Qu)!==t&&(ct(this,Qu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof he(this,Qu)=="boolean"?he(this,Qu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qu=new WeakMap,ld=new WeakMap,om=new WeakMap,HM),yC=new wG,lm,cd,cm,qM,jG=(qM=class extends sp{constructor(){super();Bt(this,lm,!0);Bt(this,cd);Bt(this,cm);ct(this,cm,t=>{if(!gh&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,cd)||this.setEventListener(he(this,cm))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,cd))==null||t.call(this),ct(this,cd,void 0))}setEventListener(t){var s;ct(this,cm,t),(s=he(this,cd))==null||s.call(this),ct(this,cd,t(this.setOnline.bind(this)))}setOnline(t){he(this,lm)!==t&&(ct(this,lm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,lm)}},lm=new WeakMap,cd=new WeakMap,cm=new WeakMap,qM),z1=new jG;function z5(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},s.reject=i=>{n({status:"rejected",reason:i}),t(i)},s}function NG(e){return Math.min(1e3*2**e,3e4)}function AD(e){return(e??"online")==="online"?z1.isOnline():!0}var ED=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gj(e){return e instanceof ED}function TD(e){let t=!1,s=0,n=!1,i;const a=z5(),o=p=>{var b;n||(m(new ED(p)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>yC.isFocused()&&(e.networkMode==="always"||z1.isOnline())&&e.canRun(),u=()=>AD(e.networkMode)&&e.canRun(),h=p=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,p),i==null||i(),a.resolve(p))},m=p=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,p),i==null||i(),a.reject(p))},f=()=>new Promise(p=>{var b;i=x=>{(n||d())&&p(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;i=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const b=s===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(h).catch(x=>{var L;if(n)return;const y=e.retry??(gh?0:3),w=e.retryDelay??NG,S=typeof w=="function"?w(s,x):w,C=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,x);if(t||!C){m(x);return}s++,(L=e.onFail)==null||L.call(e,s,x),vG(S).then(()=>d()?void 0:f()).then(()=>{t?m(x):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),a)}}function SG(){let e=[],t=0,s=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var wr=SG(),Ju,WM,MD=(WM=class{constructor(){Bt(this,Ju)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I5(this.gcTime)&&ct(this,Ju,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gh?1/0:5*60*1e3))}clearGcTimeout(){he(this,Ju)&&(clearTimeout(he(this,Ju)),ct(this,Ju,void 0))}},Ju=new WeakMap,WM),dm,um,Fa,Jr,h0,eh,go,Yl,YM,CG=(YM=class extends MD{constructor(t){super();Bt(this,go);Bt(this,dm);Bt(this,um);Bt(this,Fa);Bt(this,Jr);Bt(this,h0);Bt(this,eh);ct(this,eh,!1),ct(this,h0,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Fa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,dm,kG(this.options)),this.state=t.state??he(this,dm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,Jr))==null?void 0:t.promise}setOptions(t){this.options={...he(this,h0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Fa).remove(this)}setData(t,s){const n=B5(this.state.data,t,this.options);return ls(this,go,Yl).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){ls(this,go,Yl).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,i;const s=(n=he(this,Jr))==null?void 0:n.promise;return(i=he(this,Jr))==null||i.cancel(t),s?s.then(Ba).catch(Ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,dm))}isActive(){return this.observers.some(t=>yo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kD(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=he(this,Jr))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=he(this,Jr))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Fa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(he(this,Jr)&&(he(this,eh)?he(this,Jr).cancel({revert:!0}):he(this,Jr).cancelRetry()),this.scheduleGc()),he(this,Fa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ls(this,go,Yl).call(this,{type:"invalidate"})}fetch(t,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(he(this,Jr))return he(this,Jr).continueRetry(),he(this,Jr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ct(this,eh,!0),n.signal)})},a=()=>{const h=PD(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),ct(this,eh,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),ct(this,um,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&ls(this,go,Yl).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var m,f,g,p;gj(h)&&h.silent||ls(this,go,Yl).call(this,{type:"error",error:h}),gj(h)||((f=(m=he(this,Fa).config).onError)==null||f.call(m,h,this),(p=(g=he(this,Fa).config).onSettled)==null||p.call(g,this.state.data,h,this)),this.scheduleGc()};return ct(this,Jr,TD({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,f,g,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(f=(m=he(this,Fa).config).onSuccess)==null||f.call(m,h,this),(p=(g=he(this,Fa).config).onSettled)==null||p.call(g,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,m)=>{ls(this,go,Yl).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{ls(this,go,Yl).call(this,{type:"pause"})},onContinue:()=>{ls(this,go,Yl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),he(this,Jr).start()}},dm=new WeakMap,um=new WeakMap,Fa=new WeakMap,Jr=new WeakMap,h0=new WeakMap,eh=new WeakMap,go=new WeakSet,Yl=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return gj(i)&&i.revert&&he(this,um)?{...he(this,um),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),wr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,Fa).notify({query:this,type:"updated",action:t})})},YM);function RD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kG(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var sl,GM,_G=(GM=class extends sp{constructor(t={}){super();Bt(this,sl);this.config=t,ct(this,sl,new Map)}build(t,s,n){const i=s.queryKey,a=s.queryHash??xC(i,s);let o=this.get(a);return o||(o=new CG({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){he(this,sl).has(t.queryHash)||(he(this,sl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=he(this,sl).get(t.queryHash);s&&(t.destroy(),s===t&&he(this,sl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,sl).get(t)}getAll(){return[...he(this,sl).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>dP(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>dP(t,n)):s}notify(t){wr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){wr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},sl=new WeakMap,GM),nl,vi,th,rl,Kc,KM,PG=(KM=class extends MD{constructor(t){super();Bt(this,rl);Bt(this,nl);Bt(this,vi);Bt(this,th);this.mutationId=t.mutationId,ct(this,vi,t.mutationCache),ct(this,nl,[]),this.state=t.state||LD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,nl).includes(t)||(he(this,nl).push(t),this.clearGcTimeout(),he(this,vi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,nl,he(this,nl).filter(s=>s!==t)),this.scheduleGc(),he(this,vi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,nl).length||(this.state.status==="pending"?this.scheduleGc():he(this,vi).remove(this))}continue(){var t;return((t=he(this,th))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,d,u,h,m,f,g,p,b,x,y,w,S,C,L,R;ct(this,th,TD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,D)=>{ls(this,rl,Kc).call(this,{type:"failed",failureCount:M,error:D})},onPause:()=>{ls(this,rl,Kc).call(this,{type:"pause"})},onContinue:()=>{ls(this,rl,Kc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,vi).canRun(this)}));const s=this.state.status==="pending",n=!he(this,th).canStart();try{if(!s){ls(this,rl,Kc).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=he(this,vi).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&ls(this,rl,Kc).call(this,{type:"pending",context:D,variables:t,isPaused:n})}const M=await he(this,th).start();return await((d=(c=he(this,vi).config).onSuccess)==null?void 0:d.call(c,M,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,M,t,this.state.context)),await((f=(m=he(this,vi).config).onSettled)==null?void 0:f.call(m,M,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,M,null,t,this.state.context)),ls(this,rl,Kc).call(this,{type:"success",data:M}),M}catch(M){try{throw await((x=(b=he(this,vi).config).onError)==null?void 0:x.call(b,M,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,M,t,this.state.context)),await((C=(S=he(this,vi).config).onSettled)==null?void 0:C.call(S,void 0,M,this.state.variables,this.state.context,this)),await((R=(L=this.options).onSettled)==null?void 0:R.call(L,void 0,M,t,this.state.context)),M}finally{ls(this,rl,Kc).call(this,{type:"error",error:M})}}finally{he(this,vi).runNext(this)}}},nl=new WeakMap,vi=new WeakMap,th=new WeakMap,rl=new WeakSet,Kc=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),wr.batch(()=>{he(this,nl).forEach(n=>{n.onMutationUpdate(t)}),he(this,vi).notify({mutation:this,type:"updated",action:t})})},KM);function LD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,f0,ZM,AG=(ZM=class extends sp{constructor(t={}){super();Bt(this,oa);Bt(this,f0);this.config=t,ct(this,oa,new Map),ct(this,f0,Date.now())}build(t,s,n){const i=new PG({mutationCache:this,mutationId:++_v(this,f0)._,options:t.defaultMutationOptions(s),state:n});return this.add(i),i}add(t){const s=qv(t),n=he(this,oa).get(s)??[];n.push(t),he(this,oa).set(s,n),this.notify({type:"added",mutation:t})}remove(t){var n;const s=qv(t);if(he(this,oa).has(s)){const i=(n=he(this,oa).get(s))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?he(this,oa).delete(s):he(this,oa).set(s,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const s=(n=he(this,oa).get(qv(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}runNext(t){var n;const s=(n=he(this,oa).get(qv(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){wr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...he(this,oa).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(n=>uP(s,n))}findAll(t={}){return this.getAll().filter(s=>uP(t,s))}notify(t){wr.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return wr.batch(()=>Promise.all(t.map(s=>s.continue().catch(Ba))))}},oa=new WeakMap,f0=new WeakMap,ZM);function qv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function mP(e){return{onFetch:(t,s)=>{var u,h,m,f,g;const n=t.options,i=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=PD(t.options,t.fetchOptions),y=async(w,S,C)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const L={queryKey:t.queryKey,pageParam:S,direction:C?"backward":"forward",meta:t.options.meta};b(L);const R=await x(L),{maxPages:M}=t.options,D=C?bG:yG;return{pages:D(w.pages,R,M),pageParams:D(w.pageParams,S,M)}};if(i&&a.length){const w=i==="backward",S=w?EG:pP,C={pages:a,pageParams:o},L=S(n,C);l=await y(C,L,w)}else{const w=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:pP(n,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function pP(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function EG(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Rn,dd,ud,hm,fm,hd,mm,pm,XM,TG=(XM=class{constructor(e={}){Bt(this,Rn);Bt(this,dd);Bt(this,ud);Bt(this,hm);Bt(this,fm);Bt(this,hd);Bt(this,mm);Bt(this,pm);ct(this,Rn,e.queryCache||new _G),ct(this,dd,e.mutationCache||new AG),ct(this,ud,e.defaultOptions||{}),ct(this,hm,new Map),ct(this,fm,new Map),ct(this,hd,0)}mount(){_v(this,hd)._++,he(this,hd)===1&&(ct(this,mm,yC.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Rn).onFocus())})),ct(this,pm,z1.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Rn).onOnline())})))}unmount(){var e,t;_v(this,hd)._--,he(this,hd)===0&&((e=he(this,mm))==null||e.call(this),ct(this,mm,void 0),(t=he(this,pm))==null||t.call(this),ct(this,pm,void 0))}isFetching(e){return he(this,Rn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,dd).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=he(this,Rn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),n=he(this,Rn).build(this,s);return e.revalidateIfStale&&n.isStaleByTime(qf(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return he(this,Rn).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),i=he(this,Rn).get(n.queryHash),a=i==null?void 0:i.state.data,o=xG(t,a);if(o!==void 0)return he(this,Rn).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return wr.batch(()=>he(this,Rn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=he(this,Rn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=he(this,Rn);wr.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=he(this,Rn),n={type:"active",...e};return wr.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},n=wr.batch(()=>he(this,Rn).findAll(e).map(i=>i.cancel(s)));return Promise.all(n).then(Ba).catch(Ba)}invalidateQueries(e={},t={}){return wr.batch(()=>{if(he(this,Rn).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=wr.batch(()=>he(this,Rn).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Ba)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=he(this,Rn).build(this,t);return s.isStaleByTime(qf(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ba).catch(Ba)}fetchInfiniteQuery(e){return e.behavior=mP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ba).catch(Ba)}ensureInfiniteQueryData(e){return e.behavior=mP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return z1.isOnline()?he(this,dd).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Rn)}getMutationCache(){return he(this,dd)}getDefaultOptions(){return he(this,ud)}setDefaultOptions(e){ct(this,ud,e)}setQueryDefaults(e,t){he(this,hm).set(xh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,hm).values()];let s={};return t.forEach(n=>{Cx(e,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(e,t){he(this,fm).set(xh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,fm).values()];let s={};return t.forEach(n=>{Cx(e,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,ud).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,ud).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Rn).clear(),he(this,dd).clear()}},Rn=new WeakMap,dd=new WeakMap,ud=new WeakMap,hm=new WeakMap,fm=new WeakMap,hd=new WeakMap,mm=new WeakMap,pm=new WeakMap,XM),Di,Ns,m0,yi,sh,gm,fd,il,p0,xm,vm,nh,rh,md,ym,Os,Ng,V5,$5,U5,H5,q5,W5,Y5,DD,QM,MG=(QM=class extends sp{constructor(t,s){super();Bt(this,Os);Bt(this,Di);Bt(this,Ns);Bt(this,m0);Bt(this,yi);Bt(this,sh);Bt(this,gm);Bt(this,fd);Bt(this,il);Bt(this,p0);Bt(this,xm);Bt(this,vm);Bt(this,nh);Bt(this,rh);Bt(this,md);Bt(this,ym,new Set);this.options=s,ct(this,Di,t),ct(this,il,null),ct(this,fd,z5()),this.options.experimental_prefetchInRender||he(this,fd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,Ns).addObserver(this),gP(he(this,Ns),this.options)?ls(this,Os,Ng).call(this):this.updateResult(),ls(this,Os,H5).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return G5(he(this,Ns),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return G5(he(this,Ns),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ls(this,Os,q5).call(this),ls(this,Os,W5).call(this),he(this,Ns).removeObserver(this)}setOptions(t,s){const n=this.options,i=he(this,Ns);if(this.options=he(this,Di).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yo(this.options.enabled,he(this,Ns))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ls(this,Os,Y5).call(this),he(this,Ns).setOptions(this.options),n._defaulted&&!B1(this.options,n)&&he(this,Di).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,Ns),observer:this});const a=this.hasListeners();a&&xP(he(this,Ns),i,this.options,n)&&ls(this,Os,Ng).call(this),this.updateResult(s),a&&(he(this,Ns)!==i||yo(this.options.enabled,he(this,Ns))!==yo(n.enabled,he(this,Ns))||qf(this.options.staleTime,he(this,Ns))!==qf(n.staleTime,he(this,Ns)))&&ls(this,Os,V5).call(this);const o=ls(this,Os,$5).call(this);a&&(he(this,Ns)!==i||yo(this.options.enabled,he(this,Ns))!==yo(n.enabled,he(this,Ns))||o!==he(this,md))&&ls(this,Os,U5).call(this,o)}getOptimisticResult(t){const s=he(this,Di).getQueryCache().build(he(this,Di),t),n=this.createResult(s,t);return LG(this,n)&&(ct(this,yi,n),ct(this,gm,this.options),ct(this,sh,he(this,Ns).state)),n}getCurrentResult(){return he(this,yi)}trackResult(t,s){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),t[i])})}),n}trackProp(t){he(this,ym).add(t)}getCurrentQuery(){return he(this,Ns)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=he(this,Di).defaultQueryOptions(t),n=he(this,Di).getQueryCache().build(he(this,Di),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return ls(this,Os,Ng).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,yi)))}createResult(t,s){var M;const n=he(this,Ns),i=this.options,a=he(this,yi),o=he(this,sh),l=he(this,gm),d=t!==n?t.state:he(this,m0),{state:u}=t;let h={...u},m=!1,f;if(s._optimisticResults){const D=this.hasListeners(),$=!D&&gP(t,s),E=D&&xP(t,n,s,i);($||E)&&(h={...h,...RD(u.data,t.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:b}=h;if(s.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&s.select===he(this,p0))f=he(this,xm);else try{ct(this,p0,s.select),f=s.select(h.data),f=B5(a==null?void 0:a.data,f,s),ct(this,xm,f),ct(this,il,null)}catch(D){ct(this,il,D)}else f=h.data;if(s.placeholderData!==void 0&&f===void 0&&b==="pending"){let D;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))D=a.data;else if(D=typeof s.placeholderData=="function"?s.placeholderData((M=he(this,vm))==null?void 0:M.state.data,he(this,vm)):s.placeholderData,s.select&&D!==void 0)try{D=s.select(D),ct(this,il,null)}catch($){ct(this,il,$)}D!==void 0&&(b="success",f=B5(a==null?void 0:a.data,D,s),m=!0)}he(this,il)&&(g=he(this,il),f=he(this,xm),p=Date.now(),b="error");const x=h.fetchStatus==="fetching",y=b==="pending",w=b==="error",S=y&&x,C=f!==void 0,R={status:b,fetchStatus:h.fetchStatus,isPending:y,isSuccess:b==="success",isError:w,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&C,isStale:bC(t,s),refetch:this.refetch,promise:he(this,fd)};if(this.options.experimental_prefetchInRender){const D=T=>{R.status==="error"?T.reject(R.error):R.data!==void 0&&T.resolve(R.data)},$=()=>{const T=ct(this,fd,R.promise=z5());D(T)},E=he(this,fd);switch(E.status){case"pending":t.queryHash===n.queryHash&&D(E);break;case"fulfilled":(R.status==="error"||R.data!==E.value)&&$();break;case"rejected":(R.status!=="error"||R.error!==E.reason)&&$();break}}return R}updateResult(t){const s=he(this,yi),n=this.createResult(he(this,Ns),this.options);if(ct(this,sh,he(this,Ns).state),ct(this,gm,this.options),he(this,sh).data!==void 0&&ct(this,vm,he(this,Ns)),B1(n,s))return;ct(this,yi,n);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!he(this,ym).size)return!0;const c=new Set(l??he(this,ym));return this.options.throwOnError&&c.add("error"),Object.keys(he(this,yi)).some(d=>{const u=d;return he(this,yi)[u]!==s[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),ls(this,Os,DD).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ls(this,Os,H5).call(this)}},Di=new WeakMap,Ns=new WeakMap,m0=new WeakMap,yi=new WeakMap,sh=new WeakMap,gm=new WeakMap,fd=new WeakMap,il=new WeakMap,p0=new WeakMap,xm=new WeakMap,vm=new WeakMap,nh=new WeakMap,rh=new WeakMap,md=new WeakMap,ym=new WeakMap,Os=new WeakSet,Ng=function(t){ls(this,Os,Y5).call(this);let s=he(this,Ns).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Ba)),s},V5=function(){ls(this,Os,q5).call(this);const t=qf(this.options.staleTime,he(this,Ns));if(gh||he(this,yi).isStale||!I5(t))return;const n=kD(he(this,yi).dataUpdatedAt,t)+1;ct(this,nh,setTimeout(()=>{he(this,yi).isStale||this.updateResult()},n))},$5=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,Ns)):this.options.refetchInterval)??!1},U5=function(t){ls(this,Os,W5).call(this),ct(this,md,t),!(gh||yo(this.options.enabled,he(this,Ns))===!1||!I5(he(this,md))||he(this,md)===0)&&ct(this,rh,setInterval(()=>{(this.options.refetchIntervalInBackground||yC.isFocused())&&ls(this,Os,Ng).call(this)},he(this,md)))},H5=function(){ls(this,Os,V5).call(this),ls(this,Os,U5).call(this,ls(this,Os,$5).call(this))},q5=function(){he(this,nh)&&(clearTimeout(he(this,nh)),ct(this,nh,void 0))},W5=function(){he(this,rh)&&(clearInterval(he(this,rh)),ct(this,rh,void 0))},Y5=function(){const t=he(this,Di).getQueryCache().build(he(this,Di),this.options);if(t===he(this,Ns))return;const s=he(this,Ns);ct(this,Ns,t),ct(this,m0,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},DD=function(t){wr.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(he(this,yi))}),he(this,Di).getQueryCache().notify({query:he(this,Ns),type:"observerResultsUpdated"})})},QM);function RG(e,t){return yo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gP(e,t){return RG(e,t)||e.state.data!==void 0&&G5(e,t,t.refetchOnMount)}function G5(e,t,s){if(yo(t.enabled,e)!==!1){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&bC(e,t)}return!1}function xP(e,t,s,n){return(e!==t||yo(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&bC(e,s)}function bC(e,t){return yo(t.enabled,e)!==!1&&e.isStaleByTime(qf(t.staleTime,e))}function LG(e,t){return!B1(e.getCurrentResult(),t)}var pd,gd,Oi,nc,fc,$y,K5,JM,DG=(JM=class extends sp{constructor(s,n){super();Bt(this,fc);Bt(this,pd);Bt(this,gd);Bt(this,Oi);Bt(this,nc);ct(this,pd,s),this.setOptions(n),this.bindMethods(),ls(this,fc,$y).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var i;const n=this.options;this.options=he(this,pd).defaultMutationOptions(s),B1(this.options,n)||he(this,pd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,Oi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&xh(n.mutationKey)!==xh(this.options.mutationKey)?this.reset():((i=he(this,Oi))==null?void 0:i.state.status)==="pending"&&he(this,Oi).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=he(this,Oi))==null||s.removeObserver(this)}onMutationUpdate(s){ls(this,fc,$y).call(this),ls(this,fc,K5).call(this,s)}getCurrentResult(){return he(this,gd)}reset(){var s;(s=he(this,Oi))==null||s.removeObserver(this),ct(this,Oi,void 0),ls(this,fc,$y).call(this),ls(this,fc,K5).call(this)}mutate(s,n){var i;return ct(this,nc,n),(i=he(this,Oi))==null||i.removeObserver(this),ct(this,Oi,he(this,pd).getMutationCache().build(he(this,pd),this.options)),he(this,Oi).addObserver(this),he(this,Oi).execute(s)}},pd=new WeakMap,gd=new WeakMap,Oi=new WeakMap,nc=new WeakMap,fc=new WeakSet,$y=function(){var n;const s=((n=he(this,Oi))==null?void 0:n.state)??LD();ct(this,gd,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},K5=function(s){wr.batch(()=>{var n,i,a,o,l,c,d,u;if(he(this,nc)&&this.hasListeners()){const h=he(this,gd).variables,m=he(this,gd).context;(s==null?void 0:s.type)==="success"?((i=(n=he(this,nc)).onSuccess)==null||i.call(n,s.data,h,m),(o=(a=he(this,nc)).onSettled)==null||o.call(a,s.data,null,h,m)):(s==null?void 0:s.type)==="error"&&((c=(l=he(this,nc)).onError)==null||c.call(l,s.error,h,m),(u=(d=he(this,nc)).onSettled)==null||u.call(d,void 0,s.error,h,m))}this.listeners.forEach(h=>{h(he(this,gd))})})},JM),OD=j.createContext(void 0),Ja=e=>{const t=j.useContext(OD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OG=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(OD.Provider,{value:e,children:t})),ID=j.createContext(!1),IG=()=>j.useContext(ID);ID.Provider;function FG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BG=j.createContext(FG()),zG=()=>j.useContext(BG);function FD(e,t){return typeof e=="function"?e(...t):!!e}function Z5(){}var VG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$G=e=>{j.useEffect(()=>{e.clearReset()},[e])},UG=({result:e,errorResetBoundary:t,throwOnError:s,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&FD(s,[e.error,n]),HG=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qG=(e,t)=>e.isLoading&&e.isFetching&&!t,WG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,vP=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function YG(e,t,s){var u,h,m,f,g;const n=Ja(),i=IG(),a=zG(),o=n.defaultQueryOptions(e);(h=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",HG(o),VG(o,a),$G(a);const l=!n.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(n,o)),d=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(p=>{const b=i?Z5:c.subscribe(wr.batchCalls(p));return c.updateResult(),b},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),WG(o,d))throw vP(o,c,a);if(UG({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((f=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||f.call(m,o,d),o.experimental_prefetchInRender&&!gh&&qG(d,i)){const p=l?vP(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(Z5).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ds(e,t){return YG(e,MG)}function os(e,t){const s=Ja(),[n]=j.useState(()=>new DG(s,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const i=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(wr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=j.useCallback((o,l)=>{n.mutate(o,l).catch(Z5)},[n]);if(i.error&&FD(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function BD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function pn(e,t,s){const n={};s&&(n["Content-Type"]="application/json");const i=localStorage.getItem("accessToken");i&&(n.Authorization=`Bearer ${i}`);const a=await fetch(t,{method:e,headers:n,body:s?JSON.stringify(s):void 0,credentials:"include"});return await BD(a),a}const GG=({on401:e})=>async({queryKey:t})=>{const s={},n=localStorage.getItem("accessToken");n&&(s.Authorization=`Bearer ${n}`);const i=await fetch(t.join("/"),{headers:s,credentials:"include"});return e==="returnNull"&&i.status===401?null:(await BD(i),await i.json())},ha=new TG({defaultOptions:{queries:{queryFn:GG({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),KG=1,ZG=1e6;let xj=0;function XG(){return xj=(xj+1)%Number.MAX_SAFE_INTEGER,xj.toString()}const vj=new Map,yP=e=>{if(vj.has(e))return;const t=setTimeout(()=>{vj.delete(e),Wg({type:"REMOVE_TOAST",toastId:e})},ZG);vj.set(e,t)},QG=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,KG)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?yP(s):e.toasts.forEach(n=>{yP(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Uy=[];let Hy={toasts:[]};function Wg(e){Hy=QG(Hy,e),Uy.forEach(t=>{t(Hy)})}function JG({...e}){const t=XG(),s=i=>Wg({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Wg({type:"DISMISS_TOAST",toastId:t});return Wg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:s}}function us(){const[e,t]=j.useState(Hy);return j.useEffect(()=>(Uy.push(t),()=>{const s=Uy.indexOf(t);s>-1&&Uy.splice(s,1)}),[e]),{...e,toast:JG,dismiss:s=>Wg({type:"DISMISS_TOAST",toastId:s})}}function Qe(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function bP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function np(...e){return t=>{let s=!1;const n=e.map(i=>{const a=bP(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():bP(e[i],null)}}}}function Gt(...e){return j.useCallback(np(...e),e)}function eK(e,t){const s=j.createContext(t),n=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return r.jsx(s.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=j.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function hr(e,t=[]){let s=[];function n(a,o){const l=j.createContext(o),c=s.length;s=[...s,o];const d=h=>{var x;const{scope:m,children:f,...g}=h,p=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,b=j.useMemo(()=>g,Object.values(g));return r.jsx(p.Provider,{value:b,children:f})};d.displayName=a+"Provider";function u(h,m){var p;const f=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,g=j.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=s.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,tK(i,...t)]}function tK(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function qd(e){const t=sK(e),s=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(nK);if(c){const d=c.props.children,u=l.map(h=>h===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var zD=qd("Slot");function sK(e){const t=j.forwardRef((s,n)=>{const{children:i,...a}=s;if(j.isValidElement(i)){const o=iK(i),l=rK(a,i.props);return i.type!==j.Fragment&&(l.ref=n?np(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VD=Symbol("radix.slottable");function $D(e){const t=({children:s})=>r.jsx(r.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=VD,t}function nK(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VD}function rK(e,t){const s={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{a(...l),i(...l)}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function iK(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function n2(e){const t=e+"CollectionProvider",[s,n]=hr(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:x}=p,y=it.useRef(null),w=it.useRef(new Map).current;return r.jsx(i,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=qd(l),d=it.forwardRef((p,b)=>{const{scope:x,children:y}=p,w=a(l,x),S=Gt(b,w.collectionRef);return r.jsx(c,{ref:S,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=qd(u),f=it.forwardRef((p,b)=>{const{scope:x,children:y,...w}=p,S=it.useRef(null),C=Gt(b,S),L=a(u,x);return it.useEffect(()=>(L.itemMap.set(S,{ref:S,...w}),()=>void L.itemMap.delete(S))),r.jsx(m,{[h]:"",ref:C,children:y})});f.displayName=u;function g(p){const b=a(e+"CollectionConsumer",p);return it.useCallback(()=>{const y=b.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((L,R)=>w.indexOf(L.ref.current)-w.indexOf(R.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},g,n]}var aK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gt=aK.reduce((e,t)=>{const s=qd(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function wC(e,t){e&&Rh.flushSync(()=>e.dispatchEvent(t))}function gn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...s)=>{var n;return(n=t.current)==null?void 0:n.call(t,...s)},[])}function oK(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[s,t])}var lK="DismissableLayer",X5="dismissableLayer.update",cK="dismissableLayer.pointerDownOutside",dK="dismissableLayer.focusOutside",wP,UD=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lh=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=j.useContext(UD),[u,h]=j.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=j.useState({}),g=Gt(t,R=>h(R)),p=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,S=y>=x,C=hK(R=>{const M=R.target,D=[...d.branches].some($=>$.contains(M));!S||D||(i==null||i(R),o==null||o(R),R.defaultPrevented||l==null||l())},m),L=fK(R=>{const M=R.target;[...d.branches].some($=>$.contains(M))||(a==null||a(R),o==null||o(R),R.defaultPrevented||l==null||l())},m);return oK(R=>{y===d.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&l&&(R.preventDefault(),l()))},m),j.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(wP=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),jP(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=wP)}},[u,m,s,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),jP())},[u,d]),j.useEffect(()=>{const R=()=>f({});return document.addEventListener(X5,R),()=>document.removeEventListener(X5,R)},[]),r.jsx(gt.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,C.onPointerDownCapture)})});Lh.displayName=lK;var uK="DismissableLayerBranch",HD=j.forwardRef((e,t)=>{const s=j.useContext(UD),n=j.useRef(null),i=Gt(t,n);return j.useEffect(()=>{const a=n.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),r.jsx(gt.div,{...e,ref:i})});HD.displayName=uK;function hK(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){qD(cK,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>n.current=!0}}function fK(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e),n=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!n.current&&qD(dK,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jP(){const e=new CustomEvent(X5);document.dispatchEvent(e)}function qD(e,t,s,{discrete:n}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?wC(i,a):i.dispatchEvent(a)}var mK=Lh,pK=HD,sr=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},gK="Portal",rp=j.forwardRef((e,t)=>{var l;const{container:s,...n}=e,[i,a]=j.useState(!1);sr(()=>a(!0),[]);const o=s||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?VY.createPortal(r.jsx(gt.div,{...n,ref:t}),o):null});rp.displayName=gK;function xK(e,t){return j.useReducer((s,n)=>t[s][n]??s,e)}var fr=e=>{const{present:t,children:s}=e,n=vK(t),i=typeof s=="function"?s({present:n.isPresent}):j.Children.only(s),a=Gt(n.ref,yK(i));return typeof s=="function"||n.isPresent?j.cloneElement(i,{ref:a}):null};fr.displayName="Presence";function vK(e){const[t,s]=j.useState(),n=j.useRef({}),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=xK(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=Wv(n.current);a.current=l==="mounted"?d:"none"},[l]),sr(()=>{const d=n.current,u=i.current;if(u!==e){const m=a.current,f=Wv(d);e?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),sr(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=f=>{const p=Wv(n.current).includes(f.animationName);if(f.target===t&&p&&(c("ANIMATION_END"),!i.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=f=>{f.target===t&&(a.current=Wv(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function Wv(e){return(e==null?void 0:e.animationName)||"none"}function yK(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Sa({prop:e,defaultProp:t,onChange:s=()=>{}}){const[n,i]=bK({defaultProp:t,onChange:s}),a=e!==void 0,o=a?e:n,l=gn(s),c=j.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else i(d)},[a,e,i,l]);return[o,c]}function bK({defaultProp:e,onChange:t}){const s=j.useState(e),[n]=s,i=j.useRef(n),a=gn(t);return j.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),s}var wK="VisuallyHidden",w0=j.forwardRef((e,t)=>r.jsx(gt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));w0.displayName=wK;var jK=w0,jC="ToastProvider",[NC,NK,SK]=n2("Toast"),[WD,hwe]=hr("Toast",[SK]),[CK,r2]=WD(jC),YD=e=>{const{__scopeToast:t,label:s="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[d,u]=j.useState(0),h=j.useRef(!1),m=j.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${jC}\`. Expected non-empty \`string\`.`),r.jsx(NC.Provider,{scope:t,children:r.jsx(CK,{scope:t,label:s,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>u(f=>f+1),[]),onToastRemove:j.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};YD.displayName=jC;var GD="ToastViewport",kK=["F8"],Q5="toast.viewportPause",J5="toast.viewportResume",KD=j.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:n=kK,label:i="Notifications ({hotkey})",...a}=e,o=r2(GD,s),l=NK(s),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),h=j.useRef(null),m=Gt(t,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;j.useEffect(()=>{const b=x=>{var w;n.length!==0&&n.every(S=>x[S]||x.code===S)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),j.useEffect(()=>{const b=c.current,x=h.current;if(g&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Q5);x.dispatchEvent(L),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(J5);x.dispatchEvent(L),o.isClosePausedRef.current=!1}},S=L=>{!b.contains(L.relatedTarget)&&w()},C=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",S),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=j.useCallback(({tabbingDirection:b})=>{const y=l().map(w=>{const S=w.ref.current,C=[S,...BK(S)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?y.reverse():y).flat()},[l]);return j.useEffect(()=>{const b=h.current;if(b){const x=y=>{var C,L,R;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const M=document.activeElement,D=y.shiftKey;if(y.target===b&&D){(C=d.current)==null||C.focus();return}const T=p({tabbingDirection:D?"backwards":"forwards"}),q=T.findIndex(B=>B===M);yj(T.slice(q+1))?y.preventDefault():D?(L=d.current)==null||L.focus():(R=u.current)==null||R.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,p]),r.jsxs(pK,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(eS,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});yj(b)}}),r.jsx(NC.Slot,{scope:s,children:r.jsx(gt.ol,{tabIndex:-1,...a,ref:m})}),g&&r.jsx(eS,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});yj(b)}})]})});KD.displayName=GD;var ZD="ToastFocusProxy",eS=j.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...i}=e,a=r2(ZD,s);return r.jsx(w0,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});eS.displayName=ZD;var i2="Toast",_K="toast.swipeStart",PK="toast.swipeMove",AK="toast.swipeCancel",EK="toast.swipeEnd",XD=j.forwardRef((e,t)=>{const{forceMount:s,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=Sa({prop:n,defaultProp:i,onChange:a});return r.jsx(fr,{present:s||l,children:r.jsx(RK,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:gn(e.onPause),onResume:gn(e.onResume),onSwipeStart:Qe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Qe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});XD.displayName=i2;var[TK,MK]=WD(i2,{onClose(){}}),RK=j.forwardRef((e,t)=>{const{__scopeToast:s,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...g}=e,p=r2(i2,s),[b,x]=j.useState(null),y=Gt(t,B=>x(B)),w=j.useRef(null),S=j.useRef(null),C=i||p.duration,L=j.useRef(0),R=j.useRef(C),M=j.useRef(0),{onToastAdd:D,onToastRemove:$}=p,E=gn(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=p.viewport)==null||te.focus()),o()}),T=j.useCallback(B=>{!B||B===1/0||(window.clearTimeout(M.current),L.current=new Date().getTime(),M.current=window.setTimeout(E,B))},[E]);j.useEffect(()=>{const B=p.viewport;if(B){const te=()=>{T(R.current),d==null||d()},ie=()=>{const G=new Date().getTime()-L.current;R.current=R.current-G,window.clearTimeout(M.current),c==null||c()};return B.addEventListener(Q5,ie),B.addEventListener(J5,te),()=>{B.removeEventListener(Q5,ie),B.removeEventListener(J5,te)}}},[p.viewport,C,c,d,T]),j.useEffect(()=>{a&&!p.isClosePausedRef.current&&T(C)},[a,C,p.isClosePausedRef,T]),j.useEffect(()=>(D(),()=>$()),[D,$]);const q=j.useMemo(()=>b?rO(b):null,[b]);return p.viewport?r.jsxs(r.Fragment,{children:[q&&r.jsx(LK,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),r.jsx(TK,{scope:s,onClose:E,children:Rh.createPortal(r.jsx(NC.ItemSlot,{scope:s,children:r.jsx(mK,{asChild:!0,onEscapeKeyDown:Qe(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(gt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qe(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:Qe(e.onPointerDown,B=>{B.button===0&&(w.current={x:B.clientX,y:B.clientY})}),onPointerMove:Qe(e.onPointerMove,B=>{if(!w.current)return;const te=B.clientX-w.current.x,ie=B.clientY-w.current.y,G=!!S.current,P=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,xe=P?U(0,te):0,X=P?0:U(0,ie),O=B.pointerType==="touch"?10:2,W={x:xe,y:X},Z={originalEvent:B,delta:W};G?(S.current=W,Yv(PK,h,Z,{discrete:!1})):NP(W,p.swipeDirection,O)?(S.current=W,Yv(_K,u,Z,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(te)>O||Math.abs(ie)>O)&&(w.current=null)}),onPointerUp:Qe(e.onPointerUp,B=>{const te=S.current,ie=B.target;if(ie.hasPointerCapture(B.pointerId)&&ie.releasePointerCapture(B.pointerId),S.current=null,w.current=null,te){const G=B.currentTarget,P={originalEvent:B,delta:te};NP(te,p.swipeDirection,p.swipeThreshold)?Yv(EK,f,P,{discrete:!0}):Yv(AK,m,P,{discrete:!0}),G.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),LK=e=>{const{__scopeToast:t,children:s,...n}=e,i=r2(i2,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return IK(()=>o(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:r.jsx(rp,{asChild:!0,children:r.jsx(w0,{...n,children:a&&r.jsxs(r.Fragment,{children:[i.label," ",s]})})})},DK="ToastTitle",QD=j.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(gt.div,{...n,ref:t})});QD.displayName=DK;var OK="ToastDescription",JD=j.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e;return r.jsx(gt.div,{...n,ref:t})});JD.displayName=OK;var eO="ToastAction",tO=j.forwardRef((e,t)=>{const{altText:s,...n}=e;return s.trim()?r.jsx(nO,{altText:s,asChild:!0,children:r.jsx(SC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${eO}\`. Expected non-empty \`string\`.`),null)});tO.displayName=eO;var sO="ToastClose",SC=j.forwardRef((e,t)=>{const{__scopeToast:s,...n}=e,i=MK(sO,s);return r.jsx(nO,{asChild:!0,children:r.jsx(gt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,i.onClose)})})});SC.displayName=sO;var nO=j.forwardRef((e,t)=>{const{__scopeToast:s,altText:n,...i}=e;return r.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function rO(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),FK(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...rO(n))}}),t}function Yv(e,t,s,{discrete:n}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),n?wC(i,a):i.dispatchEvent(a)}var NP=(e,t,s=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>s:!a&&i>s};function IK(e=()=>{}){const t=gn(e);sr(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[t])}function FK(e){return e.nodeType===e.ELEMENT_NODE}function BK(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function yj(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var zK=YD,iO=KD,aO=XD,oO=QD,lO=JD,cO=tO,dO=SC;function uO(e){var t,s,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=uO(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}function hO(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=uO(e))&&(n&&(n+=" "),n+=t);return n}const SP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CP=hO,ip=(e,t)=>s=>{var n;if((t==null?void 0:t.variants)==null)return CP(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=s==null?void 0:s[d],h=a==null?void 0:a[d];if(u===null)return null;const m=SP(u)||SP(h);return i[d][m]}),l=s&&Object.entries(s).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(g=>{let[p,b]=g;return Array.isArray(b)?b.includes({...a,...l}[p]):{...a,...l}[p]===b})?[...d,h,m]:d},[]);return CP(e,o,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=(...e)=>e.filter((t,s,n)=>!!t&&n.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $K={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...$K,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:fO("lucide",i),...l},[...o.map(([d,u])=>j.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const s=j.forwardRef(({className:n,...i},a)=>j.createElement(UK,{ref:a,iconNode:t,className:fO(`lucide-${VK(e)}`,n),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Be("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Be("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Be("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Be("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=Be("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=Be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=Be("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=Be("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=Be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=Be("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Be("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Be("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=Be("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=Be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Be("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Be("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Be("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Be("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Be("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=Be("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Be("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=Be("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Be("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Be("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Be("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Be("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Be("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Be("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),OC="-",gZ=e=>{const t=vZ(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(OC);return l[0]===""&&l.length!==1&&l.shift(),kO(l,t)||xZ(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},kO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],n=t.nextPart.get(s),i=n?kO(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(OC);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},LP=/^\[(.+)\]$/,xZ=e=>{if(LP.test(e)){const t=LP.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},vZ=e=>{const{theme:t,prefix:s}=e,n={nextPart:new Map,validators:[]};return bZ(Object.entries(e.classGroups),s).forEach(([a,o])=>{sS(o,n,a,t)}),n},sS=(e,t,s,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:DP(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(yZ(i)){sS(i(n),t,s,n);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{sS(o,DP(t,a),s,n)})})},DP=(e,t)=>{let s=e;return t.split(OC).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},yZ=e=>e.isThemeGetter,bZ=(e,t)=>t?e.map(([s,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[s,i]}):e,wZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,n=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,n=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},_O="!",jZ=e=>{const{separator:t,experimentalParseClassName:s}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let b=0;b<l.length;b++){let x=l[b];if(d===0){if(x===i&&(n||l.slice(b,b+a)===t)){c.push(l.slice(u,b)),u=b+a;continue}if(x==="/"){h=b;continue}}x==="["?d++:x==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(_O),g=f?m.substring(1):m,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}};return s?l=>s({className:l,parseClassName:o}):o},NZ=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(n=>{n[0]==="["?(t.push(...s.sort(),n),s=[]):s.push(n)}),t.push(...s.sort()),t},SZ=e=>({cache:wZ(e.cacheSize),parseClassName:jZ(e),...gZ(e)}),CZ=/\s+/,kZ=(e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(CZ);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=s(d);let g=!!f,p=n(g?m.substring(0,f):m);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const b=NZ(u).join(":"),x=h?b+_O:b,y=x+p;if(a.includes(y))continue;a.push(y);const w=i(p,g);for(let S=0;S<w.length;++S){const C=w[S];a.push(x+C)}l=d+(l.length>0?" "+l:l)}return l};function _Z(){let e=0,t,s,n="";for(;e<arguments.length;)(t=arguments[e++])&&(s=PO(t))&&(n&&(n+=" "),n+=s);return n}const PO=e=>{if(typeof e=="string")return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=PO(e[n]))&&(s&&(s+=" "),s+=t);return s};function PZ(e,...t){let s,n,i,a=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return s=SZ(d),n=s.cache.get,i=s.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=kZ(c,s);return i(c,u),u}return function(){return a(_Z.apply(null,arguments))}}const an=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},AO=/^\[(?:([a-z-]+):)?(.+)\]$/i,AZ=/^\d+\/\d+$/,EZ=new Set(["px","full","screen"]),TZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,LZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vl=e=>Yf(e)||EZ.has(e)||AZ.test(e),Uc=e=>lp(e,"length",UZ),Yf=e=>!!e&&!Number.isNaN(Number(e)),jj=e=>lp(e,"number",Yf),sg=e=>!!e&&Number.isInteger(Number(e)),OZ=e=>e.endsWith("%")&&Yf(e.slice(0,-1)),as=e=>AO.test(e),Hc=e=>TZ.test(e),IZ=new Set(["length","size","percentage"]),FZ=e=>lp(e,IZ,EO),BZ=e=>lp(e,"position",EO),zZ=new Set(["image","url"]),VZ=e=>lp(e,zZ,qZ),$Z=e=>lp(e,"",HZ),ng=()=>!0,lp=(e,t,s)=>{const n=AO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):s(n[2]):!1},UZ=e=>MZ.test(e)&&!RZ.test(e),EO=()=>!1,HZ=e=>LZ.test(e),qZ=e=>DZ.test(e),WZ=()=>{const e=an("colors"),t=an("spacing"),s=an("blur"),n=an("brightness"),i=an("borderColor"),a=an("borderRadius"),o=an("borderSpacing"),l=an("borderWidth"),c=an("contrast"),d=an("grayscale"),u=an("hueRotate"),h=an("invert"),m=an("gap"),f=an("gradientColorStops"),g=an("gradientColorStopPositions"),p=an("inset"),b=an("margin"),x=an("opacity"),y=an("padding"),w=an("saturate"),S=an("scale"),C=an("sepia"),L=an("skew"),R=an("space"),M=an("translate"),D=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",as,t],T=()=>[as,t],q=()=>["",Vl,Uc],B=()=>["auto",Yf,as],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",as],xe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Yf,as];return{cacheSize:500,separator:":",theme:{colors:[ng],spacing:[Vl,Uc],blur:["none","",Hc,as],brightness:X(),borderColor:[e],borderRadius:["none","","full",Hc,as],borderSpacing:T(),borderWidth:q(),contrast:X(),grayscale:U(),hueRotate:X(),invert:U(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[OZ,Uc],inset:E(),margin:E(),opacity:X(),padding:T(),saturate:X(),scale:X(),sepia:U(),skew:X(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",as]}],container:["container"],columns:[{columns:[Hc]}],"break-after":[{"break-after":xe()}],"break-before":[{"break-before":xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),as]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sg,as]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",as]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",sg,as]}],"grid-cols":[{"grid-cols":[ng]}],"col-start-end":[{col:["auto",{span:["full",sg,as]},as]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ng]}],"row-start-end":[{row:["auto",{span:[sg,as]},as]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",as]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",as]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",as,t]}],"min-w":[{"min-w":[as,t,"min","max","fit"]}],"max-w":[{"max-w":[as,t,"none","full","min","max","fit","prose",{screen:[Hc]},Hc]}],h:[{h:[as,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[as,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[as,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[as,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Hc,Uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jj]}],"font-family":[{font:[ng]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",as]}],"line-clamp":[{"line-clamp":["none",Yf,jj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vl,as]}],"list-image":[{"list-image":["none",as]}],"list-style-type":[{list:["none","disc","decimal",as]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vl,Uc]}],"underline-offset":[{"underline-offset":["auto",Vl,as]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",as]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",as]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),BZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[Vl,as]}],"outline-w":[{outline:[Vl,Uc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Vl,Uc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Hc,$Z]}],"shadow-color":[{shadow:[ng]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Hc,as]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",as]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",as]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",as]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[sg,as]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",as]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",as]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",as]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vl,Uc,jj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},YZ=PZ(WZ);function tt(...e){return YZ(hO(e))}const GZ=zK,TO=j.forwardRef(({className:e,...t},s)=>r.jsx(iO,{ref:s,className:tt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));TO.displayName=iO.displayName;const KZ=ip("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MO=j.forwardRef(({className:e,variant:t,...s},n)=>r.jsx(aO,{ref:n,className:tt(KZ({variant:t}),e),...s}));MO.displayName=aO.displayName;const ZZ=j.forwardRef(({className:e,...t},s)=>r.jsx(cO,{ref:s,className:tt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZZ.displayName=cO.displayName;const RO=j.forwardRef(({className:e,...t},s)=>r.jsx(dO,{ref:s,className:tt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(to,{className:"h-4 w-4"})}));RO.displayName=dO.displayName;const LO=j.forwardRef(({className:e,...t},s)=>r.jsx(oO,{ref:s,className:tt("text-sm font-semibold",e),...t}));LO.displayName=oO.displayName;const DO=j.forwardRef(({className:e,...t},s)=>r.jsx(lO,{ref:s,className:tt("text-sm opacity-90",e),...t}));DO.displayName=lO.displayName;function XZ(){const{toasts:e}=us();return r.jsxs(GZ,{children:[e.map(function({id:t,title:s,description:n,action:i,...a}){return r.jsxs(MO,{...a,children:[r.jsxs("div",{className:"grid gap-1",children:[s&&r.jsx(LO,{children:s}),n&&r.jsx(DO,{children:n})]}),i,r.jsx(RO,{})]},t)}),r.jsx(TO,{})]})}var QZ=dR[" useId ".trim().toString()]||(()=>{}),JZ=0;function ba(e){const[t,s]=j.useState(QZ());return sr(()=>{s(n=>n??String(JZ++))},[e]),t?`radix-${t}`:""}const eX=["top","right","bottom","left"],Yd=Math.min,fa=Math.max,H1=Math.round,Gv=Math.floor,gl=e=>({x:e,y:e}),tX={left:"right",right:"left",bottom:"top",top:"bottom"},sX={start:"end",end:"start"};function nS(e,t,s){return fa(e,Yd(t,s))}function bc(e,t){return typeof e=="function"?e(t):e}function wc(e){return e.split("-")[0]}function cp(e){return e.split("-")[1]}function IC(e){return e==="x"?"y":"x"}function FC(e){return e==="y"?"height":"width"}function Gd(e){return["top","bottom"].includes(wc(e))?"y":"x"}function BC(e){return IC(Gd(e))}function nX(e,t,s){s===void 0&&(s=!1);const n=cp(e),i=BC(e),a=FC(i);let o=i==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=q1(o)),[o,q1(o)]}function rX(e){const t=q1(e);return[rS(e),t,rS(t)]}function rS(e){return e.replace(/start|end/g,t=>sX[t])}function iX(e,t,s){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return s?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function aX(e,t,s,n){const i=cp(e);let a=iX(wc(e),s==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(rS)))),a}function q1(e){return e.replace(/left|right|bottom|top/g,t=>tX[t])}function oX(e){return{top:0,right:0,bottom:0,left:0,...e}}function OO(e){return typeof e!="number"?oX(e):{top:e,right:e,bottom:e,left:e}}function W1(e){const{x:t,y:s,width:n,height:i}=e;return{width:n,height:i,top:s,left:t,right:t+n,bottom:s+i,x:t,y:s}}function OP(e,t,s){let{reference:n,floating:i}=e;const a=Gd(t),o=BC(t),l=FC(o),c=wc(t),d=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(cp(t)){case"start":f[o]-=m*(s&&d?-1:1);break;case"end":f[o]+=m*(s&&d?-1:1);break}return f}const lX=async(e,t,s)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=OP(d,n,c),m=n,f={},g=0;for(let p=0;p<l.length;p++){const{name:b,fn:x}=l[p],{x:y,y:w,data:S,reset:C}=await x({x:u,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:f,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,h=w??h,f={...f,[b]:{...f[b],...S}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:u,y:h}=OP(d,m,c)),p=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:f}};async function kx(e,t){var s;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=bc(t,e),g=OO(f),b=l[m?h==="floating"?"reference":"floating":h],x=W1(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(b)))==null||s?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=W1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-C.top+g.top)/S.y,bottom:(C.bottom-x.bottom+g.bottom)/S.y,left:(x.left-C.left+g.left)/S.x,right:(C.right-x.right+g.right)/S.x}}const cX=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=bc(e,t)||{};if(d==null)return{};const h=OO(u),m={x:s,y:n},f=BC(i),g=FC(f),p=await o.getDimensions(d),b=f==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[f]-m[f]-a.floating[g],C=m[f]-a.reference[f],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let R=L?L[w]:0;(!R||!await(o.isElement==null?void 0:o.isElement(L)))&&(R=l.floating[w]||a.floating[g]);const M=S/2-C/2,D=R/2-p[g]/2-1,$=Yd(h[x],D),E=Yd(h[y],D),T=$,q=R-p[g]-E,B=R/2-p[g]/2+M,te=nS(T,B,q),ie=!c.arrow&&cp(i)!=null&&B!==te&&a.reference[g]/2-(B<T?$:E)-p[g]/2<0,G=ie?B<T?B-T:B-q:0;return{[f]:m[f]+G,data:{[f]:te,centerOffset:B-te-G,...ie&&{alignmentOffset:G}},reset:ie}}}),dX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...b}=bc(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const x=wc(i),y=Gd(l),w=wc(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=m||(w||!p?[q1(l)]:rX(l)),L=g!=="none";!m&&L&&C.push(...aX(l,p,g,S));const R=[l,...C],M=await kx(t,b),D=[];let $=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&D.push(M[x]),h){const B=nX(i,o,S);D.push(M[B[0]],M[B[1]])}if($=[...$,{placement:i,overflows:D}],!D.every(B=>B<=0)){var E,T;const B=(((E=a.flip)==null?void 0:E.index)||0)+1,te=R[B];if(te)return{data:{index:B,overflows:$},reset:{placement:te}};let ie=(T=$.filter(G=>G.overflows[0]<=0).sort((G,P)=>G.overflows[1]-P.overflows[1])[0])==null?void 0:T.placement;if(!ie)switch(f){case"bestFit":{var q;const G=(q=$.filter(P=>{if(L){const U=Gd(P.placement);return U===y||U==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(U=>U>0).reduce((U,xe)=>U+xe,0)]).sort((P,U)=>P[1]-U[1])[0])==null?void 0:q[0];G&&(ie=G);break}case"initialPlacement":ie=l;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function IP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function FP(e){return eX.some(t=>e[t]>=0)}const uX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...i}=bc(e,t);switch(n){case"referenceHidden":{const a=await kx(t,{...i,elementContext:"reference"}),o=IP(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:FP(o)}}}case"escaped":{const a=await kx(t,{...i,altBoundary:!0}),o=IP(a,s.floating);return{data:{escapedOffsets:o,escaped:FP(o)}}}default:return{}}}}};async function hX(e,t){const{placement:s,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=wc(s),l=cp(s),c=Gd(s)==="y",d=["left","top"].includes(o)?-1:1,u=a&&c?-1:1,h=bc(t,e);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const fX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await hX(t,e);return o===((s=l.offset)==null?void 0:s.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},mX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=bc(e,t),d={x:s,y:n},u=await kx(t,c),h=Gd(wc(i)),m=IC(h);let f=d[m],g=d[h];if(a){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",y=f+u[b],w=f-u[x];f=nS(y,f,w)}if(o){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+u[b],w=g-u[x];g=nS(y,g,w)}const p=l.fn({...t,[m]:f,[h]:g});return{...p,data:{x:p.x-s,y:p.y-n,enabled:{[m]:a,[h]:o}}}}}},pX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=bc(e,t),u={x:s,y:n},h=Gd(i),m=IC(h);let f=u[m],g=u[h];const p=bc(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",S=a.reference[m]-a.floating[w]+b.mainAxis,C=a.reference[m]+a.reference[w]-b.mainAxis;f<S?f=S:f>C&&(f=C)}if(d){var x,y;const w=m==="y"?"width":"height",S=["top","left"].includes(wc(i)),C=a.reference[h]-a.floating[w]+(S&&((x=o.offset)==null?void 0:x[h])||0)+(S?0:b.crossAxis),L=a.reference[h]+a.reference[w]+(S?0:((y=o.offset)==null?void 0:y[h])||0)-(S?b.crossAxis:0);g<C?g=C:g>L&&(g=L)}return{[m]:f,[h]:g}}}},gX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=bc(e,t),u=await kx(t,d),h=wc(i),m=cp(i),f=Gd(i)==="y",{width:g,height:p}=a.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,b=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=g-u.left-u.right,S=Yd(p-u[b],y),C=Yd(g-u[x],w),L=!t.middlewareData.shift;let R=S,M=C;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(M=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=y),L&&!m){const $=fa(u.left,0),E=fa(u.right,0),T=fa(u.top,0),q=fa(u.bottom,0);f?M=g-2*($!==0||E!==0?$+E:fa(u.left,u.right)):R=p-2*(T!==0||q!==0?T+q:fa(u.top,u.bottom))}await c({...t,availableWidth:M,availableHeight:R});const D=await o.getDimensions(l.floating);return g!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function u2(){return typeof window<"u"}function dp(e){return IO(e)?(e.nodeName||"").toLowerCase():"#document"}function wa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kl(e){var t;return(t=(IO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IO(e){return u2()?e instanceof Node||e instanceof wa(e).Node:!1}function To(e){return u2()?e instanceof Element||e instanceof wa(e).Element:!1}function jl(e){return u2()?e instanceof HTMLElement||e instanceof wa(e).HTMLElement:!1}function BP(e){return!u2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wa(e).ShadowRoot}function j0(e){const{overflow:t,overflowX:s,overflowY:n,display:i}=Mo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!["inline","contents"].includes(i)}function xX(e){return["table","td","th"].includes(dp(e))}function h2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function zC(e){const t=VC(),s=To(e)?Mo(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>s[n]?s[n]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function vX(e){let t=Kd(e);for(;jl(t)&&!Rm(t);){if(zC(t))return t;if(h2(t))return null;t=Kd(t)}return null}function VC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rm(e){return["html","body","#document"].includes(dp(e))}function Mo(e){return wa(e).getComputedStyle(e)}function f2(e){return To(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kd(e){if(dp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BP(e)&&e.host||kl(e);return BP(t)?t.host:t}function FO(e){const t=Kd(e);return Rm(t)?e.ownerDocument?e.ownerDocument.body:e.body:jl(t)&&j0(t)?t:FO(t)}function _x(e,t,s){var n;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=FO(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=wa(i);if(a){const l=iS(o);return t.concat(o,o.visualViewport||[],j0(i)?i:[],l&&s?_x(l):[])}return t.concat(i,_x(i,[],s))}function iS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BO(e){const t=Mo(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=jl(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:n,l=H1(s)!==a||H1(n)!==o;return l&&(s=a,n=o),{width:s,height:n,$:l}}function $C(e){return To(e)?e:e.contextElement}function Gf(e){const t=$C(e);if(!jl(t))return gl(1);const s=t.getBoundingClientRect(),{width:n,height:i,$:a}=BO(t);let o=(a?H1(s.width):s.width)/n,l=(a?H1(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yX=gl(0);function zO(e){const t=wa(e);return!VC()||!t.visualViewport?yX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bX(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==wa(e)?!1:t}function yh(e,t,s,n){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),a=$C(e);let o=gl(1);t&&(n?To(n)&&(o=Gf(n)):o=Gf(e));const l=bX(a,s,n)?zO(a):gl(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=wa(a),f=n&&To(n)?wa(n):n;let g=m,p=iS(g);for(;p&&n&&f!==g;){const b=Gf(p),x=p.getBoundingClientRect(),y=Mo(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*b.x,S=x.top+(p.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,d*=b.y,u*=b.x,h*=b.y,c+=w,d+=S,g=wa(p),p=iS(g)}}return W1({width:u,height:h,x:c,y:d})}function UC(e,t){const s=f2(e).scrollLeft;return t?t.left+s:yh(kl(e)).left+s}function VO(e,t,s){s===void 0&&(s=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(s?0:UC(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function wX(e){let{elements:t,rect:s,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=kl(n),l=t?h2(t.floating):!1;if(n===o||l&&a)return s;let c={scrollLeft:0,scrollTop:0},d=gl(1);const u=gl(0),h=jl(n);if((h||!h&&!a)&&((dp(n)!=="body"||j0(o))&&(c=f2(n)),jl(n))){const f=yh(n);d=Gf(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const m=o&&!h&&!a?VO(o,c,!0):gl(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:s.y*d.y-c.scrollTop*d.y+u.y+m.y}}function jX(e){return Array.from(e.getClientRects())}function NX(e){const t=kl(e),s=f2(e),n=e.ownerDocument.body,i=fa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=fa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-s.scrollLeft+UC(e);const l=-s.scrollTop;return Mo(n).direction==="rtl"&&(o+=fa(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function SX(e,t){const s=wa(e),n=kl(e),i=s.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=VC();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function CX(e,t){const s=yh(e,!0,t==="fixed"),n=s.top+e.clientTop,i=s.left+e.clientLeft,a=jl(e)?Gf(e):gl(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function zP(e,t,s){let n;if(t==="viewport")n=SX(e,s);else if(t==="document")n=NX(kl(e));else if(To(t))n=CX(t,s);else{const i=zO(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return W1(n)}function $O(e,t){const s=Kd(e);return s===t||!To(s)||Rm(s)?!1:Mo(s).position==="fixed"||$O(s,t)}function kX(e,t){const s=t.get(e);if(s)return s;let n=_x(e,[],!1).filter(l=>To(l)&&dp(l)!=="body"),i=null;const a=Mo(e).position==="fixed";let o=a?Kd(e):e;for(;To(o)&&!Rm(o);){const l=Mo(o),c=zC(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||j0(o)&&!c&&$O(e,o))?n=n.filter(u=>u!==o):i=l,o=Kd(o)}return t.set(e,n),n}function _X(e){let{element:t,boundary:s,rootBoundary:n,strategy:i}=e;const o=[...s==="clippingAncestors"?h2(t)?[]:kX(t,this._c):[].concat(s),n],l=o[0],c=o.reduce((d,u)=>{const h=zP(t,u,i);return d.top=fa(h.top,d.top),d.right=Yd(h.right,d.right),d.bottom=Yd(h.bottom,d.bottom),d.left=fa(h.left,d.left),d},zP(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PX(e){const{width:t,height:s}=BO(e);return{width:t,height:s}}function AX(e,t,s){const n=jl(t),i=kl(t),a=s==="fixed",o=yh(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=gl(0);if(n||!n&&!a)if((dp(t)!=="body"||j0(i))&&(l=f2(t)),n){const m=yh(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=UC(i));const d=i&&!n&&!a?VO(i,l):gl(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function Nj(e){return Mo(e).position==="static"}function VP(e,t){if(!jl(e)||Mo(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return kl(e)===s&&(s=s.ownerDocument.body),s}function UO(e,t){const s=wa(e);if(h2(e))return s;if(!jl(e)){let i=Kd(e);for(;i&&!Rm(i);){if(To(i)&&!Nj(i))return i;i=Kd(i)}return s}let n=VP(e,t);for(;n&&xX(n)&&Nj(n);)n=VP(n,t);return n&&Rm(n)&&Nj(n)&&!zC(n)?s:n||vX(e)||s}const EX=async function(e){const t=this.getOffsetParent||UO,s=this.getDimensions,n=await s(e.floating);return{reference:AX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function TX(e){return Mo(e).direction==="rtl"}const MX={convertOffsetParentRelativeRectToViewportRelativeRect:wX,getDocumentElement:kl,getClippingRect:_X,getOffsetParent:UO,getElementRects:EX,getClientRects:jX,getDimensions:PX,getScale:Gf,isElement:To,isRTL:TX};function HO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RX(e,t){let s=null,n;const i=kl(e);function a(){var l;clearTimeout(n),(l=s)==null||l.disconnect(),s=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||t(),!m||!f)return;const g=Gv(h),p=Gv(i.clientWidth-(u+m)),b=Gv(i.clientHeight-(h+f)),x=Gv(u),w={rootMargin:-g+"px "+-p+"px "+-b+"px "+-x+"px",threshold:fa(0,Yd(1,c))||1};let S=!0;function C(L){const R=L[0].intersectionRatio;if(R!==c){if(!S)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!HO(d,e.getBoundingClientRect())&&o(),S=!1}try{s=new IntersectionObserver(C,{...w,root:i.ownerDocument})}catch{s=new IntersectionObserver(C,w)}s.observe(e)}return o(!0),a}function LX(e,t,s,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=$C(e),u=i||a?[...d?_x(d):[],..._x(t)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",s,{passive:!0}),a&&x.addEventListener("resize",s)});const h=d&&l?RX(d,s):null;let m=-1,f=null;o&&(f=new ResizeObserver(x=>{let[y]=x;y&&y.target===d&&f&&(f.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),s()}),d&&!c&&f.observe(d),f.observe(t));let g,p=c?yh(e):null;c&&b();function b(){const x=yh(e);p&&!HO(p,x)&&s(),p=x,g=requestAnimationFrame(b)}return s(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",s),a&&y.removeEventListener("resize",s)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const DX=fX,OX=mX,IX=dX,FX=gX,BX=uX,$P=cX,zX=pX,VX=(e,t,s)=>{const n=new Map,i={platform:MX,...s},a={...i.platform,_c:n};return lX(e,t,{...i,platform:a})};var Gy=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Y1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;n--!==0;)if(!Y1(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=s;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Y1(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function qO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UP(e,t){const s=qO(e);return Math.round(t*s)/s}function Sj(e){const t=j.useRef(e);return Gy(()=>{t.current=e}),t}function $X(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=j.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[m,f]=j.useState(n);Y1(m,n)||f(n);const[g,p]=j.useState(null),[b,x]=j.useState(null),y=j.useCallback(P=>{P!==L.current&&(L.current=P,p(P))},[]),w=j.useCallback(P=>{P!==R.current&&(R.current=P,x(P))},[]),S=a||g,C=o||b,L=j.useRef(null),R=j.useRef(null),M=j.useRef(u),D=c!=null,$=Sj(c),E=Sj(i),T=Sj(d),q=j.useCallback(()=>{if(!L.current||!R.current)return;const P={placement:t,strategy:s,middleware:m};E.current&&(P.platform=E.current),VX(L.current,R.current,P).then(U=>{const xe={...U,isPositioned:T.current!==!1};B.current&&!Y1(M.current,xe)&&(M.current=xe,Rh.flushSync(()=>{h(xe)}))})},[m,t,s,E,T]);Gy(()=>{d===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[d]);const B=j.useRef(!1);Gy(()=>(B.current=!0,()=>{B.current=!1}),[]),Gy(()=>{if(S&&(L.current=S),C&&(R.current=C),S&&C){if($.current)return $.current(S,C,q);q()}},[S,C,q,$,D]);const te=j.useMemo(()=>({reference:L,floating:R,setReference:y,setFloating:w}),[y,w]),ie=j.useMemo(()=>({reference:S,floating:C}),[S,C]),G=j.useMemo(()=>{const P={position:s,left:0,top:0};if(!ie.floating)return P;const U=UP(ie.floating,u.x),xe=UP(ie.floating,u.y);return l?{...P,transform:"translate("+U+"px, "+xe+"px)",...qO(ie.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:xe}},[s,l,ie.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:q,refs:te,elements:ie,floatingStyles:G}),[u,q,te,ie,G])}const UX=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:n,padding:i}=typeof e=="function"?e(s):e;return n&&t(n)?n.current!=null?$P({element:n.current,padding:i}).fn(s):{}:n?$P({element:n,padding:i}).fn(s):{}}}},HX=(e,t)=>({...DX(e),options:[e,t]}),qX=(e,t)=>({...OX(e),options:[e,t]}),WX=(e,t)=>({...zX(e),options:[e,t]}),YX=(e,t)=>({...IX(e),options:[e,t]}),GX=(e,t)=>({...FX(e),options:[e,t]}),KX=(e,t)=>({...BX(e),options:[e,t]}),ZX=(e,t)=>({...UX(e),options:[e,t]});var XX="Arrow",WO=j.forwardRef((e,t)=>{const{children:s,width:n=10,height:i=5,...a}=e;return r.jsx(gt.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});WO.displayName=XX;var QX=WO;function m2(e){const[t,s]=j.useState(void 0);return sr(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;s({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else s(void 0)},[e]),t}var HC="Popper",[YO,ou]=hr(HC),[JX,GO]=YO(HC),KO=e=>{const{__scopePopper:t,children:s}=e,[n,i]=j.useState(null);return r.jsx(JX,{scope:t,anchor:n,onAnchorChange:i,children:s})};KO.displayName=HC;var ZO="PopperAnchor",XO=j.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:n,...i}=e,a=GO(ZO,s),o=j.useRef(null),l=Gt(t,o);return j.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:r.jsx(gt.div,{...i,ref:l})});XO.displayName=ZO;var qC="PopperContent",[eQ,tQ]=YO(qC),QO=j.forwardRef((e,t)=>{var ne,Ne,be,_e,Te,Ie;const{__scopePopper:s,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=e,b=GO(qC,s),[x,y]=j.useState(null),w=Gt(t,ye=>y(ye)),[S,C]=j.useState(null),L=m2(S),R=(L==null?void 0:L.width)??0,M=(L==null?void 0:L.height)??0,D=n+(a!=="center"?"-"+a:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},E=Array.isArray(d)?d:[d],T=E.length>0,q={padding:$,boundary:E.filter(nQ),altBoundary:T},{refs:B,floatingStyles:te,placement:ie,isPositioned:G,middlewareData:P}=$X({strategy:"fixed",placement:D,whileElementsMounted:(...ye)=>LX(...ye,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[HX({mainAxis:i+M,alignmentAxis:o}),c&&qX({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?WX():void 0,...q}),c&&YX({...q}),GX({...q,apply:({elements:ye,rects:ge,availableWidth:se,availableHeight:It})=>{const{width:Tt,height:St}=ge.reference,Ge=ye.floating.style;Ge.setProperty("--radix-popper-available-width",`${se}px`),Ge.setProperty("--radix-popper-available-height",`${It}px`),Ge.setProperty("--radix-popper-anchor-width",`${Tt}px`),Ge.setProperty("--radix-popper-anchor-height",`${St}px`)}}),S&&ZX({element:S,padding:l}),rQ({arrowWidth:R,arrowHeight:M}),m&&KX({strategy:"referenceHidden",...q})]}),[U,xe]=tI(ie),X=gn(g);sr(()=>{G&&(X==null||X())},[G,X]);const O=(ne=P.arrow)==null?void 0:ne.x,W=(Ne=P.arrow)==null?void 0:Ne.y,Z=((be=P.arrow)==null?void 0:be.centerOffset)!==0,[ce,ae]=j.useState();return sr(()=>{x&&ae(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:G?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(_e=P.transformOrigin)==null?void 0:_e.x,(Te=P.transformOrigin)==null?void 0:Te.y].join(" "),...((Ie=P.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(eQ,{scope:s,placedSide:U,onArrowChange:C,arrowX:O,arrowY:W,shouldHideArrow:Z,children:r.jsx(gt.div,{"data-side":U,"data-align":xe,...p,ref:w,style:{...p.style,animation:G?void 0:"none"}})})})});QO.displayName=qC;var JO="PopperArrow",sQ={top:"bottom",right:"left",bottom:"top",left:"right"},eI=j.forwardRef(function(t,s){const{__scopePopper:n,...i}=t,a=tQ(JO,n),o=sQ[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(QX,{...i,ref:s,style:{...i.style,display:"block"}})})});eI.displayName=JO;function nQ(e){return e!==null}var rQ=e=>({name:"transformOrigin",options:e,fn(t){var b,x,y;const{placement:s,rects:n,middlewareData:i}=t,o=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=tI(s),h={start:"0%",center:"50%",end:"100%"}[u],m=(((x=i.arrow)==null?void 0:x.x)??0)+l/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?h:`${m}px`,p=`${-c}px`):d==="top"?(g=o?h:`${m}px`,p=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?h:`${f}px`):d==="left"&&(g=`${n.floating.width+c}px`,p=o?h:`${f}px`),{data:{x:g,y:p}}}});function tI(e){const[t,s="center"]=e.split("-");return[t,s]}var p2=KO,N0=XO,g2=QO,x2=eI,[v2,fwe]=hr("Tooltip",[ou]),y2=ou(),sI="TooltipProvider",iQ=700,aS="tooltip.open",[aQ,WC]=v2(sI),nI=e=>{const{__scopeTooltip:t,delayDuration:s=iQ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),r.jsx(aQ,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};nI.displayName=sI;var b2="Tooltip",[oQ,w2]=v2(b2),rI=e=>{const{__scopeTooltip:t,children:s,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=WC(b2,e.__scopeTooltip),d=y2(t),[u,h]=j.useState(null),m=ba(),f=j.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,b=j.useRef(!1),[x=!1,y]=Sa({prop:n,defaultProp:i,onChange:R=>{R?(c.onOpen(),document.dispatchEvent(new CustomEvent(aS))):c.onClose(),a==null||a(R)}}),w=j.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),S=j.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b.current=!1,y(!0)},[y]),C=j.useCallback(()=>{window.clearTimeout(f.current),f.current=0,y(!1)},[y]),L=j.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{b.current=!0,y(!0),f.current=0},p)},[p,y]);return j.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),r.jsx(p2,{...d,children:r.jsx(oQ,{scope:t,contentId:m,open:x,stateAttribute:w,trigger:u,onTriggerChange:h,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?L():S()},[c.isOpenDelayedRef,L,S]),onTriggerLeave:j.useCallback(()=>{g?C():(window.clearTimeout(f.current),f.current=0)},[C,g]),onOpen:S,onClose:C,disableHoverableContent:g,children:s})})};rI.displayName=b2;var oS="TooltipTrigger",iI=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,i=w2(oS,s),a=WC(oS,s),o=y2(s),l=j.useRef(null),c=Gt(t,l,i.onTriggerChange),d=j.useRef(!1),u=j.useRef(!1),h=j.useCallback(()=>d.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),r.jsx(N0,{asChild:!0,...o,children:r.jsx(gt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Qe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Qe(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Qe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Qe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Qe(e.onBlur,i.onClose),onClick:Qe(e.onClick,i.onClose)})})});iI.displayName=oS;var lQ="TooltipPortal",[mwe,cQ]=v2(lQ,{forceMount:void 0}),Lm="TooltipContent",aI=j.forwardRef((e,t)=>{const s=cQ(Lm,e.__scopeTooltip),{forceMount:n=s.forceMount,side:i="top",...a}=e,o=w2(Lm,e.__scopeTooltip);return r.jsx(fr,{present:n||o.open,children:o.disableHoverableContent?r.jsx(oI,{side:i,...a,ref:t}):r.jsx(dQ,{side:i,...a,ref:t})})}),dQ=j.forwardRef((e,t)=>{const s=w2(Lm,e.__scopeTooltip),n=WC(Lm,e.__scopeTooltip),i=j.useRef(null),a=Gt(t,i),[o,l]=j.useState(null),{trigger:c,onClose:d}=s,u=i.current,{onPointerInTransitChange:h}=n,m=j.useCallback(()=>{l(null),h(!1)},[h]),f=j.useCallback((g,p)=>{const b=g.currentTarget,x={x:g.clientX,y:g.clientY},y=pQ(x,b.getBoundingClientRect()),w=gQ(x,y),S=xQ(p.getBoundingClientRect()),C=yQ([...w,...S]);l(C),h(!0)},[h]);return j.useEffect(()=>()=>m(),[m]),j.useEffect(()=>{if(c&&u){const g=b=>f(b,u),p=b=>f(b,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,f,m]),j.useEffect(()=>{if(o){const g=p=>{const b=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(b))||(u==null?void 0:u.contains(b)),w=!vQ(x,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,m]),r.jsx(oI,{...e,ref:a})}),[uQ,hQ]=v2(b2,{isInside:!1}),fQ=$D("TooltipContent"),oI=j.forwardRef((e,t)=>{const{__scopeTooltip:s,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=w2(Lm,s),d=y2(s),{onClose:u}=c;return j.useEffect(()=>(document.addEventListener(aS,u),()=>document.removeEventListener(aS,u)),[u]),j.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),r.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:r.jsxs(g2,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(fQ,{children:n}),r.jsx(uQ,{scope:s,isInside:!0,children:r.jsx(jK,{id:c.contentId,role:"tooltip",children:i||n})})]})})});aI.displayName=Lm;var lI="TooltipArrow",mQ=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...n}=e,i=y2(s);return hQ(lI,s).isInside?null:r.jsx(x2,{...i,...n,ref:t})});mQ.displayName=lI;function pQ(e,t){const s=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,n,i,a)){case a:return"left";case i:return"right";case s:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gQ(e,t,s=5){const n=[];switch(t){case"top":n.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":n.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":n.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":n.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return n}function xQ(e){const{top:t,right:s,bottom:n,left:i}=e;return[{x:i,y:t},{x:s,y:t},{x:s,y:n},{x:i,y:n}]}function vQ(e,t){const{x:s,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>n!=u>n&&s<(d-l)*(n-c)/(u-c)+l&&(i=!i)}return i}function yQ(e){const t=e.slice();return t.sort((s,n)=>s.x<n.x?-1:s.x>n.x?1:s.y<n.y?-1:s.y>n.y?1:0),bQ(t)}function bQ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var wQ=nI,jQ=rI,NQ=iI,cI=aI;const dI=wQ,SQ=jQ,CQ=NQ,uI=j.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx(cI,{ref:n,sideOffset:t,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));uI.displayName=cI.displayName;const hI=j.createContext(void 0);function kQ({children:e}){var w;const{toast:t}=us(),[s,n]=j.useState(!1),i=S=>{var C;return S?{...S,items:((C=S.items)==null?void 0:C.map(L=>({...L,basePrice:L.basePrice,addOnsPrice:L.addOnsPrice,subtotal:L.subtotal})))||[]}:null},{data:a,isLoading:o}=Ds({queryKey:["/api/cart"],retry:1,staleTime:3e4}),l=i(a||null),c=((w=l==null?void 0:l.items)==null?void 0:w.length)||0;j.useEffect(()=>{console.log(" Cart state updated:"),console.log("  - Items count:",c),console.log("  - Cart object:",l),console.log("  - Is loading:",o)},[l,c,o]);const d=os({mutationFn:async S=>{var M;console.log(" Adding item to cart via API (raw):",S);const C={...S,cartId:l==null?void 0:l.id,serviceType:S.serviceId,scheduledDate:S.scheduledDate,duration:parseInt(((M=S.duration)==null?void 0:M.toString().replace(/[^\d]/g,""))||"2")};console.log(" Transformed item for API:",C);const R=await(await pn("POST","/api/cart/items",C)).json();return console.log(" Item added successfully, API response:",R),R},onSuccess:S=>{console.log(" Add to cart mutation successful"),ha.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Added to cart",description:"Service added to your booking cart"})},onError:S=>{console.error(" Add to cart mutation failed:",S),t({title:"Error",description:S.message||"Failed to add service to cart",variant:"destructive"})}}),u=os({mutationFn:async({itemId:S,updates:C})=>(await pn("PATCH",`/api/cart/items/${S}`,C)).json(),onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Updated",description:"Cart item updated successfully"})},onError:S=>{t({title:"Error",description:S.message||"Failed to update cart item",variant:"destructive"})}}),h=os({mutationFn:async S=>(await pn("DELETE",`/api/cart/items/${S}`)).json(),onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Removed",description:"Service removed from cart"})},onError:S=>{t({title:"Error",description:S.message||"Failed to remove item",variant:"destructive"})}}),m=os({mutationFn:async()=>(await pn("DELETE","/api/cart")).json(),onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/cart"]}),t({title:"Cart cleared",description:"All items removed from cart"})},onError:S=>{t({title:"Error",description:S.message||"Failed to clear cart",variant:"destructive"})}}),f=os({mutationFn:async S=>(await(await pn("POST","/api/cart/checkout",S)).json()).order,onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/cart"]}),ha.invalidateQueries({queryKey:["/api/orders"]})}}),g=async S=>{await d.mutateAsync(S)},p=async(S,C)=>{await u.mutateAsync({itemId:S,updates:C})},b=async S=>{await h.mutateAsync(S)},x=async()=>{await m.mutateAsync()},y=async S=>{n(!0);try{const C=await f.mutateAsync(S);return t({title:"Order confirmed!",description:"Your booking has been confirmed successfully"}),C}catch(C){return t({title:"Checkout failed",description:C.message||"Failed to complete checkout",variant:"destructive"}),null}finally{n(!1)}};return j.useEffect(()=>{l&&localStorage.setItem("berry_cart_cache",JSON.stringify({timestamp:Date.now(),cart:l}))},[l]),r.jsx(hI.Provider,{value:{cart:l||null,itemCount:c,isLoading:o,addToCart:g,updateCartItem:p,removeFromCart:b,clearCart:x,checkout:y,isCheckingOut:s},children:e})}function up(){const e=j.useContext(hI);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e}class _Q{constructor(){this.accessToken=null,this.refreshToken=null,typeof window<"u"&&(this.accessToken=localStorage.getItem("accessToken"),this.refreshToken=localStorage.getItem("refreshToken"))}async login(t){try{const n=await(await pn("POST","/api/auth/login",t)).json();return this.accessToken=n.accessToken,this.refreshToken=n.refreshToken||null,localStorage.setItem("accessToken",n.accessToken),n.refreshToken&&localStorage.setItem("refreshToken",n.refreshToken),n}catch(s){throw console.error("Login error:",s),s}}async register(t){try{const n=await(await pn("POST","/api/auth/register",t)).json();return this.accessToken=n.accessToken,this.refreshToken=n.refreshToken||null,localStorage.setItem("accessToken",n.accessToken),n.refreshToken&&localStorage.setItem("refreshToken",n.refreshToken),n}catch(s){throw console.error("Registration error:",s),s}}async getCurrentUser(){try{if(typeof window<"u"&&(this.accessToken=localStorage.getItem("accessToken"),this.refreshToken=localStorage.getItem("refreshToken")),!this.accessToken)return null;const t=await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(t.status===401||t.status===403)return this.refreshToken&&await this.refreshAccessToken()?this.getCurrentUser():(this.clearTokens(),null);if(!t.ok)throw new Error("Failed to get current user");return await t.json()}catch(t){return console.error("Get current user error:",t),this.clearTokens(),null}}async updateProfile(t){try{if(!this.accessToken)throw new Error("No access token");const s=await fetch("/api/user/profile",{method:"PUT",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(s.status===401){if(this.refreshToken&&await this.refreshAccessToken())return this.updateProfile(t);throw this.clearTokens(),new Error("Authentication required")}if(!s.ok)throw new Error("Failed to update profile");return(await s.json()).user}catch(s){throw console.error("Update profile error:",s),s}}async logout(){try{this.accessToken&&await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}})}catch(t){console.error("Logout error:",t)}finally{this.clearTokens()}}async refreshAccessToken(){try{if(!this.refreshToken)return!1;const t=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:this.refreshToken})});if(!t.ok)return!1;const s=await t.json();return this.accessToken=s.accessToken,localStorage.setItem("accessToken",s.accessToken),!0}catch(t){return console.error("Refresh token error:",t),!1}}clearTokens(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}isAuthenticated(){return!!this.accessToken}getAccessToken(){return this.accessToken}}const Ha=new _Q,fI=j.createContext(void 0);function PQ({children:e}){const t=Ja(),[s,n]=j.useState(!1),{data:i,isLoading:a,refetch:o}=Ds({queryKey:["auth","user"],queryFn:async()=>{const h=await Ha.getCurrentUser();return n(!0),h},retry:!1,staleTime:5*60*1e3}),l=os({mutationFn:async({email:h,password:m})=>await Ha.login({email:h,password:m}),onSuccess:()=>{t.invalidateQueries({queryKey:["auth"]}),o()}}),c=os({mutationFn:async h=>await Ha.register(h),onSuccess:()=>{t.invalidateQueries({queryKey:["auth"]}),o()}}),d=os({mutationFn:async()=>{await Ha.logout()},onSuccess:()=>{t.invalidateQueries({queryKey:["auth"]}),t.clear(),o()}}),u={user:i||null,isLoading:a||!s,isAuthenticated:!!i,login:async(h,m)=>{await l.mutateAsync({email:h,password:m})},register:async h=>{await c.mutateAsync(h)},logout:async()=>{await d.mutateAsync()},refreshUser:()=>{o()}};return r.jsx(fI.Provider,{value:u,children:e})}function S0(){const e=j.useContext(fI);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const mI=j.createContext(void 0);function AQ({children:e}){const t="light",s="light";j.useEffect(()=>{document.documentElement.classList.remove("dark"),localStorage.setItem("berry-events-theme","light")},[]);const n=i=>{console.log("Theme is locked to light mode")};return r.jsx(mI.Provider,{value:{theme:t,setTheme:n,actualTheme:s},children:e})}function EQ(){const e=j.useContext(mI);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e}const Px=ip("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=j.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...i},a)=>{const o=n?zD:"button";return r.jsx(o,{className:tt(Px({variant:t,size:s,className:e})),ref:a,...i})});K.displayName="Button";var TQ=j.createContext(void 0);function hp(e){const t=j.useContext(TQ);return e||t||"ltr"}var Cj=0;function j2(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??HP()),document.body.insertAdjacentElement("beforeend",e[1]??HP()),Cj++,()=>{Cj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cj--}},[])}function HP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kj="focusScope.autoFocusOnMount",_j="focusScope.autoFocusOnUnmount",qP={bubbles:!1,cancelable:!0},MQ="FocusScope",C0=j.forwardRef((e,t)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),d=gn(i),u=gn(a),h=j.useRef(null),m=Gt(t,p=>c(p)),f=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let p=function(w){if(f.paused||!l)return;const S=w.target;l.contains(S)?h.current=S:Zc(h.current,{select:!0})},b=function(w){if(f.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Zc(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&Zc(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,f.paused]),j.useEffect(()=>{if(l){YP.add(f);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(kj,qP);l.addEventListener(kj,d),l.dispatchEvent(x),x.defaultPrevented||(RQ(FQ(pI(l)),{select:!0}),document.activeElement===p&&Zc(l))}return()=>{l.removeEventListener(kj,d),setTimeout(()=>{const x=new CustomEvent(_j,qP);l.addEventListener(_j,u),l.dispatchEvent(x),x.defaultPrevented||Zc(p??document.body,{select:!0}),l.removeEventListener(_j,u),YP.remove(f)},0)}}},[l,d,u,f]);const g=j.useCallback(p=>{if(!s&&!n||f.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const y=p.currentTarget,[w,S]=LQ(y);w&&S?!p.shiftKey&&x===S?(p.preventDefault(),s&&Zc(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),s&&Zc(S,{select:!0})):x===y&&p.preventDefault()}},[s,n,f.paused]);return r.jsx(gt.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});C0.displayName=MQ;function RQ(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(Zc(n,{select:t}),document.activeElement!==s)return}function LQ(e){const t=pI(e),s=WP(t,e),n=WP(t.reverse(),e);return[s,n]}function pI(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function WP(e,t){for(const s of e)if(!DQ(s,{upTo:t}))return s}function DQ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function OQ(e){return e instanceof HTMLInputElement&&"select"in e}function Zc(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&OQ(e)&&t&&e.select()}}var YP=IQ();function IQ(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=GP(e,t),e.unshift(t)},remove(t){var s;e=GP(e,t),(s=e[0])==null||s.resume()}}}function GP(e,t){const s=[...e],n=s.indexOf(t);return n!==-1&&s.splice(n,1),s}function FQ(e){return e.filter(t=>t.tagName!=="A")}var Pj="rovingFocusGroup.onEntryFocus",BQ={bubbles:!1,cancelable:!0},N2="RovingFocusGroup",[lS,gI,zQ]=n2(N2),[VQ,fp]=hr(N2,[zQ]),[$Q,UQ]=VQ(N2),xI=j.forwardRef((e,t)=>r.jsx(lS.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(lS.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(HQ,{...e,ref:t})})}));xI.displayName=N2;var HQ=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=j.useRef(null),f=Gt(t,m),g=hp(a),[p=null,b]=Sa({prop:o,defaultProp:l,onChange:c}),[x,y]=j.useState(!1),w=gn(d),S=gI(s),C=j.useRef(!1),[L,R]=j.useState(0);return j.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(Pj,w),()=>M.removeEventListener(Pj,w)},[w]),r.jsx($Q,{scope:s,orientation:n,dir:g,loop:i,currentTabStopId:p,onItemFocus:j.useCallback(M=>b(M),[b]),onItemShiftTab:j.useCallback(()=>y(!0),[]),onFocusableItemAdd:j.useCallback(()=>R(M=>M+1),[]),onFocusableItemRemove:j.useCallback(()=>R(M=>M-1),[]),children:r.jsx(gt.div,{tabIndex:x||L===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{C.current=!0}),onFocus:Qe(e.onFocus,M=>{const D=!C.current;if(M.target===M.currentTarget&&D&&!x){const $=new CustomEvent(Pj,BQ);if(M.currentTarget.dispatchEvent($),!$.defaultPrevented){const E=S().filter(ie=>ie.focusable),T=E.find(ie=>ie.active),q=E.find(ie=>ie.id===p),te=[T,q,...E].filter(Boolean).map(ie=>ie.ref.current);bI(te,u)}}C.current=!1}),onBlur:Qe(e.onBlur,()=>y(!1))})})}),vI="RovingFocusGroupItem",yI=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:i=!1,tabStopId:a,...o}=e,l=ba(),c=a||l,d=UQ(vI,s),u=d.currentTabStopId===c,h=gI(s),{onFocusableItemAdd:m,onFocusableItemRemove:f}=d;return j.useEffect(()=>{if(n)return m(),()=>f()},[n,m,f]),r.jsx(lS.ItemSlot,{scope:s,id:c,focusable:n,active:i,children:r.jsx(gt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Qe(e.onMouseDown,g=>{n?d.onItemFocus(c):g.preventDefault()}),onFocus:Qe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Qe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){d.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=YQ(g,d.orientation,d.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=d.loop?GQ(x,y+1):x.slice(y+1)}setTimeout(()=>bI(x))}})})})});yI.displayName=vI;var qQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YQ(e,t,s){const n=WQ(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return qQ[n]}function bI(e,t=!1){const s=document.activeElement;for(const n of e)if(n===s||(n.focus({preventScroll:t}),document.activeElement!==s))return}function GQ(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var YC=xI,GC=yI,KQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},af=new WeakMap,Kv=new WeakMap,Zv={},Aj=0,wI=function(e){return e&&(e.host||wI(e.parentNode))},ZQ=function(e,t){return t.map(function(s){if(e.contains(s))return s;var n=wI(s);return n&&e.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},XQ=function(e,t,s,n){var i=ZQ(t,Array.isArray(e)?e:[e]);Zv[s]||(Zv[s]=new WeakMap);var a=Zv[s],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(n),g=f!==null&&f!=="false",p=(af.get(m)||0)+1,b=(a.get(m)||0)+1;af.set(m,p),a.set(m,b),o.push(m),p===1&&g&&Kv.set(m,!0),b===1&&m.setAttribute(s,"true"),g||m.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return u(t),l.clear(),Aj++,function(){o.forEach(function(h){var m=af.get(h)-1,f=a.get(h)-1;af.set(h,m),a.set(h,f),m||(Kv.has(h)||h.removeAttribute(n),Kv.delete(h)),f||h.removeAttribute(s)}),Aj--,Aj||(af=new WeakMap,af=new WeakMap,Kv=new WeakMap,Zv={})}},S2=function(e,t,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=KQ(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),XQ(n,i,s,"aria-hidden")):function(){return null}},cl=function(){return cl=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},cl.apply(this,arguments)};function jI(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function QQ(e,t,s){if(s||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Ky="right-scroll-bar-position",Zy="width-before-scroll-bar",JQ="with-scroll-bars-hidden",eJ="--removed-body-scroll-bar-size";function Ej(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tJ(e,t){var s=j.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(n){var i=s.value;i!==n&&(s.value=n,s.callback(n,i))}}}})[0];return s.callback=t,s.facade}var sJ=typeof window<"u"?j.useLayoutEffect:j.useEffect,KP=new WeakMap;function nJ(e,t){var s=tJ(null,function(n){return e.forEach(function(i){return Ej(i,n)})});return sJ(function(){var n=KP.get(s);if(n){var i=new Set(n),a=new Set(e),o=s.current;i.forEach(function(l){a.has(l)||Ej(l,null)}),a.forEach(function(l){i.has(l)||Ej(l,o)})}KP.set(s,e)},[e]),s}function rJ(e){return e}function iJ(e,t){t===void 0&&(t=rJ);var s=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var o=t(a,n);return s.push(o),function(){s=s.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(l){return a(l)},filter:function(){return s}}},assignMedium:function(a){n=!0;var o=[];if(s.length){var l=s;s=[],l.forEach(a),o=s}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),s}}}};return i}function aJ(e){e===void 0&&(e={});var t=iJ(null);return t.options=cl({async:!0,ssr:!1},e),t}var NI=function(e){var t=e.sideCar,s=jI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,cl({},s))};NI.isSideCarExport=!0;function oJ(e,t){return e.useMedium(t),NI}var SI=aJ(),Tj=function(){},C2=j.forwardRef(function(e,t){var s=j.useRef(null),n=j.useState({onScrollCapture:Tj,onWheelCapture:Tj,onTouchMoveCapture:Tj}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,f=e.noIsolation,g=e.inert,p=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,y=e.gapMode,w=jI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,C=nJ([s,t]),L=cl(cl({},w),i);return j.createElement(j.Fragment,null,u&&j.createElement(S,{sideCar:SI,removeScrollBar:d,shards:h,noIsolation:f,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:s,gapMode:y}),o?j.cloneElement(j.Children.only(l),cl(cl({},L),{ref:C})):j.createElement(x,cl({},L,{className:c,ref:C}),l))});C2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};C2.classNames={fullWidth:Zy,zeroRight:Ky};var lJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cJ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lJ();return t&&e.setAttribute("nonce",t),e}function dJ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uJ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var hJ=function(){var e=0,t=null;return{add:function(s){e==0&&(t=cJ())&&(dJ(t,s),uJ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fJ=function(){var e=hJ();return function(t,s){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},CI=function(){var e=fJ(),t=function(s){var n=s.styles,i=s.dynamic;return e(n,i),null};return t},mJ={left:0,top:0,right:0,gap:0},Mj=function(e){return parseInt(e||"",10)||0},pJ=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Mj(s),Mj(n),Mj(i)]},gJ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mJ;var t=pJ(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},xJ=CI(),Kf="data-scroll-locked",vJ=function(e,t,s,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(JQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Kf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ky,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ky," .").concat(Ky,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Kf,`] {
    `).concat(eJ,": ").concat(l,`px;
  }
`)},ZP=function(){var e=parseInt(document.body.getAttribute(Kf)||"0",10);return isFinite(e)?e:0},yJ=function(){j.useEffect(function(){return document.body.setAttribute(Kf,(ZP()+1).toString()),function(){var e=ZP()-1;e<=0?document.body.removeAttribute(Kf):document.body.setAttribute(Kf,e.toString())}},[])},bJ=function(e){var t=e.noRelative,s=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;yJ();var a=j.useMemo(function(){return gJ(i)},[i]);return j.createElement(xJ,{styles:vJ(a,!t,i,s?"":"!important")})},cS=!1;if(typeof window<"u")try{var Xv=Object.defineProperty({},"passive",{get:function(){return cS=!0,!0}});window.addEventListener("test",Xv,Xv),window.removeEventListener("test",Xv,Xv)}catch{cS=!1}var of=cS?{passive:!1}:!1,wJ=function(e){return e.tagName==="TEXTAREA"},kI=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!wJ(e)&&s[t]==="visible")},jJ=function(e){return kI(e,"overflowY")},NJ=function(e){return kI(e,"overflowX")},XP=function(e,t){var s=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=_I(e,n);if(i){var a=PI(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},SJ=function(e){var t=e.scrollTop,s=e.scrollHeight,n=e.clientHeight;return[t,s,n]},CJ=function(e){var t=e.scrollLeft,s=e.scrollWidth,n=e.clientWidth;return[t,s,n]},_I=function(e,t){return e==="v"?jJ(t):NJ(t)},PI=function(e,t){return e==="v"?SJ(t):CJ(t)},kJ=function(e,t){return e==="h"&&t==="rtl"?-1:1},_J=function(e,t,s,n,i){var a=kJ(e,window.getComputedStyle(t).direction),o=a*n,l=s.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{var f=PI(e,l),g=f[0],p=f[1],b=f[2],x=p-b-a*g;(g||x)&&_I(e,l)&&(h+=x,m+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(m)<1||!i))&&(d=!0),d},Qv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},QP=function(e){return[e.deltaX,e.deltaY]},JP=function(e){return e&&"current"in e?e.current:e},PJ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AJ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EJ=0,lf=[];function TJ(e){var t=j.useRef([]),s=j.useRef([0,0]),n=j.useRef(),i=j.useState(EJ++)[0],a=j.useState(CI)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=QQ([e.lockRef.current],(e.shards||[]).map(JP),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Qv(p),y=s.current,w="deltaX"in p?p.deltaX:y[0]-x[0],S="deltaY"in p?p.deltaY:y[1]-x[1],C,L=p.target,R=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&R==="h"&&L.type==="range")return!1;var M=XP(R,L);if(!M)return!0;if(M?C=R:(C=R==="v"?"h":"v",M=XP(R,L)),!M)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=C),!C)return!0;var D=n.current||C;return _J(D,b,p,D==="h"?w:S,!0)},[]),c=j.useCallback(function(p){var b=p;if(!(!lf.length||lf[lf.length-1]!==a)){var x="deltaY"in b?QP(b):Qv(b),y=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&PJ(C.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(JP).filter(Boolean).filter(function(C){return C.contains(b.target)}),S=w.length>0?l(b,w[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),d=j.useCallback(function(p,b,x,y){var w={name:p,delta:b,target:x,should:y,shadowParent:MJ(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),u=j.useCallback(function(p){s.current=Qv(p),n.current=void 0},[]),h=j.useCallback(function(p){d(p.type,QP(p),p.target,l(p,e.lockRef.current))},[]),m=j.useCallback(function(p){d(p.type,Qv(p),p.target,l(p,e.lockRef.current))},[]);j.useEffect(function(){return lf.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,of),document.addEventListener("touchmove",c,of),document.addEventListener("touchstart",u,of),function(){lf=lf.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,of),document.removeEventListener("touchmove",c,of),document.removeEventListener("touchstart",u,of)}},[]);var f=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(a,{styles:AJ(i)}):null,f?j.createElement(bJ,{gapMode:e.gapMode}):null)}function MJ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const RJ=oJ(SI,TJ);var k0=j.forwardRef(function(e,t){return j.createElement(C2,cl({},e,{ref:t,sideCar:RJ}))});k0.classNames=C2.classNames;var dS=["Enter"," "],LJ=["ArrowDown","PageUp","Home"],AI=["ArrowUp","PageDown","End"],DJ=[...LJ,...AI],OJ={ltr:[...dS,"ArrowRight"],rtl:[...dS,"ArrowLeft"]},IJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_0="Menu",[Ax,FJ,BJ]=n2(_0),[Dh,EI]=hr(_0,[BJ,ou,fp]),k2=ou(),TI=fp(),[zJ,Oh]=Dh(_0),[VJ,P0]=Dh(_0),MI=e=>{const{__scopeMenu:t,open:s=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,l=k2(t),[c,d]=j.useState(null),u=j.useRef(!1),h=gn(a),m=hp(i);return j.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),r.jsx(p2,{...l,children:r.jsx(zJ,{scope:t,open:s,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(VJ,{scope:t,onClose:j.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};MI.displayName=_0;var $J="MenuAnchor",KC=j.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,i=k2(s);return r.jsx(N0,{...i,...n,ref:t})});KC.displayName=$J;var ZC="MenuPortal",[UJ,RI]=Dh(ZC,{forceMount:void 0}),LI=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:i}=e,a=Oh(ZC,t);return r.jsx(UJ,{scope:t,forceMount:s,children:r.jsx(fr,{present:s||a.open,children:r.jsx(rp,{asChild:!0,container:i,children:n})})})};LI.displayName=ZC;var Ga="MenuContent",[HJ,XC]=Dh(Ga),DI=j.forwardRef((e,t)=>{const s=RI(Ga,e.__scopeMenu),{forceMount:n=s.forceMount,...i}=e,a=Oh(Ga,e.__scopeMenu),o=P0(Ga,e.__scopeMenu);return r.jsx(Ax.Provider,{scope:e.__scopeMenu,children:r.jsx(fr,{present:n||a.open,children:r.jsx(Ax.Slot,{scope:e.__scopeMenu,children:o.modal?r.jsx(qJ,{...i,ref:t}):r.jsx(WJ,{...i,ref:t})})})})}),qJ=j.forwardRef((e,t)=>{const s=Oh(Ga,e.__scopeMenu),n=j.useRef(null),i=Gt(t,n);return j.useEffect(()=>{const a=n.current;if(a)return S2(a)},[]),r.jsx(QC,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Qe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),WJ=j.forwardRef((e,t)=>{const s=Oh(Ga,e.__scopeMenu);return r.jsx(QC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),YJ=qd("MenuContent.ScrollLock"),QC=j.forwardRef((e,t)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:g,...p}=e,b=Oh(Ga,s),x=P0(Ga,s),y=k2(s),w=TI(s),S=FJ(s),[C,L]=j.useState(null),R=j.useRef(null),M=Gt(t,R,b.onContentChange),D=j.useRef(0),$=j.useRef(""),E=j.useRef(0),T=j.useRef(null),q=j.useRef("right"),B=j.useRef(0),te=g?k0:j.Fragment,ie=g?{as:YJ,allowPinchZoom:!0}:void 0,G=U=>{var ne,Ne;const xe=$.current+U,X=S().filter(be=>!be.disabled),O=document.activeElement,W=(ne=X.find(be=>be.ref.current===O))==null?void 0:ne.textValue,Z=X.map(be=>be.textValue),ce=iee(Z,xe,W),ae=(Ne=X.find(be=>be.textValue===ce))==null?void 0:Ne.ref.current;(function be(_e){$.current=_e,window.clearTimeout(D.current),_e!==""&&(D.current=window.setTimeout(()=>be(""),1e3))})(xe),ae&&setTimeout(()=>ae.focus())};j.useEffect(()=>()=>window.clearTimeout(D.current),[]),j2();const P=j.useCallback(U=>{var X,O;return q.current===((X=T.current)==null?void 0:X.side)&&oee(U,(O=T.current)==null?void 0:O.area)},[]);return r.jsx(HJ,{scope:s,searchRef:$,onItemEnter:j.useCallback(U=>{P(U)&&U.preventDefault()},[P]),onItemLeave:j.useCallback(U=>{var xe;P(U)||((xe=R.current)==null||xe.focus(),L(null))},[P]),onTriggerLeave:j.useCallback(U=>{P(U)&&U.preventDefault()},[P]),pointerGraceTimerRef:E,onPointerGraceIntentChange:j.useCallback(U=>{T.current=U},[]),children:r.jsx(te,{...ie,children:r.jsx(C0,{asChild:!0,trapped:i,onMountAutoFocus:Qe(a,U=>{var xe;U.preventDefault(),(xe=R.current)==null||xe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:r.jsx(YC,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:L,onEntryFocus:Qe(c,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(g2,{role:"menu","aria-orientation":"vertical","data-state":XI(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:M,style:{outline:"none",...p.style},onKeyDown:Qe(p.onKeyDown,U=>{const X=U.target.closest("[data-radix-menu-content]")===U.currentTarget,O=U.ctrlKey||U.altKey||U.metaKey,W=U.key.length===1;X&&(U.key==="Tab"&&U.preventDefault(),!O&&W&&G(U.key));const Z=R.current;if(U.target!==Z||!DJ.includes(U.key))return;U.preventDefault();const ae=S().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);AI.includes(U.key)&&ae.reverse(),nee(ae)}),onBlur:Qe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(D.current),$.current="")}),onPointerMove:Qe(e.onPointerMove,Ex(U=>{const xe=U.target,X=B.current!==U.clientX;if(U.currentTarget.contains(xe)&&X){const O=U.clientX>B.current?"right":"left";q.current=O,B.current=U.clientX}}))})})})})})})});DI.displayName=Ga;var GJ="MenuGroup",JC=j.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(gt.div,{role:"group",...n,ref:t})});JC.displayName=GJ;var KJ="MenuLabel",OI=j.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(gt.div,{...n,ref:t})});OI.displayName=KJ;var G1="MenuItem",eA="menu.itemSelect",_2=j.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:n,...i}=e,a=j.useRef(null),o=P0(G1,e.__scopeMenu),l=XC(G1,e.__scopeMenu),c=Gt(t,a),d=j.useRef(!1),u=()=>{const h=a.current;if(!s&&h){const m=new CustomEvent(eA,{bubbles:!0,cancelable:!0});h.addEventListener(eA,f=>n==null?void 0:n(f),{once:!0}),wC(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(II,{...i,ref:c,disabled:s,onClick:Qe(e.onClick,u),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:Qe(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Qe(e.onKeyDown,h=>{const m=l.searchRef.current!=="";s||m&&h.key===" "||dS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});_2.displayName=G1;var II=j.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:n=!1,textValue:i,...a}=e,o=XC(G1,s),l=TI(s),c=j.useRef(null),d=Gt(t,c),[u,h]=j.useState(!1),[m,f]=j.useState("");return j.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[a.children]),r.jsx(Ax.ItemSlot,{scope:s,disabled:n,textValue:i??m,children:r.jsx(GC,{asChild:!0,...l,focusable:!n,children:r.jsx(gt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Qe(e.onPointerMove,Ex(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(e.onPointerLeave,Ex(g=>o.onItemLeave(g))),onFocus:Qe(e.onFocus,()=>h(!0)),onBlur:Qe(e.onBlur,()=>h(!1))})})})}),ZJ="MenuCheckboxItem",FI=j.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...i}=e;return r.jsx(UI,{scope:e.__scopeMenu,checked:s,children:r.jsx(_2,{role:"menuitemcheckbox","aria-checked":K1(s)?"mixed":s,...i,ref:t,"data-state":tk(s),onSelect:Qe(i.onSelect,()=>n==null?void 0:n(K1(s)?!0:!s),{checkForDefaultPrevented:!1})})})});FI.displayName=ZJ;var BI="MenuRadioGroup",[XJ,QJ]=Dh(BI,{value:void 0,onValueChange:()=>{}}),zI=j.forwardRef((e,t)=>{const{value:s,onValueChange:n,...i}=e,a=gn(n);return r.jsx(XJ,{scope:e.__scopeMenu,value:s,onValueChange:a,children:r.jsx(JC,{...i,ref:t})})});zI.displayName=BI;var VI="MenuRadioItem",$I=j.forwardRef((e,t)=>{const{value:s,...n}=e,i=QJ(VI,e.__scopeMenu),a=s===i.value;return r.jsx(UI,{scope:e.__scopeMenu,checked:a,children:r.jsx(_2,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":tk(a),onSelect:Qe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});$I.displayName=VI;var ek="MenuItemIndicator",[UI,JJ]=Dh(ek,{checked:!1}),HI=j.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...i}=e,a=JJ(ek,s);return r.jsx(fr,{present:n||K1(a.checked)||a.checked===!0,children:r.jsx(gt.span,{...i,ref:t,"data-state":tk(a.checked)})})});HI.displayName=ek;var eee="MenuSeparator",qI=j.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return r.jsx(gt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});qI.displayName=eee;var tee="MenuArrow",WI=j.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,i=k2(s);return r.jsx(x2,{...i,...n,ref:t})});WI.displayName=tee;var see="MenuSub",[pwe,YI]=Dh(see),Sg="MenuSubTrigger",GI=j.forwardRef((e,t)=>{const s=Oh(Sg,e.__scopeMenu),n=P0(Sg,e.__scopeMenu),i=YI(Sg,e.__scopeMenu),a=XC(Sg,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},u=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>u,[u]),j.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(KC,{asChild:!0,...d,children:r.jsx(II,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":XI(s.open),...e,ref:np(t,i.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Qe(e.onPointerMove,Ex(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:Qe(e.onPointerLeave,Ex(h=>{var f,g;u();const m=(f=s.content)==null?void 0:f.getBoundingClientRect();if(m){const p=(g=s.content)==null?void 0:g.dataset.side,b=p==="right",x=b?-5:5,y=m[b?"left":"right"],w=m[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(e.onKeyDown,h=>{var f;const m=a.searchRef.current!=="";e.disabled||m&&h.key===" "||OJ[n.dir].includes(h.key)&&(s.onOpenChange(!0),(f=s.content)==null||f.focus(),h.preventDefault())})})})});GI.displayName=Sg;var KI="MenuSubContent",ZI=j.forwardRef((e,t)=>{const s=RI(Ga,e.__scopeMenu),{forceMount:n=s.forceMount,...i}=e,a=Oh(Ga,e.__scopeMenu),o=P0(Ga,e.__scopeMenu),l=YI(KI,e.__scopeMenu),c=j.useRef(null),d=Gt(t,c);return r.jsx(Ax.Provider,{scope:e.__scopeMenu,children:r.jsx(fr,{present:n||a.open,children:r.jsx(Ax.Slot,{scope:e.__scopeMenu,children:r.jsx(QC,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Qe(e.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Qe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Qe(e.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),m=IJ[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});ZI.displayName=KI;function XI(e){return e?"open":"closed"}function K1(e){return e==="indeterminate"}function tk(e){return K1(e)?"indeterminate":e?"checked":"unchecked"}function nee(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function ree(e,t){return e.map((s,n)=>e[(t+n)%e.length])}function iee(e,t,s){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=ree(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function aee(e,t){const{x:s,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,d=t[o].x,u=t[o].y;c>n!=u>n&&s<(d-l)*(n-c)/(u-c)+l&&(i=!i)}return i}function oee(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return aee(s,t)}function Ex(e){return t=>t.pointerType==="mouse"?e(t):void 0}var lee=MI,cee=KC,dee=LI,uee=DI,hee=JC,fee=OI,mee=_2,pee=FI,gee=zI,xee=$I,vee=HI,yee=qI,bee=WI,wee=GI,jee=ZI,sk="DropdownMenu",[Nee,gwe]=hr(sk,[EI]),Ai=EI(),[See,QI]=Nee(sk),JI=e=>{const{__scopeDropdownMenu:t,children:s,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Ai(t),d=j.useRef(null),[u=!1,h]=Sa({prop:i,defaultProp:a,onChange:o});return r.jsx(See,{scope:t,triggerId:ba(),triggerRef:d,contentId:ba(),open:u,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(m=>!m),[h]),modal:l,children:r.jsx(lee,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:s})})};JI.displayName=sk;var e7="DropdownMenuTrigger",t7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...i}=e,a=QI(e7,s),o=Ai(s);return r.jsx(cee,{asChild:!0,...o,children:r.jsx(gt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:np(t,a.triggerRef),onPointerDown:Qe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Qe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});t7.displayName=e7;var Cee="DropdownMenuPortal",s7=e=>{const{__scopeDropdownMenu:t,...s}=e,n=Ai(t);return r.jsx(dee,{...n,...s})};s7.displayName=Cee;var n7="DropdownMenuContent",r7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=QI(n7,s),a=Ai(s),o=j.useRef(!1);return r.jsx(uee,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});r7.displayName=n7;var kee="DropdownMenuGroup",_ee=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(hee,{...i,...n,ref:t})});_ee.displayName=kee;var Pee="DropdownMenuLabel",i7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(fee,{...i,...n,ref:t})});i7.displayName=Pee;var Aee="DropdownMenuItem",a7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(mee,{...i,...n,ref:t})});a7.displayName=Aee;var Eee="DropdownMenuCheckboxItem",o7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(pee,{...i,...n,ref:t})});o7.displayName=Eee;var Tee="DropdownMenuRadioGroup",Mee=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(gee,{...i,...n,ref:t})});Mee.displayName=Tee;var Ree="DropdownMenuRadioItem",l7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(xee,{...i,...n,ref:t})});l7.displayName=Ree;var Lee="DropdownMenuItemIndicator",c7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(vee,{...i,...n,ref:t})});c7.displayName=Lee;var Dee="DropdownMenuSeparator",d7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(yee,{...i,...n,ref:t})});d7.displayName=Dee;var Oee="DropdownMenuArrow",Iee=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(bee,{...i,...n,ref:t})});Iee.displayName=Oee;var Fee="DropdownMenuSubTrigger",u7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(wee,{...i,...n,ref:t})});u7.displayName=Fee;var Bee="DropdownMenuSubContent",h7=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,i=Ai(s);return r.jsx(jee,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h7.displayName=Bee;var zee=JI,Vee=t7,$ee=s7,f7=r7,m7=i7,p7=a7,g7=o7,x7=l7,v7=c7,y7=d7,b7=u7,w7=h7;const nk=zee,rk=Vee,Uee=j.forwardRef(({className:e,inset:t,children:s,...n},i)=>r.jsxs(b7,{ref:i,className:tt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[s,r.jsx(vO,{className:"ml-auto h-4 w-4"})]}));Uee.displayName=b7.displayName;const Hee=j.forwardRef(({className:e,...t},s)=>r.jsx(w7,{ref:s,className:tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Hee.displayName=w7.displayName;const P2=j.forwardRef(({className:e,sideOffset:t=4,...s},n)=>r.jsx($ee,{children:r.jsx(f7,{ref:n,sideOffset:t,className:tt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));P2.displayName=f7.displayName;const bo=j.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(p7,{ref:n,className:tt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));bo.displayName=p7.displayName;const qee=j.forwardRef(({className:e,children:t,checked:s,...n},i)=>r.jsxs(g7,{ref:i,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v7,{children:r.jsx(al,{className:"h-4 w-4"})})}),t]}));qee.displayName=g7.displayName;const Wee=j.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(x7,{ref:n,className:tt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(v7,{children:r.jsx(yO,{className:"h-2 w-2 fill-current"})})}),t]}));Wee.displayName=x7.displayName;const j7=j.forwardRef(({className:e,inset:t,...s},n)=>r.jsx(m7,{ref:n,className:tt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));j7.displayName=m7.displayName;const Dm=j.forwardRef(({className:e,...t},s)=>r.jsx(y7,{ref:s,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));Dm.displayName=y7.displayName;function Yee(e){const t=Gee(e),s=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(Zee);if(c){const d=c.props.children,u=l.map(h=>h===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function Gee(e){const t=j.forwardRef((s,n)=>{const{children:i,...a}=s;if(j.isValidElement(i)){const o=Qee(i),l=Xee(a,i.props);return i.type!==j.Fragment&&(l.ref=n?np(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kee=Symbol("radix.slottable");function Zee(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kee}function Xee(e,t){const s={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function Qee(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Jee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ik=Jee.reduce((e,t)=>{const s=Yee(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ete(){return gD.useSyncExternalStore(tte,()=>!0,()=>!1)}function tte(){return()=>{}}var ak="Avatar",[ste,xwe]=hr(ak),[nte,N7]=ste(ak),S7=j.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[i,a]=j.useState("idle");return r.jsx(nte,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:r.jsx(ik.span,{...n,ref:t})})});S7.displayName=ak;var C7="AvatarImage",k7=j.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=N7(C7,s),l=rte(n,a),c=gn(d=>{i(d),o.onImageLoadingStatusChange(d)});return sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ik.img,{...a,ref:t,src:n}):null});k7.displayName=C7;var _7="AvatarFallback",P7=j.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...i}=e,a=N7(_7,s),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?r.jsx(ik.span,{...i,ref:t}):null});P7.displayName=_7;function tA(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rte(e,{referrerPolicy:t,crossOrigin:s}){const n=ete(),i=j.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=j.useState(()=>tA(a,e));return sr(()=>{l(tA(a,e))},[a,e]),sr(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,s,t]),o}var A7=S7,E7=k7,T7=P7;const M7=j.forwardRef(({className:e,...t},s)=>r.jsx(A7,{ref:s,className:tt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));M7.displayName=A7.displayName;const R7=j.forwardRef(({className:e,...t},s)=>r.jsx(E7,{ref:s,className:tt("aspect-square h-full w-full",e),...t}));R7.displayName=E7.displayName;const L7=j.forwardRef(({className:e,...t},s)=>r.jsx(T7,{ref:s,className:tt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));L7.displayName=T7.displayName;const jc="/assets/berry-events-new-logo-Cde4S3Jd.jpg";function ite({onBookingClick:e,onProviderSignupClick:t}){const[,s]=nr(),[n,i]=j.useState(!1),{user:a,isLoading:o,isAuthenticated:l,logout:c}=S0(),d=async()=>{await c(),s("/")},u=()=>{var h,m;return a?`${((h=a.firstName)==null?void 0:h[0])||""}${((m=a.lastName)==null?void 0:m[0])||""}`.toUpperCase():"?"};return r.jsx("header",{className:"sticky top-0 z-50",style:{backgroundColor:"#F7F2EF"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center h-24",children:[r.jsxs(fn,{href:"/",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-transparent",children:r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("div",{className:"text-2xl font-bold",style:{color:"#44062D"},children:"Berry Events"}),r.jsx("div",{className:"text-xs",style:{color:"#3C0920"},children:"All your Home Services In One"})]})]}),r.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:r.jsx(fn,{href:"/pricing",className:"transition-colors duration-200 text-sm font-medium",style:{color:"#3C0920"},children:"Pricing"})}),r.jsx("div",{className:"hidden md:flex items-center space-x-4",children:l?r.jsxs(r.Fragment,{children:[r.jsx(K,{onClick:e,className:"font-semibold px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-book-service",children:"Book Now"}),r.jsxs(nk,{children:[r.jsx(rk,{asChild:!0,children:r.jsxs(K,{variant:"ghost",className:"flex items-center space-x-2","data-testid":"button-user-menu",children:[r.jsxs(M7,{className:"h-10 w-10",children:[r.jsx(R7,{src:a==null?void 0:a.profileImage,alt:a==null?void 0:a.firstName}),r.jsx(L7,{className:"text-sm font-semibold text-white",style:{backgroundColor:"#C56B86"},children:u()})]}),r.jsx("span",{className:"text-sm font-medium",style:{color:"#44062D"},children:(a==null?void 0:a.firstName)||"Account"})]})}),r.jsxs(P2,{align:"end",className:"w-56",children:[r.jsx(j7,{children:"My Account"}),r.jsx(Dm,{}),r.jsxs(bo,{onClick:()=>s("/profile"),"data-testid":"menu-item-profile",children:[r.jsx(vn,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"My Profile"})]}),r.jsxs(bo,{onClick:()=>s("/bookings"),"data-testid":"menu-item-bookings",children:[r.jsx(MP,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"My Bookings"})]}),r.jsx(Dm,{}),r.jsxs(bo,{onClick:d,"data-testid":"menu-item-logout",children:[r.jsx($1,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Logout"})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(K,{onClick:()=>s("/auth"),variant:"ghost",className:"font-medium",style:{color:"#3C0920"},"data-testid":"button-sign-in",children:"Sign In"}),r.jsx(K,{onClick:e,className:"font-semibold px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-book-service",children:"Book Now"}),r.jsxs("div",{className:"pl-6 ml-4",style:{borderLeft:"1px solid #EED1C4"},children:[r.jsx("span",{className:"text-sm mr-3",style:{color:"#3C0920"},children:"Are you a provider?"}),r.jsx(K,{onClick:()=>s("/provider-onboarding"),variant:"outline",className:"border-2 font-medium rounded-xl px-6 py-3 transition-all duration-300",style:{borderColor:"#C56B86",color:"#44062D"},"data-testid":"button-apply-now",children:"Apply Now"})]})]})}),r.jsx(K,{onClick:()=>i(!n),variant:"ghost",size:"sm",className:"md:hidden","data-testid":"button-mobile-menu",children:n?r.jsx(to,{className:"h-6 w-6"}):r.jsx(EC,{className:"h-6 w-6"})})]}),n&&r.jsx("div",{className:"md:hidden",style:{borderTop:"1px solid #EED1C4"},children:r.jsxs("div",{className:"py-4 space-y-3",children:[r.jsx(fn,{href:"/services",className:"block px-4 py-2 font-medium",style:{color:"#3C0920"},onClick:()=>i(!1),children:"Services"}),r.jsx(fn,{href:"/pricing",className:"block px-4 py-2 font-medium",style:{color:"#3C0920"},onClick:()=>i(!1),children:"Pricing"}),r.jsx(fn,{href:"/about",className:"block px-4 py-2 font-medium",style:{color:"#3C0920"},onClick:()=>i(!1),children:"About"}),r.jsx("div",{className:"pt-3 px-4 space-y-3",style:{borderTop:"1px solid #EED1C4"},children:l?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-4 py-2",style:{borderBottom:"1px solid #EED1C4"},children:[r.jsxs("p",{className:"text-sm font-medium",style:{color:"#44062D"},children:[a==null?void 0:a.firstName," ",a==null?void 0:a.lastName]}),r.jsx("p",{className:"text-xs",style:{color:"#3C0920"},children:a==null?void 0:a.email})]}),r.jsx(K,{onClick:()=>{e(),i(!1)},className:"w-full text-white rounded-xl",style:{backgroundColor:"#C56B86"},children:"Book Now"}),r.jsxs(K,{onClick:()=>{s("/profile"),i(!1)},variant:"ghost",className:"w-full text-left justify-start",style:{color:"#3C0920"},children:[r.jsx(vn,{className:"mr-2 h-4 w-4"}),"My Profile"]}),r.jsxs(K,{onClick:()=>{s("/bookings"),i(!1)},variant:"ghost",className:"w-full text-left justify-start",style:{color:"#3C0920"},children:[r.jsx(MP,{className:"mr-2 h-4 w-4"}),"My Bookings"]}),r.jsxs(K,{onClick:()=>{d(),i(!1)},variant:"ghost",className:"w-full text-left justify-start text-red-600 hover:text-red-700",style:{backgroundColor:"transparent"},children:[r.jsx($1,{className:"mr-2 h-4 w-4"}),"Logout"]})]}):r.jsxs(r.Fragment,{children:[r.jsx(K,{onClick:()=>{s("/auth"),i(!1)},variant:"ghost",className:"w-full text-left justify-start",style:{color:"#3C0920"},children:"Sign In"}),r.jsx(K,{onClick:()=>{e(),i(!1)},className:"w-full text-white rounded-xl",style:{backgroundColor:"#C56B86"},children:"Book Now"}),r.jsxs("div",{className:"text-center pt-2",children:[r.jsx("span",{className:"text-sm block mb-2",style:{color:"#3C0920"},children:"Are you a worker?"}),r.jsx(K,{onClick:()=>{s("/provider-onboarding"),i(!1)},variant:"outline",className:"w-full border-2 rounded-xl",style:{borderColor:"#C56B86",color:"#44062D"},children:"Apply Now"})]})]})})]})})]})})}const ate="/assets/homepage-hero-final-Caxb8rN0.png";function ote({onBookingClick:e}){return r.jsx("section",{className:"py-16 lg:py-24",style:{backgroundColor:"#F7F2EF"},children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"lg:grid lg:grid-cols-2 lg:gap-16 items-center",children:[r.jsxs("div",{className:"text-center lg:text-left mb-12 lg:mb-0 space-y-8",children:[r.jsx("h1",{className:"text-5xl font-bold sm:text-6xl lg:text-7xl leading-tight",style:{color:"#44062D"},children:"All the help your home needs."}),r.jsx("p",{className:"text-xl leading-relaxed",style:{color:"#3C0920"},children:"Whether you need a quick clean, or full-time help, Berry Events connects you with reliable professionals you can trust."}),r.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start items-center gap-8 text-sm",style:{color:"#3C0920"},children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-5 w-5",style:{color:"#44062D"}}),r.jsx("span",{children:"Fully Insured"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yc,{className:"h-5 w-5",style:{color:"#44062D"}}),r.jsx("span",{children:"Background Verified"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5",style:{color:"#C56B86"}}),r.jsx("span",{children:"Same Day Booking"})]})]}),r.jsx("div",{className:"flex justify-center lg:justify-start pt-4",children:r.jsx(K,{onClick:e,size:"lg",className:"px-10 py-7 text-lg font-semibold rounded-xl shadow-lg transition-all hover:shadow-xl text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-book-service-hero",children:"Quick Quote"})})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"aspect-[4/3] rounded-3xl overflow-hidden shadow-2xl",children:r.jsx("img",{src:ate,alt:"Happy couple using Berry Events services",className:"w-full h-full object-cover"})})})]})})})}function lte({onServiceSelect:e}){j.useState(null);const t=[{id:"house-cleaning",name:`House
Cleaning`,description:"Complete home cleaning including dusting, vacuuming, mopping, kitchen & bathroom sanitization",basePrice:280,priceUnit:"hour",icon:eo,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700",options:[{id:"basic",name:"Basic Cleaning",price:280,duration:"2-3 hours",description:"General cleaning, dusting, vacuuming"},{id:"deep",name:"Deep Cleaning",price:350,duration:"4-6 hours",description:"Thorough cleaning including inside appliances, baseboards"},{id:"move-in",name:"Move-in/Move-out",price:420,duration:"5-7 hours",description:"Complete cleaning for moving situations"},{id:"spring",name:"Spring Cleaning",price:380,duration:"Full day",description:"Comprehensive seasonal deep clean"}]},{id:"plumbing",name:`Plumbing
Services`,description:"Pipe repairs, leak fixing, faucet installation, drain cleaning, toilet repairs",basePrice:380,priceUnit:"hour",icon:bO,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700",options:[{id:"repair",name:"General Repairs",price:380,duration:"1-2 hours",description:"Leaks, faucets, basic plumbing fixes"},{id:"installation",name:"Installation Services",price:450,duration:"2-4 hours",description:"New fixtures, appliances, piping"},{id:"emergency",name:"Emergency Call-out",price:550,duration:"Immediate",description:"24/7 urgent plumbing issues"},{id:"maintenance",name:"Preventive Maintenance",price:320,duration:"1-2 hours",description:"Regular checks and upkeep"}]},{id:"electrical",name:`Electrical
Services`,description:"Wiring repairs, outlet installation, lighting setup, circuit breaker fixes",basePrice:420,priceUnit:"hour",icon:so,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50",textColor:"text-yellow-700",options:[{id:"basic",name:"Basic Electrical",price:420,duration:"1-2 hours",description:"Outlets, switches, basic wiring"},{id:"lighting",name:"Lighting Installation",price:480,duration:"2-3 hours",description:"Light fixtures, ceiling fans, LED setup"},{id:"safety",name:"Safety Inspection",price:350,duration:"1-2 hours",description:"Electrical safety assessment"},{id:"panel",name:"Panel Upgrades",price:650,duration:"4-6 hours",description:"Circuit breaker, main panel work"}]},{id:"chef-catering",name:`Chef &
Catering`,description:"Personal chef services, meal preparation, event catering, menu planning",basePrice:550,priceUnit:"event",icon:Tr,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-700",options:[{id:"personal",name:"Personal Chef",price:550,duration:"3-4 hours",description:"Custom meal preparation at your home"},{id:"event-small",name:"Small Event (10-20 people)",price:1200,duration:"4-6 hours",description:"Intimate gatherings and dinner parties"},{id:"event-medium",name:"Medium Event (20-50 people)",price:2500,duration:"6-8 hours",description:"Corporate events, celebrations"},{id:"event-large",name:"Large Event (50+ people)",price:4500,duration:"Full day",description:"Weddings, major celebrations"}]},{id:"waitering",name:`Waitering
Services`,description:"Professional waitstaff for events, table service, bar service, event coordination",basePrice:220,priceUnit:"hour",icon:yn,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700",options:[{id:"basic",name:"Table Service",price:220,duration:"Per hour",description:"Professional serving staff"},{id:"bar",name:"Bar Service",price:280,duration:"Per hour",description:"Bartender with cocktail expertise"},{id:"event",name:"Event Coordination",price:350,duration:"Per hour",description:"Full event management and service"},{id:"formal",name:"Formal Service",price:320,duration:"Per hour",description:"High-end formal dining service"}]},{id:"garden-care",name:`Garden
Care`,description:"Garden maintenance, lawn mowing, landscaping, plant care, outdoor cleaning",basePrice:350,priceUnit:"hour",icon:PC,color:"from-teal-500 to-teal-600",bgColor:"bg-teal-50",textColor:"text-teal-700",options:[{id:"maintenance",name:"Garden Maintenance",price:350,duration:"2-4 hours",description:"Lawn mowing, weeding, general upkeep"},{id:"landscaping",name:"Landscaping",price:450,duration:"4-8 hours",description:"Design and plant installation"},{id:"cleanup",name:"Garden Cleanup",price:320,duration:"2-3 hours",description:"Seasonal cleanup, debris removal"},{id:"irrigation",name:"Irrigation Setup",price:550,duration:"3-5 hours",description:"Sprinkler and watering system installation"}]}];return r.jsx("section",{className:"py-20 lg:py-28",style:{backgroundColor:"#EED1C4"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-5",style:{color:"#44062D"},children:"House Cleaning Services"}),r.jsx("p",{className:"text-xl max-w-2xl mx-auto",style:{color:"#3C0920"},children:"Professional home care services, all in one place"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 lg:gap-8 max-w-6xl mx-auto",children:t.map(s=>{const n=s.icon;return r.jsxs("button",{className:"group p-8 bg-white border border-gray-200 hover:border-gray-300 rounded-2xl transition-all duration-200 hover:shadow-lg hover:-translate-y-1 text-center",onClick:()=>e(s.id),"data-testid":`service-card-${s.id}`,children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-5 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:r.jsx(n,{className:"h-10 w-10",style:{color:"#C56B86"}})}),r.jsx("h3",{className:"text-lg font-bold whitespace-pre-line mb-2",style:{color:"#44062D"},children:s.name}),r.jsxs("p",{className:"text-sm font-medium",style:{color:"#3C0920"},children:["From R",s.basePrice,"/",s.priceUnit]})]},s.id)})}),r.jsx("div",{className:"text-center mt-16",children:r.jsx(K,{onClick:()=>e("all-services"),className:"px-10 py-6 text-lg font-semibold rounded-xl shadow-lg transition-all hover:shadow-xl text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-book-service-main",children:"Get a Quote"})})]})})}const cte="/assets/professional_female__eea5c596-C4UnSjaA.jpg",dte="/assets/professional_gardene_faa8644c-PWINj1zN.jpg",ute="/assets/professional_chef_pr_8541400e-9jjGntBo.jpg",hte="/assets/happy_customer_satis_75fa5d88-DrbQ4hCk.jpg";function fte(){const e=[{title:"House Cleaning",description:"Professional cleaning services for your home",image:cte},{title:"Garden Care",description:"Expert garden maintenance and landscaping",image:dte},{title:"Chef & Catering",description:"Delicious meals prepared by expert chefs",image:ute},{title:"Trusted by Thousands",description:"Join our satisfied customers across South Africa",image:hte}];return r.jsx("section",{className:"py-16 lg:py-24",style:{backgroundColor:"#F7F2EF"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",style:{color:"#44062D"},children:"Real people, real service"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",style:{color:"#3C0920"},children:"Our verified professionals are ready to help with all your home service needs"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((t,s)=>r.jsxs("div",{className:"group",children:[r.jsx("div",{className:"aspect-[3/4] rounded-xl overflow-hidden shadow-md mb-4",children:r.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),r.jsx("h3",{className:"text-lg font-bold mb-2",style:{color:"#44062D"},children:t.title}),r.jsx("p",{className:"text-sm",style:{color:"#3C0920"},children:t.description})]},s))})]})})}const mte=ip("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:e,variant:t,...s}){return r.jsx("div",{className:tt(mte({variant:t}),e),...s})}const oe=j.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:tt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));oe.displayName="Card";const Ve=j.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:tt("flex flex-col space-y-1.5 p-6",e),...t}));Ve.displayName="CardHeader";const $e=j.forwardRef(({className:e,...t},s)=>r.jsx("h3",{ref:s,className:tt("text-2xl font-semibold leading-none tracking-tight",e),...t}));$e.displayName="CardTitle";const Dd=j.forwardRef(({className:e,...t},s)=>r.jsx("p",{ref:s,className:tt("text-sm text-muted-foreground",e),...t}));Dd.displayName="CardDescription";const le=j.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:tt("p-6 pt-0",e),...t}));le.displayName="CardContent";const pte=j.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:tt("flex items-center p-6 pt-0",e),...t}));pte.displayName="CardFooter";const gte=[{icon:bs,title:"Comprehensive Insurance",description:"All services covered by comprehensive insurance for your complete peace of mind",details:["Public liability coverage","Property damage protection","Personal injury coverage"],color:"from-green-500 to-emerald-500"},{icon:yc,title:"Verified Professionals",description:"Every provider undergoes rigorous background checks and identity verification",details:["Criminal background checks","Identity verification","Reference validation"],color:"from-blue-500 to-cyan-500"},{icon:Cr,title:"Secure Payments",description:"Bank-grade security with escrow protection until service completion",details:["256-bit SSL encryption","PCI DSS compliance","Escrow protection"],color:"from-purple-500 to-pink-500"},{icon:Rr,title:"Quality Guarantee",description:"100% satisfaction guarantee with free rework if you're not completely happy",details:["Satisfaction guarantee","Free rework policy","Quality standards"],color:"from-orange-500 to-red-500"}],xte=[{value:"100%",label:"Providers Verified",icon:yc,description:"Every professional background-checked"},{value:"R50M+",label:"Insurance Coverage",icon:bs,description:"Comprehensive protection for all services"},{value:"24/7",label:"Support Available",icon:xn,description:"Round-the-clock customer assistance"},{value:"4.9/5",label:"Safety Rating",icon:Et,description:"Outstanding safety track record"}];function ok(){return r.jsx("section",{className:"py-20 lg:py-28",style:{backgroundColor:"#F7F2EF"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-5",style:{color:"#44062D"},children:"Your safety is our priority"}),r.jsx("p",{className:"text-xl max-w-2xl mx-auto",style:{color:"#3C0920"},children:"We connect you to trusted, vetted, and dependable professionals."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:gte.map((e,t)=>r.jsx(oe,{className:"bg-white border border-gray-200 hover:border-gray-300 hover:shadow-lg transition-all duration-300 group",children:r.jsxs(le,{className:"p-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center mb-6 mx-auto transition-colors duration-300",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:r.jsx(e.icon,{className:"h-10 w-10",style:{color:"#C56B86"}})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:"#44062D"},children:e.title}),r.jsx("p",{className:"text-sm leading-relaxed",style:{color:"#3C0920"},children:e.description})]})]})},t))}),r.jsxs("div",{className:"bg-white rounded-3xl p-8 lg:p-12 border shadow-lg mb-16",style:{borderColor:"#EED1C4"},children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h3",{className:"text-3xl font-bold mb-4",style:{color:"#44062D"},children:"Safety by the Numbers"}),r.jsx("p",{className:"text-lg max-w-2xl mx-auto",style:{color:"#3C0920"},children:"Our commitment to safety and quality is reflected in these key metrics"})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:xte.map((e,t)=>r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors duration-300",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:r.jsx(e.icon,{className:"h-8 w-8",style:{color:"#C56B86"}})}),r.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"#44062D"},"data-testid":`stat-${e.label.toLowerCase().replace(" ","-")}`,children:e.value}),r.jsx("div",{className:"text-sm font-semibold mb-1",style:{color:"#44062D"},children:e.label}),r.jsx("div",{className:"text-xs",style:{color:"#3C0920"},children:e.description})]},t))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-16",children:[r.jsxs("div",{children:[r.jsxs(Ke,{className:"px-4 py-2 text-sm font-semibold border-0 mb-4 text-white",style:{backgroundColor:"#C56B86"},children:[r.jsx(yc,{className:"h-4 w-4 mr-2"}),"Verification Process"]}),r.jsx("h3",{className:"text-3xl font-bold mb-6",style:{color:"#44062D"},children:"How we verify every professional"}),r.jsx("p",{className:"text-lg leading-relaxed mb-8",style:{color:"#3C0920"},children:"Our multi-step verification process ensures only the most qualified and trustworthy professionals join our platform."}),r.jsx("div",{className:"space-y-6",children:[{step:1,title:"Identity Verification",description:"Government ID and address verification"},{step:2,title:"Background Check",description:"Criminal background and reference checks"},{step:3,title:"Skills Assessment",description:"Practical skills testing and certification"},{step:4,title:"Insurance Validation",description:"Insurance coverage and documentation review"},{step:5,title:"Ongoing Monitoring",description:"Continuous performance and safety monitoring"}].map((e,t)=>r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",style:{backgroundColor:"#C56B86"},children:e.step}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",style:{color:"#44062D"},children:e.title}),r.jsx("p",{className:"text-sm",style:{color:"#3C0920"},children:e.description})]})]},t))})]}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"rounded-3xl p-8 border",style:{backgroundColor:"#F7F2EF",borderColor:"#EED1C4"},children:[r.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",style:{borderColor:"#EED1C4"},children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(yn,{className:"h-8 w-8"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold",style:{color:"#44062D"},children:"Nomsa Mthembu"}),r.jsx("p",{className:"text-sm",style:{color:"#3C0920"},children:"House Cleaning Professional"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[r.jsxs("div",{className:"rounded-lg p-3 text-center",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:[r.jsx(ur,{className:"h-6 w-6 mx-auto mb-1",style:{color:"#C56B86"}}),r.jsx("p",{className:"text-xs font-semibold",style:{color:"#44062D"},children:"ID Verified"})]}),r.jsxs("div",{className:"rounded-lg p-3 text-center",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:[r.jsx(bs,{className:"h-6 w-6 mx-auto mb-1",style:{color:"#C56B86"}}),r.jsx("p",{className:"text-xs font-semibold",style:{color:"#44062D"},children:"Background Checked"})]}),r.jsxs("div",{className:"rounded-lg p-3 text-center",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:[r.jsx(Rr,{className:"h-6 w-6 mx-auto mb-1",style:{color:"#C56B86"}}),r.jsx("p",{className:"text-xs font-semibold",style:{color:"#44062D"},children:"Skills Certified"})]}),r.jsxs("div",{className:"rounded-lg p-3 text-center",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:[r.jsx(ap,{className:"h-6 w-6 mx-auto mb-1",style:{color:"#C56B86"}}),r.jsx("p",{className:"text-xs font-semibold",style:{color:"#44062D"},children:"Insured"})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:[...Array(5)].map((e,t)=>r.jsx(Et,{className:"h-4 w-4 fill-current",style:{color:"#C56B86"}},t))}),r.jsx("p",{className:"text-sm",style:{color:"#3C0920"},children:"4.9 out of 5 (127 reviews)"})]})]}),r.jsx("div",{className:"absolute -top-4 -right-4 text-white rounded-full p-3 shadow-lg",style:{backgroundColor:"#C56B86"},children:r.jsx(ur,{className:"h-6 w-6"})}),r.jsx("div",{className:"absolute -bottom-4 -left-4 text-white rounded-full p-3 shadow-lg",style:{backgroundColor:"#C56B86"},children:r.jsx(bs,{className:"h-6 w-6"})})]})})]})]})})}function lk({onBookService:e}){const t=[{id:"1",name:"Nomsa Mthembu",rating:4.9,totalReviews:247,image:"https://images.unsplash.com/photo-1531123897727-8f129e1688ce?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200",specialties:["House Cleaning","Deep Clean","Eco-Friendly"],experience:"5+ years",location:"Cape Town, Western Cape",nextAvailable:"Today, 2:00 PM",hourlyRate:280,completedJobs:892,verificationBadges:["ID Verified","Background Checked","Insured"],topPerformer:!0},{id:"2",name:"Thabo Mokoena",rating:4.8,totalReviews:189,image:"https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200",specialties:["Plumbing","Emergency Repairs","Licensed"],experience:"8+ years",location:"Johannesburg, Gauteng",nextAvailable:"Tomorrow, 8:00 AM",hourlyRate:420,completedJobs:634,verificationBadges:["Licensed","Certified","Insured"],topPerformer:!0},{id:"3",name:"Zinhle Ndlovu",rating:4.9,totalReviews:156,image:"https://images.unsplash.com/photo-1494790108755-2616c96bb829?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200",specialties:["Garden Care","Landscaping","Plant Expert"],experience:"6+ years",location:"Durban, KwaZulu-Natal",nextAvailable:"Today, 10:00 AM",hourlyRate:350,completedJobs:445,verificationBadges:["Certified","Eco-Specialist","Insured"],topPerformer:!1},{id:"4",name:"Mandla Sithole",rating:4.7,totalReviews:203,image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&h=200",specialties:["African Cuisine","Event Catering","Traditional"],experience:"10+ years",location:"Pretoria, Gauteng",nextAvailable:"Weekend Available",hourlyRate:580,completedJobs:321,verificationBadges:["Culinary Certified","Health Certified","Insured"],topPerformer:!0}],s=n=>n.some(i=>i.toLowerCase().includes("clean"))?"house-cleaning":n.some(i=>i.toLowerCase().includes("plumb"))?"plumbing-services":n.some(i=>i.toLowerCase().includes("garden"))?"garden-maintenance":n.some(i=>i.toLowerCase().includes("chef")||i.toLowerCase().includes("cuisine"))?"chef-catering":"house-cleaning";return r.jsx("section",{className:"py-20 lg:py-28",style:{backgroundColor:"#EED1C4"},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-5",style:{color:"#44062D"},children:"Meet Your Berry Stars"}),r.jsx("p",{className:"text-xl max-w-2xl mx-auto",style:{color:"#3C0920"},children:"Experienced, vetted professionals ready to help."})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[{icon:yn,value:"500+",label:"Verified Professionals"},{icon:Et,value:"4.9/5",label:"Average Rating"},{icon:bs,value:"100%",label:"Background Checked"},{icon:Rr,value:"50+",label:"Berry Stars"}].map((n,i)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:"rgba(197, 107, 134, 0.1)"},children:r.jsx(n.icon,{className:"h-8 w-8",style:{color:"#C56B86"}})}),r.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"#44062D"},"data-testid":`stat-${n.label.toLowerCase().replace(" ","-")}`,children:n.value}),r.jsx("div",{className:"text-sm",style:{color:"#3C0920"},children:n.label})]},i))}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:t.map(n=>r.jsx(oe,{className:"bg-white border-2 border-gray-100 hover:border-gray-200 hover:shadow-2xl transition-all duration-500 group overflow-hidden rounded-2xl h-full flex flex-col","data-testid":`provider-card-${n.id}`,children:r.jsxs(le,{className:"p-0 flex flex-col h-full",children:[r.jsx("div",{className:"relative aspect-square overflow-hidden",children:r.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"})}),r.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[r.jsx("h3",{className:"text-lg font-bold mb-2 leading-tight",style:{color:"#44062D"},children:n.name}),r.jsx("p",{className:"text-sm mb-4 flex-1",style:{color:"#3C0920"},children:n.specialties[0]}),r.jsxs("div",{className:"flex items-center justify-between mt-auto pt-4 border-t",style:{borderColor:"#EED1C4"},children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-bold",style:{color:"#44062D"},children:["R",n.hourlyRate]}),r.jsx("div",{className:"text-xs",style:{color:"#3C0920"},children:"per hour"})]}),r.jsxs(K,{onClick:()=>e(s(n.specialties),n.id,n.name),size:"sm",className:"font-semibold px-4 py-2 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-xs text-white",style:{backgroundColor:"#C56B86"},"data-testid":`button-book-${n.id}`,children:["Book Now",r.jsx(ul,{className:"ml-2 h-4 w-4"})]})]})]})]})},n.id))}),r.jsx("div",{className:"text-center bg-white rounded-3xl p-12 border shadow-lg",style:{borderColor:"#EED1C4"},children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h3",{className:"text-3xl font-bold mb-4",style:{color:"#44062D"},children:"Want to become a Berry Star?"}),r.jsx("p",{className:"text-lg mb-8",style:{color:"#3C0920"},children:"Join our elite group of top-rated professionals. Earn more, get priority bookings, and build a reputation that speaks for itself."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{icon:Et,title:"Higher Earnings",description:"Top performers earn 20% more"},{icon:Ws,title:"Priority Bookings",description:"Get first access to premium jobs"},{icon:Rr,title:"Recognition",description:"Stand out with Berry Star badge"}].map((n,i)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(n.icon,{className:"h-8 w-8"})}),r.jsx("h4",{className:"font-semibold mb-2",style:{color:"#44062D"},children:n.title}),r.jsx("p",{className:"text-sm",style:{color:"#3C0920"},children:n.description})]},i))}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{className:"font-semibold px-10 py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 text-white",style:{backgroundColor:"#C56B86"},onClick:()=>{window.open("/provider-onboarding","_blank")},"data-testid":"button-become-provider",children:[r.jsx(yn,{className:"mr-2 h-5 w-5"}),"Become a Provider"]}),r.jsxs(K,{variant:"outline",className:"border-2 font-semibold px-10 py-4 rounded-xl transition-all duration-300",style:{borderColor:"#C56B86",color:"#C56B86"},onClick:()=>{const n=document.getElementById("services");n==null||n.scrollIntoView({behavior:"smooth"})},"data-testid":"button-browse-services",children:[r.jsx(ap,{className:"mr-2 h-5 w-5"}),"Service Catalog"]})]})]})})]})})}function vte({className:e=""}){const t=()=>{window.open("https://apps.apple.com/app/berry-events/id123456789","_blank")},s=()=>{window.open("https://play.google.com/store/apps/details?id=com.berryevents.app","_blank")};return r.jsxs("div",{className:`grid md:grid-cols-2 gap-4 ${e}`,children:[r.jsx(oe,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white border-0 hover:shadow-lg transition-all duration-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(vh,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"Download for iOS"}),r.jsx("p",{className:"text-blue-100 text-sm",children:"Available on the App Store"})]})]}),r.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Get the full Berry Events experience on your iPhone or iPad"}),r.jsxs(K,{onClick:t,variant:"outline",className:"bg-white text-blue-600 border-white hover:bg-blue-50","data-testid":"button-ios-download",children:[r.jsx(Ya,{className:"h-4 w-4 mr-2"}),"App Store"]})]}),r.jsxs("div",{className:"hidden sm:flex flex-col items-center text-white/60 ml-4",children:[r.jsx("svg",{className:"w-16 h-16 mb-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),r.jsx("span",{className:"text-xs",children:"iOS"})]})]})})}),r.jsx(oe,{className:"bg-gradient-to-r from-green-600 to-green-700 text-white border-0 hover:shadow-lg transition-all duration-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:r.jsx(vh,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:"Download for Android"}),r.jsx("p",{className:"text-green-100 text-sm",children:"Available on Google Play"})]})]}),r.jsx("p",{className:"text-green-100 text-sm mb-4",children:"Get the full Berry Events experience on your Android device"}),r.jsxs(K,{onClick:s,variant:"outline",className:"bg-white text-green-600 border-white hover:bg-green-50","data-testid":"button-android-download",children:[r.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Google Play"]})]}),r.jsxs("div",{className:"hidden sm:flex flex-col items-center text-white/60 ml-4",children:[r.jsx("svg",{className:"w-16 h-16 mb-2",viewBox:"0 0 24 24",fill:"currentColor",children:r.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),r.jsx("span",{className:"text-xs",children:"Android"})]})]})})})]})}function bh(){const e=new Date().getFullYear(),t=[{title:"Services",links:[{name:"House Cleaning",href:"/#services"},{name:"Garden Maintenance",href:"/#services"},{name:"Plumbing Services",href:"/#services"},{name:"Electrical Work",href:"/#services"},{name:"Chef & Catering",href:"/#services"},{name:"Elder Care",href:"/#services"}]},{title:"Company",links:[{name:"About Us",href:"/about"},{name:"How It Works",href:"/#how-it-works"},{name:"Trust & Safety",href:"/safety"},{name:"Careers",href:"/careers"},{name:"Press",href:"/press"},{name:"Contact",href:"/contact"}]},{title:"Providers",links:[{name:"Become a Provider",href:"/provider-onboarding"},{name:"Provider Dashboard",href:"/provider-dashboard"},{name:"Training Center",href:"/provider-training"},{name:"Provider Support",href:"/provider-support"},{name:"Berry Stars Program",href:"/berry-stars"},{name:"Earnings",href:"/provider-earnings"}]},{title:"Support",links:[{name:"Help Center",href:"/help"},{name:"Customer Support",href:"/support"},{name:"Emergency Hotline",href:"tel:0800237779"},{name:"Safety Resources",href:"/safety"},{name:"Report Issue",href:"/support"},{name:"Feedback",href:"/feedback"}]}];return r.jsxs("footer",{className:"bg-gray-900 text-white",children:[r.jsx("div",{className:"py-16",style:{backgroundColor:"#44062D"},children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Stay connected with Berry Events"}),r.jsx("p",{className:"text-lg mb-8 max-w-2xl mx-auto",style:{color:"#EED1C4"},children:"Get the latest updates on new services, special offers, and home care tips delivered straight to your inbox."}),r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("input",{type:"email",placeholder:"Enter your email address",className:"flex-1 px-4 py-3 rounded-lg placeholder-gray-500 focus:outline-none focus:ring-2 text-white",style:{backgroundColor:"#3C0920",borderColor:"#C56B86"},"data-testid":"input-newsletter-email"}),r.jsxs(K,{className:"font-semibold px-6 py-3 rounded-lg shadow-lg text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-newsletter-subscribe",children:["Subscribe",r.jsx(ul,{className:"ml-2 h-4 w-4"})]})]}),r.jsx("p",{className:"text-sm mt-3",style:{color:"#EED1C4"},children:"We respect your privacy. Unsubscribe at any time."})]})]})})}),r.jsx("div",{className:"py-16",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-12",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg text-white",style:{backgroundColor:"#C56B86"},children:r.jsx("span",{className:"font-bold text-xl",children:"B"})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-2xl font-bold",children:"Berry Events"}),r.jsx("div",{className:"text-gray-400 text-sm",children:"All your home services"})]})]}),r.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"South Africa's premier home services platform, connecting you with verified professionals for all your domestic needs. Quality service, every time."}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-2 text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(bs,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-sm text-gray-300",children:"Fully Insured"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-2 text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(Et,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-sm text-gray-300",children:"Top Rated"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mx-auto mb-2 text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(ap,{className:"h-5 w-5"})}),r.jsx("div",{className:"text-sm text-gray-300",children:"Trusted"})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx("a",{href:"https://facebook.com/berryevents",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center transition-colors duration-200","aria-label":"Facebook","data-testid":"link-facebook",onMouseEnter:s=>s.currentTarget.style.backgroundColor="#C56B86",onMouseLeave:s=>s.currentTarget.style.backgroundColor="#1F2937",children:r.jsx(tZ,{className:"h-5 w-5"})}),r.jsx("a",{href:"https://twitter.com/berryevents",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center transition-colors duration-200","aria-label":"Twitter","data-testid":"link-twitter",onMouseEnter:s=>s.currentTarget.style.backgroundColor="#C56B86",onMouseLeave:s=>s.currentTarget.style.backgroundColor="#1F2937",children:r.jsx(mZ,{className:"h-5 w-5"})}),r.jsx("a",{href:"https://instagram.com/berryevents",className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center transition-colors duration-200","aria-label":"Instagram","data-testid":"link-instagram",onMouseEnter:s=>s.currentTarget.style.backgroundColor="#C56B86",onMouseLeave:s=>s.currentTarget.style.backgroundColor="#1F2937",children:r.jsx(rZ,{className:"h-5 w-5"})})]})]}),t.map((s,n)=>r.jsxs("div",{className:"lg:col-span-1",children:[r.jsx("h4",{className:"text-lg font-semibold text-white mb-6",children:s.title}),r.jsx("ul",{className:"space-y-3",children:s.links.map((i,a)=>r.jsx("li",{children:r.jsx("a",{href:i.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm","data-testid":`link-${i.name.toLowerCase().replace(/\s+/g,"-")}`,children:i.name})},a))})]},n))]})})}),r.jsx("div",{className:"bg-gray-800 py-8",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center md:text-left",children:[r.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[r.jsx(xn,{className:"h-5 w-5 text-blue-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Customer Support"}),r.jsx("div",{className:"text-gray-300 text-sm",children:"0800 BERRY (23779)"})]})]}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[r.jsx(li,{className:"h-5 w-5 text-green-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Email Us"}),r.jsx("div",{className:"text-gray-300 text-sm",children:"support@berryevents.co.za"})]})]}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[r.jsx(ys,{className:"h-5 w-5 text-purple-400 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-white font-medium",children:"Service Areas"}),r.jsx("div",{className:"text-gray-300 text-sm",children:"Cape Town, Johannesburg, Durban"})]})]})]})})}),r.jsx("div",{className:"bg-gray-800 py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Download the Berry Events Mobile App"}),r.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Book services faster, track your appointments, and get instant notifications on your mobile device. Available for iOS and Android."})]}),r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(vte,{})})]})}),r.jsx("div",{className:"bg-black py-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[r.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",e," Berry Events. All rights reserved."]}),r.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[r.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Privacy Policy"}),r.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Terms of Service"}),r.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Cookie Policy"}),r.jsx("a",{href:"/legal",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Legal"})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-800 text-center",children:r.jsx("p",{className:"text-gray-500 text-xs",children:"Berry Events is a registered trademark. Licensed and regulated by the Companies and Intellectual Property Commission (CIPC). All service providers are independent contractors and are fully insured."})})]})})]})}var ck="Dialog",[D7,O7]=hr(ck),[yte,Io]=D7(ck),I7=e=>{const{__scopeDialog:t,children:s,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[d=!1,u]=Sa({prop:n,defaultProp:i,onChange:a});return r.jsx(yte,{scope:t,triggerRef:l,contentRef:c,contentId:ba(),titleId:ba(),descriptionId:ba(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(h=>!h),[u]),modal:o,children:s})};I7.displayName=ck;var F7="DialogTrigger",B7=j.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,i=Io(F7,s),a=Gt(t,i.triggerRef);return r.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hk(i.open),...n,ref:a,onClick:Qe(e.onClick,i.onOpenToggle)})});B7.displayName=F7;var dk="DialogPortal",[bte,z7]=D7(dk,{forceMount:void 0}),V7=e=>{const{__scopeDialog:t,forceMount:s,children:n,container:i}=e,a=Io(dk,t);return r.jsx(bte,{scope:t,forceMount:s,children:j.Children.map(n,o=>r.jsx(fr,{present:s||a.open,children:r.jsx(rp,{asChild:!0,container:i,children:o})}))})};V7.displayName=dk;var Z1="DialogOverlay",$7=j.forwardRef((e,t)=>{const s=z7(Z1,e.__scopeDialog),{forceMount:n=s.forceMount,...i}=e,a=Io(Z1,e.__scopeDialog);return a.modal?r.jsx(fr,{present:n||a.open,children:r.jsx(jte,{...i,ref:t})}):null});$7.displayName=Z1;var wte=qd("DialogOverlay.RemoveScroll"),jte=j.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,i=Io(Z1,s);return r.jsx(k0,{as:wte,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(gt.div,{"data-state":hk(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),wh="DialogContent",U7=j.forwardRef((e,t)=>{const s=z7(wh,e.__scopeDialog),{forceMount:n=s.forceMount,...i}=e,a=Io(wh,e.__scopeDialog);return r.jsx(fr,{present:n||a.open,children:a.modal?r.jsx(Nte,{...i,ref:t}):r.jsx(Ste,{...i,ref:t})})});U7.displayName=wh;var Nte=j.forwardRef((e,t)=>{const s=Io(wh,e.__scopeDialog),n=j.useRef(null),i=Gt(t,s.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return S2(a)},[]),r.jsx(H7,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,a=>a.preventDefault())})}),Ste=j.forwardRef((e,t)=>{const s=Io(wh,e.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return r.jsx(H7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),H7=j.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Io(wh,s),c=j.useRef(null),d=Gt(t,c);return j2(),r.jsxs(r.Fragment,{children:[r.jsx(C0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Lh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(kte,{titleId:l.titleId}),r.jsx(Pte,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uk="DialogTitle",q7=j.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,i=Io(uk,s);return r.jsx(gt.h2,{id:i.titleId,...n,ref:t})});q7.displayName=uk;var W7="DialogDescription",Y7=j.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,i=Io(W7,s);return r.jsx(gt.p,{id:i.descriptionId,...n,ref:t})});Y7.displayName=W7;var G7="DialogClose",K7=j.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,i=Io(G7,s);return r.jsx(gt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});K7.displayName=G7;function hk(e){return e?"open":"closed"}var Z7="DialogTitleWarning",[Cte,X7]=eK(Z7,{contentName:wh,titleName:uk,docsSlug:"dialog"}),kte=({titleId:e})=>{const t=X7(Z7),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},_te="DialogDescriptionWarning",Pte=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X7(_te).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},fk=I7,mk=B7,pk=V7,A0=$7,E0=U7,T0=q7,M0=Y7,A2=K7;const er=fk,Rj=mk,Ate=pk,Q7=j.forwardRef(({className:e,...t},s)=>r.jsx(A0,{ref:s,className:tt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q7.displayName=A0.displayName;const Fn=j.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(Ate,{children:[r.jsx(Q7,{}),r.jsxs(E0,{ref:n,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(A2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(to,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fn.displayName=E0.displayName;const Bn=({className:e,...t})=>r.jsx("div",{className:tt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Bn.displayName="DialogHeader";const J7=({className:e,...t})=>r.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});J7.displayName="DialogFooter";const _n=j.forwardRef(({className:e,...t},s)=>r.jsx(T0,{ref:s,className:tt("text-lg font-semibold leading-none tracking-tight",e),...t}));_n.displayName=T0.displayName;const _o=j.forwardRef(({className:e,...t},s)=>r.jsx(M0,{ref:s,className:tt("text-sm text-muted-foreground",e),...t}));_o.displayName=M0.displayName;const He=j.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));He.displayName="Input";var Ete="Label",eF=j.forwardRef((e,t)=>r.jsx(gt.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));eF.displayName=Ete;var tF=eF;const Tte=ip("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=j.forwardRef(({className:e,...t},s)=>r.jsx(tF,{ref:s,className:tt(Tte(),e),...t}));pe.displayName=tF.displayName;const Ca=j.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Ca.displayName="Textarea";function uS(e,[t,s]){return Math.min(s,Math.max(t,e))}function E2(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Mte=[" ","Enter","ArrowUp","ArrowDown"],Rte=[" ","Enter"],R0="Select",[T2,M2,Lte]=n2(R0),[mp,vwe]=hr(R0,[Lte,ou]),R2=ou(),[Dte,lu]=mp(R0),[Ote,Ite]=mp(R0),sF=e=>{const{__scopeSelect:t,children:s,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:g}=e,p=R2(t),[b,x]=j.useState(null),[y,w]=j.useState(null),[S,C]=j.useState(!1),L=hp(d),[R=!1,M]=Sa({prop:n,defaultProp:i,onChange:a}),[D,$]=Sa({prop:o,defaultProp:l,onChange:c}),E=j.useRef(null),T=b?g||!!b.closest("form"):!0,[q,B]=j.useState(new Set),te=Array.from(q).map(ie=>ie.props.value).join(";");return r.jsx(p2,{...p,children:r.jsxs(Dte,{required:f,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:ba(),value:D,onValueChange:$,open:R,onOpenChange:M,dir:L,triggerPointerDownPosRef:E,disabled:m,children:[r.jsx(T2.Provider,{scope:t,children:r.jsx(Ote,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(ie=>{B(G=>new Set(G).add(ie))},[]),onNativeOptionRemove:j.useCallback(ie=>{B(G=>{const P=new Set(G);return P.delete(ie),P})},[]),children:s})}),T?r.jsxs(_F,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:D,onChange:ie=>$(ie.target.value),disabled:m,form:g,children:[D===void 0?r.jsx("option",{value:""}):null,Array.from(q)]},te):null]})})};sF.displayName=R0;var nF="SelectTrigger",rF=j.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:n=!1,...i}=e,a=R2(s),o=lu(nF,s),l=o.disabled||n,c=Gt(t,o.onTriggerChange),d=M2(s),u=j.useRef("touch"),[h,m,f]=PF(p=>{const b=d().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=AF(b,p,x);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return r.jsx(N0,{asChild:!0,...a,children:r.jsx(gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kF(o.value)?"":void 0,...i,ref:c,onClick:Qe(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Qe(i.onPointerDown,p=>{u.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Qe(i.onKeyDown,p=>{const b=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(b&&p.key===" ")&&Mte.includes(p.key)&&(g(),p.preventDefault())})})})});rF.displayName=nF;var iF="SelectValue",aF=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:i,children:a,placeholder:o="",...l}=e,c=lu(iF,s),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=Gt(t,c.onValueNodeChange);return sr(()=>{d(u)},[d,u]),r.jsx(gt.span,{...l,ref:h,style:{pointerEvents:"none"},children:kF(c.value)?r.jsx(r.Fragment,{children:o}):a})});aF.displayName=iF;var Fte="SelectIcon",oF=j.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...i}=e;return r.jsx(gt.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});oF.displayName=Fte;var Bte="SelectPortal",lF=e=>r.jsx(rp,{asChild:!0,...e});lF.displayName=Bte;var jh="SelectContent",cF=j.forwardRef((e,t)=>{const s=lu(jh,e.__scopeSelect),[n,i]=j.useState();if(sr(()=>{i(new DocumentFragment)},[]),!s.open){const a=n;return a?Rh.createPortal(r.jsx(dF,{scope:e.__scopeSelect,children:r.jsx(T2.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),a):null}return r.jsx(uF,{...e,ref:t})});cF.displayName=jh;var fo=10,[dF,cu]=mp(jh),zte="SelectContentImpl",Vte=qd("SelectContent.RemoveScroll"),uF=j.forwardRef((e,t)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:b,...x}=e,y=lu(jh,s),[w,S]=j.useState(null),[C,L]=j.useState(null),R=Gt(t,ne=>S(ne)),[M,D]=j.useState(null),[$,E]=j.useState(null),T=M2(s),[q,B]=j.useState(!1),te=j.useRef(!1);j.useEffect(()=>{if(w)return S2(w)},[w]),j2();const ie=j.useCallback(ne=>{const[Ne,...be]=T().map(Ie=>Ie.ref.current),[_e]=be.slice(-1),Te=document.activeElement;for(const Ie of ne)if(Ie===Te||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Ne&&C&&(C.scrollTop=0),Ie===_e&&C&&(C.scrollTop=C.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Te))return},[T,C]),G=j.useCallback(()=>ie([M,w]),[ie,M,w]);j.useEffect(()=>{q&&G()},[q,G]);const{onOpenChange:P,triggerPointerDownPosRef:U}=y;j.useEffect(()=>{if(w){let ne={x:0,y:0};const Ne=_e=>{var Te,Ie;ne={x:Math.abs(Math.round(_e.pageX)-(((Te=U.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Ie=U.current)==null?void 0:Ie.y)??0))}},be=_e=>{ne.x<=10&&ne.y<=10?_e.preventDefault():w.contains(_e.target)||P(!1),document.removeEventListener("pointermove",Ne),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",be,{capture:!0})}}},[w,P,U]),j.useEffect(()=>{const ne=()=>P(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[P]);const[xe,X]=PF(ne=>{const Ne=T().filter(Te=>!Te.disabled),be=Ne.find(Te=>Te.ref.current===document.activeElement),_e=AF(Ne,ne,be);_e&&setTimeout(()=>_e.ref.current.focus())}),O=j.useCallback((ne,Ne,be)=>{const _e=!te.current&&!be;(y.value!==void 0&&y.value===Ne||_e)&&(D(ne),_e&&(te.current=!0))},[y.value]),W=j.useCallback(()=>w==null?void 0:w.focus(),[w]),Z=j.useCallback((ne,Ne,be)=>{const _e=!te.current&&!be;(y.value!==void 0&&y.value===Ne||_e)&&E(ne)},[y.value]),ce=n==="popper"?hS:hF,ae=ce===hS?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:b}:{};return r.jsx(dF,{scope:s,content:w,viewport:C,onViewportChange:L,itemRefCallback:O,selectedItem:M,onItemLeave:W,itemTextRefCallback:Z,focusSelectedItem:G,selectedItemText:$,position:n,isPositioned:q,searchRef:xe,children:r.jsx(k0,{as:Vte,allowPinchZoom:!0,children:r.jsx(C0,{asChild:!0,trapped:y.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Qe(i,ne=>{var Ne;(Ne=y.trigger)==null||Ne.focus({preventScroll:!0}),ne.preventDefault()}),children:r.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ne=>ne.preventDefault(),...x,...ae,onPlaced:()=>B(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Qe(x.onKeyDown,ne=>{const Ne=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Ne&&ne.key.length===1&&X(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let _e=T().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Te=ne.target,Ie=_e.indexOf(Te);_e=_e.slice(Ie+1)}setTimeout(()=>ie(_e)),ne.preventDefault()}})})})})})})});uF.displayName=zte;var $te="SelectItemAlignedPosition",hF=j.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:n,...i}=e,a=lu(jh,s),o=cu(jh,s),[l,c]=j.useState(null),[d,u]=j.useState(null),h=Gt(t,R=>u(R)),m=M2(s),f=j.useRef(!1),g=j.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&p&&b&&x){const R=a.trigger.getBoundingClientRect(),M=d.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),$=x.getBoundingClientRect();if(a.dir!=="rtl"){const Te=$.left-M.left,Ie=D.left-Te,ye=R.left-Ie,ge=R.width+ye,se=Math.max(ge,M.width),It=window.innerWidth-fo,Tt=uS(Ie,[fo,Math.max(fo,It-se)]);l.style.minWidth=ge+"px",l.style.left=Tt+"px"}else{const Te=M.right-$.right,Ie=window.innerWidth-D.right-Te,ye=window.innerWidth-R.right-Ie,ge=R.width+ye,se=Math.max(ge,M.width),It=window.innerWidth-fo,Tt=uS(Ie,[fo,Math.max(fo,It-se)]);l.style.minWidth=ge+"px",l.style.right=Tt+"px"}const E=m(),T=window.innerHeight-fo*2,q=p.scrollHeight,B=window.getComputedStyle(d),te=parseInt(B.borderTopWidth,10),ie=parseInt(B.paddingTop,10),G=parseInt(B.borderBottomWidth,10),P=parseInt(B.paddingBottom,10),U=te+ie+q+P+G,xe=Math.min(b.offsetHeight*5,U),X=window.getComputedStyle(p),O=parseInt(X.paddingTop,10),W=parseInt(X.paddingBottom,10),Z=R.top+R.height/2-fo,ce=T-Z,ae=b.offsetHeight/2,ne=b.offsetTop+ae,Ne=te+ie+ne,be=U-Ne;if(Ne<=Z){const Te=E.length>0&&b===E[E.length-1].ref.current;l.style.bottom="0px";const Ie=d.clientHeight-p.offsetTop-p.offsetHeight,ye=Math.max(ce,ae+(Te?W:0)+Ie+G),ge=Ne+ye;l.style.height=ge+"px"}else{const Te=E.length>0&&b===E[0].ref.current;l.style.top="0px";const ye=Math.max(Z,te+p.offsetTop+(Te?O:0)+ae)+be;l.style.height=ye+"px",p.scrollTop=Ne-Z+p.offsetTop}l.style.margin=`${fo}px 0`,l.style.minHeight=xe+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[m,a.trigger,a.valueNode,l,d,p,b,x,a.dir,n]);sr(()=>w(),[w]);const[S,C]=j.useState();sr(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const L=j.useCallback(R=>{R&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return r.jsx(Hte,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:L,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(gt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});hF.displayName=$te;var Ute="SelectPopperPosition",hS=j.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:i=fo,...a}=e,o=R2(s);return r.jsx(g2,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hS.displayName=Ute;var[Hte,gk]=mp(jh,{}),fS="SelectViewport",fF=j.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:n,...i}=e,a=cu(fS,s),o=gk(fS,s),l=Gt(t,a.onViewportChange),c=j.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(T2.Slot,{scope:s,children:r.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-fo*2,p=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(p,b);if(x<g){const y=x+f,w=Math.min(g,y),S=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});fF.displayName=fS;var mF="SelectGroup",[qte,Wte]=mp(mF),Yte=j.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,i=ba();return r.jsx(qte,{scope:s,id:i,children:r.jsx(gt.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Yte.displayName=mF;var pF="SelectLabel",gF=j.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,i=Wte(pF,s);return r.jsx(gt.div,{id:i.id,...n,ref:t})});gF.displayName=pF;var X1="SelectItem",[Gte,xF]=mp(X1),vF=j.forwardRef((e,t)=>{const{__scopeSelect:s,value:n,disabled:i=!1,textValue:a,...o}=e,l=lu(X1,s),c=cu(X1,s),d=l.value===n,[u,h]=j.useState(a??""),[m,f]=j.useState(!1),g=Gt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,i)}),p=ba(),b=j.useRef("touch"),x=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Gte,{scope:s,value:n,disabled:i,textId:p,isSelected:d,onItemTextChange:j.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(T2.ItemSlot,{scope:s,value:n,disabled:i,textValue:u,children:r.jsx(gt.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Qe(o.onFocus,()=>f(!0)),onBlur:Qe(o.onBlur,()=>f(!1)),onClick:Qe(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Qe(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Qe(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:Qe(o.onPointerMove,y=>{var w;b.current=y.pointerType,i?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Qe(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(Rte.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});vF.displayName=X1;var Cg="SelectItemText",yF=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:i,...a}=e,o=lu(Cg,s),l=cu(Cg,s),c=xF(Cg,s),d=Ite(Cg,s),[u,h]=j.useState(null),m=Gt(t,x=>h(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=j.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=d;return sr(()=>(p(g),()=>b(g)),[p,b,g]),r.jsxs(r.Fragment,{children:[r.jsx(gt.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rh.createPortal(a.children,o.valueNode):null]})});yF.displayName=Cg;var bF="SelectItemIndicator",wF=j.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return xF(bF,s).isSelected?r.jsx(gt.span,{"aria-hidden":!0,...n,ref:t}):null});wF.displayName=bF;var mS="SelectScrollUpButton",jF=j.forwardRef((e,t)=>{const s=cu(mS,e.__scopeSelect),n=gk(mS,e.__scopeSelect),[i,a]=j.useState(!1),o=Gt(t,n.onScrollButtonChange);return sr(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?r.jsx(SF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jF.displayName=mS;var pS="SelectScrollDownButton",NF=j.forwardRef((e,t)=>{const s=cu(pS,e.__scopeSelect),n=gk(pS,e.__scopeSelect),[i,a]=j.useState(!1),o=Gt(t,n.onScrollButtonChange);return sr(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),i?r.jsx(SF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});NF.displayName=pS;var SF=j.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:n,...i}=e,a=cu("SelectScrollButton",s),o=j.useRef(null),l=M2(s),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),sr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(gt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Qe(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{c()})})}),Kte="SelectSeparator",CF=j.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return r.jsx(gt.div,{"aria-hidden":!0,...n,ref:t})});CF.displayName=Kte;var gS="SelectArrow",Zte=j.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,i=R2(s),a=lu(gS,s),o=cu(gS,s);return a.open&&o.position==="popper"?r.jsx(x2,{...i,...n,ref:t}):null});Zte.displayName=gS;function kF(e){return e===""||e===void 0}var _F=j.forwardRef((e,t)=>{const{value:s,...n}=e,i=j.useRef(null),a=Gt(t,i),o=E2(s);return j.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),r.jsx(w0,{asChild:!0,children:r.jsx("select",{...n,ref:a,defaultValue:s})})});_F.displayName="BubbleSelect";function PF(e){const t=gn(e),s=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const l=s.current+o;t(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,i,a]}function AF(e,t,s){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=Xte(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==s?c:void 0}function Xte(e,t){return e.map((s,n)=>e[(t+n)%e.length])}var Qte=sF,EF=rF,Jte=aF,ese=oF,tse=lF,TF=cF,sse=fF,MF=gF,RF=vF,nse=yF,rse=wF,LF=jF,DF=NF,OF=CF;const Dt=Qte,Ot=Jte,Mt=j.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(EF,{ref:n,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(ese,{asChild:!0,children:r.jsx(CC,{className:"h-4 w-4 opacity-50"})})]}));Mt.displayName=EF.displayName;const IF=j.forwardRef(({className:e,...t},s)=>r.jsx(LF,{ref:s,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(QK,{className:"h-4 w-4"})}));IF.displayName=LF.displayName;const FF=j.forwardRef(({className:e,...t},s)=>r.jsx(DF,{ref:s,className:tt("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(CC,{className:"h-4 w-4"})}));FF.displayName=DF.displayName;const Rt=j.forwardRef(({className:e,children:t,position:s="popper",...n},i)=>r.jsx(tse,{children:r.jsxs(TF,{ref:i,className:tt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[r.jsx(IF,{}),r.jsx(sse,{className:tt("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(FF,{})]})}));Rt.displayName=TF.displayName;const ise=j.forwardRef(({className:e,...t},s)=>r.jsx(MF,{ref:s,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ise.displayName=MF.displayName;const Ee=j.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(RF,{ref:n,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(rse,{children:r.jsx(al,{className:"h-4 w-4"})})}),r.jsx(nse,{children:t})]}));Ee.displayName=RF.displayName;const ase=j.forwardRef(({className:e,...t},s)=>r.jsx(OF,{ref:s,className:tt("-mx-1 my-1 h-px bg-muted",e),...t}));ase.displayName=OF.displayName;var xk="Checkbox",[ose,ywe]=hr(xk),[lse,cse]=ose(xk),BF=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,f]=j.useState(null),g=Gt(t,S=>f(S)),p=j.useRef(!1),b=m?u||!!m.closest("form"):!0,[x=!1,y]=Sa({prop:i,defaultProp:a,onChange:d}),w=j.useRef(x);return j.useEffect(()=>{const S=m==null?void 0:m.form;if(S){const C=()=>y(w.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[m,y]),r.jsxs(lse,{scope:s,state:x,disabled:l,children:[r.jsx(gt.button,{type:"button",role:"checkbox","aria-checked":Od(x)?"mixed":x,"aria-required":o,"data-state":$F(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onKeyDown:Qe(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Qe(e.onClick,S=>{y(C=>Od(C)?!0:!C),b&&(p.current=S.isPropagationStopped(),p.current||S.stopPropagation())})}),b&&r.jsx(dse,{control:m,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Od(a)?!1:a})]})});BF.displayName=xk;var zF="CheckboxIndicator",VF=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:n,...i}=e,a=cse(zF,s);return r.jsx(fr,{present:n||Od(a.state)||a.state===!0,children:r.jsx(gt.span,{"data-state":$F(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});VF.displayName=zF;var dse=e=>{const{control:t,checked:s,bubbles:n=!0,defaultChecked:i,...a}=e,o=j.useRef(null),l=E2(s),c=m2(t);j.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==s&&f){const g=new Event("click",{bubbles:n});u.indeterminate=Od(s),f.call(u,Od(s)?!1:s),u.dispatchEvent(g)}},[l,s,n]);const d=j.useRef(Od(s)?!1:s);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Od(e){return e==="indeterminate"}function $F(e){return Od(e)?"indeterminate":e?"checked":"unchecked"}var UF=BF,use=VF;const Bi=j.forwardRef(({className:e,...t},s)=>r.jsx(UF,{ref:s,className:tt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(use,{className:tt("flex items-center justify-center text-current"),children:r.jsx(al,{className:"h-4 w-4"})})}));Bi.displayName=UF.displayName;var hse="Separator",sA="horizontal",fse=["horizontal","vertical"],HF=j.forwardRef((e,t)=>{const{decorative:s,orientation:n=sA,...i}=e,a=mse(n)?n:sA,l=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return r.jsx(gt.div,{"data-orientation":a,...l,...i,ref:t})});HF.displayName=hse;function mse(e){return fse.includes(e)}var qF=HF;const Pn=j.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...n},i)=>r.jsx(qF,{ref:i,decorative:s,orientation:t,className:tt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Pn.displayName=qF.displayName;function pse(e,t=500){const[s,n]=j.useState(e);return j.useEffect(()=>{const i=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(i)}},[e,t]),s}const gse="modulepreload",xse=function(e){return"/"+e},nA={},Lj=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(c=>{if(c=xse(c),c in nA)return;nA[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":gse,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}var Ro=Uint8Array,pa=Uint16Array,vk=Int32Array,yk=new Ro([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),bk=new Ro([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rA=new Ro([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WF=function(e,t){for(var s=new pa(31),n=0;n<31;++n)s[n]=t+=1<<e[n-1];for(var i=new vk(s[30]),n=1;n<30;++n)for(var a=s[n];a<s[n+1];++a)i[a]=a-s[n]<<5|n;return{b:s,r:i}},YF=WF(yk,2),vse=YF.b,xS=YF.r;vse[28]=258,xS[258]=28;var yse=WF(bk,0),iA=yse.r,vS=new pa(32768);for(var dn=0;dn<32768;++dn){var qc=(dn&43690)>>1|(dn&21845)<<1;qc=(qc&52428)>>2|(qc&13107)<<2,qc=(qc&61680)>>4|(qc&3855)<<4,vS[dn]=((qc&65280)>>8|(qc&255)<<8)>>1}var Kg=function(e,t,s){for(var n=e.length,i=0,a=new pa(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new pa(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(s){l=new pa(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],h=o[e[i]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[vS[h]>>c]=d}else for(l=new pa(n),i=0;i<n;++i)e[i]&&(l[i]=vS[o[e[i]-1]++]>>15-e[i]);return l},Nh=new Ro(288);for(var dn=0;dn<144;++dn)Nh[dn]=8;for(var dn=144;dn<256;++dn)Nh[dn]=9;for(var dn=256;dn<280;++dn)Nh[dn]=7;for(var dn=280;dn<288;++dn)Nh[dn]=8;var Q1=new Ro(32);for(var dn=0;dn<32;++dn)Q1[dn]=5;var bse=Kg(Nh,9,0),wse=Kg(Q1,5,0),GF=function(e){return(e+7)/8|0},jse=function(e,t,s){return(s==null||s>e.length)&&(s=e.length),new Ro(e.subarray(t,s))},$l=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8},rg=function(e,t,s){s<<=t&7;var n=t/8|0;e[n]|=s,e[n+1]|=s>>8,e[n+2]|=s>>16},Dj=function(e,t){for(var s=[],n=0;n<e.length;++n)e[n]&&s.push({s:n,f:e[n]});var i=s.length,a=s.slice();if(!i)return{t:ZF,l:0};if(i==1){var o=new Ro(s[0].s+1);return o[s[0].s]=1,{t:o,l:1}}s.sort(function(C,L){return C.f-L.f}),s.push({s:-1,f:25001});var l=s[0],c=s[1],d=0,u=1,h=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=s[s[d].f<s[h].f?d++:h++],c=s[d!=u&&s[d].f<s[h].f?d++:h++],s[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var f=new pa(m+1),g=yS(s[u-1],f,0);if(g>t){var n=0,p=0,b=g-t,x=1<<b;for(a.sort(function(L,R){return f[R.s]-f[L.s]||L.f-R.f});n<i;++n){var y=a[n].s;if(f[y]>t)p+=x-(1<<g-f[y]),f[y]=t;else break}for(p>>=b;p>0;){var w=a[n].s;f[w]<t?p-=1<<t-f[w]++-1:++n}for(;n>=0&&p;--n){var S=a[n].s;f[S]==t&&(--f[S],++p)}g=t}return{t:new Ro(f),l:g}},yS=function(e,t,s){return e.s==-1?Math.max(yS(e.l,t,s+1),yS(e.r,t,s+1)):t[e.s]=s},aA=function(e){for(var t=e.length;t&&!e[--t];);for(var s=new pa(++t),n=0,i=e[0],a=1,o=function(c){s[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:s.subarray(0,n),n:t}},ig=function(e,t){for(var s=0,n=0;n<t.length;++n)s+=e[n]*t[n];return s},KF=function(e,t,s){var n=s.length,i=GF(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=s[a];return(i+4+n)*8},oA=function(e,t,s,n,i,a,o,l,c,d,u){$l(t,u++,s),++i[256];for(var h=Dj(i,15),m=h.t,f=h.l,g=Dj(a,15),p=g.t,b=g.l,x=aA(m),y=x.c,w=x.n,S=aA(p),C=S.c,L=S.n,R=new pa(19),M=0;M<y.length;++M)++R[y[M]&31];for(var M=0;M<C.length;++M)++R[C[M]&31];for(var D=Dj(R,7),$=D.t,E=D.l,T=19;T>4&&!$[rA[T-1]];--T);var q=d+5<<3,B=ig(i,Nh)+ig(a,Q1)+o,te=ig(i,m)+ig(a,p)+o+14+3*T+ig(R,$)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&q<=B&&q<=te)return KF(t,u,e.subarray(c,c+d));var ie,G,P,U;if($l(t,u,1+(te<B)),u+=2,te<B){ie=Kg(m,f,0),G=m,P=Kg(p,b,0),U=p;var xe=Kg($,E,0);$l(t,u,w-257),$l(t,u+5,L-1),$l(t,u+10,T-4),u+=14;for(var M=0;M<T;++M)$l(t,u+3*M,$[rA[M]]);u+=3*T;for(var X=[y,C],O=0;O<2;++O)for(var W=X[O],M=0;M<W.length;++M){var Z=W[M]&31;$l(t,u,xe[Z]),u+=$[Z],Z>15&&($l(t,u,W[M]>>5&127),u+=W[M]>>12)}}else ie=bse,G=Nh,P=wse,U=Q1;for(var M=0;M<l;++M){var ce=n[M];if(ce>255){var Z=ce>>18&31;rg(t,u,ie[Z+257]),u+=G[Z+257],Z>7&&($l(t,u,ce>>23&31),u+=yk[Z]);var ae=ce&31;rg(t,u,P[ae]),u+=U[ae],ae>3&&(rg(t,u,ce>>5&8191),u+=bk[ae])}else rg(t,u,ie[ce]),u+=G[ce]}return rg(t,u,ie[256]),u+G[256]},Nse=new vk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ZF=new Ro(0),Sse=function(e,t,s,n,i,a){var o=a.z||e.length,l=new Ro(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var h=Nse[t-1],m=h>>13,f=h&8191,g=(1<<s)-1,p=a.p||new pa(32768),b=a.h||new pa(g+1),x=Math.ceil(s/3),y=2*x,w=function(ge){return(e[ge]^e[ge+1]<<x^e[ge+2]<<y)&g},S=new vk(25e3),C=new pa(288),L=new pa(32),R=0,M=0,D=a.i||0,$=0,E=a.w||0,T=0;D+2<o;++D){var q=w(D),B=D&32767,te=b[q];if(p[B]=te,b[q]=B,E<=D){var ie=o-D;if((R>7e3||$>24576)&&(ie>423||!d)){u=oA(e,c,0,S,C,L,M,$,T,D-T,u),$=R=M=0,T=D;for(var G=0;G<286;++G)C[G]=0;for(var G=0;G<30;++G)L[G]=0}var P=2,U=0,xe=f,X=B-te&32767;if(ie>2&&q==w(D-X))for(var O=Math.min(m,ie)-1,W=Math.min(32767,D),Z=Math.min(258,ie);X<=W&&--xe&&B!=te;){if(e[D+P]==e[D+P-X]){for(var ce=0;ce<Z&&e[D+ce]==e[D+ce-X];++ce);if(ce>P){if(P=ce,U=X,ce>O)break;for(var ae=Math.min(X,ce-2),ne=0,G=0;G<ae;++G){var Ne=D-X+G&32767,be=p[Ne],_e=Ne-be&32767;_e>ne&&(ne=_e,te=Ne)}}}B=te,te=p[B],X+=B-te&32767}if(U){S[$++]=268435456|xS[P]<<18|iA[U];var Te=xS[P]&31,Ie=iA[U]&31;M+=yk[Te]+bk[Ie],++C[257+Te],++L[Ie],E=D+P,++R}else S[$++]=e[D],++C[e[D]]}}for(D=Math.max(D,E);D<o;++D)S[$++]=e[D],++C[e[D]];u=oA(e,c,d,S,C,L,M,$,T,D-T,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=b,a.p=p,a.i=D,a.w=E)}else{for(var D=a.w||0;D<o+d;D+=65535){var ye=D+65535;ye>=o&&(c[u/8|0]=d,ye=o),u=KF(c,u+1,e.subarray(D,ye))}a.i=o}return jse(l,0,n+GF(u)+i)},XF=function(){var e=1,t=0;return{p:function(s){for(var n=e,i=t,a=s.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=s[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Cse=function(e,t,s,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Ro(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Sse(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,s,n,i)},QF=function(e,t,s){for(;s;++t)e[t]=s,s>>>=8},kse=function(e,t){var s=t.level,n=s==0?0:s<6?1:s==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=XF();i.p(t.dictionary),QF(e,2,i.d())}};function bS(e,t){t||(t={});var s=XF();s.p(e);var n=Cse(e,t,t.dictionary?6:2,4);return kse(n,t),QF(n,n.length-4,s.d()),n}var _se=typeof TextDecoder<"u"&&new TextDecoder,Pse=0;try{_se.decode(ZF,{stream:!0}),Pse=1}catch{}function Ase(e){if(Array.isArray(e))return e}function Ese(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(s=s.call(e)).next,t!==0)for(;!(c=(n=a.call(s)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function Tse(e,t){if(e){if(typeof e=="string")return lA(e,t);var s={}.toString.call(e).slice(8,-1);return s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set"?Array.from(e):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?lA(e,t):void 0}}function Mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cA(e,t){return Ase(e)||Ese(e,t)||Tse(e,t)||Mse()}function dA(e,t="utf8"){return new TextDecoder(t).decode(e)}const Rse=new TextEncoder;function Lse(e){return Rse.encode(e)}const Dse=1024*8,Ose=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Oj={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class wk{constructor(t=Dse,s={}){et(this,"buffer");et(this,"byteLength");et(this,"byteOffset");et(this,"length");et(this,"offset");et(this,"lastWrittenByte");et(this,"littleEndian");et(this,"_data");et(this,"_mark");et(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=s.offset?s.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof wk)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,s){const n=Oj[s].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Ose&&s!=="uint8"&&s!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new Oj[s](l.buffer);return this.offset+=n,c.reverse(),c}const o=new Oj[s](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let s="";for(let n=0;n<t;n++)s+=this.readChar();return s}readUtf8(t=1){return dA(this.readBytes(t))}decodeText(t=1,s="utf8"){return dA(this.readBytes(t),s)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let s=0;s<t.length;s++)this._data.setUint8(this.offset++,t[s]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let s=0;s<t.length;s++)this.writeUint8(t.charCodeAt(s));return this}writeUtf8(t){return this.writeBytes(Lse(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ise=4,uA=0,hA=1,Fse=2;function pp(e){let t=e.length;for(;--t>=0;)e[t]=0}const Bse=0,JF=1,zse=2,Vse=3,$se=258,jk=29,L0=256,Tx=L0+1+jk,Zf=30,Nk=19,e9=2*Tx+1,Wu=15,Ij=16,Use=7,Sk=256,t9=16,s9=17,n9=18,wS=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Xy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Hse=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),r9=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qse=512,Jl=new Array((Tx+2)*2);pp(Jl);const Zg=new Array(Zf*2);pp(Zg);const Mx=new Array(qse);pp(Mx);const Rx=new Array($se-Vse+1);pp(Rx);const Ck=new Array(jk);pp(Ck);const J1=new Array(Zf);pp(J1);function Fj(e,t,s,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=s,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let i9,a9,o9;function Bj(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const l9=e=>e<256?Mx[e]:Mx[256+(e>>>7)],Lx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ui=(e,t,s)=>{e.bi_valid>Ij-s?(e.bi_buf|=t<<e.bi_valid&65535,Lx(e,e.bi_buf),e.bi_buf=t>>Ij-e.bi_valid,e.bi_valid+=s-Ij):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=s)},dl=(e,t,s)=>{Ui(e,s[t*2],s[t*2+1])},c9=(e,t)=>{let s=0;do s|=e&1,e>>>=1,s<<=1;while(--t>0);return s>>>1},Wse=e=>{e.bi_valid===16?(Lx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Yse=(e,t)=>{const s=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,h,m,f,g,p=0;for(m=0;m<=Wu;m++)e.bl_count[m]=0;for(s[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<e9;d++)u=e.heap[d],m=s[s[u*2+1]*2+1]+1,m>c&&(m=c,p++),s[u*2+1]=m,!(u>n)&&(e.bl_count[m]++,f=0,u>=l&&(f=o[u-l]),g=s[u*2],e.opt_len+=g*(m+f),a&&(e.static_len+=g*(i[u*2+1]+f)));if(p!==0){do{for(m=c-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(m=c;m!==0;m--)for(u=e.bl_count[m];u!==0;)h=e.heap[--d],!(h>n)&&(s[h*2+1]!==m&&(e.opt_len+=(m-s[h*2+1])*s[h*2],s[h*2+1]=m),u--)}},d9=(e,t,s)=>{const n=new Array(Wu+1);let i=0,a,o;for(a=1;a<=Wu;a++)i=i+s[a-1]<<1,n[a]=i;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=c9(n[l]++,l))}},Gse=()=>{let e,t,s,n,i;const a=new Array(Wu+1);for(s=0,n=0;n<jk-1;n++)for(Ck[n]=s,e=0;e<1<<wS[n];e++)Rx[s++]=n;for(Rx[s-1]=n,i=0,n=0;n<16;n++)for(J1[n]=i,e=0;e<1<<Xy[n];e++)Mx[i++]=n;for(i>>=7;n<Zf;n++)for(J1[n]=i<<7,e=0;e<1<<Xy[n]-7;e++)Mx[256+i++]=n;for(t=0;t<=Wu;t++)a[t]=0;for(e=0;e<=143;)Jl[e*2+1]=8,e++,a[8]++;for(;e<=255;)Jl[e*2+1]=9,e++,a[9]++;for(;e<=279;)Jl[e*2+1]=7,e++,a[7]++;for(;e<=287;)Jl[e*2+1]=8,e++,a[8]++;for(d9(Jl,Tx+1,a),e=0;e<Zf;e++)Zg[e*2+1]=5,Zg[e*2]=c9(e,5);i9=new Fj(Jl,wS,L0+1,Tx,Wu),a9=new Fj(Zg,Xy,0,Zf,Wu),o9=new Fj(new Array(0),Hse,0,Nk,Use)},u9=e=>{let t;for(t=0;t<Tx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Zf;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Nk;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Sk*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},h9=e=>{e.bi_valid>8?Lx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},fA=(e,t,s,n)=>{const i=t*2,a=s*2;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[s]},zj=(e,t,s)=>{const n=e.heap[s];let i=s<<1;for(;i<=e.heap_len&&(i<e.heap_len&&fA(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!fA(t,n,e.heap[i],e.depth));)e.heap[s]=e.heap[i],s=i,i<<=1;e.heap[s]=n},mA=(e,t,s)=>{let n,i,a=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+a++]&255,n+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],n===0?dl(e,i,t):(o=Rx[i],dl(e,o+L0+1,t),l=wS[o],l!==0&&(i-=Ck[o],Ui(e,i,l)),n--,o=l9(n),dl(e,o,s),l=Xy[o],l!==0&&(n-=J1[o],Ui(e,n,l)));while(a<e.sym_next);dl(e,Sk,t)},jS=(e,t)=>{const s=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,l,c=-1,d;for(e.heap_len=0,e.heap_max=e9,o=0;o<a;o++)s[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):s[o*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,s[d*2]=1,e.depth[d]=0,e.opt_len--,i&&(e.static_len-=n[d*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)zj(e,s,o);d=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],zj(e,s,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,s[d*2]=s[o*2]+s[l*2],e.depth[d]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,s[o*2+1]=s[l*2+1]=d,e.heap[1]=d++,zj(e,s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Yse(e,t),d9(s,c,e.bl_count)},pA=(e,t,s)=>{let n,i=-1,a,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),t[(s+1)*2+1]=65535,n=0;n<=s;n++)a=o,o=t[(n+1)*2+1],!(++l<c&&a===o)&&(l<d?e.bl_tree[a*2]+=l:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[t9*2]++):l<=10?e.bl_tree[s9*2]++:e.bl_tree[n9*2]++,l=0,i=a,o===0?(c=138,d=3):a===o?(c=6,d=3):(c=7,d=4))},gA=(e,t,s)=>{let n,i=-1,a,o=t[0*2+1],l=0,c=7,d=4;for(o===0&&(c=138,d=3),n=0;n<=s;n++)if(a=o,o=t[(n+1)*2+1],!(++l<c&&a===o)){if(l<d)do dl(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==i&&(dl(e,a,e.bl_tree),l--),dl(e,t9,e.bl_tree),Ui(e,l-3,2)):l<=10?(dl(e,s9,e.bl_tree),Ui(e,l-3,3)):(dl(e,n9,e.bl_tree),Ui(e,l-11,7));l=0,i=a,o===0?(c=138,d=3):a===o?(c=6,d=3):(c=7,d=4)}},Kse=e=>{let t;for(pA(e,e.dyn_ltree,e.l_desc.max_code),pA(e,e.dyn_dtree,e.d_desc.max_code),jS(e,e.bl_desc),t=Nk-1;t>=3&&e.bl_tree[r9[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Zse=(e,t,s,n)=>{let i;for(Ui(e,t-257,5),Ui(e,s-1,5),Ui(e,n-4,4),i=0;i<n;i++)Ui(e,e.bl_tree[r9[i]*2+1],3);gA(e,e.dyn_ltree,t-1),gA(e,e.dyn_dtree,s-1)},Xse=e=>{let t=4093624447,s;for(s=0;s<=31;s++,t>>>=1)if(t&1&&e.dyn_ltree[s*2]!==0)return uA;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return hA;for(s=32;s<L0;s++)if(e.dyn_ltree[s*2]!==0)return hA;return uA};let xA=!1;const Qse=e=>{xA||(Gse(),xA=!0),e.l_desc=new Bj(e.dyn_ltree,i9),e.d_desc=new Bj(e.dyn_dtree,a9),e.bl_desc=new Bj(e.bl_tree,o9),e.bi_buf=0,e.bi_valid=0,u9(e)},f9=(e,t,s,n)=>{Ui(e,(Bse<<1)+(n?1:0),3),h9(e),Lx(e,s),Lx(e,~s),s&&e.pending_buf.set(e.window.subarray(t,t+s),e.pending),e.pending+=s},Jse=e=>{Ui(e,JF<<1,3),dl(e,Sk,Jl),Wse(e)},ene=(e,t,s,n)=>{let i,a,o=0;e.level>0?(e.strm.data_type===Fse&&(e.strm.data_type=Xse(e)),jS(e,e.l_desc),jS(e,e.d_desc),o=Kse(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=s+5,s+4<=i&&t!==-1?f9(e,t,s,n):e.strategy===Ise||a===i?(Ui(e,(JF<<1)+(n?1:0),3),mA(e,Jl,Zg)):(Ui(e,(zse<<1)+(n?1:0),3),Zse(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),mA(e,e.dyn_ltree,e.dyn_dtree)),u9(e),n&&h9(e)},tne=(e,t,s)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=s,t===0?e.dyn_ltree[s*2]++:(e.matches++,t--,e.dyn_ltree[(Rx[s]+L0+1)*2]++,e.dyn_dtree[l9(t)*2]++),e.sym_next===e.sym_end);var sne=Qse,nne=f9,rne=ene,ine=tne,ane=Jse,one={_tr_init:sne,_tr_stored_block:nne,_tr_flush_block:rne,_tr_tally:ine,_tr_align:ane};const lne=(e,t,s,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;s!==0;){o=s>2e3?2e3:s,s-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var Dx=lne;const cne=()=>{let e,t=[];for(var s=0;s<256;s++){e=s;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[s]=e}return t},dne=new Uint32Array(cne()),une=(e,t,s,n)=>{const i=dne,a=n+s;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var _r=une,Om={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},D0={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:hne,_tr_stored_block:NS,_tr_flush_block:fne,_tr_tally:Id,_tr_align:mne}=one,{Z_NO_FLUSH:Fd,Z_PARTIAL_FLUSH:pne,Z_FULL_FLUSH:gne,Z_FINISH:$a,Z_BLOCK:vA,Z_OK:zr,Z_STREAM_END:yA,Z_STREAM_ERROR:xl,Z_DATA_ERROR:xne,Z_BUF_ERROR:Vj,Z_DEFAULT_COMPRESSION:vne,Z_FILTERED:yne,Z_HUFFMAN_ONLY:Jv,Z_RLE:bne,Z_FIXED:wne,Z_DEFAULT_STRATEGY:jne,Z_UNKNOWN:Nne,Z_DEFLATED:L2}=D0,Sne=9,Cne=15,kne=8,_ne=29,Pne=256,SS=Pne+1+_ne,Ane=30,Ene=19,Tne=2*SS+1,Mne=15,Ss=3,bd=258,vl=bd+Ss+1,Rne=32,Im=42,kk=57,CS=69,kS=73,_S=91,PS=103,Yu=113,kg=666,Si=1,gp=2,Sh=3,xp=4,Lne=3,Gu=(e,t)=>(e.msg=Om[t],t),bA=e=>e*2-(e>4?9:0),ad=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Dne=e=>{let t,s,n,i=e.w_size;t=e.hash_size,n=t;do s=e.head[--n],e.head[n]=s>=i?s-i:0;while(--t);t=i,n=t;do s=e.prev[--n],e.prev[n]=s>=i?s-i:0;while(--t)};let One=(e,t,s)=>(t<<e.hash_shift^s)&e.hash_mask,Bd=One;const aa=e=>{const t=e.state;let s=t.pending;s>e.avail_out&&(s=e.avail_out),s!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+s),e.next_out),e.next_out+=s,t.pending_out+=s,e.total_out+=s,e.avail_out-=s,t.pending-=s,t.pending===0&&(t.pending_out=0))},ga=(e,t)=>{fne(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,aa(e.strm)},Rs=(e,t)=>{e.pending_buf[e.pending++]=t},ag=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},AS=(e,t,s,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),s),e.state.wrap===1?e.adler=Dx(e.adler,t,i,s):e.state.wrap===2&&(e.adler=_r(e.adler,t,i,s)),e.next_in+=i,e.total_in+=i,i)},m9=(e,t)=>{let s=e.max_chain_length,n=e.strstart,i,a,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-vl?e.strstart-(e.w_size-vl):0,d=e.window,u=e.w_mask,h=e.prev,m=e.strstart+bd;let f=d[n+o-1],g=d[n+o];e.prev_length>=e.good_match&&(s>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(d[i+o]!==g||d[i+o-1]!==f||d[i]!==d[n]||d[++i]!==d[n+1])){n+=2,i++;do;while(d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&d[++n]===d[++i]&&n<m);if(a=bd-(m-n),n=m-bd,a>o){if(e.match_start=t,o=a,a>=l)break;f=d[n+o-1],g=d[n+o]}}while((t=h[t&u])>c&&--s!==0);return o<=e.lookahead?o:e.lookahead},Fm=e=>{const t=e.w_size;let s,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-vl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Dne(e),n+=t),e.strm.avail_in===0)break;if(s=AS(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=s,e.lookahead+e.insert>=Ss)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Bd(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Bd(e,e.ins_h,e.window[i+Ss-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ss)););}while(e.lookahead<vl&&e.strm.avail_in!==0)},p9=(e,t)=>{let s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,a,o=0,l=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<s&&(n===0&&t!==$a||t===Fd||n!==i+e.strm.avail_in)))break;o=t===$a&&n===i+e.strm.avail_in?1:0,NS(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,aa(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(AS(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?xp:t!==Fd&&t!==$a&&e.strm.avail_in===0&&e.strstart===e.block_start?gp:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(AS(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,s=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=s||(i||t===$a)&&t!==Fd&&e.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=t===$a&&e.strm.avail_in===0&&n===i?1:0,NS(e,e.block_start,n,o),e.block_start+=n,aa(e.strm)),o?Sh:Si)},$j=(e,t)=>{let s,n;for(;;){if(e.lookahead<vl){if(Fm(e),e.lookahead<vl&&t===Fd)return Si;if(e.lookahead===0)break}if(s=0,e.lookahead>=Ss&&(e.ins_h=Bd(e,e.ins_h,e.window[e.strstart+Ss-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),s!==0&&e.strstart-s<=e.w_size-vl&&(e.match_length=m9(e,s)),e.match_length>=Ss)if(n=Id(e,e.strstart-e.match_start,e.match_length-Ss),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ss){e.match_length--;do e.strstart++,e.ins_h=Bd(e,e.ins_h,e.window[e.strstart+Ss-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Bd(e,e.ins_h,e.window[e.strstart+1]);else n=Id(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(ga(e,!1),e.strm.avail_out===0))return Si}return e.insert=e.strstart<Ss-1?e.strstart:Ss-1,t===$a?(ga(e,!0),e.strm.avail_out===0?Sh:xp):e.sym_next&&(ga(e,!1),e.strm.avail_out===0)?Si:gp},cf=(e,t)=>{let s,n,i;for(;;){if(e.lookahead<vl){if(Fm(e),e.lookahead<vl&&t===Fd)return Si;if(e.lookahead===0)break}if(s=0,e.lookahead>=Ss&&(e.ins_h=Bd(e,e.ins_h,e.window[e.strstart+Ss-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ss-1,s!==0&&e.prev_length<e.max_lazy_match&&e.strstart-s<=e.w_size-vl&&(e.match_length=m9(e,s),e.match_length<=5&&(e.strategy===yne||e.match_length===Ss&&e.strstart-e.match_start>4096)&&(e.match_length=Ss-1)),e.prev_length>=Ss&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Ss,n=Id(e,e.strstart-1-e.prev_match,e.prev_length-Ss),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Bd(e,e.ins_h,e.window[e.strstart+Ss-1]),s=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Ss-1,e.strstart++,n&&(ga(e,!1),e.strm.avail_out===0))return Si}else if(e.match_available){if(n=Id(e,0,e.window[e.strstart-1]),n&&ga(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Si}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Id(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ss-1?e.strstart:Ss-1,t===$a?(ga(e,!0),e.strm.avail_out===0?Sh:xp):e.sym_next&&(ga(e,!1),e.strm.avail_out===0)?Si:gp},Ine=(e,t)=>{let s,n,i,a;const o=e.window;for(;;){if(e.lookahead<=bd){if(Fm(e),e.lookahead<=bd&&t===Fd)return Si;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Ss&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=e.strstart+bd;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=bd-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ss?(s=Id(e,1,e.match_length-Ss),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(s=Id(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),s&&(ga(e,!1),e.strm.avail_out===0))return Si}return e.insert=0,t===$a?(ga(e,!0),e.strm.avail_out===0?Sh:xp):e.sym_next&&(ga(e,!1),e.strm.avail_out===0)?Si:gp},Fne=(e,t)=>{let s;for(;;){if(e.lookahead===0&&(Fm(e),e.lookahead===0)){if(t===Fd)return Si;break}if(e.match_length=0,s=Id(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,s&&(ga(e,!1),e.strm.avail_out===0))return Si}return e.insert=0,t===$a?(ga(e,!0),e.strm.avail_out===0?Sh:xp):e.sym_next&&(ga(e,!1),e.strm.avail_out===0)?Si:gp};function Zo(e,t,s,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=s,this.max_chain=n,this.func=i}const _g=[new Zo(0,0,0,0,p9),new Zo(4,4,8,4,$j),new Zo(4,5,16,8,$j),new Zo(4,6,32,32,$j),new Zo(4,4,16,16,cf),new Zo(8,16,32,32,cf),new Zo(8,16,128,128,cf),new Zo(8,32,128,256,cf),new Zo(32,128,258,1024,cf),new Zo(32,258,258,4096,cf)],Bne=e=>{e.window_size=2*e.w_size,ad(e.head),e.max_lazy_match=_g[e.level].max_lazy,e.good_match=_g[e.level].good_length,e.nice_match=_g[e.level].nice_length,e.max_chain_length=_g[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Ss-1,e.match_available=0,e.ins_h=0};function zne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Tne*2),this.dyn_dtree=new Uint16Array((2*Ane+1)*2),this.bl_tree=new Uint16Array((2*Ene+1)*2),ad(this.dyn_ltree),ad(this.dyn_dtree),ad(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Mne+1),this.heap=new Uint16Array(2*SS+1),ad(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*SS+1),ad(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const O0=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Im&&t.status!==kk&&t.status!==CS&&t.status!==kS&&t.status!==_S&&t.status!==PS&&t.status!==Yu&&t.status!==kg?1:0},g9=e=>{if(O0(e))return Gu(e,xl);e.total_in=e.total_out=0,e.data_type=Nne;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?kk:t.wrap?Im:Yu,e.adler=t.wrap===2?0:1,t.last_flush=-2,hne(t),zr},x9=e=>{const t=g9(e);return t===zr&&Bne(e.state),t},Vne=(e,t)=>O0(e)||e.state.wrap!==2?xl:(e.state.gzhead=t,zr),v9=(e,t,s,n,i,a)=>{if(!e)return xl;let o=1;if(t===vne&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Sne||s!==L2||n<8||n>15||t<0||t>9||a<0||a>wne||n===8&&o!==1)return Gu(e,xl);n===8&&(n=9);const l=new zne;return e.state=l,l.strm=e,l.status=Im,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ss-1)/Ss),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=a,l.method=s,x9(e)},$ne=(e,t)=>v9(e,t,L2,Cne,kne,jne),Une=(e,t)=>{if(O0(e)||t>vA||t<0)return e?Gu(e,xl):xl;const s=e.state;if(!e.output||e.avail_in!==0&&!e.input||s.status===kg&&t!==$a)return Gu(e,e.avail_out===0?Vj:xl);const n=s.last_flush;if(s.last_flush=t,s.pending!==0){if(aa(e),e.avail_out===0)return s.last_flush=-1,zr}else if(e.avail_in===0&&bA(t)<=bA(n)&&t!==$a)return Gu(e,Vj);if(s.status===kg&&e.avail_in!==0)return Gu(e,Vj);if(s.status===Im&&s.wrap===0&&(s.status=Yu),s.status===Im){let i=L2+(s.w_bits-8<<4)<<8,a=-1;if(s.strategy>=Jv||s.level<2?a=0:s.level<6?a=1:s.level===6?a=2:a=3,i|=a<<6,s.strstart!==0&&(i|=Rne),i+=31-i%31,ag(s,i),s.strstart!==0&&(ag(s,e.adler>>>16),ag(s,e.adler&65535)),e.adler=1,s.status=Yu,aa(e),s.pending!==0)return s.last_flush=-1,zr}if(s.status===kk){if(e.adler=0,Rs(s,31),Rs(s,139),Rs(s,8),s.gzhead)Rs(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),Rs(s,s.gzhead.time&255),Rs(s,s.gzhead.time>>8&255),Rs(s,s.gzhead.time>>16&255),Rs(s,s.gzhead.time>>24&255),Rs(s,s.level===9?2:s.strategy>=Jv||s.level<2?4:0),Rs(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(Rs(s,s.gzhead.extra.length&255),Rs(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=_r(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=CS;else if(Rs(s,0),Rs(s,0),Rs(s,0),Rs(s,0),Rs(s,0),Rs(s,s.level===9?2:s.strategy>=Jv||s.level<2?4:0),Rs(s,Lne),s.status=Yu,aa(e),s.pending!==0)return s.last_flush=-1,zr}if(s.status===CS){if(s.gzhead.extra){let i=s.pending,a=(s.gzhead.extra.length&65535)-s.gzindex;for(;s.pending+a>s.pending_buf_size;){let l=s.pending_buf_size-s.pending;if(s.pending_buf.set(s.gzhead.extra.subarray(s.gzindex,s.gzindex+l),s.pending),s.pending=s.pending_buf_size,s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i)),s.gzindex+=l,aa(e),s.pending!==0)return s.last_flush=-1,zr;i=0,a-=l}let o=new Uint8Array(s.gzhead.extra);s.pending_buf.set(o.subarray(s.gzindex,s.gzindex+a),s.pending),s.pending+=a,s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i)),s.gzindex=0}s.status=kS}if(s.status===kS){if(s.gzhead.name){let i=s.pending,a;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i)),aa(e),s.pending!==0)return s.last_flush=-1,zr;i=0}s.gzindex<s.gzhead.name.length?a=s.gzhead.name.charCodeAt(s.gzindex++)&255:a=0,Rs(s,a)}while(a!==0);s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i)),s.gzindex=0}s.status=_S}if(s.status===_S){if(s.gzhead.comment){let i=s.pending,a;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i)),aa(e),s.pending!==0)return s.last_flush=-1,zr;i=0}s.gzindex<s.gzhead.comment.length?a=s.gzhead.comment.charCodeAt(s.gzindex++)&255:a=0,Rs(s,a)}while(a!==0);s.gzhead.hcrc&&s.pending>i&&(e.adler=_r(e.adler,s.pending_buf,s.pending-i,i))}s.status=PS}if(s.status===PS){if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size&&(aa(e),s.pending!==0))return s.last_flush=-1,zr;Rs(s,e.adler&255),Rs(s,e.adler>>8&255),e.adler=0}if(s.status=Yu,aa(e),s.pending!==0)return s.last_flush=-1,zr}if(e.avail_in!==0||s.lookahead!==0||t!==Fd&&s.status!==kg){let i=s.level===0?p9(s,t):s.strategy===Jv?Fne(s,t):s.strategy===bne?Ine(s,t):_g[s.level].func(s,t);if((i===Sh||i===xp)&&(s.status=kg),i===Si||i===Sh)return e.avail_out===0&&(s.last_flush=-1),zr;if(i===gp&&(t===pne?mne(s):t!==vA&&(NS(s,0,0,!1),t===gne&&(ad(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),aa(e),e.avail_out===0))return s.last_flush=-1,zr}return t!==$a?zr:s.wrap<=0?yA:(s.wrap===2?(Rs(s,e.adler&255),Rs(s,e.adler>>8&255),Rs(s,e.adler>>16&255),Rs(s,e.adler>>24&255),Rs(s,e.total_in&255),Rs(s,e.total_in>>8&255),Rs(s,e.total_in>>16&255),Rs(s,e.total_in>>24&255)):(ag(s,e.adler>>>16),ag(s,e.adler&65535)),aa(e),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?zr:yA)},Hne=e=>{if(O0(e))return xl;const t=e.state.status;return e.state=null,t===Yu?Gu(e,xne):zr},qne=(e,t)=>{let s=t.length;if(O0(e))return xl;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==Im||n.lookahead)return xl;if(i===1&&(e.adler=Dx(e.adler,t,s,0)),n.wrap=0,s>=n.w_size){i===0&&(ad(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(s-n.w_size,s),0),t=c,s=n.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=s,e.next_in=0,e.input=t,Fm(n);n.lookahead>=Ss;){let c=n.strstart,d=n.lookahead-(Ss-1);do n.ins_h=Bd(n,n.ins_h,n.window[c+Ss-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--d);n.strstart=c,n.lookahead=Ss-1,Fm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ss-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,n.wrap=i,zr};var Wne=$ne,Yne=v9,Gne=x9,Kne=g9,Zne=Vne,Xne=Une,Qne=Hne,Jne=qne,ere="pako deflate (from Nodeca project)",Xg={deflateInit:Wne,deflateInit2:Yne,deflateReset:Gne,deflateResetKeep:Kne,deflateSetHeader:Zne,deflate:Xne,deflateEnd:Qne,deflateSetDictionary:Jne,deflateInfo:ere};const tre=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var sre=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const s=t.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(const n in s)tre(s,n)&&(e[n]=s[n])}}return e},nre=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const s=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];s.set(o,i),i+=o.length}return s},D2={assign:sre,flattenChunks:nre};let y9=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y9=!1}const Ox=new Uint8Array(256);for(let e=0;e<256;e++)Ox[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ox[254]=Ox[254]=1;var rre=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,s,n,i,a,o=e.length,l=0;for(i=0;i<o;i++)s=e.charCodeAt(i),(s&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),i++)),l+=s<128?1:s<2048?2:s<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)s=e.charCodeAt(i),(s&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(s=65536+(s-55296<<10)+(n-56320),i++)),s<128?t[a++]=s:s<2048?(t[a++]=192|s>>>6,t[a++]=128|s&63):s<65536?(t[a++]=224|s>>>12,t[a++]=128|s>>>6&63,t[a++]=128|s&63):(t[a++]=240|s>>>18,t[a++]=128|s>>>12&63,t[a++]=128|s>>>6&63,t[a++]=128|s&63);return t};const ire=(e,t)=>{if(t<65534&&e.subarray&&y9)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let s="";for(let n=0;n<t;n++)s+=String.fromCharCode(e[n]);return s};var are=(e,t)=>{const s=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(s*2);for(i=0,n=0;n<s;){let o=e[n++];if(o<128){a[i++]=o;continue}let l=Ox[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<s;)o=o<<6|e[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return ire(a,i)},ore=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let s=t-1;for(;s>=0&&(e[s]&192)===128;)s--;return s<0||s===0?t:s+Ox[e[s]]>t?s:t},Ix={string2buf:rre,buf2string:are,utf8border:ore};function lre(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var b9=lre;const w9=Object.prototype.toString,{Z_NO_FLUSH:cre,Z_SYNC_FLUSH:dre,Z_FULL_FLUSH:ure,Z_FINISH:hre,Z_OK:eb,Z_STREAM_END:fre,Z_DEFAULT_COMPRESSION:mre,Z_DEFAULT_STRATEGY:pre,Z_DEFLATED:gre}=D0;function _k(e){this.options=D2.assign({level:mre,method:gre,chunkSize:16384,windowBits:15,memLevel:8,strategy:pre},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b9,this.strm.avail_out=0;let s=Xg.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(s!==eb)throw new Error(Om[s]);if(t.header&&Xg.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Ix.string2buf(t.dictionary):w9.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,s=Xg.deflateSetDictionary(this.strm,n),s!==eb)throw new Error(Om[s]);this._dict_set=!0}}_k.prototype.push=function(e,t){const s=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?hre:cre,typeof e=="string"?s.input=Ix.string2buf(e):w9.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){if(s.avail_out===0&&(s.output=new Uint8Array(n),s.next_out=0,s.avail_out=n),(a===dre||a===ure)&&s.avail_out<=6){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(i=Xg.deflate(s,a),i===fre)return s.next_out>0&&this.onData(s.output.subarray(0,s.next_out)),i=Xg.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===eb;if(s.avail_out===0){this.onData(s.output);continue}if(a>0&&s.next_out>0){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(s.avail_in===0)break}return!0};_k.prototype.onData=function(e){this.chunks.push(e)};_k.prototype.onEnd=function(e){e===eb&&(this.result=D2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const ey=16209,xre=16191;var vre=function(t,s){let n,i,a,o,l,c,d,u,h,m,f,g,p,b,x,y,w,S,C,L,R,M,D,$;const E=t.state;n=t.next_in,D=t.input,i=n+(t.avail_in-5),a=t.next_out,$=t.output,o=a-(s-t.avail_out),l=a+(t.avail_out-257),c=E.dmax,d=E.wsize,u=E.whave,h=E.wnext,m=E.window,f=E.hold,g=E.bits,p=E.lencode,b=E.distcode,x=(1<<E.lenbits)-1,y=(1<<E.distbits)-1;e:do{g<15&&(f+=D[n++]<<g,g+=8,f+=D[n++]<<g,g+=8),w=p[f&x];t:for(;;){if(S=w>>>24,f>>>=S,g-=S,S=w>>>16&255,S===0)$[a++]=w&65535;else if(S&16){C=w&65535,S&=15,S&&(g<S&&(f+=D[n++]<<g,g+=8),C+=f&(1<<S)-1,f>>>=S,g-=S),g<15&&(f+=D[n++]<<g,g+=8,f+=D[n++]<<g,g+=8),w=b[f&y];s:for(;;){if(S=w>>>24,f>>>=S,g-=S,S=w>>>16&255,S&16){if(L=w&65535,S&=15,g<S&&(f+=D[n++]<<g,g+=8,g<S&&(f+=D[n++]<<g,g+=8)),L+=f&(1<<S)-1,L>c){t.msg="invalid distance too far back",E.mode=ey;break e}if(f>>>=S,g-=S,S=a-o,L>S){if(S=L-S,S>u&&E.sane){t.msg="invalid distance too far back",E.mode=ey;break e}if(R=0,M=m,h===0){if(R+=d-S,S<C){C-=S;do $[a++]=m[R++];while(--S);R=a-L,M=$}}else if(h<S){if(R+=d+h-S,S-=h,S<C){C-=S;do $[a++]=m[R++];while(--S);if(R=0,h<C){S=h,C-=S;do $[a++]=m[R++];while(--S);R=a-L,M=$}}}else if(R+=h-S,S<C){C-=S;do $[a++]=m[R++];while(--S);R=a-L,M=$}for(;C>2;)$[a++]=M[R++],$[a++]=M[R++],$[a++]=M[R++],C-=3;C&&($[a++]=M[R++],C>1&&($[a++]=M[R++]))}else{R=a-L;do $[a++]=$[R++],$[a++]=$[R++],$[a++]=$[R++],C-=3;while(C>2);C&&($[a++]=$[R++],C>1&&($[a++]=$[R++]))}}else if(S&64){t.msg="invalid distance code",E.mode=ey;break e}else{w=b[(w&65535)+(f&(1<<S)-1)];continue s}break}}else if(S&64)if(S&32){E.mode=xre;break e}else{t.msg="invalid literal/length code",E.mode=ey;break e}else{w=p[(w&65535)+(f&(1<<S)-1)];continue t}break}}while(n<i&&a<l);C=g>>3,n-=C,g-=C<<3,f&=(1<<g)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<l?257+(l-a):257-(a-l),E.hold=f,E.bits=g};const df=15,wA=852,jA=592,NA=0,Uj=1,SA=2,yre=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bre=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wre=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jre=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Nre=(e,t,s,n,i,a,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,f=0,g=0,p=0,b=0,x=0,y=0,w,S,C,L,R,M=null,D;const $=new Uint16Array(df+1),E=new Uint16Array(df+1);let T=null,q,B,te;for(d=0;d<=df;d++)$[d]=0;for(u=0;u<n;u++)$[t[s+u]]++;for(f=c,m=df;m>=1&&$[m]===0;m--);if(f>m&&(f=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&$[h]===0;h++);for(f<h&&(f=h),b=1,d=1;d<=df;d++)if(b<<=1,b-=$[d],b<0)return-1;if(b>0&&(e===NA||m!==1))return-1;for(E[1]=0,d=1;d<df;d++)E[d+1]=E[d]+$[d];for(u=0;u<n;u++)t[s+u]!==0&&(o[E[t[s+u]]++]=u);if(e===NA?(M=T=o,D=20):e===Uj?(M=yre,T=bre,D=257):(M=wre,T=jre,D=0),y=0,u=0,d=h,R=a,g=f,p=0,C=-1,x=1<<f,L=x-1,e===Uj&&x>wA||e===SA&&x>jA)return 1;for(;;){q=d-p,o[u]+1<D?(B=0,te=o[u]):o[u]>=D?(B=T[o[u]-D],te=M[o[u]-D]):(B=96,te=0),w=1<<d-p,S=1<<g,h=S;do S-=w,i[R+(y>>p)+S]=q<<24|B<<16|te|0;while(S!==0);for(w=1<<d-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,u++,--$[d]===0){if(d===m)break;d=t[s+o[u]]}if(d>f&&(y&L)!==C){for(p===0&&(p=f),R+=h,g=d-p,b=1<<g;g+p<m&&(b-=$[g+p],!(b<=0));)g++,b<<=1;if(x+=1<<g,e===Uj&&x>wA||e===SA&&x>jA)return 1;C=y&L,i[C]=f<<24|g<<16|R-a|0}}return y!==0&&(i[R+y]=d-p<<24|64<<16|0),l.bits=f,0};var Qg=Nre;const Sre=0,j9=1,N9=2,{Z_FINISH:CA,Z_BLOCK:Cre,Z_TREES:ty,Z_OK:Ch,Z_STREAM_END:kre,Z_NEED_DICT:_re,Z_STREAM_ERROR:Xa,Z_DATA_ERROR:S9,Z_MEM_ERROR:C9,Z_BUF_ERROR:Pre,Z_DEFLATED:kA}=D0,O2=16180,_A=16181,PA=16182,AA=16183,EA=16184,TA=16185,MA=16186,RA=16187,LA=16188,DA=16189,tb=16190,Ul=16191,Hj=16192,OA=16193,qj=16194,IA=16195,FA=16196,BA=16197,zA=16198,sy=16199,ny=16200,VA=16201,$A=16202,UA=16203,HA=16204,qA=16205,Wj=16206,WA=16207,YA=16208,hn=16209,k9=16210,_9=16211,Are=852,Ere=592,Tre=15,Mre=Tre,GA=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Rre(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ih=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<O2||t.mode>_9?1:0},P9=e=>{if(Ih(e))return Xa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=O2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Are),t.distcode=t.distdyn=new Int32Array(Ere),t.sane=1,t.back=-1,Ch},A9=e=>{if(Ih(e))return Xa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,P9(e)},E9=(e,t)=>{let s;if(Ih(e))return Xa;const n=e.state;return t<0?(s=0,t=-t):(s=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Xa:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=s,n.wbits=t,A9(e))},T9=(e,t)=>{if(!e)return Xa;const s=new Rre;e.state=s,s.strm=e,s.window=null,s.mode=O2;const n=E9(e,t);return n!==Ch&&(e.state=null),n},Lre=e=>T9(e,Mre);let KA=!0,Yj,Gj;const Dre=e=>{if(KA){Yj=new Int32Array(512),Gj=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Qg(j9,e.lens,0,288,Yj,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Qg(N9,e.lens,0,32,Gj,0,e.work,{bits:5}),KA=!1}e.lencode=Yj,e.lenbits=9,e.distcode=Gj,e.distbits=5},M9=(e,t,s,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(s-a.wsize,s),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(s-n,s-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(s-n,s),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Ore=(e,t)=>{let s,n,i,a,o,l,c,d,u,h,m,f,g,p,b=0,x,y,w,S,C,L,R,M;const D=new Uint8Array(4);let $,E;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ih(e)||!e.output||!e.input&&e.avail_in!==0)return Xa;s=e.state,s.mode===Ul&&(s.mode=Hj),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=s.hold,u=s.bits,h=l,m=c,M=Ch;e:for(;;)switch(s.mode){case O2:if(s.wrap===0){s.mode=Hj;break}for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(s.wrap&2&&d===35615){s.wbits===0&&(s.wbits=15),s.check=0,D[0]=d&255,D[1]=d>>>8&255,s.check=_r(s.check,D,2,0),d=0,u=0,s.mode=_A;break}if(s.head&&(s.head.done=!1),!(s.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",s.mode=hn;break}if((d&15)!==kA){e.msg="unknown compression method",s.mode=hn;break}if(d>>>=4,u-=4,R=(d&15)+8,s.wbits===0&&(s.wbits=R),R>15||R>s.wbits){e.msg="invalid window size",s.mode=hn;break}s.dmax=1<<s.wbits,s.flags=0,e.adler=s.check=1,s.mode=d&512?DA:Ul,d=0,u=0;break;case _A:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(s.flags=d,(s.flags&255)!==kA){e.msg="unknown compression method",s.mode=hn;break}if(s.flags&57344){e.msg="unknown header flags set",s.mode=hn;break}s.head&&(s.head.text=d>>8&1),s.flags&512&&s.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,s.check=_r(s.check,D,2,0)),d=0,u=0,s.mode=PA;case PA:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.head&&(s.head.time=d),s.flags&512&&s.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,D[2]=d>>>16&255,D[3]=d>>>24&255,s.check=_r(s.check,D,4,0)),d=0,u=0,s.mode=AA;case AA:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.head&&(s.head.xflags=d&255,s.head.os=d>>8),s.flags&512&&s.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,s.check=_r(s.check,D,2,0)),d=0,u=0,s.mode=EA;case EA:if(s.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.length=d,s.head&&(s.head.extra_len=d),s.flags&512&&s.wrap&4&&(D[0]=d&255,D[1]=d>>>8&255,s.check=_r(s.check,D,2,0)),d=0,u=0}else s.head&&(s.head.extra=null);s.mode=TA;case TA:if(s.flags&1024&&(f=s.length,f>l&&(f=l),f&&(s.head&&(R=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Uint8Array(s.head.extra_len)),s.head.extra.set(n.subarray(a,a+f),R)),s.flags&512&&s.wrap&4&&(s.check=_r(s.check,n,f,a)),l-=f,a+=f,s.length-=f),s.length))break e;s.length=0,s.mode=MA;case MA:if(s.flags&2048){if(l===0)break e;f=0;do R=n[a+f++],s.head&&R&&s.length<65536&&(s.head.name+=String.fromCharCode(R));while(R&&f<l);if(s.flags&512&&s.wrap&4&&(s.check=_r(s.check,n,f,a)),l-=f,a+=f,R)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=RA;case RA:if(s.flags&4096){if(l===0)break e;f=0;do R=n[a+f++],s.head&&R&&s.length<65536&&(s.head.comment+=String.fromCharCode(R));while(R&&f<l);if(s.flags&512&&s.wrap&4&&(s.check=_r(s.check,n,f,a)),l-=f,a+=f,R)break e}else s.head&&(s.head.comment=null);s.mode=LA;case LA:if(s.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(s.wrap&4&&d!==(s.check&65535)){e.msg="header crc mismatch",s.mode=hn;break}d=0,u=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),e.adler=s.check=0,s.mode=Ul;break;case DA:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}e.adler=s.check=GA(d),d=0,u=0,s.mode=tb;case tb:if(s.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,s.hold=d,s.bits=u,_re;e.adler=s.check=1,s.mode=Ul;case Ul:if(t===Cre||t===ty)break e;case Hj:if(s.last){d>>>=u&7,u-=u&7,s.mode=Wj;break}for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}switch(s.last=d&1,d>>>=1,u-=1,d&3){case 0:s.mode=OA;break;case 1:if(Dre(s),s.mode=sy,t===ty){d>>>=2,u-=2;break e}break;case 2:s.mode=FA;break;case 3:e.msg="invalid block type",s.mode=hn}d>>>=2,u-=2;break;case OA:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",s.mode=hn;break}if(s.length=d&65535,d=0,u=0,s.mode=qj,t===ty)break e;case qj:s.mode=IA;case IA:if(f=s.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;i.set(n.subarray(a,a+f),o),l-=f,a+=f,c-=f,o+=f,s.length-=f;break}s.mode=Ul;break;case FA:for(;u<14;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(s.nlen=(d&31)+257,d>>>=5,u-=5,s.ndist=(d&31)+1,d>>>=5,u-=5,s.ncode=(d&15)+4,d>>>=4,u-=4,s.nlen>286||s.ndist>30){e.msg="too many length or distance symbols",s.mode=hn;break}s.have=0,s.mode=BA;case BA:for(;s.have<s.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.lens[T[s.have++]]=d&7,d>>>=3,u-=3}for(;s.have<19;)s.lens[T[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,$={bits:s.lenbits},M=Qg(Sre,s.lens,0,19,s.lencode,0,s.work,$),s.lenbits=$.bits,M){e.msg="invalid code lengths set",s.mode=hn;break}s.have=0,s.mode=zA;case zA:for(;s.have<s.nlen+s.ndist;){for(;b=s.lencode[d&(1<<s.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(w<16)d>>>=x,u-=x,s.lens[s.have++]=w;else{if(w===16){for(E=x+2;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(d>>>=x,u-=x,s.have===0){e.msg="invalid bit length repeat",s.mode=hn;break}R=s.lens[s.have-1],f=3+(d&3),d>>>=2,u-=2}else if(w===17){for(E=x+3;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=x,u-=x,R=0,f=3+(d&7),d>>>=3,u-=3}else{for(E=x+7;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=x,u-=x,R=0,f=11+(d&127),d>>>=7,u-=7}if(s.have+f>s.nlen+s.ndist){e.msg="invalid bit length repeat",s.mode=hn;break}for(;f--;)s.lens[s.have++]=R}}if(s.mode===hn)break;if(s.lens[256]===0){e.msg="invalid code -- missing end-of-block",s.mode=hn;break}if(s.lenbits=9,$={bits:s.lenbits},M=Qg(j9,s.lens,0,s.nlen,s.lencode,0,s.work,$),s.lenbits=$.bits,M){e.msg="invalid literal/lengths set",s.mode=hn;break}if(s.distbits=6,s.distcode=s.distdyn,$={bits:s.distbits},M=Qg(N9,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,$),s.distbits=$.bits,M){e.msg="invalid distances set",s.mode=hn;break}if(s.mode=sy,t===ty)break e;case sy:s.mode=ny;case ny:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,s.hold=d,s.bits=u,vre(e,m),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=s.hold,u=s.bits,s.mode===Ul&&(s.back=-1);break}for(s.back=0;b=s.lencode[d&(1<<s.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(y&&!(y&240)){for(S=x,C=y,L=w;b=s.lencode[L+((d&(1<<S+C)-1)>>S)],x=b>>>24,y=b>>>16&255,w=b&65535,!(S+x<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=S,u-=S,s.back+=S}if(d>>>=x,u-=x,s.back+=x,s.length=w,y===0){s.mode=qA;break}if(y&32){s.back=-1,s.mode=Ul;break}if(y&64){e.msg="invalid literal/length code",s.mode=hn;break}s.extra=y&15,s.mode=VA;case VA:if(s.extra){for(E=s.extra;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.length+=d&(1<<s.extra)-1,d>>>=s.extra,u-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=$A;case $A:for(;b=s.distcode[d&(1<<s.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(!(y&240)){for(S=x,C=y,L=w;b=s.distcode[L+((d&(1<<S+C)-1)>>S)],x=b>>>24,y=b>>>16&255,w=b&65535,!(S+x<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=S,u-=S,s.back+=S}if(d>>>=x,u-=x,s.back+=x,y&64){e.msg="invalid distance code",s.mode=hn;break}s.offset=w,s.extra=y&15,s.mode=UA;case UA:if(s.extra){for(E=s.extra;u<E;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}s.offset+=d&(1<<s.extra)-1,d>>>=s.extra,u-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){e.msg="invalid distance too far back",s.mode=hn;break}s.mode=HA;case HA:if(c===0)break e;if(f=m-c,s.offset>f){if(f=s.offset-f,f>s.whave&&s.sane){e.msg="invalid distance too far back",s.mode=hn;break}f>s.wnext?(f-=s.wnext,g=s.wsize-f):g=s.wnext-f,f>s.length&&(f=s.length),p=s.window}else p=i,g=o-s.offset,f=s.length;f>c&&(f=c),c-=f,s.length-=f;do i[o++]=p[g++];while(--f);s.length===0&&(s.mode=ny);break;case qA:if(c===0)break e;i[o++]=s.length,c--,s.mode=ny;break;case Wj:if(s.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[a++]<<u,u+=8}if(m-=c,e.total_out+=m,s.total+=m,s.wrap&4&&m&&(e.adler=s.check=s.flags?_r(s.check,i,m,o-m):Dx(s.check,i,m,o-m)),m=c,s.wrap&4&&(s.flags?d:GA(d))!==s.check){e.msg="incorrect data check",s.mode=hn;break}d=0,u=0}s.mode=WA;case WA:if(s.wrap&&s.flags){for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(s.wrap&4&&d!==(s.total&4294967295)){e.msg="incorrect length check",s.mode=hn;break}d=0,u=0}s.mode=YA;case YA:M=kre;break e;case hn:M=S9;break e;case k9:return C9;case _9:default:return Xa}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,s.hold=d,s.bits=u,(s.wsize||m!==e.avail_out&&s.mode<hn&&(s.mode<Wj||t!==CA))&&M9(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,s.total+=m,s.wrap&4&&m&&(e.adler=s.check=s.flags?_r(s.check,i,m,e.next_out-m):Dx(s.check,i,m,e.next_out-m)),e.data_type=s.bits+(s.last?64:0)+(s.mode===Ul?128:0)+(s.mode===sy||s.mode===qj?256:0),(h===0&&m===0||t===CA)&&M===Ch&&(M=Pre),M},Ire=e=>{if(Ih(e))return Xa;let t=e.state;return t.window&&(t.window=null),e.state=null,Ch},Fre=(e,t)=>{if(Ih(e))return Xa;const s=e.state;return s.wrap&2?(s.head=t,t.done=!1,Ch):Xa},Bre=(e,t)=>{const s=t.length;let n,i,a;return Ih(e)||(n=e.state,n.wrap!==0&&n.mode!==tb)?Xa:n.mode===tb&&(i=1,i=Dx(i,t,s,0),i!==n.check)?S9:(a=M9(e,t,s,s),a?(n.mode=k9,C9):(n.havedict=1,Ch))};var zre=A9,Vre=E9,$re=P9,Ure=Lre,Hre=T9,qre=Ore,Wre=Ire,Yre=Fre,Gre=Bre,Kre="pako inflate (from Nodeca project)",ec={inflateReset:zre,inflateReset2:Vre,inflateResetKeep:$re,inflateInit:Ure,inflateInit2:Hre,inflate:qre,inflateEnd:Wre,inflateGetHeader:Yre,inflateSetDictionary:Gre,inflateInfo:Kre};function Zre(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xre=Zre;const R9=Object.prototype.toString,{Z_NO_FLUSH:Qre,Z_FINISH:Jre,Z_OK:Fx,Z_STREAM_END:Kj,Z_NEED_DICT:Zj,Z_STREAM_ERROR:eie,Z_DATA_ERROR:ZA,Z_MEM_ERROR:tie}=D0;function I0(e){this.options=D2.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b9,this.strm.avail_out=0;let s=ec.inflateInit2(this.strm,t.windowBits);if(s!==Fx)throw new Error(Om[s]);if(this.header=new Xre,ec.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ix.string2buf(t.dictionary):R9.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(s=ec.inflateSetDictionary(this.strm,t.dictionary),s!==Fx)))throw new Error(Om[s])}I0.prototype.push=function(e,t){const s=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Jre:Qre,R9.call(e)==="[object ArrayBuffer]"?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(s.avail_out===0&&(s.output=new Uint8Array(n),s.next_out=0,s.avail_out=n),a=ec.inflate(s,o),a===Zj&&i&&(a=ec.inflateSetDictionary(s,i),a===Fx?a=ec.inflate(s,o):a===ZA&&(a=Zj));s.avail_in>0&&a===Kj&&s.state.wrap>0&&e[s.next_in]!==0;)ec.inflateReset(s),a=ec.inflate(s,o);switch(a){case eie:case ZA:case Zj:case tie:return this.onEnd(a),this.ended=!0,!1}if(l=s.avail_out,s.next_out&&(s.avail_out===0||a===Kj))if(this.options.to==="string"){let c=Ix.utf8border(s.output,s.next_out),d=s.next_out-c,u=Ix.buf2string(s.output,c);s.next_out=d,s.avail_out=n-d,d&&s.output.set(s.output.subarray(c,c+d),0),this.onData(u)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(!(a===Fx&&l===0)){if(a===Kj)return a=ec.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(s.avail_in===0)break}}return!0};I0.prototype.onData=function(e){this.chunks.push(e)};I0.prototype.onEnd=function(e){e===Fx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=D2.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Pk(e,t){const s=new I0(t);if(s.push(e),s.err)throw s.msg||Om[s.err];return s.result}function sie(e,t){return t=t||{},t.raw=!0,Pk(e,t)}var nie=I0,rie=Pk,iie=sie,aie=Pk,oie=D0,lie={Inflate:nie,inflate:rie,inflateRaw:iie,ungzip:aie,constants:oie};const{Inflate:cie,inflate:die,inflateRaw:bwe,ungzip:wwe}=lie;var XA=cie,uie=die;const L9=[];for(let e=0;e<256;e++){let t=e;for(let s=0;s<8;s++)t&1?t=3988292384^t>>>1:t=t>>>1;L9[e]=t}const QA=4294967295;function hie(e,t,s){let n=e;for(let i=0;i<s;i++)n=L9[(n^t[i])&255]^n>>>8;return n}function fie(e,t){return(hie(QA,e,t)^QA)>>>0}function JA(e,t,s){const n=e.readUint32(),i=fie(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${s}. Expected ${n}, found ${i}`)}function D9(e,t,s){for(let n=0;n<s;n++)t[n]=e[n]}function O9(e,t,s,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<s;i++)t[i]=e[i]+t[i-n]&255}function I9(e,t,s,n){let i=0;if(s.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+s[i]&255}function F9(e,t,s,n,i){let a=0;if(s.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(s[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+s[a]>>1)&255}}function B9(e,t,s,n,i){let a=0;if(s.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+s[a]&255;for(;a<n;a++)t[a]=e[a]+mie(t[a-i],s[a],s[a-i])&255}}function mie(e,t,s){const n=e+t-s,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-s);return i<=a&&i<=o?e:a<=o?t:s}function pie(e,t,s,n,i,a){switch(e){case 0:D9(t,s,i);break;case 1:O9(t,s,i,a);break;case 2:I9(t,s,n,i);break;case 3:F9(t,s,n,i,a);break;case 4:B9(t,s,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const gie=new Uint16Array([255]),xie=new Uint8Array(gie.buffer),vie=xie[0]===255;function yie(e){const{data:t,width:s,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*s*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((s-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(m<=0||f<=0)continue;const g=m*l,p=new Uint8Array(g);for(let b=0;b<f;b++){const x=t[d++],y=t.subarray(d,d+g);d+=g;const w=new Uint8Array(g);pie(x,y,w,p,g,l),p.set(w);for(let S=0;S<m;S++){const C=h.x+S*h.xStep,L=h.y+b*h.yStep;if(!(C>=s||L>=n))for(let R=0;R<l;R++)c[(L*s+C)*l+R]=w[S*l+R]}}}if(a===16){const u=new Uint16Array(c.buffer);if(vie)for(let h=0;h<u.length;h++)u[h]=bie(u[h]);return u}else return c}function bie(e){return(e&255)<<8|e>>8&255}const wie=new Uint16Array([255]),jie=new Uint8Array(wie.buffer),Nie=jie[0]===255,Sie=new Uint8Array(0);function eE(e){const{data:t,width:s,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*s),c=new Uint8Array(n*l);let d=Sie,u=0,h,m;for(let f=0;f<n;f++){switch(h=t.subarray(u+1,u+1+l),m=c.subarray(f*l,(f+1)*l),t[u]){case 0:D9(h,m,l);break;case 1:O9(h,m,l,o);break;case 2:I9(h,m,d,l);break;case 3:F9(h,m,d,l,o);break;case 4:B9(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=m,u+=l+1}if(a===16){const f=new Uint16Array(c.buffer);if(Nie)for(let g=0;g<f.length;g++)f[g]=Cie(f[g]);return f}else return c}function Cie(e){return(e&255)<<8|e>>8&255}const Qy=Uint8Array.of(137,80,78,71,13,10,26,10);function tE(e){if(!kie(e.readBytes(Qy.length)))throw new Error("wrong PNG signature")}function kie(e){if(e.length<Qy.length)return!1;for(let t=0;t<Qy.length;t++)if(e[t]!==Qy[t])return!1;return!0}const _ie="tEXt",Pie=0,z9=new TextDecoder("latin1");function Aie(e){if(Tie(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Eie=/^[\u0000-\u00FF]*$/;function Tie(e){if(!Eie.test(e))throw new Error("invalid latin1 text")}function Mie(e,t,s){const n=V9(t);e[n]=Rie(t,s-n.length-1)}function V9(e){for(e.mark();e.readByte()!==Pie;);const t=e.offset;e.reset();const s=z9.decode(e.readBytes(t-e.offset-1));return e.skip(1),Aie(s),s}function Rie(e,t){return z9.decode(e.readBytes(t))}const ia={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Xj={UNKNOWN:-1,DEFLATE:0},sE={UNKNOWN:-1,ADAPTIVE:0},Qj={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ry={NONE:0,BACKGROUND:1,PREVIOUS:2},Jj={SOURCE:0,OVER:1};class Lie extends wk{constructor(s,n={}){super(s);et(this,"_checkCrc");et(this,"_inflator");et(this,"_png");et(this,"_apng");et(this,"_end");et(this,"_hasPalette");et(this,"_palette");et(this,"_hasTransparency");et(this,"_transparency");et(this,"_compressionMethod");et(this,"_filterMethod");et(this,"_interlaceMethod");et(this,"_colorType");et(this,"_isAnimated");et(this,"_numberOfFrames");et(this,"_numberOfPlays");et(this,"_frames");et(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new XA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Xj.UNKNOWN,this._filterMethod=sE.UNKNOWN,this._interlaceMethod=Qj.UNKNOWN,this._colorType=ia.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(tE(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeChunk(s,n)}return this.decodeImage(),this._png}decodeApng(){for(tE(this);!this._end;){const s=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(s,n)}return this.decodeApngImage(),this._apng}decodeChunk(s,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(s);break;case"IDAT":this.decodeIDAT(s);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(s);break;case"iCCP":this.decodeiCCP(s);break;case _ie:Mie(this._png.text,this,s);break;case"pHYs":this.decodepHYs();break;default:this.skip(s);break}if(this.offset-i!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JA(this,s+4,n):this.skip(4)}decodeApngChunk(s,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(s);break;default:this.decodeChunk(s,n),this.offset=i+s;break}if(this.offset-i!==s)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?JA(this,s+4,n):this.skip(4)}decodeIHDR(){const s=this._png;s.width=this.readUint32(),s.height=this.readUint32(),s.depth=Die(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ia.GREYSCALE:i=1;break;case ia.TRUECOLOUR:i=3;break;case ia.INDEXED_COLOUR:i=1;break;case ia.GREYSCALE_ALPHA:i=2;break;case ia.TRUECOLOUR_ALPHA:i=4;break;case ia.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Xj.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const s={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(s)}decodePLTE(s){if(s%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${s}`);const n=s/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(s){this._writingDataChunks=!0;const n=s,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodeFDAT(s){this._writingDataChunks=!0;let n=s,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(s)}decodetRNS(s){switch(this._colorType){case ia.GREYSCALE:case ia.TRUECOLOUR:{if(s%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${s}`);if(s/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${s/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(s/2);for(let n=0;n<s/2;n++)this._transparency[n]=this.readUint16();break}case ia.INDEXED_COLOUR:{if(s>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${s} vs ${this._palette.length})`);let n=0;for(;n<s;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ia.UNKNOWN:case ia.GREYSCALE_ALPHA:case ia.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(s){const n=V9(this),i=this.readUint8();if(i!==Xj.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(s-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:uie(a)}}decodepHYs(){const s=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:s,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let s=0;s<this._numberOfFrames;s++){const n={sequenceNumber:this._frames[s].sequenceNumber,delayNumber:this._frames[s].delayNumber,delayDenominator:this._frames[s].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(s);if(i){if(i.data=eE({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),s===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(s-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(s,n,i){switch(s.disposeOp){case ry.NONE:break;case ry.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*s.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case ry.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(s,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case Jj.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++)s.data[c+u]=n.data[d+u]}break;case Jj.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++){const h=n.data[d+this._png.channels-1]/i,m=u%(this._png.channels-1)===0?1:n.data[d+u],f=Math.floor(h*m+(1-h)*s.data[c+u]);s.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const s=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==sE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Qj.NO_INTERLACE)this._png.data=eE({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Qj.ADAM7)this._png.data=yie({data:s,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const s=this._inflator.result,n=this._frames.at(-1);n?n.data=s:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ry.NONE,blendOp:Jj.SOURCE,data:s}),this._inflator=new XA,this._writingDataChunks=!1}}function Die(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var nE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(nE||(nE={}));function Oie(e,t){return new Lie(e,t).decode()}var Yt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function eN(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Ks={log:eN,warn:function(e){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):eN.call(null,arguments))},error:function(e){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):eN(e))}};function tN(e,t,s){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Du(n.response,t,s)},n.onerror=function(){Ks.error("could not download file")},n.send()}function rE(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function iy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Du=Yt.saveAs||((typeof window>"u"?"undefined":Vs(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,s){var n=Yt.URL||Yt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?rE(i.href)?tN(e,t,s):iy(i,i.target="_blank"):iy(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){iy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,s){if(t=t||e.name||"download",typeof e=="string")if(rE(e))tN(e,t,s);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){iy(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Vs(a)!=="object"&&(Ks.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,s),t)}:function(e,t,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return tN(e,t,s);var i=e.type==="application/octet-stream",a=/constructor/i.test(Yt.HTMLElement)||Yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Vs(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=Yt.URL||Yt.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $9(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<s.length;n++){var i=s[n].re,a=s[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var Jy=Yt.atob.bind(Yt),iE=Yt.btoa.bind(Yt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function sN(e,t){var s=e[0],n=e[1],i=e[2],a=e[3];s=Kr(s,n,i,a,t[0],7,-680876936),a=Kr(a,s,n,i,t[1],12,-389564586),i=Kr(i,a,s,n,t[2],17,606105819),n=Kr(n,i,a,s,t[3],22,-1044525330),s=Kr(s,n,i,a,t[4],7,-176418897),a=Kr(a,s,n,i,t[5],12,1200080426),i=Kr(i,a,s,n,t[6],17,-1473231341),n=Kr(n,i,a,s,t[7],22,-45705983),s=Kr(s,n,i,a,t[8],7,1770035416),a=Kr(a,s,n,i,t[9],12,-1958414417),i=Kr(i,a,s,n,t[10],17,-42063),n=Kr(n,i,a,s,t[11],22,-1990404162),s=Kr(s,n,i,a,t[12],7,1804603682),a=Kr(a,s,n,i,t[13],12,-40341101),i=Kr(i,a,s,n,t[14],17,-1502002290),s=Zr(s,n=Kr(n,i,a,s,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Zr(a,s,n,i,t[6],9,-1069501632),i=Zr(i,a,s,n,t[11],14,643717713),n=Zr(n,i,a,s,t[0],20,-373897302),s=Zr(s,n,i,a,t[5],5,-701558691),a=Zr(a,s,n,i,t[10],9,38016083),i=Zr(i,a,s,n,t[15],14,-660478335),n=Zr(n,i,a,s,t[4],20,-405537848),s=Zr(s,n,i,a,t[9],5,568446438),a=Zr(a,s,n,i,t[14],9,-1019803690),i=Zr(i,a,s,n,t[3],14,-187363961),n=Zr(n,i,a,s,t[8],20,1163531501),s=Zr(s,n,i,a,t[13],5,-1444681467),a=Zr(a,s,n,i,t[2],9,-51403784),i=Zr(i,a,s,n,t[7],14,1735328473),s=Xr(s,n=Zr(n,i,a,s,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Xr(a,s,n,i,t[8],11,-2022574463),i=Xr(i,a,s,n,t[11],16,1839030562),n=Xr(n,i,a,s,t[14],23,-35309556),s=Xr(s,n,i,a,t[1],4,-1530992060),a=Xr(a,s,n,i,t[4],11,1272893353),i=Xr(i,a,s,n,t[7],16,-155497632),n=Xr(n,i,a,s,t[10],23,-1094730640),s=Xr(s,n,i,a,t[13],4,681279174),a=Xr(a,s,n,i,t[0],11,-358537222),i=Xr(i,a,s,n,t[3],16,-722521979),n=Xr(n,i,a,s,t[6],23,76029189),s=Xr(s,n,i,a,t[9],4,-640364487),a=Xr(a,s,n,i,t[12],11,-421815835),i=Xr(i,a,s,n,t[15],16,530742520),s=Qr(s,n=Xr(n,i,a,s,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Qr(a,s,n,i,t[7],10,1126891415),i=Qr(i,a,s,n,t[14],15,-1416354905),n=Qr(n,i,a,s,t[5],21,-57434055),s=Qr(s,n,i,a,t[12],6,1700485571),a=Qr(a,s,n,i,t[3],10,-1894986606),i=Qr(i,a,s,n,t[10],15,-1051523),n=Qr(n,i,a,s,t[1],21,-2054922799),s=Qr(s,n,i,a,t[8],6,1873313359),a=Qr(a,s,n,i,t[15],10,-30611744),i=Qr(i,a,s,n,t[6],15,-1560198380),n=Qr(n,i,a,s,t[13],21,1309151649),s=Qr(s,n,i,a,t[4],6,-145523070),a=Qr(a,s,n,i,t[11],10,-1120210379),i=Qr(i,a,s,n,t[2],15,718787259),n=Qr(n,i,a,s,t[9],21,-343485551),e[0]=wd(s,e[0]),e[1]=wd(n,e[1]),e[2]=wd(i,e[2]),e[3]=wd(a,e[3])}function I2(e,t,s,n,i,a){return t=wd(wd(t,e),wd(n,a)),wd(t<<i|t>>>32-i,s)}function Kr(e,t,s,n,i,a,o){return I2(t&s|~t&n,e,t,i,a,o)}function Zr(e,t,s,n,i,a,o){return I2(t&n|s&~n,e,t,i,a,o)}function Xr(e,t,s,n,i,a,o){return I2(t^s^n,e,t,i,a,o)}function Qr(e,t,s,n,i,a,o){return I2(s^(t|~n),e,t,i,a,o)}function U9(e){var t,s=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)sN(n,Iie(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(sN(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*s,sN(n,i),n}function Iie(e){var t,s=[];for(t=0;t<64;t+=4)s[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return s}var aE="0123456789abcdef".split("");function Fie(e){for(var t="",s=0;s<4;s++)t+=aE[e>>8*s+4&15]+aE[e>>8*s&15];return t}function Bie(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ES(e){return U9(e).map(Bie).join("")}var zie=function(e){for(var t=0;t<e.length;t++)e[t]=Fie(e[t]);return e.join("")}(U9("hello"))!="5d41402abc4b2a76b9719d911017c592";function wd(e,t){if(zie){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function TS(e,t){var s,n,i,a;if(e!==s){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}s=e,n=l}else l=n;var h=t.length,m=0,f=0,g="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oE={print:4,modify:8,copy:16,"annot-forms":32};function xf(e,t,s,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(oE.perm!==void 0)throw new Error("Invalid permission: "+l);i+=oE[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=ES(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=TS(this.encryptionKey,this.padding)}function vf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",s=e.length,n=0;n<s;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function lE(e){if(Vs(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(s,n,i){if(i=i||!1,typeof s!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(s)||(t[s]={});var a=Math.random().toString(35);return t[s][a]=[n,!!i],a},this.unsubscribe=function(s){for(var n in t)if(t[n][s])return delete t[n][s],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(s){if(t.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[s]){var o=t[s][a];try{o[0].apply(e,n)}catch(l){Yt.console&&Ks.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function sb(e){if(!(this instanceof sb))return new sb(e);var t="opacity,stroke-opacity".split(",");for(var s in e)e.hasOwnProperty(s)&&t.indexOf(s)>=0&&(this[s]=e[s]);this.id="",this.objectNumber=-1}function H9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Vu(e,t,s,n,i){if(!(this instanceof Vu))return new Vu(e,t,s,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=s,H9.call(this,n,i)}function Mf(e,t,s,n,i){if(!(this instanceof Mf))return new Mf(e,t,s,n,i);this.boundingBox=e,this.xStep=t,this.yStep=s,this.stream="",this.cloneIndex=0,H9.call(this,n,i)}function bt(e){var t,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;Vs(e=e||{})==="object"&&(s=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",s=(""+(s||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=lE;var g="1.3",p=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(k){g=k};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var x=f.__private__.getPageFormat=function(k){return b[k]};i=i||"a4";var y="compat",w="advanced",S=y;function C(){this.saveGraphicsState(),se(new At(Ue,0,0,-Ue,0,Xi()*Ue).toString()+" cm"),this.setFontSize(this.getFontSize()/Ue),d="n",S=w}function L(){this.restoreGraphicsState(),d="S",S=y}var R=f.__private__.combineFontStyleAndFontWeight=function(k,F){if(k=="bold"&&F=="normal"||k=="bold"&&F==400||k=="normal"&&F=="italic"||k=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(k=F==400||F==="normal"?k==="italic"?"italic":"normal":F!=700&&F!=="bold"||k!=="normal"?(F==700?"bold":F)+""+k:"bold"),k};f.advancedAPI=function(k){var F=S===y;return F&&C.call(this),typeof k!="function"||(k(this),F&&L.call(this)),this},f.compatAPI=function(k){var F=S===w;return F&&L.call(this),typeof k!="function"||(k(this),F&&C.call(this)),this},f.isAdvancedAPI=function(){return S===w};var M,D=function(k){if(S!==w)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=f.roundToPrecision=f.__private__.roundToPrecision=function(k,F){var ee=t||F;if(isNaN(k)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(ee).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf=typeof c=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,c)}:c==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $(k,16)};var E=f.f2=f.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return $(k,2)},T=f.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return $(k,3)},q=f.scale=f.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return S===y?k*Ue:S===w?k:void 0},B=function(k){return q(function(F){return S===y?Xi()-F:S===w?F:void 0}(k))};f.__private__.setPrecision=f.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(t=parseInt(k,10))};var te,ie="00000000000000000000000000000000",G=f.__private__.getFileId=function(){return ie},P=f.__private__.setFileId=function(k){return ie=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vn=new xf(u.userPermissions,u.userPassword,u.ownerPassword,ie)),ie};f.setFileId=function(k){return P(k),this},f.getFileId=function(){return G()};var U=f.__private__.convertDateToPDFDate=function(k){var F=k.getTimezoneOffset(),ee=F<0?"+":"-",ue=Math.floor(Math.abs(F/60)),je=Math.abs(F%60),De=[ee,Z(ue),"'",Z(je),"'"].join("");return["D:",k.getFullYear(),Z(k.getMonth()+1),Z(k.getDate()),Z(k.getHours()),Z(k.getMinutes()),Z(k.getSeconds()),De].join("")},xe=f.__private__.convertPDFDateToDate=function(k){var F=parseInt(k.substr(2,4),10),ee=parseInt(k.substr(6,2),10)-1,ue=parseInt(k.substr(8,2),10),je=parseInt(k.substr(10,2),10),De=parseInt(k.substr(12,2),10),Ye=parseInt(k.substr(14,2),10);return new Date(F,ee,ue,je,De,Ye,0)},X=f.__private__.setCreationDate=function(k){var F;if(k===void 0&&(k=new Date),k instanceof Date)F=U(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=k}return te=F},O=f.__private__.getCreationDate=function(k){var F=te;return k==="jsDate"&&(F=xe(te)),F};f.setCreationDate=function(k){return X(k),this},f.getCreationDate=function(k){return O(k)};var W,Z=f.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ce=f.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ae=0,ne=[],Ne=[],be=0,_e=[],Te=[],Ie=!1,ye=Ne;f.__private__.setCustomOutputDestination=function(k){Ie=!0,ye=k};var ge=function(k){Ie||(ye=k)};f.__private__.resetCustomOutputDestination=function(){Ie=!1,ye=Ne};var se=f.__private__.out=function(k){return k=k.toString(),be+=k.length+1,ye.push(k),ye},It=f.__private__.write=function(k){return se(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},Tt=f.__private__.getArrayBuffer=function(k){for(var F=k.length,ee=new ArrayBuffer(F),ue=new Uint8Array(ee);F--;)ue[F]=k.charCodeAt(F);return ee},St=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return St};var Ge=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(k){return Ge=S===w?k/Ue:k,this};var yt,nt=f.__private__.getFontSize=f.getFontSize=function(){return S===y?Ge:Ge*Ue},re=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(k){return re=k,this},f.__private__.getR2L=f.getR2L=function(){return re};var fe,Pe=f.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))yt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');yt=k}else yt=parseInt(k,10)};f.__private__.getZoomMode=function(){return yt};var ze,Le=f.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');fe=k};f.__private__.getPageMode=function(){return fe};var Fe=f.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');ze=k};f.__private__.getLayoutMode=function(){return ze},f.__private__.setDisplayMode=f.setDisplayMode=function(k,F,ee){return Pe(k),Fe(F),Le(ee),this};var we={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(k){if(Object.keys(we).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return we[k]},f.__private__.getDocumentProperties=function(){return we},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(k){for(var F in we)we.hasOwnProperty(F)&&k[F]&&(we[F]=k[F]);return this},f.__private__.setDocumentProperty=function(k,F){if(Object.keys(we).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return we[k]=F};var de,Ue,qe,Ct,kt,lt={},Lt={},ws=[],_t={},Xt={},Vt={},Ys={},sn=null,_s=0,Ft=[],xs=new lE(f),Zi=e.hotfixes||[],En={},ui={},qr=[],At=function k(F,ee,ue,je,De,Ye){if(!(this instanceof k))return new k(F,ee,ue,je,De,Ye);isNaN(F)&&(F=1),isNaN(ee)&&(ee=0),isNaN(ue)&&(ue=0),isNaN(je)&&(je=1),isNaN(De)&&(De=0),isNaN(Ye)&&(Ye=0),this._matrix=[F,ee,ue,je,De,Ye]};Object.defineProperty(At.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(At.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(At.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(At.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(At.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(At.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(At.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(At.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(At.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(At.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(At.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(At.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(At.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(At.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(At.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(At.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),At.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(k)},At.prototype.multiply=function(k){var F=k.sx*this.sx+k.shy*this.shx,ee=k.sx*this.shy+k.shy*this.sy,ue=k.shx*this.sx+k.sy*this.shx,je=k.shx*this.shy+k.sy*this.sy,De=k.tx*this.sx+k.ty*this.shx+this.tx,Ye=k.tx*this.shy+k.ty*this.sy+this.ty;return new At(F,ee,ue,je,De,Ye)},At.prototype.decompose=function(){var k=this.sx,F=this.shy,ee=this.shx,ue=this.sy,je=this.tx,De=this.ty,Ye=Math.sqrt(k*k+F*F),pt=(k/=Ye)*ee+(F/=Ye)*ue;ee-=k*pt,ue-=F*pt;var Nt=Math.sqrt(ee*ee+ue*ue);return pt/=Nt,k*(ue/=Nt)<F*(ee/=Nt)&&(k=-k,F=-F,pt=-pt,Ye=-Ye),{scale:new At(Ye,0,0,Nt,0,0),translate:new At(1,0,0,1,je,De),rotate:new At(k,F,-F,k,0,0),skew:new At(1,0,pt,1,0,0)}},At.prototype.toString=function(k){return this.join(" ")},At.prototype.inversed=function(){var k=this.sx,F=this.shy,ee=this.shx,ue=this.sy,je=this.tx,De=this.ty,Ye=1/(k*ue-F*ee),pt=ue*Ye,Nt=-F*Ye,Wt=-ee*Ye,ts=k*Ye;return new At(pt,Nt,Wt,ts,-pt*je-Wt*De,-Nt*je-ts*De)},At.prototype.applyToPoint=function(k){var F=k.x*this.sx+k.y*this.shx+this.tx,ee=k.x*this.shy+k.y*this.sy+this.ty;return new wu(F,ee)},At.prototype.applyToRectangle=function(k){var F=this.applyToPoint(k),ee=this.applyToPoint(new wu(k.x+k.w,k.y+k.h));return new Ep(F.x,F.y,ee.x-F.x,ee.y-F.y)},At.prototype.clone=function(){var k=this.sx,F=this.shy,ee=this.shx,ue=this.sy,je=this.tx,De=this.ty;return new At(k,F,ee,ue,je,De)},f.Matrix=At;var hi=f.matrixMult=function(k,F){return F.multiply(k)},Ae=new At(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ae;var jt=function(k,F){if(!Xt[k]){var ee=(F instanceof Vu?"Sh":"P")+(Object.keys(_t).length+1).toString(10);F.id=ee,Xt[k]=ee,_t[ee]=F,xs.publish("addPattern",F)}};f.ShadingPattern=Vu,f.TilingPattern=Mf,f.addShadingPattern=function(k,F){return D("addShadingPattern()"),jt(k,F),this},f.beginTilingPattern=function(k){D("beginTilingPattern()"),Tp(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},f.endTilingPattern=function(k,F){D("endTilingPattern()"),F.stream=Te[W].join(`
`),jt(k,F),xs.publish("endTilingPattern",F),qr.pop().restore()};var nn,Ps=f.__private__.newObject=function(){var k=bn();return ar(k,!0),k},bn=f.__private__.newObjectDeferred=function(){return ae++,ne[ae]=function(){return be},ae},ar=function(k,F){return F=typeof F=="boolean"&&F,ne[k]=be,F&&se(k+" 0 obj"),k},zo=f.__private__.newAdditionalObject=function(){var k={objId:bn(),content:""};return _e.push(k),k},ns=bn(),Kt=bn(),es=f.__private__.decodeColorString=function(k){var F=k.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ee=parseFloat(F[0]);F=[ee,ee,ee,"r"]}for(var ue="#",je=0;je<3;je++)ue+=("0"+Math.floor(255*parseFloat(F[je])).toString(16)).slice(-2);return ue},zn=f.__private__.encodeColorString=function(k){var F;typeof k=="string"&&(k={ch1:k});var ee=k.ch1,ue=k.ch2,je=k.ch3,De=k.ch4,Ye=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var pt=new $9(ee);if(pt.ok)ee=pt.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var Nt=parseInt(ee.substr(1),16);ee=Nt>>16&255,ue=Nt>>8&255,je=255&Nt}if(ue===void 0||De===void 0&&ee===ue&&ue===je)F=typeof ee=="string"?ee+" "+Ye[0]:k.precision===2?E(ee/255)+" "+Ye[0]:T(ee/255)+" "+Ye[0];else if(De===void 0||Vs(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return["1.","1.","1.",Ye[1]].join(" ");F=typeof ee=="string"?[ee,ue,je,Ye[1]].join(" "):k.precision===2?[E(ee/255),E(ue/255),E(je/255),Ye[1]].join(" "):[T(ee/255),T(ue/255),T(je/255),Ye[1]].join(" ")}else F=typeof ee=="string"?[ee,ue,je,De,Ye[2]].join(" "):k.precision===2?[E(ee),E(ue),E(je),E(De),Ye[2]].join(" "):[T(ee),T(ue),T(je),T(De),Ye[2]].join(" ");return F},ro=f.__private__.getFilters=function(){return o},Ea=f.__private__.putStream=function(k){var F=(k=k||{}).data||"",ee=k.filters||ro(),ue=k.alreadyAppliedFilters||[],je=k.addLength1||!1,De=F.length,Ye=k.objectId,pt=function(mr){return mr};if(u!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(pt=Vn.encryptor(Ye,0));var Nt={};ee===!0&&(ee=["FlateEncode"]);var Wt=k.additionalKeyValues||[],ts=(Nt=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(F,ee):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ue)?ue.join(" "):ue.toString());if(Nt.data.length!==0&&(Wt.push({key:"Length",value:Nt.data.length}),je===!0&&Wt.push({key:"Length1",value:De})),ts.length!=0)if(ts.split("/").length-1==1)Wt.push({key:"Filter",value:ts});else{Wt.push({key:"Filter",value:"["+ts+"]"});for(var Ms=0;Ms<Wt.length;Ms+=1)if(Wt[Ms].key==="DecodeParms"){for(var wn=[],lr=0;lr<Nt.reverseChain.split("/").length-1;lr+=1)wn.push("null");wn.push(Wt[Ms].value),Wt[Ms].value="["+wn.join(" ")+"]"}}se("<<");for(var Hs=0;Hs<Wt.length;Hs++)se("/"+Wt[Hs].key+" "+Wt[Hs].value);se(">>"),Nt.data.length!==0&&(se("stream"),se(pt(Nt.data)),se("endstream"))},fu=f.__private__.putPage=function(k){var F=k.number,ee=k.data,ue=k.objId,je=k.contentsObjId;ar(ue,!0),se("<</Type /Page"),se("/Parent "+k.rootDictionaryObjId+" 0 R"),se("/Resources "+k.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(M(k.mediaBox.bottomLeftX))+" "+parseFloat(M(k.mediaBox.bottomLeftY))+" "+M(k.mediaBox.topRightX)+" "+M(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&se("/CropBox ["+M(k.cropBox.bottomLeftX)+" "+M(k.cropBox.bottomLeftY)+" "+M(k.cropBox.topRightX)+" "+M(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&se("/BleedBox ["+M(k.bleedBox.bottomLeftX)+" "+M(k.bleedBox.bottomLeftY)+" "+M(k.bleedBox.topRightX)+" "+M(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&se("/TrimBox ["+M(k.trimBox.bottomLeftX)+" "+M(k.trimBox.bottomLeftY)+" "+M(k.trimBox.topRightX)+" "+M(k.trimBox.topRightY)+"]"),k.artBox!==null&&se("/ArtBox ["+M(k.artBox.bottomLeftX)+" "+M(k.artBox.bottomLeftY)+" "+M(k.artBox.topRightX)+" "+M(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&se("/UserUnit "+k.userUnit),xs.publish("putPage",{objId:ue,pageContext:Ft[F],pageNumber:F,page:ee}),se("/Contents "+je+" 0 R"),se(">>"),se("endobj");var De=ee.join(`
`);return S===w&&(De+=`
Q`),ar(je,!0),Ea({data:De,filters:ro(),objectId:je}),se("endobj"),ue},Vo=f.__private__.putPages=function(){var k,F,ee=[];for(k=1;k<=_s;k++)Ft[k].objId=bn(),Ft[k].contentsObjId=bn();for(k=1;k<=_s;k++)ee.push(fu({number:k,data:Te[k],objId:Ft[k].objId,contentsObjId:Ft[k].contentsObjId,mediaBox:Ft[k].mediaBox,cropBox:Ft[k].cropBox,bleedBox:Ft[k].bleedBox,trimBox:Ft[k].trimBox,artBox:Ft[k].artBox,userUnit:Ft[k].userUnit,rootDictionaryObjId:ns,resourceDictionaryObjId:Kt}));ar(ns,!0),se("<</Type /Pages");var ue="/Kids [";for(F=0;F<_s;F++)ue+=ee[F]+" 0 R ";se(ue+"]"),se("/Count "+_s),se(">>"),se("endobj"),xs.publish("postPutPages")},mu=function(k){xs.publish("putFont",{font:k,out:se,newObject:Ps,putStream:Ea}),k.isAlreadyPutted!==!0&&(k.objectNumber=Ps(),se("<<"),se("/Type /Font"),se("/BaseFont /"+vf(k.postScriptName)),se("/Subtype /Type1"),typeof k.encoding=="string"&&se("/Encoding /"+k.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Vh=function(k){k.objectNumber=Ps();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[M(k.x),M(k.y),M(k.x+k.width),M(k.y+k.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var ee=k.pages[1].join(`
`);Ea({data:ee,additionalKeyValues:F,objectId:k.objectNumber}),se("endobj")},$h=function(k,F){F||(F=21);var ee=Ps(),ue=function(Ye,pt){var Nt,Wt=[],ts=1/(pt-1);for(Nt=0;Nt<1;Nt+=ts)Wt.push(Nt);if(Wt.push(1),Ye[0].offset!=0){var Ms={offset:0,color:Ye[0].color};Ye.unshift(Ms)}if(Ye[Ye.length-1].offset!=1){var wn={offset:1,color:Ye[Ye.length-1].color};Ye.push(wn)}for(var lr="",Hs=0,mr=0;mr<Wt.length;mr++){for(Nt=Wt[mr];Nt>Ye[Hs+1].offset;)Hs++;var cr=Ye[Hs].offset,Lr=(Nt-cr)/(Ye[Hs+1].offset-cr),Rl=Ye[Hs].color,Tc=Ye[Hs+1].color;lr+=ce(Math.round((1-Lr)*Rl[0]+Lr*Tc[0]).toString(16))+ce(Math.round((1-Lr)*Rl[1]+Lr*Tc[1]).toString(16))+ce(Math.round((1-Lr)*Rl[2]+Lr*Tc[2]).toString(16))}return lr.trim()}(k.colors,F),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+F+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ea({data:ue,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),se("endobj"),k.objectNumber=Ps(),se("<< /ShadingType "+k.type),se("/ColorSpace /DeviceRGB");var De="/Coords ["+M(parseFloat(k.coords[0]))+" "+M(parseFloat(k.coords[1]))+" ";k.type===2?De+=M(parseFloat(k.coords[2]))+" "+M(parseFloat(k.coords[3])):De+=M(parseFloat(k.coords[2]))+" "+M(parseFloat(k.coords[3]))+" "+M(parseFloat(k.coords[4]))+" "+M(parseFloat(k.coords[5])),se(De+="]"),k.matrix&&se("/Matrix ["+k.matrix.toString()+"]"),se("/Function "+ee+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Uh=function(k,F){var ee=bn(),ue=Ps();F.push({resourcesOid:ee,objectOid:ue}),k.objectNumber=ue;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+k.boundingBox.map(M).join(" ")+"]"}),je.push({key:"XStep",value:M(k.xStep)}),je.push({key:"YStep",value:M(k.yStep)}),je.push({key:"Resources",value:ee+" 0 R"}),k.matrix&&je.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Ea({data:k.stream,additionalKeyValues:je,objectId:k.objectNumber}),se("endobj")},lw=function(k){for(var F in k.objectNumber=Ps(),se("<<"),k)switch(F){case"opacity":se("/ca "+E(k[F]));break;case"stroke-opacity":se("/CA "+E(k[F]))}se(">>"),se("endobj")},bp=function(k){ar(k.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in se("/Font <<"),lt)lt.hasOwnProperty(F)&&(h===!1||h===!0&&m.hasOwnProperty(F))&&se("/"+F+" "+lt[F].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(_t).length>0){for(var F in se("/Shading <<"),_t)_t.hasOwnProperty(F)&&_t[F]instanceof Vu&&_t[F].objectNumber>=0&&se("/"+F+" "+_t[F].objectNumber+" 0 R");xs.publish("putShadingPatternDict"),se(">>")}}(),function(F){if(Object.keys(_t).length>0){for(var ee in se("/Pattern <<"),_t)_t.hasOwnProperty(ee)&&_t[ee]instanceof f.TilingPattern&&_t[ee].objectNumber>=0&&_t[ee].objectNumber<F&&se("/"+ee+" "+_t[ee].objectNumber+" 0 R");xs.publish("putTilingPatternDict"),se(">>")}}(k.objectOid),function(){if(Object.keys(Vt).length>0){var F;for(F in se("/ExtGState <<"),Vt)Vt.hasOwnProperty(F)&&Vt[F].objectNumber>=0&&se("/"+F+" "+Vt[F].objectNumber+" 0 R");xs.publish("putGStateDict"),se(">>")}}(),function(){for(var F in se("/XObject <<"),En)En.hasOwnProperty(F)&&En[F].objectNumber>=0&&se("/"+F+" "+En[F].objectNumber+" 0 R");xs.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},Q0=function(k){Lt[k.fontName]=Lt[k.fontName]||{},Lt[k.fontName][k.fontStyle]=k.id},J0=function(k,F,ee,ue,je){var De={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:k,fontName:F,fontStyle:ee,encoding:ue,isStandardFont:je||!1,metadata:{}};return xs.publish("addFont",{font:De,instance:this}),lt[De.id]=De,Q0(De),De.id},Ta=f.__private__.pdfEscape=f.pdfEscape=function(k,F){return function(ee,ue){var je,De,Ye,pt,Nt,Wt,ts,Ms,wn;if(Ye=(ue=ue||{}).sourceEncoding||"Unicode",Nt=ue.outputEncoding,(ue.autoencode||Nt)&&lt[de].metadata&&lt[de].metadata[Ye]&&lt[de].metadata[Ye].encoding&&(pt=lt[de].metadata[Ye].encoding,!Nt&&lt[de].encoding&&(Nt=lt[de].encoding),!Nt&&pt.codePages&&(Nt=pt.codePages[0]),typeof Nt=="string"&&(Nt=pt[Nt]),Nt)){for(ts=!1,Wt=[],je=0,De=ee.length;je<De;je++)(Ms=Nt[ee.charCodeAt(je)])?Wt.push(String.fromCharCode(Ms)):Wt.push(ee[je]),Wt[je].charCodeAt(0)>>8&&(ts=!0);ee=Wt.join("")}for(je=ee.length;ts===void 0&&je!==0;)ee.charCodeAt(je-1)>>8&&(ts=!0),je--;if(!ts)return ee;for(Wt=ue.noBOM?[]:[254,255],je=0,De=ee.length;je<De;je++){if((wn=(Ms=ee.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(wn),Wt.push(Ms-(wn<<8))}return String.fromCharCode.apply(void 0,Wt)}(k,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wp=f.__private__.beginPage=function(k){Te[++_s]=[],Ft[_s]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},tv(_s),ge(Te[W])},ev=function(k,F){var ee,ue,je;switch(s=F||s,typeof k=="string"&&(ee=x(k.toLowerCase()),Array.isArray(ee)&&(ue=ee[0],je=ee[1])),Array.isArray(k)&&(ue=k[0]*Ue,je=k[1]*Ue),isNaN(ue)&&(ue=i[0],je=i[1]),(ue>14400||je>14400)&&(Ks.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ue=Math.min(14400,ue),je=Math.min(14400,je)),i=[ue,je],s.substr(0,1)){case"l":je>ue&&(i=[je,ue]);break;case"p":ue>je&&(i=[je,ue])}wp(i),xw(kp),se(qh),Pp!==0&&se(Pp+" J"),Ap!==0&&se(Ap+" j"),xs.publish("addPage",{pageNumber:_s})},jp=function(k){k>0&&k<=_s&&(Te.splice(k,1),Ft.splice(k,1),_s--,W>_s&&(W=_s),this.setPage(W))},tv=function(k){k>0&&k<=_s&&(W=k)},sv=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Te.length-1},nv=function(k,F,ee){var ue,je=void 0;return ee=ee||{},k=k!==void 0?k:lt[de].fontName,F=F!==void 0?F:lt[de].fontStyle,ue=k.toLowerCase(),Lt[ue]!==void 0&&Lt[ue][F]!==void 0?je=Lt[ue][F]:Lt[k]!==void 0&&Lt[k][F]!==void 0?je=Lt[k][F]:ee.disableWarning===!1&&Ks.warn("Unable to look up font label for font '"+k+"', '"+F+"'. Refer to getFontList() for available fonts."),je||ee.noFallback||(je=Lt.times[F])==null&&(je=Lt.times.normal),je},Hh=f.__private__.putInfo=function(){var k=Ps(),F=function(ue){return ue};for(var ee in u!==null&&(F=Vn.encryptor(k,0)),se("<<"),se("/Producer ("+Ta(F("jsPDF "+bt.version))+")"),we)we.hasOwnProperty(ee)&&we[ee]&&se("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+Ta(F(we[ee]))+")");se("/CreationDate ("+Ta(F(te))+")"),se(">>"),se("endobj")},cw=f.__private__.putCatalog=function(k){var F=(k=k||{}).rootDictionaryObjId||ns;switch(Ps(),se("<<"),se("/Type /Catalog"),se("/Pages "+F+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+yt;ee.substr(ee.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+E(yt)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}fe&&se("/PageMode /"+fe),xs.publish("putCatalog"),se(">>"),se("endobj")},or=f.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ae+1)),se("/Root "+ae+" 0 R"),se("/Info "+(ae-1)+" 0 R"),u!==null&&se("/Encrypt "+Vn.oid+" 0 R"),se("/ID [ <"+ie+"> <"+ie+"> ]"),se(">>")},rv=f.__private__.putHeader=function(){se("%PDF-"+g),se("%")},iv=f.__private__.putXRef=function(){var k="0000000000";se("xref"),se("0 "+(ae+1)),se("0000000000 65535 f ");for(var F=1;F<=ae;F++)typeof ne[F]=="function"?se((k+ne[F]()).slice(-10)+" 00000 n "):ne[F]!==void 0?se((k+ne[F]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},El=f.__private__.buildDocument=function(){var k;ae=0,be=0,Ne=[],ne=[],_e=[],ns=bn(),Kt=bn(),ge(Ne),xs.publish("buildDocument"),rv(),Vo(),function(){xs.publish("putAdditionalObjects");for(var ee=0;ee<_e.length;ee++){var ue=_e[ee];ar(ue.objId,!0),se(ue.content),se("endobj")}xs.publish("postPutAdditionalObjects")}(),k=[],function(){for(var ee in lt)lt.hasOwnProperty(ee)&&(h===!1||h===!0&&m.hasOwnProperty(ee))&&mu(lt[ee])}(),function(){var ee;for(ee in Vt)Vt.hasOwnProperty(ee)&&lw(Vt[ee])}(),function(){for(var ee in En)En.hasOwnProperty(ee)&&Vh(En[ee])}(),function(ee){var ue;for(ue in _t)_t.hasOwnProperty(ue)&&(_t[ue]instanceof Vu?$h(_t[ue]):_t[ue]instanceof Mf&&Uh(_t[ue],ee))}(k),xs.publish("putResources"),k.forEach(bp),bp({resourcesOid:Kt,objectOid:Number.MAX_SAFE_INTEGER}),xs.publish("postPutResources"),u!==null&&(Vn.oid=Ps(),se("<<"),se("/Filter /Standard"),se("/V "+Vn.v),se("/R "+Vn.r),se("/U <"+Vn.toHexString(Vn.U)+">"),se("/O <"+Vn.toHexString(Vn.O)+">"),se("/P "+Vn.P),se(">>"),se("endobj")),Hh(),cw();var F=be;return iv(),or(),se("startxref"),se(""+F),se("%%EOF"),ge(Te[W]),Ne.join(`
`)},pu=f.__private__.getBlob=function(k){return new Blob([Tt(k)],{type:"application/pdf"})},io=f.output=f.__private__.output=(nn=function(k,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",k){case void 0:return El();case"save":f.save(F.filename);break;case"arraybuffer":return Tt(El());case"blob":return pu(El());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(pu(El()))||void 0;Ks.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",ue=El();try{ee=iE(ue)}catch{ee=iE(unescape(encodeURIComponent(ue)))}return"data:application/pdf;filename="+F.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(je=F.pdfObjectUrl,De="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",pt=Yt.open();return pt!==null&&pt.document.write(Ye),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Wt=Yt.open();if(Wt!==null){Wt.document.write(Nt);var ts=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=F.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ts.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ms='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',wn=Yt.open();if(wn!==null&&(wn.document.write(Ms),wn.document.title=F.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",F);default:return null}},nn.foo=function(){try{return nn.apply(this,arguments)}catch(ee){var k=ee.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var F="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ee.message;if(!Yt.console)throw new Error(F);Yt.console.error(F,ee),Yt.alert&&alert(F)}},nn.foo.bar=nn,nn.foo),gu=function(k){return Array.isArray(Zi)===!0&&Zi.indexOf(k)>-1};switch(n){case"pt":Ue=1;break;case"mm":Ue=72/25.4;break;case"cm":Ue=72/2.54;break;case"in":Ue=72;break;case"px":Ue=gu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ue=12;break;case"ex":Ue=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ue=n}var Vn=null;X(),P();var Np=f.__private__.getPageInfo=f.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[k].objId,pageNumber:k,pageContext:Ft[k]}},dw=f.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Ft)if(Ft[F].objId===k)break;return Np(F)},uw=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ft[W].objId,pageNumber:W,pageContext:Ft[W]}};f.addPage=function(){return ev.apply(this,arguments),this},f.setPage=function(){return tv.apply(this,arguments),ge.call(this,Te[W]),this},f.insertPage=function(k){return this.addPage(),this.movePage(W,k),this},f.movePage=function(k,F){var ee,ue;if(k>F){ee=Te[k],ue=Ft[k];for(var je=k;je>F;je--)Te[je]=Te[je-1],Ft[je]=Ft[je-1];Te[F]=ee,Ft[F]=ue,this.setPage(F)}else if(k<F){ee=Te[k],ue=Ft[k];for(var De=k;De<F;De++)Te[De]=Te[De+1],Ft[De]=Ft[De+1];Te[F]=ee,Ft[F]=ue,this.setPage(F)}return this},f.deletePage=function(){return jp.apply(this,arguments),this},f.__private__.text=f.text=function(k,F,ee,ue,je){var De,Ye,pt,Nt,Wt,ts,Ms,wn,lr,Hs=(ue=ue||{}).scope||this;if(typeof k=="number"&&typeof F=="number"&&(typeof ee=="string"||Array.isArray(ee))){var mr=ee;ee=F,F=k,k=mr}if(arguments[3]instanceof At==0?(pt=arguments[4],Nt=arguments[5],Vs(Ms=arguments[3])==="object"&&Ms!==null||(typeof pt=="string"&&(Nt=pt,pt=null),typeof Ms=="string"&&(Nt=Ms,Ms=null),typeof Ms=="number"&&(pt=Ms,Ms=null),ue={flags:Ms,angle:pt,align:Nt})):(D("The transform parameter of text() with a Matrix value"),lr=je),isNaN(F)||isNaN(ee)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Hs;var cr,Lr="",Rl=typeof ue.lineHeightFactor=="number"?ue.lineHeightFactor:vu,Tc=Hs.internal.scaleFactor;function Sw(Zs){return Zs=Zs.split("	").join(Array(ue.TabLen||9).join(" ")),Ta(Zs,Ms)}function lv(Zs){for(var Xs,Un=Zs.concat(),Hn=[],Il=Un.length;Il--;)typeof(Xs=Un.shift())=="string"?Hn.push(Xs):Array.isArray(Zs)&&(Xs.length===1||Xs[1]===void 0&&Xs[2]===void 0)?Hn.push(Xs[0]):Hn.push([Xs[0],Xs[1],Xs[2]]);return Hn}function Nu(Zs,Xs){var Un;if(typeof Zs=="string")Un=Xs(Zs)[0];else if(Array.isArray(Zs)){for(var Hn,Il,sf=Zs.concat(),Go=[],Vp=sf.length;Vp--;)typeof(Hn=sf.shift())=="string"?Go.push(Xs(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(Il=Xs(Hn[0],Hn[1],Hn[2]),Go.push([Il[0],Il[1],Il[2]]));Un=Go}return Un}var ao=!1,Lp=!0;if(typeof k=="string")ao=!0;else if(Array.isArray(k)){var Kh=k.concat();Ye=[];for(var Mc,kr=Kh.length;kr--;)(typeof(Mc=Kh.shift())!="string"||Array.isArray(Mc)&&typeof Mc[0]!="string")&&(Lp=!1);ao=Lp}if(ao===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var Ll=Ge/Hs.internal.scaleFactor,Dl=Ll*(Rl-1);switch(ue.baseline){case"bottom":ee-=Dl;break;case"top":ee+=Ll-Dl;break;case"hanging":ee+=Ll-2*Dl;break;case"middle":ee+=Ll/2-Dl}if((ts=ue.maxWidth||0)>0&&(typeof k=="string"?k=Hs.splitTextToSize(k,ts):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Zs,Xs){return Zs.concat(Hs.splitTextToSize(Xs,ts))},[]))),De={text:k,x:F,y:ee,options:ue,mutex:{pdfEscape:Ta,activeFontKey:de,fonts:lt,activeFontSize:Ge}},xs.publish("preProcessText",De),k=De.text,pt=(ue=De.options).angle,lr instanceof At==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,ue.rotationDirection===0&&(pt=-pt),S===w&&(pt=-pt);var Zh=Math.cos(pt),Dp=Math.sin(pt);lr=new At(Zh,Dp,-Dp,Zh,0,0)}else pt&&pt instanceof At&&(lr=pt);S!==w||lr||(lr=Ae),(Wt=ue.charSpace||Yh)!==void 0&&(Lr+=M(q(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=ue.horizontalScale)!==void 0&&(Lr+=M(100*wn)+` Tz
`),ue.lang;var fi=-1,cv=ue.renderingMode!==void 0?ue.renderingMode:ue.stroke,Xh=Hs.internal.getCurrentPageInfo().pageContext;switch(cv){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var dv=Xh.usedRenderingMode!==void 0?Xh.usedRenderingMode:-1;fi!==-1?Lr+=fi+` Tr
`:dv!==-1&&(Lr+=`0 Tr
`),fi!==-1&&(Xh.usedRenderingMode=fi),Nt=ue.align||"left";var pr,Ma=Ge*Rl,Op=Hs.internal.pageSize.getWidth(),Ip=lt[de];Wt=ue.charSpace||Yh,ts=ue.maxWidth||0,Ms=Object.assign({autoencode:!0,noBOM:!0},ue.flags);var Rc=[],Qh=function(Zs){return Hs.getStringUnitWidth(Zs,{font:Ip,charSpace:Wt,fontSize:Ge,doKerning:!1})*Ge/Tc};if(Object.prototype.toString.call(k)==="[object Array]"){var Ei;Ye=lv(k),Nt!=="left"&&(pr=Ye.map(Qh));var Ti,Su=0;if(Nt==="right"){F-=pr[0],k=[],kr=Ye.length;for(var Ho=0;Ho<kr;Ho++)Ho===0?(Ti=Tl(F),Ei=Ml(ee)):(Ti=q(Su-pr[Ho]),Ei=-Ma),k.push([Ye[Ho],Ti,Ei]),Su=pr[Ho]}else if(Nt==="center"){F-=pr[0]/2,k=[],kr=Ye.length;for(var Lc=0;Lc<kr;Lc++)Lc===0?(Ti=Tl(F),Ei=Ml(ee)):(Ti=q((Su-pr[Lc])/2),Ei=-Ma),k.push([Ye[Lc],Ti,Ei]),Su=pr[Lc]}else if(Nt==="left"){k=[],kr=Ye.length;for(var Fp=0;Fp<kr;Fp++)k.push(Ye[Fp])}else if(Nt==="justify"&&Ip.encoding==="Identity-H"){k=[],kr=Ye.length,ts=ts!==0?ts:Op;for(var Dc=0,$n=0;$n<kr;$n++)if(Ei=$n===0?Ml(ee):-Ma,Ti=$n===0?Tl(F):Dc,$n<kr-1){var Cw=q((ts-pr[$n])/(Ye[$n].split(" ").length-1)),qo=Ye[$n].split(" ");k.push([qo[0]+" ",Ti,Ei]),Dc=0;for(var Wo=1;Wo<qo.length;Wo++){var Jh=(Qh(qo[Wo-1]+" "+qo[Wo])-Qh(qo[Wo]))*Tc+Cw;Wo==qo.length-1?k.push([qo[Wo],Jh,0]):k.push([qo[Wo]+" ",Jh,0]),Dc-=Jh}}else k.push([Ye[$n],Ti,Ei]);k.push(["",Dc,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],kr=Ye.length,ts=ts!==0?ts:Op,$n=0;$n<kr;$n++)Ei=$n===0?Ml(ee):-Ma,Ti=$n===0?Tl(F):0,$n<kr-1?Rc.push(M(q((ts-pr[$n])/(Ye[$n].split(" ").length-1)))):Rc.push(0),k.push([Ye[$n],Ti,Ei])}}(typeof ue.R2L=="boolean"?ue.R2L:re)===!0&&(k=Nu(k,function(Zs,Xs,Un){return[Zs.split("").reverse().join(""),Xs,Un]})),De={text:k,x:F,y:ee,options:ue,mutex:{pdfEscape:Ta,activeFontKey:de,fonts:lt,activeFontSize:Ge}},xs.publish("postProcessText",De),k=De.text,cr=De.mutex.isHex||!1;var Bp=lt[de].encoding;Bp!=="WinAnsiEncoding"&&Bp!=="StandardEncoding"||(k=Nu(k,function(Zs,Xs,Un){return[Sw(Zs),Xs,Un]})),Ye=lv(k),k=[];for(var ef,tf,Cu,ku=Array.isArray(Ye[0])?1:0,Ol="",zp=function(Zs,Xs,Un){var Hn="";return Un instanceof At?(Un=typeof ue.angle=="number"?hi(Un,new At(1,0,0,1,Zs,Xs)):hi(new At(1,0,0,1,Zs,Xs),Un),S===w&&(Un=hi(new At(1,0,0,-1,0,0),Un)),Hn=Un.join(" ")+` Tm
`):Hn=M(Zs)+" "+M(Xs)+` Td
`,Hn},Qi=0;Qi<Ye.length;Qi++){switch(Ol="",ku){case 1:Cu=(cr?"<":"(")+Ye[Qi][0]+(cr?">":")"),ef=parseFloat(Ye[Qi][1]),tf=parseFloat(Ye[Qi][2]);break;case 0:Cu=(cr?"<":"(")+Ye[Qi]+(cr?">":")"),ef=Tl(F),tf=Ml(ee)}Rc!==void 0&&Rc[Qi]!==void 0&&(Ol=Rc[Qi]+` Tw
`),Qi===0?k.push(Ol+zp(ef,tf,lr)+Cu):ku===0?k.push(Ol+Cu):ku===1&&k.push(Ol+zp(ef,tf,lr)+Cu)}k=ku===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Yo=`BT
/`;return Yo+=de+" "+Ge+` Tf
`,Yo+=M(Ge*Rl)+` TL
`,Yo+=yu+`
`,Yo+=Lr,Yo+=k,se(Yo+="ET"),m[de]=!0,Hs};var hw=f.__private__.clip=f.clip=function(k){return se(k==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return hw("evenodd")},f.__private__.discardPath=f.discardPath=function(){return se("n"),this};var $o=f.__private__.isValidStyle=function(k){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(F=!0),F};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(k){return $o(k)&&(d=k),this};var av=f.__private__.getStyle=f.getStyle=function(k){var F=d;switch(k){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=k}return F},ov=f.close=function(){return se("h"),this};f.stroke=function(){return se("S"),this},f.fill=function(k){return Ac("f",k),this},f.fillEvenOdd=function(k){return Ac("f*",k),this},f.fillStroke=function(k){return Ac("B",k),this},f.fillStrokeEvenOdd=function(k){return Ac("B*",k),this};var Ac=function(k,F){Vs(F)==="object"?mw(F,k):se(k)},Sp=function(k){k===null||S===w&&k===void 0||(k=av(k),se(k))};function fw(k,F,ee,ue,je){var De=new Mf(F||this.boundingBox,ee||this.xStep,ue||this.yStep,this.gState,je||this.matrix);De.stream=this.stream;var Ye=k+"$$"+this.cloneIndex+++"$$";return jt(Ye,De),De}var mw=function(k,F){var ee=Xt[k.key],ue=_t[ee];if(ue instanceof Vu)se("q"),se(pw(F)),ue.gState&&f.setGState(ue.gState),se(k.matrix.toString()+" cm"),se("/"+ee+" sh"),se("Q");else if(ue instanceof Mf){var je=new At(1,0,0,-1,0,Xi());k.matrix&&(je=je.multiply(k.matrix||Ae),ee=fw.call(ue,k.key,k.boundingBox,k.xStep,k.yStep,je).id),se("q"),se("/Pattern cs"),se("/"+ee+" scn"),ue.gState&&f.setGState(ue.gState),se(F),se("Q")}},pw=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cp=f.moveTo=function(k,F){return se(M(q(k))+" "+M(B(F))+" m"),this},xu=f.lineTo=function(k,F){return se(M(q(k))+" "+M(B(F))+" l"),this},Ec=f.curveTo=function(k,F,ee,ue,je,De){return se([M(q(k)),M(B(F)),M(q(ee)),M(B(ue)),M(q(je)),M(B(De)),"c"].join(" ")),this};f.__private__.line=f.line=function(k,F,ee,ue,je){if(isNaN(k)||isNaN(F)||isNaN(ee)||isNaN(ue)||!$o(je))throw new Error("Invalid arguments passed to jsPDF.line");return S===y?this.lines([[ee-k,ue-F]],k,F,[1,1],je||"S"):this.lines([[ee-k,ue-F]],k,F,[1,1]).stroke()},f.__private__.lines=f.lines=function(k,F,ee,ue,je,De){var Ye,pt,Nt,Wt,ts,Ms,wn,lr,Hs,mr,cr,Lr;if(typeof k=="number"&&(Lr=ee,ee=F,F=k,k=Lr),ue=ue||[1,1],De=De||!1,isNaN(F)||isNaN(ee)||!Array.isArray(k)||!Array.isArray(ue)||!$o(je)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cp(F,ee),Ye=ue[0],pt=ue[1],Wt=k.length,mr=F,cr=ee,Nt=0;Nt<Wt;Nt++)(ts=k[Nt]).length===2?(mr=ts[0]*Ye+mr,cr=ts[1]*pt+cr,xu(mr,cr)):(Ms=ts[0]*Ye+mr,wn=ts[1]*pt+cr,lr=ts[2]*Ye+mr,Hs=ts[3]*pt+cr,mr=ts[4]*Ye+mr,cr=ts[5]*pt+cr,Ec(Ms,wn,lr,Hs,mr,cr));return De&&ov(),Sp(je),this},f.path=function(k){for(var F=0;F<k.length;F++){var ee=k[F],ue=ee.c;switch(ee.op){case"m":Cp(ue[0],ue[1]);break;case"l":xu(ue[0],ue[1]);break;case"c":Ec.apply(this,ue);break;case"h":ov()}}return this},f.__private__.rect=f.rect=function(k,F,ee,ue,je){if(isNaN(k)||isNaN(F)||isNaN(ee)||isNaN(ue)||!$o(je))throw new Error("Invalid arguments passed to jsPDF.rect");return S===y&&(ue=-ue),se([M(q(k)),M(B(F)),M(q(ee)),M(q(ue)),"re"].join(" ")),Sp(je),this},f.__private__.triangle=f.triangle=function(k,F,ee,ue,je,De,Ye){if(isNaN(k)||isNaN(F)||isNaN(ee)||isNaN(ue)||isNaN(je)||isNaN(De)||!$o(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-k,ue-F],[je-ee,De-ue],[k-je,F-De]],k,F,[1,1],Ye,!0),this},f.__private__.roundedRect=f.roundedRect=function(k,F,ee,ue,je,De,Ye){if(isNaN(k)||isNaN(F)||isNaN(ee)||isNaN(ue)||isNaN(je)||isNaN(De)||!$o(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ee),De=Math.min(De,.5*ue),this.lines([[ee-2*je,0],[je*pt,0,je,De-De*pt,je,De],[0,ue-2*De],[0,De*pt,-je*pt,De,-je,De],[2*je-ee,0],[-je*pt,0,-je,-De*pt,-je,-De],[0,2*De-ue],[0,-De*pt,je*pt,-De,je,-De]],k+je,F,[1,1],Ye,!0),this},f.__private__.ellipse=f.ellipse=function(k,F,ee,ue,je){if(isNaN(k)||isNaN(F)||isNaN(ee)||isNaN(ue)||!$o(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*ee,Ye=4/3*(Math.SQRT2-1)*ue;return Cp(k+ee,F),Ec(k+ee,F-Ye,k+De,F-ue,k,F-ue),Ec(k-De,F-ue,k-ee,F-Ye,k-ee,F),Ec(k-ee,F+Ye,k-De,F+ue,k,F+ue),Ec(k+De,F+ue,k+ee,F+Ye,k+ee,F),Sp(je),this},f.__private__.circle=f.circle=function(k,F,ee,ue){if(isNaN(k)||isNaN(F)||isNaN(ee)||!$o(ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,F,ee,ee,ue)},f.setFont=function(k,F,ee){return ee&&(F=R(F,ee)),de=nv(k,F,{disableWarning:!1}),this};var gw=f.__private__.getFont=f.getFont=function(){return lt[nv.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var k,F,ee={};for(k in Lt)if(Lt.hasOwnProperty(k))for(F in ee[k]=[],Lt[k])Lt[k].hasOwnProperty(F)&&ee[k].push(F);return ee},f.addFont=function(k,F,ee,ue,je){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(ee=R(ee,ue)),J0.call(this,k,F,ee,je=je||"Identity-H")};var vu,kp=e.lineWidth||.200025,Zt=f.__private__.getLineWidth=f.getLineWidth=function(){return kp},xw=f.__private__.setLineWidth=f.setLineWidth=function(k){return kp=k,se(M(q(k))+" w"),this};f.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(k,F){if(k=k||[],F=F||0,isNaN(F)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(ee){return M(q(ee))}).join(" "),F=M(q(F)),se("["+k+"] "+F+" d"),this};var vw=f.__private__.getLineHeight=f.getLineHeight=function(){return Ge*vu};f.__private__.getLineHeight=f.getLineHeight=function(){return Ge*vu};var yw=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(vu=k),this},bw=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return vu};yw(e.lineHeight);var Tl=f.__private__.getHorizontalCoordinate=function(k){return q(k)},Ml=f.__private__.getVerticalCoordinate=function(k){return S===w?k:Ft[W].mediaBox.topRightY-Ft[W].mediaBox.bottomLeftY-q(k)},ww=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(k){return M(Tl(k))},jw=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(k){return M(Ml(k))},qh=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return es(qh)},f.__private__.setStrokeColor=f.setDrawColor=function(k,F,ee,ue){return qh=zn({ch1:k,ch2:F,ch3:ee,ch4:ue,pdfColorType:"draw",precision:2}),se(qh),this};var _p=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return es(_p)},f.__private__.setFillColor=f.setFillColor=function(k,F,ee,ue){return _p=zn({ch1:k,ch2:F,ch3:ee,ch4:ue,pdfColorType:"fill",precision:2}),se(_p),this};var yu=e.textColor||"0 g",Wh=f.__private__.getTextColor=f.getTextColor=function(){return es(yu)};f.__private__.setTextColor=f.setTextColor=function(k,F,ee,ue){return yu=zn({ch1:k,ch2:F,ch3:ee,ch4:ue,pdfColorType:"text",precision:3}),this};var Yh=e.charSpace,Nw=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Yh||0)};f.__private__.setCharSpace=f.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yh=k,this};var Pp=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(k){var F=f.CapJoinStyles[k];if(F===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pp=F,se(F+" J"),this};var Ap=0;f.__private__.setLineJoin=f.setLineJoin=function(k){var F=f.CapJoinStyles[k];if(F===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ap=F,se(F+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(M(q(k))+" M"),this},f.GState=sb,f.setGState=function(k){(k=typeof k=="string"?Vt[Ys[k]]:bu(null,k)).equals(sn)||(se("/"+k.id+" gs"),sn=k)};var bu=function(k,F){if(!k||!Ys[k]){var ee=!1;for(var ue in Vt)if(Vt.hasOwnProperty(ue)&&Vt[ue].equals(F)){ee=!0;break}if(ee)F=Vt[ue];else{var je="GS"+(Object.keys(Vt).length+1).toString(10);Vt[je]=F,F.id=je}return k&&(Ys[k]=F.id),xs.publish("addGState",F),F}};f.addGState=function(k,F){return bu(k,F),this},f.saveGraphicsState=function(){return se("q"),ws.push({key:de,size:Ge,color:yu}),this},f.restoreGraphicsState=function(){se("Q");var k=ws.pop();return de=k.key,Ge=k.size,yu=k.color,sn=null,this},f.setCurrentTransformationMatrix=function(k){return se(k.toString()+" cm"),this},f.comment=function(k){return se("#"+k),this};var wu=function(k,F){var ee=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(De){isNaN(De)||(ee=parseFloat(De))}});var ue=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ue},set:function(De){isNaN(De)||(ue=parseFloat(De))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(De){je=De.toString()}}),this},Ep=function(k,F,ee,ue){wu.call(this,k,F),this.type="rect";var je=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(Ye){isNaN(Ye)||(je=parseFloat(Ye))}});var De=ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(Ye){isNaN(Ye)||(De=parseFloat(Ye))}}),this},Gh=function(){this.page=_s,this.currentPage=W,this.pages=Te.slice(0),this.pagesContext=Ft.slice(0),this.x=qe,this.y=Ct,this.matrix=kt,this.width=Mp(W),this.height=Xi(W),this.outputDestination=ye,this.id="",this.objectNumber=-1};Gh.prototype.restore=function(){_s=this.page,W=this.currentPage,Ft=this.pagesContext,Te=this.pages,qe=this.x,Ct=this.y,kt=this.matrix,Rp(W,this.width),Uo(W,this.height),ye=this.outputDestination};var Tp=function(k,F,ee,ue,je){qr.push(new Gh),_s=W=0,Te=[],qe=k,Ct=F,kt=je,wp([ee,ue])};for(var ju in f.beginFormObject=function(k,F,ee,ue,je){return Tp(k,F,ee,ue,je),this},f.endFormObject=function(k){return function(F){if(ui[F])qr.pop().restore();else{var ee=new Gh,ue="Xo"+(Object.keys(En).length+1).toString(10);ee.id=ue,ui[F]=ue,En[ue]=ee,xs.publish("addFormObject",ee),qr.pop().restore()}}(k),this},f.doFormObject=function(k,F){var ee=En[ui[k]];return se("q"),se(F.toString()+" cm"),se("/"+ee.id+" Do"),se("Q"),this},f.getFormObject=function(k){var F=En[ui[k]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},f.save=function(k,F){return k=k||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(Du(pu(El()),k),typeof Du.unload=="function"&&Yt.setTimeout&&setTimeout(Du.unload,911),this):new Promise(function(ee,ue){try{var je=Du(pu(El()),k);typeof Du.unload=="function"&&Yt.setTimeout&&setTimeout(Du.unload,911),ee(je)}catch(De){ue(De.message)}})},bt.API)bt.API.hasOwnProperty(ju)&&(ju==="events"&&bt.API.events.length?function(k,F){var ee,ue,je;for(je=F.length-1;je!==-1;je--)ee=F[je][0],ue=F[je][1],k.subscribe.apply(k,[ee].concat(typeof ue=="function"?[ue]:ue))}(xs,bt.API.events):f[ju]=bt.API[ju]);var Mp=f.getPageWidth=function(k){return(Ft[k=k||W].mediaBox.topRightX-Ft[k].mediaBox.bottomLeftX)/Ue},Rp=f.setPageWidth=function(k,F){Ft[k].mediaBox.topRightX=F*Ue+Ft[k].mediaBox.bottomLeftX},Xi=f.getPageHeight=function(k){return(Ft[k=k||W].mediaBox.topRightY-Ft[k].mediaBox.bottomLeftY)/Ue},Uo=f.setPageHeight=function(k,F){Ft[k].mediaBox.topRightY=F*Ue+Ft[k].mediaBox.bottomLeftY};return f.internal={pdfEscape:Ta,getStyle:av,getFont:gw,getFontSize:nt,getCharSpace:Nw,getTextColor:Wh,getLineHeight:vw,getLineHeightFactor:bw,getLineWidth:Zt,write:It,getHorizontalCoordinate:Tl,getVerticalCoordinate:Ml,getCoordinateString:ww,getVerticalCoordinateString:jw,collections:{},newObject:Ps,newAdditionalObject:zo,newObjectDeferred:bn,newObjectDeferredBegin:ar,getFilters:ro,putStream:Ea,events:xs,scaleFactor:Ue,pageSize:{getWidth:function(){return Mp(W)},setWidth:function(k){Rp(W,k)},getHeight:function(){return Xi(W)},setHeight:function(k){Uo(W,k)}},encryptionOptions:u,encryption:Vn,getEncryptor:function(k){return u!==null?Vn.encryptor(k,0):function(F){return F}},output:io,getNumberOfPages:sv,pages:Te,out:se,f2:E,f3:T,getPageInfo:Np,getPageInfoByObjId:dw,getCurrentPageInfo:uw,getPDFVersion:p,Point:wu,Rectangle:Ep,Matrix:At,hasHotfix:gu},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Mp(W)},set:function(k){Rp(W,k)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Xi(W)},set:function(k){Uo(W,k)},enumerable:!0,configurable:!0}),(function(k){for(var F=0,ee=St.length;F<ee;F++){var ue=J0.call(this,k[F][0],k[F][1],k[F][2],St[F][3],!0);h===!1&&(m[ue]=!0);var je=k[F][0].split("-");Q0({id:ue,fontName:je[0],fontStyle:je[1]||""})}xs.publish("addFonts",{fonts:lt,dictionary:Lt})}).call(f,St),de="F1",ev(i,s),xs.publish("initialized"),f}xf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},xf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xf.prototype.hexToBytes=function(e){for(var t=[],s=0;s<e.length;s+=2)t.push(String.fromCharCode(parseInt(e.substr(s,2),16)));return t.join("")},xf.prototype.processOwnerPassword=function(e,t){return TS(ES(t).substr(0,5),e)},xf.prototype.encryptor=function(e,t){var s=ES(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return TS(s,n)}},sb.prototype.equals=function(e){var t,s="id,objectNumber,equals";if(!e||Vs(e)!==Vs(this))return!1;var n=0;for(t in this)if(!(s.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&s.indexOf(t)<0&&n--;return n===0},bt.API={events:[]},bt.version="3.0.2";var Dn=bt.API,Ak=1,Fh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(e){return e.toFixed(2)},Wc=function(e){return e.toFixed(5)};Dn.__acroform__={};var Ki=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},cE=function(e){return e*Ak},Qo=function(e){var t=new W9,s=mt.internal.getHeight(e)||0,n=mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Qt(n)),Number(Qt(s))],t},Vie=Dn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},$ie=Dn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Uie=Dn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Zn=Dn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uie(e,t-1)},Xn=Dn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Vie(e,t-1)},Qn=Dn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $ie(e,t-1)},Hie=Dn.__acroform__.calculateCoordinates=function(e,t){var s=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=s(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=s(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Qt(c.lowerLeft_X)),Number(Qt(c.lowerLeft_Y)),Number(Qt(c.upperRight_X)),Number(Qt(c.upperRight_Y))]},qie=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],s=e._V||e.DV,n=MS(e,s),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Qt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Qo(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},MS=function(e,t){var s=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var a=s,o=mt.internal.getHeight(e)||0;o=o<0?-o:o;var l=mt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(E,T,q){if(E+1<i.length){var B=T+" "+i[E+1][0];return ay(B,e,q).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,h=ay("3",e,a).height,m=e.multiline?o-a:(o-h)/2,f=m+=2,g=0,p=0,b=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+ay(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var S=!1;if(i[w].length!==1&&b!==i[w].length-1){if((h+2)*(y+2)+2>o)continue e;x+=i[w][b],S=!0,p=w,w--}else{x=(x+=i[w][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var C=parseInt(w),L=c(C,x,a),R=w>=i.length-1;if(L&&!R){x+=" ",b=0;continue}if(L||R){if(R)p=C;else if(e.multiline&&(h+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(y+2)+2>o)continue e;p=C}}for(var M="",D=g;D<=p;D++){var $=i[D];if(e.multiline){if(D===p){M+=$[b]+" ",b=(b+1)%$.length;continue}if(D===g){M+=$[$.length-1]+" ";continue}}M+=$[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,u=ay(M,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=Qt(d)+" "+Qt(f)+` Td
`,t+="("+Fh(M)+`) Tj
`,t+=-Qt(d)+` 0 Td
`,f=-(a+2),u=0,g=S?p:p+1,y++,x=""}break}return n.text=t,n.fontSize=a,n},ay=function(e,t,s){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:i}},Wie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yie=function(e,t){var s={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(s)},Gie=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Fo.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Wie)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ak=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Y9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Yie(a,s)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(s){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Hie(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=mt.createDefaultAppearanceStream(l),Vs(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=qie(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(i,l)),h+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,l)),h+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(p,b){for(var x in p)if(p.hasOwnProperty(x)){var y=x,w=p[x];b.internal.newObjectDeferredBegin(w.objId,!0),Vs(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[y]}}(i.internal.acroformPlugin.xForms,i)})(s,e)}),e.internal.acroformPlugin.isInitialized=!0}},q9=Dn.__acroform__.arrayToPdfArray=function(e,t,s){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Vs(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&s&&(n=s.internal.getEncryptor(t)),i+="("+Fh(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nN=function(e,t,s){var n=function(i){return i};return t!==void 0&&s&&(n=s.internal.getEncryptor(t)),(e=e||"").toString(),"("+Fh(n(e))+")"},hl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hl.prototype.toString=function(){return this.objId+" 0 R"},hl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},hl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var s in t)if(Object.getOwnPropertyDescriptor(this,t[s]).configurable===!1){var n=t[s],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:q9(i,this.objId,this.scope)}):i instanceof hl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var W9=function(){hl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){e=s.trim()},get:function(){return e||null}})};Ki(W9,hl);var Y9=function(){hl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+Fh(s(e))+")"}},set:function(s){e=s}})};Ki(Y9,hl);var Fo=function e(){hl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zn(t,3)},set:function(x){x?this.F=Xn(t,3):this.F=Qn(t,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');s=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof nb)return;a="FieldObject"+e.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Fh(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ak:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof nb||this instanceof oh))return nN(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ar==0?nN(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof Ar==0?x.substr(0,1)==="("?uf(x.substr(1,x.length-2)):uf(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?uf(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Ar==1?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ar==0?nN(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Ar==0?x.substr(0,1)==="("?uf(x.substr(1,x.length-2)):uf(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ar==1?uf(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ar==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){x=!!x,p=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,1)},set:function(x){x?this.Ff=Xn(this.Ff,1):this.Ff=Qn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,2)},set:function(x){x?this.Ff=Xn(this.Ff,2):this.Ff=Qn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,3)},set:function(x){x?this.Ff=Xn(this.Ff,3):this.Ff=Qn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Ki(Fo,hl);var Xf=function(){Fo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(s){e=s}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return q9(t,this.objId,this.scope)},set:function(s){var n,i;i=[],typeof(n=s)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(s){t=s,this.sort&&t.sort()},this.addOption=function(s){s=(s=s||"").toString(),t.push(s),this.sort&&t.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();t.indexOf(s)!==-1&&(t.splice(t.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,18)},set:function(s){s?this.Ff=Xn(this.Ff,18):this.Ff=Qn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=Xn(this.Ff,19):this.Ff=Qn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,20)},set:function(s){s?(this.Ff=Xn(this.Ff,20),t.sort()):this.Ff=Qn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,22)},set:function(s){s?this.Ff=Xn(this.Ff,22):this.Ff=Qn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(s){s?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,27)},set:function(s){s?this.Ff=Xn(this.Ff,27):this.Ff=Qn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ki(Xf,Fo);var Qf=function(){Xf.call(this),this.fontName="helvetica",this.combo=!1};Ki(Qf,Xf);var Jf=function(){Qf.call(this),this.combo=!0};Ki(Jf,Qf);var e1=function(){Jf.call(this),this.edit=!0};Ki(e1,Jf);var Ar=function(){Fo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,15)},set:function(s){s?this.Ff=Xn(this.Ff,15):this.Ff=Qn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,16)},set:function(s){s?this.Ff=Xn(this.Ff,16):this.Ff=Qn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,17)},set:function(s){s?this.Ff=Xn(this.Ff,17):this.Ff=Qn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(s){s?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Fh(s(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(s){Vs(s)==="object"&&(t=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(s){typeof s=="string"&&(t.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(s){e="/"+s}})};Ki(Ar,Fo);var t1=function(){Ar.call(this),this.pushButton=!0};Ki(t1,Ar);var em=function(){Ar.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ki(em,Ar);var nb=function(){var e,t;Fo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Fh(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Vs(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(i){s=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(i){s="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ki(nb,Fo),em.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var s=this.Kids[t];s.appearanceStreamContent=e.createAppearanceStream(s.optionName),s.caption=e.getCA()}},em.prototype.createOption=function(e){var t=new nb;return t.Parent=this,t.optionName=e,this.Kids.push(t),Kie.call(this.scope,t),t};var s1=function(){Ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=mt.CheckBox.createAppearanceStream()};Ki(s1,Ar);var oh=function(){Fo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,13)},set:function(t){t?this.Ff=Xn(this.Ff,13):this.Ff=Qn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,21)},set:function(t){t?this.Ff=Xn(this.Ff,21):this.Ff=Qn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,23)},set:function(t){t?this.Ff=Xn(this.Ff,23):this.Ff=Qn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,24)},set:function(t){t?this.Ff=Xn(this.Ff,24):this.Ff=Qn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,25)},set:function(t){t?this.Ff=Xn(this.Ff,25):this.Ff=Qn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,26)},set:function(t){t?this.Ff=Xn(this.Ff,26):this.Ff=Qn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ki(oh,Fo);var n1=function(){oh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zn(this.Ff,14)},set:function(e){e?this.Ff=Xn(this.Ff,14):this.Ff=Qn(this.Ff,14)}}),this.password=!0};Ki(n1,oh);var mt={CheckBox:{createAppearanceStream:function(){return{N:{On:mt.CheckBox.YesNormal},D:{On:mt.CheckBox.YesPushDown,Off:mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=MS(e,e.caption);return s.push("0.749023 g"),s.push("0 0 "+Qt(mt.internal.getWidth(e))+" "+Qt(mt.internal.getHeight(e))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+Qt(a.fontSize)+" Tf "+i),s.push("BT"),s.push(a.text),s.push("ET"),s.push("Q"),s.push("EMC"),t.stream=s.join(`
`),t},YesNormal:function(e){var t=Qo(e);t.scope=e.scope;var s=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=mt.internal.getHeight(e),o=mt.internal.getWidth(e),l=MS(e,e.caption);return i.push("1 g"),i.push("0 0 "+Qt(o)+" "+Qt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(o-1)+" "+Qt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+s+" "+Qt(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Qt(mt.internal.getWidth(e))+" "+Qt(mt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Circle.YesNormal,t.D[e]=mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Qo(e);t.scope=e.scope;var s=[],n=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=mt.internal.Bezier_C,a=Number((n*i).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Wc(mt.internal.getWidth(e)/2)+" "+Wc(mt.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),s.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),s.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),s.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=[],n=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5)),o=Number((n*mt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Wc(mt.internal.getWidth(e)/2)+" "+Wc(mt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Wc(mt.internal.getWidth(e)/2)+" "+Wc(mt.internal.getHeight(e)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),s.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),s.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),s.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=[],n=mt.internal.getWidth(e)<=mt.internal.getHeight(e)?mt.internal.getWidth(e)/4:mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*mt.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Wc(mt.internal.getWidth(e)/2)+" "+Wc(mt.internal.getHeight(e)/2)+" cm"),s.push(i+" 0 m"),s.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),s.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),s.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),s.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),s.push("f"),s.push("Q"),t.stream=s.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=mt.RadioButton.Cross.YesNormal,t.D[e]=mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Qo(e);t.scope=e.scope;var s=[],n=mt.internal.calculateCross(e);return s.push("q"),s.push("1 1 "+Qt(mt.internal.getWidth(e)-2)+" "+Qt(mt.internal.getHeight(e)-2)+" re"),s.push("W"),s.push("n"),s.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),s.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),s.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),s.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),s.push("s"),s.push("Q"),t.stream=s.join(`
`),t},YesPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=mt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(mt.internal.getWidth(e))+" "+Qt(mt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qt(mt.internal.getWidth(e)-2)+" "+Qt(mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(s.x1.x)+" "+Qt(s.x1.y)+" m"),n.push(Qt(s.x2.x)+" "+Qt(s.x2.y)+" l"),n.push(Qt(s.x4.x)+" "+Qt(s.x4.y)+" m"),n.push(Qt(s.x3.x)+" "+Qt(s.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Qo(e);t.scope=e.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+Qt(mt.internal.getWidth(e))+" "+Qt(mt.internal.getHeight(e))+" re"),s.push("f"),t.stream=s.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+s}};mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=mt.internal.getWidth(e),s=mt.internal.getHeight(e),n=Math.min(t,s);return{x1:{x:(t-n)/2,y:(s-n)/2+n},x2:{x:(t-n)/2+n,y:(s-n)/2},x3:{x:(t-n)/2,y:(s-n)/2},x4:{x:(t-n)/2+n,y:(s-n)/2+n}}}},mt.internal.getWidth=function(e){var t=0;return Vs(e)==="object"&&(t=cE(e.Rect[2])),t},mt.internal.getHeight=function(e){var t=0;return Vs(e)==="object"&&(t=cE(e.Rect[3])),t};var Kie=Dn.addField=function(e){if(Gie(this,e),!(e instanceof Fo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Dn.AcroFormChoiceField=Xf,Dn.AcroFormListBox=Qf,Dn.AcroFormComboBox=Jf,Dn.AcroFormEditBox=e1,Dn.AcroFormButton=Ar,Dn.AcroFormPushButton=t1,Dn.AcroFormRadioButton=em,Dn.AcroFormCheckBox=s1,Dn.AcroFormTextField=oh,Dn.AcroFormPasswordField=n1,Dn.AcroFormAppearance=mt,Dn.AcroForm={ChoiceField:Xf,ListBox:Qf,ComboBox:Jf,EditBox:e1,Button:Ar,PushButton:t1,RadioButton:em,CheckBox:s1,TextField:oh,PasswordField:n1,Appearance:mt},bt.AcroForm={ChoiceField:Xf,ListBox:Qf,ComboBox:Jf,EditBox:e1,Button:Ar,PushButton:t1,RadioButton:em,CheckBox:s1,TextField:oh,PasswordField:n1,Appearance:mt};function G9(e){return e.reduce(function(t,s,n){return t[s]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var s="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,T){var q,B,te,ie,G,P=s;if((T=T||s)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(L(E))for(G in n)for(te=n[G],q=0;q<te.length;q+=1){for(ie=!0,B=0;B<te[q].length;B+=1)if(te[q][B]!==void 0&&te[q][B]!==E[B]){ie=!1;break}if(ie===!0){P=G;break}}else for(G in n)for(te=n[G],q=0;q<te.length;q+=1){for(ie=!0,B=0;B<te[q].length;B+=1)if(te[q][B]!==void 0&&te[q][B]!==E.charCodeAt(B)){ie=!1;break}if(ie===!0){P=G;break}}return P===s&&T!==s&&(P=T),P},a=function E(T){for(var q=this.internal.write,B=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:T.width}),ie.push({key:"Height",value:T.height}),T.colorSpace===x.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===x.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var G="",P=0,U=T.transparency.length;P<U;P++)G+=T.transparency[P]+" "+T.transparency[P]+" ";ie.push({key:"Mask",value:"["+G+"]"})}T.sMask!==void 0&&ie.push({key:"SMask",value:T.objectId+1+" 0 R"});var xe=T.filter!==void 0?["/"+T.filter]:void 0;if(B({data:T.data,additionalKeyValues:ie,alreadyAppliedFilters:xe,objectId:T.objectId}),q("endobj"),"sMask"in T&&T.sMask!==void 0){var X=(T.predictor!=null?"/Predictor "+T.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+T.width,O={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:X,data:T.sMask};"filter"in T&&(O.filter=T.filter),E.call(this,O)}if(T.colorSpace===x.INDEXED){var W=this.internal.newObject();B({data:M(new Uint8Array(T.palette)),objectId:W}),q("endobj")}},o=function(){var E=this.internal.collections[t+"images"];for(var T in E)a.call(this,E[T])},l=function(){var E,T=this.internal.collections[t+"images"],q=this.internal.write;for(var B in T)q("/I"+(E=T[B]).index,E.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections[t+"images"];return c.call(this),E},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(E){return typeof e["process"+E.toUpperCase()]=="function"},m=function(E){return Vs(E)==="object"&&E.nodeType===1},f=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var q=""+E.getAttribute("src");if(q.indexOf("data:image/")===0)return Jy(unescape(q).split("base64,").pop());var B=e.loadFile(q,!0);if(B!==void 0)return B}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var te;switch(T){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return Jy(E.toDataURL(te,1).split("base64,").pop())}},g=function(E){var T=this.internal.collections[t+"images"];if(T){for(var q in T)if(E===T[q].alias)return T[q]}},p=function(E,T,q){return E||T||(E=-96,T=-96),E<0&&(E=-1*q.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*q.height*72/T/this.internal.scaleFactor),E===0&&(E=T*q.width/q.height),T===0&&(T=E*q.height/q.width),[E,T]},b=function(E,T,q,B,te,ie){var G=p.call(this,q,B,te),P=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,xe=d.call(this);if(q=G[0],B=G[1],xe[te.index]=te,ie){ie*=Math.PI/180;var X=Math.cos(ie),O=Math.sin(ie),W=function(ce){return ce.toFixed(4)},Z=[W(X),W(O),W(-1*O),W(X),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,P(E),U(T+B),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([P(q),"0","0",P(B),"0","0","cm"].join(" "))):this.internal.write([P(q),"0","0",P(B),P(E),U(T+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var T,q,B=0;if(typeof E=="string")for(q=E.length,T=0;T<q;T++)B=(B<<5)-B+E.charCodeAt(T),B|=0;else if(L(E))for(q=E.byteLength/2,T=0;T<q;T++)B=(B<<5)-B+E[T],B|=0;return B},S=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},C=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var T=E.indexOf(",");return T<0?null:E.substring(0,T).trim().endsWith("base64")?E.substring(T+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,q=new Uint8Array(T),B=0;B<T;B++)q[B]=E.charCodeAt(B);return q},M=e.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",q=L(E)?E:new Uint8Array(E),B=0;B<q.length;B+=8192)T+=String.fromCharCode.apply(null,q.subarray(B,B+8192));return T};e.addImage=function(){var E,T,q,B,te,ie,G,P,U;if(typeof arguments[1]=="number"?(T=s,q=arguments[1],B=arguments[2],te=arguments[3],ie=arguments[4],G=arguments[5],P=arguments[6],U=arguments[7]):(T=arguments[1],q=arguments[2],B=arguments[3],te=arguments[4],ie=arguments[5],G=arguments[6],P=arguments[7],U=arguments[8]),Vs(E=arguments[0])==="object"&&!m(E)&&"imageData"in E){var xe=E;E=xe.imageData,T=xe.format||T||s,q=xe.x||q||0,B=xe.y||B||0,te=xe.w||xe.width||te,ie=xe.h||xe.height||ie,G=xe.alias||G,P=xe.compression||P,U=xe.rotation||xe.angle||U}var X=this.internal.getFilters();if(P===void 0&&X.indexOf("FlateEncode")!==-1&&(P="SLOW"),isNaN(q)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=D.call(this,E,T,G,P);return b.call(this,q,B,te,ie,O,U),this};var D=function(E,T,q,B){var te,ie,G;if(typeof E=="string"&&i(E)===s){E=unescape(E);var P=$(E,!1);(P!==""||(P=e.loadFile(E,!0))!==void 0)&&(E=P)}if(m(E)&&(E=f(E,T)),T=i(E,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((G=q)==null||G.length===0)&&(q=function(U){return typeof U=="string"||L(U)?w(U):L(U.data)?w(U.data):null}(E)),(te=g.call(this,q))||(E instanceof Uint8Array||T==="RGBA"||(ie=E,E=R(E)),te=this["process"+T.toUpperCase()](E,u.call(this),q,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:y.NONE}(B),ie)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},$=e.__addimage__.convertBase64ToBinaryString=function(E,T){T=typeof T!="boolean"||T;var q,B="";if(typeof E=="string"){var te;q=(te=C(E))!==null&&te!==void 0?te:E;try{B=Jy(q)}catch(ie){if(T)throw S(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(E){var T,q,B="";if(m(E)&&(E=f(E)),typeof E=="string"&&i(E)===s&&((B=$(E,!1))===""&&(B=e.loadFile(E)||""),E=B),q=i(E),!h(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(E instanceof Uint8Array||(E=R(E)),!(T=this["process"+q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=q,T}})(bt.API),function(e){var t=function(s){if(s!==void 0&&s!="")return!0};bt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(s){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(p.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(x(y))+") >>",p.content=a;var w=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(p.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var L=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},e.link=function(s,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(s),y:d(n),w:c(s+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(s,n,i,a){var o,l,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(s,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(s,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}}(bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(p){var b=0,x=s,y="",w=0;for(b=0;b<p.length;b+=1)x[p.charCodeAt(b)]!==void 0?(w++,typeof(x=x[p.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(x),x=s,w=0),b===p.length-1&&(x=s,y+=p.charAt(b-(w-1)),b-=w-1,w=0)):(x=s,y+=p.charAt(b-w),b-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(p,b,x){return o(p)?a(p)===!1?-1:!d(p)||!o(b)&&!o(x)||!o(x)&&l(b)||l(p)&&!o(b)||l(p)&&c(b)||l(p)&&l(b)?0:u(p)&&o(b)&&!l(b)&&o(x)&&d(x)?3:l(p)||!o(x)?1:2:-1},f=function(p){var b=0,x=0,y=0,w="",S="",C="",L=(p=p||"").split("\\s+"),R=[];for(b=0;b<L.length;b+=1){for(R.push(""),x=0;x<L[b].length;x+=1)w=L[b][x],S=L[b][x-1],C=L[b][x+1],o(w)?(y=m(w,S,C),R[b]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):R[b]+=w;R[b]=h(R[b])}return R.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var y=0;for(x=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?x.push([f(b[y][0]),b[y][1],b[y][2]]):x.push([f(b[y])]);p=x}else p=f(b);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(bt.API),bt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(l){s=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(s,n){var i;if((s=s||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,g=0,p=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,S){return w.concat(b.splitTextToSize(S,x))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)f<(p=this.getStringUnitWidth(c[y],{font:h})*u)&&(f=p);return f!==0&&(g=c.length),{w:f/=m,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,p,b,x=[],y=[],w=[],S={},C={},L=[],R=[],M=(m=m||{}).autoSize||!1,D=m.printHeaders!==!1,$=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,E=m.margins||Object.assign({width:this.getPageWidth()},t),T=typeof m.padding=="number"?m.padding:3,q=m.headerBackgroundColor||"#c8c8c8",B=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=B,this.setFontSize($),h==null)y=x=Object.keys(u[0]),w=x.map(function(){return"left"});else if(Array.isArray(h)&&Vs(h[0])==="object")for(x=h.map(function(xe){return xe.name}),y=h.map(function(xe){return xe.prompt||xe.name||""}),w=h.map(function(xe){return xe.align||"left"}),f=0;f<h.length;f+=1)C[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=x=h,w=x.map(function(){return"left"}));if(M||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(S[b=x[f]]=u.map(function(xe){return xe[b]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=S[b],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)L.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[b]=Math.max.apply(null,L)+T+T,L=[]}if(D){var te={};for(f=0;f<x.length;f+=1)te[x[f]]={},te[x[f]].text=y[f],te[x[f]].align=w[f];var ie=l.call(this,te,C);R=x.map(function(xe){return new a(c,d,C[xe],ie,te[xe].text,void 0,te[xe].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var G=h.reduce(function(xe,X){return xe[X.name]=X.align,xe},{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var P=l.call(this,u[f],C);for(p=0;p<x.length;p+=1){var U=u[f][x[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:p,data:U},this),o.call(this,new a(c,d,C[x[p]],P,U,f+2,G[x[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),s=!1}}(bt.API);var K9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Z9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],RS=G9(Z9),X9=[100,200,300,400,500,600,700,800,900],Zie=G9(X9);function rN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),s=function(a){return K9[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof RS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:s,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,s,n].join(" ")}}}function dE(e,t,s,n){var i;for(i=s;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=s;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Xie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function hE(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function fE(e){return e.trimLeft()}function Qie(e,t){for(var s=0;s<e.length;){if(e.charAt(s)===t)return[e.substring(0,s),e.substring(s+1)];s+=1}return null}function Jie(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var oy,mE,pE,hf,ly,gE,xE,vE,iN=["times"];function yE(e,t,s,n){var i=4,a=wE;switch(n){case bt.API.image_compression.FAST:i=1,a=bE;break;case bt.API.image_compression.MEDIUM:i=6,a=jE;break;case bt.API.image_compression.SLOW:i=9,a=NE}e=function(l,c,d,u){for(var h,m=l.length/c,f=new Uint8Array(l.length+m),g=[eae,bE,wE,jE,NE],p=0;p<m;p+=1){var b=p*c,x=l.subarray(b,b+c);if(u)f.set(u(x,d,h),b+p);else{for(var y=g.length,w=[],S=0;S<y;S+=1)w[S]=g[S](x,d,h);var C=sae(w.concat());f.set(w[C],b+p)}h=x}return f}(e,t,s,a);var o=bS(e,{level:i});return bt.API.__addimage__.arrayBufferToBinaryString(o)}function eae(e){var t=Array.apply([],e);return t.unshift(0),t}function bE(e,t){var s=e.length,n=[];n[0]=1;for(var i=0;i<s;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function wE(e,t,s){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=s&&s[a]||0;i[a+1]=e[a]-o+256&255}return i}function jE(e,t,s){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=s&&s[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function NE(e,t,s){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=tae(e[a-t]||0,s&&s[a]||0,s&&s[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function tae(e,t,s){if(e===t&&t===s)return e;var n=Math.abs(t-s),i=Math.abs(e-s),a=Math.abs(e+t-s-s);return n<=i&&n<=a?e:i<=a?t:s}function sae(e){var t=e.map(function(s){return s.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function aN(e,t,s){var n=t*s,i=Math.floor(n/8),a=16-(n-8*i+s),o=(1<<s)-1;return Q9(e,i)>>a&o}function SE(e,t,s,n){var i=s*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(e,a,Q9(e,a)&~(l<<o)&65535|c)}function Q9(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function nae(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],h=0,m=null,f=0,g=null;for(this.width=s,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&p||(m=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,S=e[t++],C=S>>6&1,L=1<<1+(7&S),R=l,M=c,D=!1;S>>7&&(D=!0,R=t,M=L,t+=3*L);var $=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:b,y:x,width:y,height:w,has_local_palette:D,palette_offset:R,palette_size:M,data_offset:$,data_length:t-$,transparent_index:m,interlaced:!!C,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,q){var B=this.frameInfo(T),te=B.width*B.height,ie=new Uint8Array(te);CE(e,B.data_offset,ie,te);var G=B.palette_offset,P=B.transparent_index;P===null&&(P=256);var U=B.width,xe=s-U,X=U,O=4*(B.y*s+B.x),W=4*((B.y+B.height)*s+B.x),Z=O,ce=4*xe;B.interlaced===!0&&(ce+=4*s*7);for(var ae=8,ne=0,Ne=ie.length;ne<Ne;++ne){var be=ie[ne];if(X===0&&(X=U,(Z+=ce)>=W&&(ce=4*xe+4*s*(ae-1),Z=O+(U+xe)*(ae<<1),ae>>=1)),be===P)Z+=4;else{var _e=e[G+3*be],Te=e[G+3*be+1],Ie=e[G+3*be+2];q[Z++]=Ie,q[Z++]=Te,q[Z++]=_e,q[Z++]=255}--X}},this.decodeAndBlitFrameRGBA=function(T,q){var B=this.frameInfo(T),te=B.width*B.height,ie=new Uint8Array(te);CE(e,B.data_offset,ie,te);var G=B.palette_offset,P=B.transparent_index;P===null&&(P=256);var U=B.width,xe=s-U,X=U,O=4*(B.y*s+B.x),W=4*((B.y+B.height)*s+B.x),Z=O,ce=4*xe;B.interlaced===!0&&(ce+=4*s*7);for(var ae=8,ne=0,Ne=ie.length;ne<Ne;++ne){var be=ie[ne];if(X===0&&(X=U,(Z+=ce)>=W&&(ce=4*xe+4*s*(ae-1),Z=O+(U+xe)*(ae<<1),ae>>=1)),be===P)Z+=4;else{var _e=e[G+3*be],Te=e[G+3*be+1],Ie=e[G+3*be+2];q[Z++]=_e,q[Z++]=Te,q[Z++]=Ie,q[Z++]=255}--X}}}function CE(e,t,s,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,h=0,m=0,f=e[t++],g=new Int32Array(4096),p=null;;){for(;u<16&&f!==0;)h|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<c)break;var b=h&d;if(h>>=c,u-=c,b!==a){if(b===o)break;for(var x=b<l?b:p,y=0,w=x;w>a;)w=g[w]>>8,++y;var S=w;if(m+y+(x!==b?1:0)>n)return void Ks.log("Warning, gif stream longer than expected.");s[m++]=S;var C=m+=y;for(x!==b&&(s[m++]=S),w=x;y--;)w=g[w],s[--C]=255&w,w>>=8;p!==null&&l<4096&&(g[l++]=p<<8|S,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=b}else l=o+1,d=(1<<(c=i+1))-1,p=null}return m!==n&&Ks.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oN(e){var t,s,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),g=new Array(64),p=[],b=0,x=7,y=new Array(64),w=new Array(64),S=new Array(64),C=new Array(256),L=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(O,W){for(var Z=0,ce=0,ae=new Array,ne=1;ne<=16;ne++){for(var Ne=1;Ne<=O[ne];Ne++)ae[W[ce]]=[],ae[W[ce]][0]=Z,ae[W[ce]][1]=ne,ce++,Z++;Z*=2}return ae}function G(O){for(var W=O[0],Z=O[1]-1;Z>=0;)W&1<<Z&&(b|=1<<x),Z--,--x<0&&(b==255?(P(255),P(0)):P(b),x=7,b=0)}function P(O){p.push(O)}function U(O){P(O>>8&255),P(255&O)}function xe(O,W,Z,ce,ae){for(var ne,Ne=ae[0],be=ae[240],_e=function(Ge,yt){var nt,re,fe,Pe,ze,Le,Fe,we,de,Ue,qe=0;for(de=0;de<8;++de){nt=Ge[qe],re=Ge[qe+1],fe=Ge[qe+2],Pe=Ge[qe+3],ze=Ge[qe+4],Le=Ge[qe+5],Fe=Ge[qe+6];var Ct=nt+(we=Ge[qe+7]),kt=nt-we,lt=re+Fe,Lt=re-Fe,ws=fe+Le,_t=fe-Le,Xt=Pe+ze,Vt=Pe-ze,Ys=Ct+Xt,sn=Ct-Xt,_s=lt+ws,Ft=lt-ws;Ge[qe]=Ys+_s,Ge[qe+4]=Ys-_s;var xs=.707106781*(Ft+sn);Ge[qe+2]=sn+xs,Ge[qe+6]=sn-xs;var Zi=.382683433*((Ys=Vt+_t)-(Ft=Lt+kt)),En=.5411961*Ys+Zi,ui=1.306562965*Ft+Zi,qr=.707106781*(_s=_t+Lt),At=kt+qr,hi=kt-qr;Ge[qe+5]=hi+En,Ge[qe+3]=hi-En,Ge[qe+1]=At+ui,Ge[qe+7]=At-ui,qe+=8}for(qe=0,de=0;de<8;++de){nt=Ge[qe],re=Ge[qe+8],fe=Ge[qe+16],Pe=Ge[qe+24],ze=Ge[qe+32],Le=Ge[qe+40],Fe=Ge[qe+48];var Ae=nt+(we=Ge[qe+56]),jt=nt-we,nn=re+Fe,Ps=re-Fe,bn=fe+Le,ar=fe-Le,zo=Pe+ze,ns=Pe-ze,Kt=Ae+zo,es=Ae-zo,zn=nn+bn,ro=nn-bn;Ge[qe]=Kt+zn,Ge[qe+32]=Kt-zn;var Ea=.707106781*(ro+es);Ge[qe+16]=es+Ea,Ge[qe+48]=es-Ea;var fu=.382683433*((Kt=ns+ar)-(ro=Ps+jt)),Vo=.5411961*Kt+fu,mu=1.306562965*ro+fu,Vh=.707106781*(zn=ar+Ps),$h=jt+Vh,Uh=jt-Vh;Ge[qe+40]=Uh+Vo,Ge[qe+24]=Uh-Vo,Ge[qe+8]=$h+mu,Ge[qe+56]=$h-mu,qe++}for(de=0;de<64;++de)Ue=Ge[de]*yt[de],f[de]=Ue>0?Ue+.5|0:Ue-.5|0;return f}(O,W),Te=0;Te<64;++Te)g[R[Te]]=_e[Te];var Ie=g[0]-Z;Z=g[0],Ie==0?G(ce[0]):(G(ce[m[ne=32767+Ie]]),G(h[ne]));for(var ye=63;ye>0&&g[ye]==0;)ye--;if(ye==0)return G(Ne),Z;for(var ge,se=1;se<=ye;){for(var It=se;g[se]==0&&se<=ye;)++se;var Tt=se-It;if(Tt>=16){ge=Tt>>4;for(var St=1;St<=ge;++St)G(be);Tt&=15}ne=32767+g[se],G(ae[(Tt<<4)+m[ne]]),G(h[ne]),se++}return ye!=63&&G(Ne),Z}function X(O){O=Math.min(Math.max(O,1),100),a!=O&&(function(W){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var ae=o((Z[ce]*W+50)/100);ae=Math.min(Math.max(ae,1),255),l[R[ce]]=ae}for(var ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var be=o((ne[Ne]*W+50)/100);be=Math.min(Math.max(be,1),255),c[R[Ne]]=be}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Ie=0;Ie<8;Ie++)for(var ye=0;ye<8;ye++)d[Te]=1/(l[R[Te]]*_e[Ie]*_e[ye]*8),u[Te]=1/(c[R[Te]]*_e[Ie]*_e[ye]*8),Te++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,W){W&&X(W),p=new Array,b=0,x=7,U(65496),U(65504),U(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),U(1),U(1),P(0),P(0),function(){U(65499),U(132),P(0);for(var re=0;re<64;re++)P(l[re]);P(1);for(var fe=0;fe<64;fe++)P(c[fe])}(),function(re,fe){U(65472),U(17),P(8),U(fe),U(re),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1)}(O.width,O.height),function(){U(65476),U(418),P(0);for(var re=0;re<16;re++)P(M[re+1]);for(var fe=0;fe<=11;fe++)P(D[fe]);P(16);for(var Pe=0;Pe<16;Pe++)P($[Pe+1]);for(var ze=0;ze<=161;ze++)P(E[ze]);P(1);for(var Le=0;Le<16;Le++)P(T[Le+1]);for(var Fe=0;Fe<=11;Fe++)P(q[Fe]);P(17);for(var we=0;we<16;we++)P(B[we+1]);for(var de=0;de<=161;de++)P(te[de])}(),U(65498),U(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var Z=0,ce=0,ae=0;b=0,x=7,this.encode.displayName="_encode_";for(var ne,Ne,be,_e,Te,Ie,ye,ge,se,It=O.data,Tt=O.width,St=O.height,Ge=4*Tt,yt=0;yt<St;){for(ne=0;ne<Ge;){for(Te=Ge*yt+ne,ye=-1,ge=0,se=0;se<64;se++)Ie=Te+(ge=se>>3)*Ge+(ye=4*(7&se)),yt+ge>=St&&(Ie-=Ge*(yt+1+ge-St)),ne+ye>=Ge&&(Ie-=ne+ye-Ge+4),Ne=It[Ie++],be=It[Ie++],_e=It[Ie++],y[se]=(L[Ne]+L[be+256|0]+L[_e+512|0]>>16)-128,w[se]=(L[Ne+768|0]+L[be+1024|0]+L[_e+1280|0]>>16)-128,S[se]=(L[Ne+1280|0]+L[be+1536|0]+L[_e+1792|0]>>16)-128;Z=xe(y,d,Z,t,n),ce=xe(w,u,ce,s,i),ae=xe(S,u,ae,s,i),ne+=32}yt+=8}if(x>=0){var nt=[];nt[1]=x+1,nt[0]=(1<<x+1)-1,G(nt)}return U(65497),new Uint8Array(p)},e=e||50,function(){for(var O=String.fromCharCode,W=0;W<256;W++)C[W]=O(W)}(),t=ie(M,D),s=ie(T,q),n=ie($,E),i=ie(B,te),function(){for(var O=1,W=2,Z=1;Z<=15;Z++){for(var ce=O;ce<W;ce++)m[32767+ce]=Z,h[32767+ce]=[],h[32767+ce][1]=Z,h[32767+ce][0]=ce;for(var ae=-(W-1);ae<=-O;ae++)m[32767+ae]=Z,h[32767+ae]=[],h[32767+ae][1]=Z,h[32767+ae][0]=W-1+ae;O<<=1,W<<=1}}(),function(){for(var O=0;O<256;O++)L[O]=19595*O,L[O+256|0]=38470*O,L[O+512|0]=7471*O+32768,L[O+768|0]=-11059*O,L[O+1024|0]=-21709*O,L[O+1280|0]=32768*O+8421375,L[O+1536|0]=-27439*O,L[O+1792|0]=-5329*O}(),X(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ho(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kE(e){function t(D){if(!D)throw Error("assert :P")}function s(D,$,E){for(var T=0;4>T;T++)if(D[$+T]!=E.charCodeAt(T))return!0;return!1}function n(D,$,E,T,q){for(var B=0;B<q;B++)D[$+B]=E[T+B]}function i(D,$,E,T){for(var q=0;q<T;q++)D[$+q]=E}function a(D){return new Int32Array(D)}function o(D,$){for(var E=[],T=0;T<D;T++)E.push(new $);return E}function l(D,$){var E=[];return function T(q,B,te){for(var ie=te[B],G=0;G<ie&&(q.push(te.length>B+1?[]:new $),!(te.length<B+1));G++)T(q[G],B+1,te)}(E,0,D),E}var c=function(){var D=this;function $(v,N){for(var _=1<<N-1>>>0;v&_;)_>>>=1;return _?(v&_-1)+_:v}function E(v,N,_,A,I){t(!(A%_));do v[N+(A-=_)]=I;while(0<A)}function T(v,N,_,A,I){if(t(2328>=I),512>=I)var z=a(512);else if((z=a(I))==null)return 0;return function(V,H,Y,Q,me,ke){var J,ve,Se=H,Me=1<<Y,Ce=a(16),Re=a(16);for(t(me!=0),t(Q!=null),t(V!=null),t(0<Y),ve=0;ve<me;++ve){if(15<Q[ve])return 0;++Ce[Q[ve]]}if(Ce[0]==me)return 0;for(Re[1]=0,J=1;15>J;++J){if(Ce[J]>1<<J)return 0;Re[J+1]=Re[J]+Ce[J]}for(ve=0;ve<me;++ve)J=Q[ve],0<Q[ve]&&(ke[Re[J]++]=ve);if(Re[15]==1)return(Q=new q).g=0,Q.value=ke[0],E(V,Se,1,Me,Q),Me;var Oe,Ze=-1,We=Me-1,Pt=0,ft=1,rs=1,xt=1<<Y;for(ve=0,J=1,me=2;J<=Y;++J,me<<=1){if(ft+=rs<<=1,0>(rs-=Ce[J]))return 0;for(;0<Ce[J];--Ce[J])(Q=new q).g=J,Q.value=ke[ve++],E(V,Se+Pt,me,xt,Q),Pt=$(Pt,J)}for(J=Y+1,me=2;15>=J;++J,me<<=1){if(ft+=rs<<=1,0>(rs-=Ce[J]))return 0;for(;0<Ce[J];--Ce[J]){if(Q=new q,(Pt&We)!=Ze){for(Se+=xt,Oe=1<<(Ze=J)-Y;15>Ze&&!(0>=(Oe-=Ce[Ze]));)++Ze,Oe<<=1;Me+=xt=1<<(Oe=Ze-Y),V[H+(Ze=Pt&We)].g=Oe+Y,V[H+Ze].value=Se-H-Ze}Q.g=J-Y,Q.value=ke[ve++],E(V,Se+(Pt>>Y),me,xt,Q),Pt=$(Pt,J)}}return ft!=2*Re[15]-1?0:Me}(v,N,_,A,I,z)}function q(){this.value=this.g=0}function B(){this.value=this.g=0}function te(){this.G=o(5,q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ho,B)}function ie(v,N,_,A){t(v!=null),t(N!=null),t(2147483648>A),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=N,v.pa=_,v.Jd=N,v.Yc=_+A,v.Zc=4<=A?_+A-4+1:_,Ne(v)}function G(v,N){for(var _=0;0<N--;)_|=_e(v,128)<<N;return _}function P(v,N){var _=G(v,N);return be(v)?-_:_}function U(v,N,_,A){var I,z=0;for(t(v!=null),t(N!=null),t(4294967288>A),v.Sb=A,v.Ra=0,v.u=0,v.h=0,4<A&&(A=4),I=0;I<A;++I)z+=N[_+I]<<8*I;v.Ra=z,v.bb=A,v.oa=N,v.pa=_}function xe(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Dc-8>>>0,++v.bb,v.u-=8;ce(v)&&(v.h=1,v.u=0)}function X(v,N){if(t(0<=N),!v.h&&N<=Fp){var _=Z(v)&Lc[N];return v.u+=N,xe(v),_}return v.h=1,v.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(v){return v.Ra>>>(v.u&Dc-1)>>>0}function ce(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Dc}function ae(v,N){v.u=N,v.h=ce(v)}function ne(v){v.u>=$n&&(t(v.u>=$n),xe(v))}function Ne(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function be(v){return G(v,1)}function _e(v,N){var _=v.Ca;0>v.b&&Ne(v);var A=v.b,I=_*N>>>8,z=(v.I>>>A>I)+0;for(z?(_-=I,v.I-=I+1<<A>>>0):_=I+1,A=_,I=0;256<=A;)I+=8,A>>=8;return A=7^I+Cw[A],v.b-=A,v.Ca=(_<<A)-1,z}function Te(v,N,_){v[N+0]=_>>24&255,v[N+1]=_>>16&255,v[N+2]=_>>8&255,v[N+3]=255&_}function Ie(v,N){return v[N+0]|v[N+1]<<8}function ye(v,N){return Ie(v,N)|v[N+2]<<16}function ge(v,N){return Ie(v,N)|Ie(v,N+2)<<16}function se(v,N){var _=1<<N;return t(v!=null),t(0<N),v.X=a(_),v.X==null?0:(v.Mb=32-N,v.Xa=N,1)}function It(v,N){t(v!=null),t(N!=null),t(v.Xa==N.Xa),n(N.X,0,v.X,0,1<<N.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function St(v,N,_,A){t(_!=null),t(A!=null);var I=_[0],z=A[0];return I==0&&(I=(v*z+N/2)/N),z==0&&(z=(N*I+v/2)/v),0>=I||0>=z?0:(_[0]=I,A[0]=z,1)}function Ge(v,N){return v+(1<<N)-1>>>N}function yt(v,N){return((4278255360&v)+(4278255360&N)>>>0&4278255360)+((16711935&v)+(16711935&N)>>>0&16711935)>>>0}function nt(v,N){D[N]=function(_,A,I,z,V,H,Y){var Q;for(Q=0;Q<V;++Q){var me=D[v](H[Y+Q-1],I,z+Q);H[Y+Q]=yt(_[A+Q],me)}}}function re(){this.ud=this.hd=this.jd=0}function fe(v,N){return((4278124286&(v^N))>>>1)+(v&N)>>>0}function Pe(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function ze(v,N){return Pe(v+(v-N+.5>>1))}function Le(v,N,_){return Math.abs(N-_)-Math.abs(v-_)}function Fe(v,N,_,A,I,z,V){for(A=z[V-1],_=0;_<I;++_)z[V+_]=A=yt(v[N+_],A)}function we(v,N,_,A,I){var z;for(z=0;z<_;++z){var V=v[N+z],H=V>>8&255,Y=16711935&(Y=(Y=16711935&V)+((H<<16)+H));A[I+z]=(4278255360&V)+Y>>>0}}function de(v,N){N.jd=255&v,N.hd=v>>8&255,N.ud=v>>16&255}function Ue(v,N,_,A,I,z){var V;for(V=0;V<A;++V){var H=N[_+V],Y=H>>>8,Q=H,me=255&(me=(me=H>>>16)+((v.jd<<24>>24)*(Y<<24>>24)>>>5));Q=255&(Q=(Q+=(v.hd<<24>>24)*(Y<<24>>24)>>>5)+((v.ud<<24>>24)*(me<<24>>24)>>>5)),I[z+V]=(4278255360&H)+(me<<16)+Q}}function qe(v,N,_,A,I){D[N]=function(z,V,H,Y,Q,me,ke,J,ve){for(Y=ke;Y<J;++Y)for(ke=0;ke<ve;++ke)Q[me++]=I(H[A(z[V++])])},D[v]=function(z,V,H,Y,Q,me,ke){var J=8>>z.b,ve=z.Ea,Se=z.K[0],Me=z.w;if(8>J)for(z=(1<<z.b)-1,Me=(1<<J)-1;V<H;++V){var Ce,Re=0;for(Ce=0;Ce<ve;++Ce)Ce&z||(Re=A(Y[Q++])),me[ke++]=I(Se[Re&Me]),Re>>=J}else D["VP8LMapColor"+_](Y,Q,Se,Me,me,ke,V,H,ve)}}function Ct(v,N,_,A,I){for(_=N+_;N<_;){var z=v[N++];A[I++]=z>>16&255,A[I++]=z>>8&255,A[I++]=255&z}}function kt(v,N,_,A,I){for(_=N+_;N<_;){var z=v[N++];A[I++]=z>>16&255,A[I++]=z>>8&255,A[I++]=255&z,A[I++]=z>>24&255}}function lt(v,N,_,A,I){for(_=N+_;N<_;){var z=(V=v[N++])>>16&240|V>>12&15,V=240&V|V>>28&15;A[I++]=z,A[I++]=V}}function Lt(v,N,_,A,I){for(_=N+_;N<_;){var z=(V=v[N++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;A[I++]=z,A[I++]=V}}function ws(v,N,_,A,I){for(_=N+_;N<_;){var z=v[N++];A[I++]=255&z,A[I++]=z>>8&255,A[I++]=z>>16&255}}function _t(v,N,_,A,I,z){if(z==0)for(_=N+_;N<_;)Te(A,((z=v[N++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),I+=32;else n(A,I,v,N,_)}function Xt(v,N){D[N][0]=D[v+"0"],D[N][1]=D[v+"1"],D[N][2]=D[v+"2"],D[N][3]=D[v+"3"],D[N][4]=D[v+"4"],D[N][5]=D[v+"5"],D[N][6]=D[v+"6"],D[N][7]=D[v+"7"],D[N][8]=D[v+"8"],D[N][9]=D[v+"9"],D[N][10]=D[v+"10"],D[N][11]=D[v+"11"],D[N][12]=D[v+"12"],D[N][13]=D[v+"13"],D[N][14]=D[v+"0"],D[N][15]=D[v+"0"]}function Vt(v){return v==Pw||v==Aw||v==gv||v==Ew}function Ys(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _s(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ys,this.f.kb=new sn,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zi(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function En(v,N){var _=v.T,A=N.ba.f.RGBA,I=A.eb,z=A.fb+v.ka*A.A,V=La[N.ba.S],H=v.y,Y=v.O,Q=v.f,me=v.N,ke=v.ea,J=v.W,ve=N.cc,Se=N.dc,Me=N.Mc,Ce=N.Nc,Re=v.ka,Oe=v.ka+v.T,Ze=v.U,We=Ze+1>>1;for(Re==0?V(H,Y,null,null,Q,me,ke,J,Q,me,ke,J,I,z,null,null,Ze):(V(N.ec,N.fc,H,Y,ve,Se,Me,Ce,Q,me,ke,J,I,z-A.A,I,z,Ze),++_);Re+2<Oe;Re+=2)ve=Q,Se=me,Me=ke,Ce=J,me+=v.Rc,J+=v.Rc,z+=2*A.A,V(H,(Y+=2*v.fa)-v.fa,H,Y,ve,Se,Me,Ce,Q,me,ke,J,I,z-A.A,I,z,Ze);return Y+=v.fa,v.j+Oe<v.o?(n(N.ec,N.fc,H,Y,Ze),n(N.cc,N.dc,Q,me,We),n(N.Mc,N.Nc,ke,J,We),_--):1&Oe||V(H,Y,null,null,Q,me,ke,J,Q,me,ke,J,I,z+A.A,null,null,Ze),_}function ui(v,N,_){var A=v.F,I=[v.J];if(A!=null){var z=v.U,V=N.ba.S,H=V==pv||V==gv;N=N.ba.f.RGBA;var Y=[0],Q=v.ka;Y[0]=v.T,v.Kb&&(Q==0?--Y[0]:(--Q,I[0]-=v.width),v.j+v.ka+v.T==v.o&&(Y[0]=v.o-v.j-Q));var me=N.eb;Q=N.fb+Q*N.A,v=v3(A,I[0],v.width,z,Y,me,Q+(H?0:3),N.A),t(_==Y),v&&Vt(V)&&$p(me,Q,H,z,Y,N.A)}return 0}function qr(v){var N=v.ma,_=N.ba.S,A=11>_,I=_==fv||_==mv||_==pv||_==_w||_==12||Vt(_);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Ei(N.Oa,v,I?11:12))return 0;if(I&&Vt(_)&&Lp(),v.da)alert("todo:use_scaling");else{if(A){if(N.Ib=Zi,v.Kb){if(_=v.U+1>>1,N.memory=a(v.U+2*_),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+v.U,N.Mc=N.cc,N.Nc=N.dc+_,N.Ib=En,Lp()}}else alert("todo:EmitYUV");I&&(N.Jb=ui,A&&Nu())}if(A&&!D3){for(v=0;256>v;++v)GH[v]=89858*(v-128)+vv>>xv,XH[v]=-22014*(v-128)+vv,ZH[v]=-45773*(v-128),KH[v]=113618*(v-128)+vv>>xv;for(v=Hp;v<Rw;++v)N=76283*(v-16)+vv>>xv,QH[v-Hp]=pr(N,255),JH[v-Hp]=pr(N+8>>4,15);D3=1}return 1}function At(v){var N=v.ma,_=v.U,A=v.T;return t(!(1&v.ka)),0>=_||0>=A?0:(_=N.Ib(v,N),N.Jb!=null&&N.Jb(v,N,_),N.Dc+=_,1)}function hi(v){v.ma.memory=null}function Ae(v,N,_,A){return X(v,8)!=47?0:(N[0]=X(v,14)+1,_[0]=X(v,14)+1,A[0]=X(v,1),X(v,3)!=0?0:!v.h)}function jt(v,N){if(4>v)return v+1;var _=v-2>>1;return(2+(1&v)<<_)+X(N,_)+1}function nn(v,N){return 120<N?N-120:1<=(_=((_=LH[N-1])>>4)*v+(8-(15&_)))?_:1;var _}function Ps(v,N,_){var A=Z(_),I=v[N+=255&A].g-8;return 0<I&&(ae(_,_.u+8),A=Z(_),N+=v[N].value,N+=A&(1<<I)-1),ae(_,_.u+v[N].g),v[N].value}function bn(v,N,_){return _.g+=v.g,_.value+=v.value<<N>>>0,t(8>=_.g),v.g}function ar(v,N,_){var A=v.xc;return t((N=A==0?0:v.vc[v.md*(_>>A)+(N>>A)])<v.Wb),v.Ya[N]}function zo(v,N,_,A){var I=v.ab,z=v.c*N,V=v.C;N=V+N;var H=_,Y=A;for(A=v.Ta,_=v.Ua;0<I--;){var Q=v.gc[I],me=V,ke=N,J=H,ve=Y,Se=(Y=A,H=_,Q.Ea);switch(t(me<ke),t(ke<=Q.nc),Q.hc){case 2:Jh(J,ve,(ke-me)*Se,Y,H);break;case 0:var Me=me,Ce=ke,Re=Y,Oe=H,Ze=(xt=Q).Ea;Me==0&&(qo(J,ve,null,null,1,Re,Oe),Fe(J,ve+1,0,0,Ze-1,Re,Oe+1),ve+=Ze,Oe+=Ze,++Me);for(var We=1<<xt.b,Pt=We-1,ft=Ge(Ze,xt.b),rs=xt.K,xt=xt.w+(Me>>xt.b)*ft;Me<Ce;){var js=rs,gr=xt,is=1;for(Wo(J,ve,Re,Oe-Ze,1,Re,Oe);is<Ze;){var vt=(is&~Pt)+We;vt>Ze&&(vt=Ze),(0,ku[js[gr++]>>8&15])(J,ve+ +is,Re,Oe+is-Ze,vt-is,Re,Oe+is),is=vt}ve+=Ze,Oe+=Ze,++Me&Pt||(xt+=ft)}ke!=Q.nc&&n(Y,H-Se,Y,H+(ke-me-1)*Se,Se);break;case 1:for(Se=J,Ce=ve,Ze=(J=Q.Ea)-(Oe=J&~(Re=(ve=1<<Q.b)-1)),Me=Ge(J,Q.b),We=Q.K,Q=Q.w+(me>>Q.b)*Me;me<ke;){for(Pt=We,ft=Q,rs=new re,xt=Ce+Oe,js=Ce+J;Ce<xt;)de(Pt[ft++],rs),Ol(rs,Se,Ce,ve,Y,H),Ce+=ve,H+=ve;Ce<js&&(de(Pt[ft++],rs),Ol(rs,Se,Ce,Ze,Y,H),Ce+=Ze,H+=Ze),++me&Re||(Q+=Me)}break;case 3:if(J==Y&&ve==H&&0<Q.b){for(Ce=Y,J=Se=H+(ke-me)*Se-(Oe=(ke-me)*Ge(Q.Ea,Q.b)),ve=Y,Re=H,Me=[],Oe=(Ze=Oe)-1;0<=Oe;--Oe)Me[Oe]=ve[Re+Oe];for(Oe=Ze-1;0<=Oe;--Oe)Ce[J+Oe]=Me[Oe];Bp(Q,me,ke,Y,Se,Y,H)}else Bp(Q,me,ke,J,ve,Y,H)}H=A,Y=_}Y!=_&&n(A,_,H,Y,z)}function ns(v,N){var _=v.V,A=v.Ba+v.c*v.C,I=N-v.C;if(t(N<=v.l.o),t(16>=I),0<I){var z=v.l,V=v.Ta,H=v.Ua,Y=z.width;if(zo(v,I,_,A),I=H=[H],t((_=v.C)<(A=N)),t(z.v<z.va),A>z.o&&(A=z.o),_<z.j){var Q=z.j-_;_=z.j,I[0]+=Q*Y}if(_>=A?_=0:(I[0]+=4*z.v,z.ka=_-z.j,z.U=z.va-z.v,z.T=A-_,_=1),_){if(H=H[0],11>(_=v.ca).S){var me=_.f.RGBA,ke=(A=_.S,I=z.U,z=z.T,Q=me.eb,me.A),J=z;for(me=me.fb+v.Ma*me.A;0<J--;){var ve=V,Se=H,Me=I,Ce=Q,Re=me;switch(A){case hv:zp(ve,Se,Me,Ce,Re);break;case fv:Qi(ve,Se,Me,Ce,Re);break;case Pw:Qi(ve,Se,Me,Ce,Re),$p(Ce,Re,0,Me,1,0);break;case C3:Xs(ve,Se,Me,Ce,Re);break;case mv:_t(ve,Se,Me,Ce,Re,1);break;case Aw:_t(ve,Se,Me,Ce,Re,1),$p(Ce,Re,0,Me,1,0);break;case pv:_t(ve,Se,Me,Ce,Re,0);break;case gv:_t(ve,Se,Me,Ce,Re,0),$p(Ce,Re,1,Me,1,0);break;case _w:Yo(ve,Se,Me,Ce,Re);break;case Ew:Yo(ve,Se,Me,Ce,Re),x3(Ce,Re,Me,1,0);break;case k3:Zs(ve,Se,Me,Ce,Re);break;default:t(0)}H+=Y,me+=ke}v.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=_.height)}}v.C=N,t(v.C<=v.i)}function Kt(v){var N;if(0<v.ua)return 0;for(N=0;N<v.Wb;++N){var _=v.Ya[N].G,A=v.Ya[N].H;if(0<_[1][A[1]+0].g||0<_[2][A[2]+0].g||0<_[3][A[3]+0].g)return 0}return 1}function es(v,N,_,A,I,z){if(v.Z!=0){var V=v.qd,H=v.rd;for(t(Ic[v.Z]!=null);N<_;++N)Ic[v.Z](V,H,A,I,A,I,z),V=A,H=I,I+=z;v.qd=V,v.rd=H}}function zn(v,N){var _=v.l.ma,A=_.Z==0||_.Z==1?v.l.j:v.C;if(A=v.C<A?A:v.C,t(N<=v.l.o),N>A){var I=v.l.width,z=_.ca,V=_.tb+I*A,H=v.V,Y=v.Ba+v.c*A,Q=v.gc;t(v.ab==1),t(Q[0].hc==3),tf(Q[0],A,N,H,Y,z,V),es(_,A,N,z,V,I)}v.C=v.Ma=N}function ro(v,N,_,A,I,z,V){var H=v.$/A,Y=v.$%A,Q=v.m,me=v.s,ke=_+v.$,J=ke;I=_+A*I;var ve=_+A*z,Se=280+me.ua,Me=v.Pb?H:16777216,Ce=0<me.ua?me.Wa:null,Re=me.wc,Oe=ke<ve?ar(me,Y,H):null;t(v.C<z),t(ve<=I);var Ze=!1;e:for(;;){for(;Ze||ke<ve;){var We=0;if(H>=Me){var Pt=ke-_;t((Me=v).Pb),Me.wd=Me.m,Me.xd=Pt,0<Me.s.ua&&It(Me.s.Wa,Me.s.vb),Me=H+OH}if(Y&Re||(Oe=ar(me,Y,H)),t(Oe!=null),Oe.Qb&&(N[ke]=Oe.qb,Ze=!0),!Ze)if(ne(Q),Oe.jc){We=Q,Pt=N;var ft=ke,rs=Oe.pd[Z(We)&Ho-1];t(Oe.jc),256>rs.g?(ae(We,We.u+rs.g),Pt[ft]=rs.value,We=0):(ae(We,We.u+rs.g-256),t(256<=rs.value),We=rs.value),We==0&&(Ze=!0)}else We=Ps(Oe.G[0],Oe.H[0],Q);if(Q.h)break;if(Ze||256>We){if(!Ze)if(Oe.nd)N[ke]=(Oe.qb|We<<8)>>>0;else{if(ne(Q),Ze=Ps(Oe.G[1],Oe.H[1],Q),ne(Q),Pt=Ps(Oe.G[2],Oe.H[2],Q),ft=Ps(Oe.G[3],Oe.H[3],Q),Q.h)break;N[ke]=(ft<<24|Ze<<16|We<<8|Pt)>>>0}if(Ze=!1,++ke,++Y>=A&&(Y=0,++H,V!=null&&H<=z&&!(H%16)&&V(v,H),Ce!=null))for(;J<ke;)We=N[J++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else if(280>We){if(We=jt(We-256,Q),Pt=Ps(Oe.G[4],Oe.H[4],Q),ne(Q),Pt=nn(A,Pt=jt(Pt,Q)),Q.h)break;if(ke-_<Pt||I-ke<We)break e;for(ft=0;ft<We;++ft)N[ke+ft]=N[ke+ft-Pt];for(ke+=We,Y+=We;Y>=A;)Y-=A,++H,V!=null&&H<=z&&!(H%16)&&V(v,H);if(t(ke<=I),Y&Re&&(Oe=ar(me,Y,H)),Ce!=null)for(;J<ke;)We=N[J++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We}else{if(!(We<Se))break e;for(Ze=We-280,t(Ce!=null);J<ke;)We=N[J++],Ce.X[(506832829*We&4294967295)>>>Ce.Mb]=We;We=ke,t(!(Ze>>>(Pt=Ce).Xa)),N[We]=Pt.X[Ze],Ze=!0}Ze||t(Q.h==ce(Q))}if(v.Pb&&Q.h&&ke<I)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&It(v.s.vb,v.s.Wa);else{if(Q.h)break e;V!=null&&V(v,H>z?z:H),v.a=0,v.$=ke-_}return 1}return v.a=3,0}function Ea(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var N=v.Wa;N!=null&&(N.X=null),v.vb=null,t(v!=null)}function fu(){var v=new wn;return v==null?null:(v.a=0,v.xb=A3,Xt("Predictor","VP8LPredictors"),Xt("Predictor","VP8LPredictors_C"),Xt("PredictorAdd","VP8LPredictorsAdd"),Xt("PredictorAdd","VP8LPredictorsAdd_C"),Jh=we,Ol=Ue,zp=Ct,Qi=kt,Yo=lt,Zs=Lt,Xs=ws,D.VP8LMapColor32b=ef,D.VP8LMapColor8b=Cu,v)}function Vo(v,N,_,A,I){var z=1,V=[v],H=[N],Y=A.m,Q=A.s,me=null,ke=0;e:for(;;){if(_)for(;z&&X(Y,1);){var J=V,ve=H,Se=A,Me=1,Ce=Se.m,Re=Se.gc[Se.ab],Oe=X(Ce,2);if(Se.Oc&1<<Oe)z=0;else{switch(Se.Oc|=1<<Oe,Re.hc=Oe,Re.Ea=J[0],Re.nc=ve[0],Re.K=[null],++Se.ab,t(4>=Se.ab),Oe){case 0:case 1:Re.b=X(Ce,3)+2,Me=Vo(Ge(Re.Ea,Re.b),Ge(Re.nc,Re.b),0,Se,Re.K),Re.K=Re.K[0];break;case 3:var Ze,We=X(Ce,8)+1,Pt=16<We?0:4<We?1:2<We?2:3;if(J[0]=Ge(Re.Ea,Pt),Re.b=Pt,Ze=Me=Vo(We,1,0,Se,Re.K)){var ft,rs=We,xt=Re,js=1<<(8>>xt.b),gr=a(js);if(gr==null)Ze=0;else{var is=xt.K[0],vt=xt.w;for(gr[0]=xt.K[0][0],ft=1;ft<1*rs;++ft)gr[ft]=yt(is[vt+ft],gr[ft-1]);for(;ft<4*js;++ft)gr[ft]=0;xt.K[0]=null,xt.K[0]=gr,Ze=1}}Me=Ze;break;case 2:break;default:t(0)}z=Me}}if(V=V[0],H=H[0],z&&X(Y,1)&&!(z=1<=(ke=X(Y,4))&&11>=ke)){A.a=3;break e}var st;if(st=z)t:{var qn,Jt,Cs,rn=A,Dr=V,mi=H,Tn=ke,Wr=_,pi=rn.m,xr=rn.s,As=[null],Is=1,Mn=0,Fs=DH[Tn];s:for(;;){if(Wr&&X(pi,1)){var Or=X(pi,3)+2,lo=Ge(Dr,Or),Wn=Ge(mi,Or),Mi=lo*Wn;if(!Vo(lo,Wn,0,rn,As))break s;for(As=As[0],xr.xc=Or,qn=0;qn<Mi;++qn){var Gs=As[qn]>>8&65535;As[qn]=Gs,Gs>=Is&&(Is=Gs+1)}}if(pi.h)break s;for(Jt=0;5>Jt;++Jt){var vr=_3[Jt];!Jt&&0<Tn&&(vr+=1<<Tn),Mn<vr&&(Mn=vr)}var ea=o(Is*Fs,q),gi=Is,ta=o(gi,te);if(ta==null)var sa=null;else t(65536>=gi),sa=ta;var Ri=a(Mn);if(sa==null||Ri==null||ea==null){rn.a=1;break s}var na=ea;for(qn=Cs=0;qn<Is;++qn){var Qs=sa[qn],ra=Qs.G,co=Qs.H,_u=0,Bl=1,Ir=0;for(Jt=0;5>Jt;++Jt){vr=_3[Jt],ra[Jt]=na,co[Jt]=Cs,!Jt&&0<Tn&&(vr+=1<<Tn);r:{var bv,Lw=vr,wv=rn,qp=Ri,sq=na,nq=Cs,Dw=0,Fc=wv.m,rq=X(Fc,1);if(i(qp,0,0,Lw),rq){var iq=X(Fc,1)+1,aq=X(Fc,1),F3=X(Fc,aq==0?1:8);qp[F3]=1,iq==2&&(qp[F3=X(Fc,8)]=1);var jv=1}else{var B3=a(19),z3=X(Fc,4)+4;if(19<z3){wv.a=3;var Nv=0;break r}for(bv=0;bv<z3;++bv)B3[RH[bv]]=X(Fc,3);var Ow=void 0,Wp=void 0,V3=wv,oq=B3,Sv=Lw,$3=qp,Iw=0,Bc=V3.m,U3=8,H3=o(128,q);n:for(;T(H3,0,7,oq,19);){if(X(Bc,1)){var lq=2+2*X(Bc,3);if((Ow=2+X(Bc,lq))>Sv)break n}else Ow=Sv;for(Wp=0;Wp<Sv&&Ow--;){ne(Bc);var q3=H3[0+(127&Z(Bc))];ae(Bc,Bc.u+q3.g);var nf=q3.value;if(16>nf)$3[Wp++]=nf,nf!=0&&(U3=nf);else{var cq=nf==16,W3=nf-16,dq=TH[W3],Y3=X(Bc,EH[W3])+dq;if(Wp+Y3>Sv)break n;for(var uq=cq?U3:0;0<Y3--;)$3[Wp++]=uq}}Iw=1;break n}Iw||(V3.a=3),jv=Iw}(jv=jv&&!Fc.h)&&(Dw=T(sq,nq,8,qp,Lw)),jv&&Dw!=0?Nv=Dw:(wv.a=3,Nv=0)}if(Nv==0)break s;if(Bl&&MH[Jt]==1&&(Bl=na[Cs].g==0),_u+=na[Cs].g,Cs+=Nv,3>=Jt){var Yp,Fw=Ri[0];for(Yp=1;Yp<vr;++Yp)Ri[Yp]>Fw&&(Fw=Ri[Yp]);Ir+=Fw}}if(Qs.nd=Bl,Qs.Qb=0,Bl&&(Qs.qb=(ra[3][co[3]+0].value<<24|ra[1][co[1]+0].value<<16|ra[2][co[2]+0].value)>>>0,_u==0&&256>ra[0][co[0]+0].value&&(Qs.Qb=1,Qs.qb+=ra[0][co[0]+0].value<<8)),Qs.jc=!Qs.Qb&&6>Ir,Qs.jc){var Cv,zl=Qs;for(Cv=0;Cv<Ho;++Cv){var zc=Cv,Vc=zl.pd[zc],kv=zl.G[0][zl.H[0]+zc];256<=kv.value?(Vc.g=kv.g+256,Vc.value=kv.value):(Vc.g=0,Vc.value=0,zc>>=bn(kv,8,Vc),zc>>=bn(zl.G[1][zl.H[1]+zc],16,Vc),zc>>=bn(zl.G[2][zl.H[2]+zc],0,Vc),bn(zl.G[3][zl.H[3]+zc],24,Vc))}}}xr.vc=As,xr.Wb=Is,xr.Ya=sa,xr.yc=ea,st=1;break t}st=0}if(!(z=st)){A.a=3;break e}if(0<ke){if(Q.ua=1<<ke,!se(Q.Wa,ke)){A.a=1,z=0;break e}}else Q.ua=0;var Bw=A,G3=V,hq=H,zw=Bw.s,Vw=zw.xc;if(Bw.c=G3,Bw.i=hq,zw.md=Ge(G3,Vw),zw.wc=Vw==0?-1:(1<<Vw)-1,_){A.xb=UH;break e}if((me=a(V*H))==null){A.a=1,z=0;break e}z=(z=ro(A,me,0,V,H,H,null))&&!Y.h;break e}return z?(I!=null?I[0]=me:(t(me==null),t(_)),A.$=0,_||Ea(Q)):Ea(Q),z}function mu(v,N){var _=v.c*v.i,A=_+N+16*N;return t(v.c<=N),v.V=a(A),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+_+N,1)}function Vh(v,N){var _=v.C,A=N-_,I=v.V,z=v.Ba+v.c*_;for(t(N<=v.l.o);0<A;){var V=16<A?16:A,H=v.l.ma,Y=v.l.width,Q=Y*V,me=H.ca,ke=H.tb+Y*_,J=v.Ta,ve=v.Ua;zo(v,V,I,z),y3(J,ve,me,ke,Q),es(H,_,_+V,me,ke,Y),A-=V,I+=V*v.c,_+=V}t(_==N),v.C=v.Ma=N}function $h(){this.ub=this.yd=this.td=this.Rb=0}function Uh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lw(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function bp(){this.Yb=function(){var v=[];return function N(_,A,I){for(var z=I[A],V=0;V<z&&(_.push(I.length>A+1?[]:0),!(I.length<A+1));V++)N(_[V],A+1,I)}(v,0,[3,11]),v}()}function Q0(){this.jb=a(3),this.Wc=l([4,8],bp),this.Xc=l([4,17],bp)}function J0(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function wp(){this.Na=this.la=0}function ev(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function jp(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function tv(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new jp),this.aa=0,this.l=new Hh}function sv(){this.y=a(16),this.f=a(8),this.ea=a(8)}function nv(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new $h,this.Kc=new Uh,this.ed=new J0,this.Qa=new lw,this.Ic=this.$c=this.Aa=0,this.D=new tv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,ev),this.Pa=new Q0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sv),this.Hd=0,this.rb=Array(new wp),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new jp),this.L=this.aa=0,this.gd=l([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function cw(){var v=new nv;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,Up||(Up=El)),v}function or(v,N,_){return v.a==0&&(v.a=N,v.sc=_,v.cb=0),0}function rv(v,N,_){return 3<=_&&v[N+0]==157&&v[N+1]==1&&v[N+2]==42}function iv(v,N){if(v==null)return 0;if(v.a=0,v.sc="OK",N==null)return or(v,2,"null VP8Io passed to VP8GetHeaders()");var _=N.data,A=N.w,I=N.ha;if(4>I)return or(v,7,"Truncated header.");var z=_[A+0]|_[A+1]<<8|_[A+2]<<16,V=v.Od;if(V.Rb=!(1&z),V.td=z>>1&7,V.yd=z>>4&1,V.ub=z>>5,3<V.td)return or(v,3,"Incorrect keyframe parameters.");if(!V.yd)return or(v,4,"Frame not displayable.");A+=3,I-=3;var H=v.Kc;if(V.Rb){if(7>I)return or(v,7,"cannot parse picture header");if(!rv(_,A,I))return or(v,3,"Bad code word");H.c=16383&(_[A+4]<<8|_[A+3]),H.Td=_[A+4]>>6,H.i=16383&(_[A+6]<<8|_[A+5]),H.Ud=_[A+6]>>6,A+=7,I-=7,v.za=H.c+15>>4,v.Ub=H.i+15>>4,N.width=H.c,N.height=H.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((z=v.Pa).jb,0,255,z.jb.length),t((z=v.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(V.ub>I)return or(v,7,"bad partition length");ie(z=v.m,_,A,V.ub),A+=V.ub,I-=V.ub,V.Rb&&(H.Ld=be(z),H.Kd=be(z)),H=v.Qa;var Y,Q=v.Pa;if(t(z!=null),t(H!=null),H.Cb=be(z),H.Cb){if(H.Bb=be(z),be(z)){for(H.Fb=be(z),Y=0;4>Y;++Y)H.Zb[Y]=be(z)?P(z,7):0;for(Y=0;4>Y;++Y)H.Lb[Y]=be(z)?P(z,6):0}if(H.Bb)for(Y=0;3>Y;++Y)Q.jb[Y]=be(z)?G(z,8):255}else H.Bb=0;if(z.Ka)return or(v,3,"cannot parse segment header");if((H=v.ed).zd=be(z),H.Tb=G(z,6),H.wb=G(z,3),H.Pc=be(z),H.Pc&&be(z)){for(Q=0;4>Q;++Q)be(z)&&(H.vd[Q]=P(z,6));for(Q=0;4>Q;++Q)be(z)&&(H.od[Q]=P(z,6))}if(v.L=H.Tb==0?0:H.zd?1:2,z.Ka)return or(v,3,"cannot parse filter header");var me=I;if(I=Y=A,A=Y+me,H=me,v.Xb=(1<<G(v.m,2))-1,me<3*(Q=v.Xb))_=7;else{for(Y+=3*Q,H-=3*Q,me=0;me<Q;++me){var ke=_[I+0]|_[I+1]<<8|_[I+2]<<16;ke>H&&(ke=H),ie(v.Jc[+me],_,Y,ke),Y+=ke,H-=ke,I+=3}ie(v.Jc[+Q],_,Y,H),_=Y<A?0:5}if(_!=0)return or(v,_,"cannot parse partitions");for(_=G(Y=v.m,7),I=be(Y)?P(Y,4):0,A=be(Y)?P(Y,4):0,H=be(Y)?P(Y,4):0,Q=be(Y)?P(Y,4):0,Y=be(Y)?P(Y,4):0,me=v.Qa,ke=0;4>ke;++ke){if(me.Cb){var J=me.Zb[ke];me.Fb||(J+=_)}else{if(0<ke){v.pb[ke]=v.pb[0];continue}J=_}var ve=v.pb[ke];ve.Sc[0]=Tw[pr(J+I,127)],ve.Sc[1]=Mw[pr(J+0,127)],ve.Eb[0]=2*Tw[pr(J+A,127)],ve.Eb[1]=101581*Mw[pr(J+H,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=Tw[pr(J+Q,117)],ve.Qc[1]=Mw[pr(J+Y,127)],ve.lc=J+Y}if(!V.Rb)return or(v,4,"Not a key frame.");for(be(z),V=v.Pa,_=0;4>_;++_){for(I=0;8>I;++I)for(A=0;3>A;++A)for(H=0;11>H;++H)Q=_e(z,VH[_][I][A][H])?G(z,8):BH[_][I][A][H],V.Wc[_][I].Yb[A][H]=Q;for(I=0;17>I;++I)V.Xc[_][I]=V.Wc[_][$H[I]]}return v.kc=be(z),v.kc&&(v.Bd=G(z,8)),v.cb=1}function El(v,N,_,A,I,z,V){var H=N[I].Yb[_];for(_=0;16>I;++I){if(!_e(v,H[_+0]))return I;for(;!_e(v,H[_+1]);)if(H=N[++I].Yb[0],_=0,I==16)return 16;var Y=N[I+1].Yb;if(_e(v,H[_+2])){var Q=v,me=0;if(_e(Q,(J=H)[(ke=_)+3]))if(_e(Q,J[ke+6])){for(H=0,ke=2*(me=_e(Q,J[ke+8]))+(J=_e(Q,J[ke+9+me])),me=0,J=IH[ke];J[H];++H)me+=me+_e(Q,J[H]);me+=3+(8<<ke)}else _e(Q,J[ke+7])?(me=7+2*_e(Q,165),me+=_e(Q,145)):me=5+_e(Q,159);else me=_e(Q,J[ke+4])?3+_e(Q,J[ke+5]):2;H=Y[2]}else me=1,H=Y[1];Y=V+FH[I],0>(Q=v).b&&Ne(Q);var ke,J=Q.b,ve=(ke=Q.Ca>>1)-(Q.I>>J)>>31;--Q.b,Q.Ca+=ve,Q.Ca|=1,Q.I-=(ke+1&ve)<<J,z[Y]=((me^ve)-ve)*A[(0<I)+0]}return 16}function pu(v){var N=v.rb[v.sb-1];N.la=0,N.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function io(v,N,_,A,I){I=v[N+_+32*A]+(I>>3),v[N+_+32*A]=-256&I?0>I?0:255:I}function gu(v,N,_,A,I,z){io(v,N,0,_,A+I),io(v,N,1,_,A+z),io(v,N,2,_,A-z),io(v,N,3,_,A-I)}function Vn(v){return(20091*v>>16)+v}function Np(v,N,_,A){var I,z=0,V=a(16);for(I=0;4>I;++I){var H=v[N+0]+v[N+8],Y=v[N+0]-v[N+8],Q=(35468*v[N+4]>>16)-Vn(v[N+12]),me=Vn(v[N+4])+(35468*v[N+12]>>16);V[z+0]=H+me,V[z+1]=Y+Q,V[z+2]=Y-Q,V[z+3]=H-me,z+=4,N++}for(I=z=0;4>I;++I)H=(v=V[z+0]+4)+V[z+8],Y=v-V[z+8],Q=(35468*V[z+4]>>16)-Vn(V[z+12]),io(_,A,0,0,H+(me=Vn(V[z+4])+(35468*V[z+12]>>16))),io(_,A,1,0,Y+Q),io(_,A,2,0,Y-Q),io(_,A,3,0,H-me),z++,A+=32}function dw(v,N,_,A){var I=v[N+0]+4,z=35468*v[N+4]>>16,V=Vn(v[N+4]),H=35468*v[N+1]>>16;gu(_,A,0,I+V,v=Vn(v[N+1]),H),gu(_,A,1,I+z,v,H),gu(_,A,2,I-z,v,H),gu(_,A,3,I-V,v,H)}function uw(v,N,_,A,I){Np(v,N,_,A),I&&Np(v,N+16,_,A+4)}function hw(v,N,_,A){Hn(v,N+0,_,A,1),Hn(v,N+32,_,A+128,1)}function $o(v,N,_,A){var I;for(v=v[N+0]+4,I=0;4>I;++I)for(N=0;4>N;++N)io(_,A,N,I,v)}function av(v,N,_,A){v[N+0]&&Go(v,N+0,_,A),v[N+16]&&Go(v,N+16,_,A+4),v[N+32]&&Go(v,N+32,_,A+128),v[N+48]&&Go(v,N+48,_,A+128+4)}function ov(v,N,_,A){var I,z=a(16);for(I=0;4>I;++I){var V=v[N+0+I]+v[N+12+I],H=v[N+4+I]+v[N+8+I],Y=v[N+4+I]-v[N+8+I],Q=v[N+0+I]-v[N+12+I];z[0+I]=V+H,z[8+I]=V-H,z[4+I]=Q+Y,z[12+I]=Q-Y}for(I=0;4>I;++I)V=(v=z[0+4*I]+3)+z[3+4*I],H=z[1+4*I]+z[2+4*I],Y=z[1+4*I]-z[2+4*I],Q=v-z[3+4*I],_[A+0]=V+H>>3,_[A+16]=Q+Y>>3,_[A+32]=V-H>>3,_[A+48]=Q-Y>>3,A+=64}function Ac(v,N,_){var A,I=N-32,z=Ji,V=255-v[I-1];for(A=0;A<_;++A){var H,Y=z,Q=V+v[N-1];for(H=0;H<_;++H)v[N+H]=Y[Q+v[I+H]];N+=32}}function Sp(v,N){Ac(v,N,4)}function fw(v,N){Ac(v,N,8)}function mw(v,N){Ac(v,N,16)}function pw(v,N){var _;for(_=0;16>_;++_)n(v,N+32*_,v,N-32,16)}function Cp(v,N){var _;for(_=16;0<_;--_)i(v,N,v[N-1],16),N+=32}function xu(v,N,_){var A;for(A=0;16>A;++A)i(N,_+32*A,v,16)}function Ec(v,N){var _,A=16;for(_=0;16>_;++_)A+=v[N-1+32*_]+v[N+_-32];xu(A>>5,v,N)}function gw(v,N){var _,A=8;for(_=0;16>_;++_)A+=v[N-1+32*_];xu(A>>4,v,N)}function vu(v,N){var _,A=8;for(_=0;16>_;++_)A+=v[N+_-32];xu(A>>4,v,N)}function kp(v,N){xu(128,v,N)}function Zt(v,N,_){return v+2*N+_+2>>2}function xw(v,N){var _,A=N-32;for(A=new Uint8Array([Zt(v[A-1],v[A+0],v[A+1]),Zt(v[A+0],v[A+1],v[A+2]),Zt(v[A+1],v[A+2],v[A+3]),Zt(v[A+2],v[A+3],v[A+4])]),_=0;4>_;++_)n(v,N+32*_,A,0,A.length)}function vw(v,N){var _=v[N-1],A=v[N-1+32],I=v[N-1+64],z=v[N-1+96];Te(v,N+0,16843009*Zt(v[N-1-32],_,A)),Te(v,N+32,16843009*Zt(_,A,I)),Te(v,N+64,16843009*Zt(A,I,z)),Te(v,N+96,16843009*Zt(I,z,z))}function yw(v,N){var _,A=4;for(_=0;4>_;++_)A+=v[N+_-32]+v[N-1+32*_];for(A>>=3,_=0;4>_;++_)i(v,N+32*_,A,4)}function bw(v,N){var _=v[N-1+0],A=v[N-1+32],I=v[N-1+64],z=v[N-1-32],V=v[N+0-32],H=v[N+1-32],Y=v[N+2-32],Q=v[N+3-32];v[N+0+96]=Zt(A,I,v[N-1+96]),v[N+1+96]=v[N+0+64]=Zt(_,A,I),v[N+2+96]=v[N+1+64]=v[N+0+32]=Zt(z,_,A),v[N+3+96]=v[N+2+64]=v[N+1+32]=v[N+0+0]=Zt(V,z,_),v[N+3+64]=v[N+2+32]=v[N+1+0]=Zt(H,V,z),v[N+3+32]=v[N+2+0]=Zt(Y,H,V),v[N+3+0]=Zt(Q,Y,H)}function Tl(v,N){var _=v[N+1-32],A=v[N+2-32],I=v[N+3-32],z=v[N+4-32],V=v[N+5-32],H=v[N+6-32],Y=v[N+7-32];v[N+0+0]=Zt(v[N+0-32],_,A),v[N+1+0]=v[N+0+32]=Zt(_,A,I),v[N+2+0]=v[N+1+32]=v[N+0+64]=Zt(A,I,z),v[N+3+0]=v[N+2+32]=v[N+1+64]=v[N+0+96]=Zt(I,z,V),v[N+3+32]=v[N+2+64]=v[N+1+96]=Zt(z,V,H),v[N+3+64]=v[N+2+96]=Zt(V,H,Y),v[N+3+96]=Zt(H,Y,Y)}function Ml(v,N){var _=v[N-1+0],A=v[N-1+32],I=v[N-1+64],z=v[N-1-32],V=v[N+0-32],H=v[N+1-32],Y=v[N+2-32],Q=v[N+3-32];v[N+0+0]=v[N+1+64]=z+V+1>>1,v[N+1+0]=v[N+2+64]=V+H+1>>1,v[N+2+0]=v[N+3+64]=H+Y+1>>1,v[N+3+0]=Y+Q+1>>1,v[N+0+96]=Zt(I,A,_),v[N+0+64]=Zt(A,_,z),v[N+0+32]=v[N+1+96]=Zt(_,z,V),v[N+1+32]=v[N+2+96]=Zt(z,V,H),v[N+2+32]=v[N+3+96]=Zt(V,H,Y),v[N+3+32]=Zt(H,Y,Q)}function ww(v,N){var _=v[N+0-32],A=v[N+1-32],I=v[N+2-32],z=v[N+3-32],V=v[N+4-32],H=v[N+5-32],Y=v[N+6-32],Q=v[N+7-32];v[N+0+0]=_+A+1>>1,v[N+1+0]=v[N+0+64]=A+I+1>>1,v[N+2+0]=v[N+1+64]=I+z+1>>1,v[N+3+0]=v[N+2+64]=z+V+1>>1,v[N+0+32]=Zt(_,A,I),v[N+1+32]=v[N+0+96]=Zt(A,I,z),v[N+2+32]=v[N+1+96]=Zt(I,z,V),v[N+3+32]=v[N+2+96]=Zt(z,V,H),v[N+3+64]=Zt(V,H,Y),v[N+3+96]=Zt(H,Y,Q)}function jw(v,N){var _=v[N-1+0],A=v[N-1+32],I=v[N-1+64],z=v[N-1+96];v[N+0+0]=_+A+1>>1,v[N+2+0]=v[N+0+32]=A+I+1>>1,v[N+2+32]=v[N+0+64]=I+z+1>>1,v[N+1+0]=Zt(_,A,I),v[N+3+0]=v[N+1+32]=Zt(A,I,z),v[N+3+32]=v[N+1+64]=Zt(I,z,z),v[N+3+64]=v[N+2+64]=v[N+0+96]=v[N+1+96]=v[N+2+96]=v[N+3+96]=z}function qh(v,N){var _=v[N-1+0],A=v[N-1+32],I=v[N-1+64],z=v[N-1+96],V=v[N-1-32],H=v[N+0-32],Y=v[N+1-32],Q=v[N+2-32];v[N+0+0]=v[N+2+32]=_+V+1>>1,v[N+0+32]=v[N+2+64]=A+_+1>>1,v[N+0+64]=v[N+2+96]=I+A+1>>1,v[N+0+96]=z+I+1>>1,v[N+3+0]=Zt(H,Y,Q),v[N+2+0]=Zt(V,H,Y),v[N+1+0]=v[N+3+32]=Zt(_,V,H),v[N+1+32]=v[N+3+64]=Zt(A,_,V),v[N+1+64]=v[N+3+96]=Zt(I,A,_),v[N+1+96]=Zt(z,I,A)}function _p(v,N){var _;for(_=0;8>_;++_)n(v,N+32*_,v,N-32,8)}function yu(v,N){var _;for(_=0;8>_;++_)i(v,N,v[N-1],8),N+=32}function Wh(v,N,_){var A;for(A=0;8>A;++A)i(N,_+32*A,v,8)}function Yh(v,N){var _,A=8;for(_=0;8>_;++_)A+=v[N+_-32]+v[N-1+32*_];Wh(A>>4,v,N)}function Nw(v,N){var _,A=4;for(_=0;8>_;++_)A+=v[N+_-32];Wh(A>>3,v,N)}function Pp(v,N){var _,A=4;for(_=0;8>_;++_)A+=v[N-1+32*_];Wh(A>>3,v,N)}function Ap(v,N){Wh(128,v,N)}function bu(v,N,_){var A=v[N-_],I=v[N+0],z=3*(I-A)+kw[1020+v[N-2*_]-v[N+_]],V=uv[112+(z+4>>3)];v[N-_]=Ji[255+A+uv[112+(z+3>>3)]],v[N+0]=Ji[255+I-V]}function wu(v,N,_,A){var I=v[N+0],z=v[N+_];return Ra[255+v[N-2*_]-v[N-_]]>A||Ra[255+z-I]>A}function Ep(v,N,_,A){return 4*Ra[255+v[N-_]-v[N+0]]+Ra[255+v[N-2*_]-v[N+_]]<=A}function Gh(v,N,_,A,I){var z=v[N-3*_],V=v[N-2*_],H=v[N-_],Y=v[N+0],Q=v[N+_],me=v[N+2*_],ke=v[N+3*_];return 4*Ra[255+H-Y]+Ra[255+V-Q]>A?0:Ra[255+v[N-4*_]-z]<=I&&Ra[255+z-V]<=I&&Ra[255+V-H]<=I&&Ra[255+ke-me]<=I&&Ra[255+me-Q]<=I&&Ra[255+Q-Y]<=I}function Tp(v,N,_,A){var I=2*A+1;for(A=0;16>A;++A)Ep(v,N+A,_,I)&&bu(v,N+A,_)}function ju(v,N,_,A){var I=2*A+1;for(A=0;16>A;++A)Ep(v,N+A*_,1,I)&&bu(v,N+A*_,1)}function Mp(v,N,_,A){var I;for(I=3;0<I;--I)Tp(v,N+=4*_,_,A)}function Rp(v,N,_,A){var I;for(I=3;0<I;--I)ju(v,N+=4,_,A)}function Xi(v,N,_,A,I,z,V,H){for(z=2*z+1;0<I--;){if(Gh(v,N,_,z,V))if(wu(v,N,_,H))bu(v,N,_);else{var Y=v,Q=N,me=_,ke=Y[Q-2*me],J=Y[Q-me],ve=Y[Q+0],Se=Y[Q+me],Me=Y[Q+2*me],Ce=27*(Oe=kw[1020+3*(ve-J)+kw[1020+ke-Se]])+63>>7,Re=18*Oe+63>>7,Oe=9*Oe+63>>7;Y[Q-3*me]=Ji[255+Y[Q-3*me]+Oe],Y[Q-2*me]=Ji[255+ke+Re],Y[Q-me]=Ji[255+J+Ce],Y[Q+0]=Ji[255+ve-Ce],Y[Q+me]=Ji[255+Se-Re],Y[Q+2*me]=Ji[255+Me-Oe]}N+=A}}function Uo(v,N,_,A,I,z,V,H){for(z=2*z+1;0<I--;){if(Gh(v,N,_,z,V))if(wu(v,N,_,H))bu(v,N,_);else{var Y=v,Q=N,me=_,ke=Y[Q-me],J=Y[Q+0],ve=Y[Q+me],Se=uv[112+(4+(Me=3*(J-ke))>>3)],Me=uv[112+(Me+3>>3)],Ce=Se+1>>1;Y[Q-2*me]=Ji[255+Y[Q-2*me]+Ce],Y[Q-me]=Ji[255+ke+Me],Y[Q+0]=Ji[255+J-Se],Y[Q+me]=Ji[255+ve-Ce]}N+=A}}function k(v,N,_,A,I,z){Xi(v,N,_,1,16,A,I,z)}function F(v,N,_,A,I,z){Xi(v,N,1,_,16,A,I,z)}function ee(v,N,_,A,I,z){var V;for(V=3;0<V;--V)Uo(v,N+=4*_,_,1,16,A,I,z)}function ue(v,N,_,A,I,z){var V;for(V=3;0<V;--V)Uo(v,N+=4,1,_,16,A,I,z)}function je(v,N,_,A,I,z,V,H){Xi(v,N,I,1,8,z,V,H),Xi(_,A,I,1,8,z,V,H)}function De(v,N,_,A,I,z,V,H){Xi(v,N,1,I,8,z,V,H),Xi(_,A,1,I,8,z,V,H)}function Ye(v,N,_,A,I,z,V,H){Uo(v,N+4*I,I,1,8,z,V,H),Uo(_,A+4*I,I,1,8,z,V,H)}function pt(v,N,_,A,I,z,V,H){Uo(v,N+4,1,I,8,z,V,H),Uo(_,A+4,1,I,8,z,V,H)}function Nt(){this.ba=new _s,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ts(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ms(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new q}function wn(){this.xb=this.a=0,this.l=new Hh,this.ca=new _s,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ms,this.ab=0,this.gc=o(4,ts),this.Oc=0}function lr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hs(v,N,_,A,I,z,V){for(v=v==null?0:v[N+0],N=0;N<V;++N)I[z+N]=v+_[A+N]&255,v=I[z+N]}function mr(v,N,_,A,I,z,V){var H;if(v==null)Hs(null,null,_,A,I,z,V);else for(H=0;H<V;++H)I[z+H]=v[N+H]+_[A+H]&255}function cr(v,N,_,A,I,z,V){if(v==null)Hs(null,null,_,A,I,z,V);else{var H,Y=v[N+0],Q=Y,me=Y;for(H=0;H<V;++H)Q=me+(Y=v[N+H])-Q,me=_[A+H]+(-256&Q?0>Q?0:255:Q)&255,Q=Y,I[z+H]=me}}function Lr(v,N,_,A){var I=N.width,z=N.o;if(t(v!=null&&N!=null),0>_||0>=A||_+A>z)return null;if(!v.Cc){if(v.ga==null){var V;if(v.ga=new lr,(V=v.ga==null)||(V=N.width*N.o,t(v.Gb.length==0),v.Gb=a(V),v.Uc=0,v.Gb==null?V=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,V=1),V=!V),!V){V=v.ga;var H=v.Fa,Y=v.P,Q=v.qc,me=v.mb,ke=v.nb,J=Y+1,ve=Q-1,Se=V.l;if(t(H!=null&&me!=null&&N!=null),Ic[0]=null,Ic[1]=Hs,Ic[2]=mr,Ic[3]=cr,V.ca=me,V.tb=ke,V.c=N.width,V.i=N.height,t(0<V.c&&0<V.i),1>=Q)N=0;else if(V.$a=3&H[Y+0],V.Z=H[Y+0]>>2&3,V.Lc=H[Y+0]>>4&3,Y=H[Y+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||Y)N=0;else if(Se.put=At,Se.ac=qr,Se.bc=hi,Se.ma=V,Se.width=N.width,Se.height=N.height,Se.Da=N.Da,Se.v=N.v,Se.va=N.va,Se.j=N.j,Se.o=N.o,V.$a)e:{t(V.$a==1),N=fu();t:for(;;){if(N==null){N=0;break e}if(t(V!=null),V.mc=N,N.c=V.c,N.i=V.i,N.l=V.l,N.l.ma=V,N.l.width=V.c,N.l.height=V.i,N.a=0,U(N.m,H,J,ve),!Vo(V.c,V.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Kt(N.s)?(V.ic=1,H=N.c*N.i,N.Ta=null,N.Ua=0,N.V=a(H),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(V.ic=0,N=mu(N,V.c)),!N))break t;N=1;break e}V.mc=null,N=0}else N=ve>=V.c*V.i;V=!N}if(V)return null;v.ga.Lc!=1?v.Ga=0:A=z-_}t(v.ga!=null),t(_+A<=z);e:{if(N=(H=v.ga).c,z=H.l.o,H.$a==0){if(J=v.rc,ve=v.Vc,Se=v.Fa,Y=v.P+1+_*N,Q=v.mb,me=v.nb+_*N,t(Y<=v.P+v.qc),H.Z!=0)for(t(Ic[H.Z]!=null),V=0;V<A;++V)Ic[H.Z](J,ve,Se,Y,Q,me,N),J=Q,ve=me,me+=N,Y+=N;else for(V=0;V<A;++V)n(Q,me,Se,Y,N),J=Q,ve=me,me+=N,Y+=N;v.rc=J,v.Vc=ve}else{if(t(H.mc!=null),N=_+A,t((V=H.mc)!=null),t(N<=V.i),V.C>=N)N=1;else if(H.ic||Nu(),H.ic){H=V.V,J=V.Ba,ve=V.c;var Me=V.i,Ce=(Se=1,Y=V.$/ve,Q=V.$%ve,me=V.m,ke=V.s,V.$),Re=ve*Me,Oe=ve*N,Ze=ke.wc,We=Ce<Oe?ar(ke,Q,Y):null;t(Ce<=Re),t(N<=Me),t(Kt(ke));t:for(;;){for(;!me.h&&Ce<Oe;){if(Q&Ze||(We=ar(ke,Q,Y)),t(We!=null),ne(me),256>(Me=Ps(We.G[0],We.H[0],me)))H[J+Ce]=Me,++Ce,++Q>=ve&&(Q=0,++Y<=N&&!(Y%16)&&zn(V,Y));else{if(!(280>Me)){Se=0;break t}Me=jt(Me-256,me);var Pt,ft=Ps(We.G[4],We.H[4],me);if(ne(me),!(Ce>=(ft=nn(ve,ft=jt(ft,me)))&&Re-Ce>=Me)){Se=0;break t}for(Pt=0;Pt<Me;++Pt)H[J+Ce+Pt]=H[J+Ce+Pt-ft];for(Ce+=Me,Q+=Me;Q>=ve;)Q-=ve,++Y<=N&&!(Y%16)&&zn(V,Y);Ce<Oe&&Q&Ze&&(We=ar(ke,Q,Y))}t(me.h==ce(me))}zn(V,Y>N?N:Y);break t}!Se||me.h&&Ce<Re?(Se=0,V.a=me.h?5:3):V.$=Ce,N=Se}else N=ro(V,V.V,V.Ba,V.c,V.i,N,Vh);if(!N){A=0;break e}}_+A>=z&&(v.Cc=1),A=1}if(!A)return null;if(v.Cc&&((A=v.ga)!=null&&(A.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+_*I}function Rl(v,N,_,A,I,z){for(;0<I--;){var V,H=v,Y=N+(_?1:0),Q=v,me=N+(_?0:3);for(V=0;V<A;++V){var ke=Q[me+4*V];ke!=255&&(ke*=32897,H[Y+4*V+0]=H[Y+4*V+0]*ke>>23,H[Y+4*V+1]=H[Y+4*V+1]*ke>>23,H[Y+4*V+2]=H[Y+4*V+2]*ke>>23)}N+=z}}function Tc(v,N,_,A,I){for(;0<A--;){var z;for(z=0;z<_;++z){var V=v[N+2*z+0],H=15&(Q=v[N+2*z+1]),Y=4369*H,Q=(240&Q|Q>>4)*Y>>16;v[N+2*z+0]=(240&V|V>>4)*Y>>16&240|(15&V|V<<4)*Y>>16>>4&15,v[N+2*z+1]=240&Q|H}N+=I}}function Sw(v,N,_,A,I,z,V,H){var Y,Q,me=255;for(Q=0;Q<I;++Q){for(Y=0;Y<A;++Y){var ke=v[N+Y];z[V+4*Y]=ke,me&=ke}N+=_,V+=H}return me!=255}function lv(v,N,_,A,I){var z;for(z=0;z<I;++z)_[A+z]=v[N+z]>>8}function Nu(){$p=Rl,x3=Tc,v3=Sw,y3=lv}function ao(v,N,_){D[v]=function(A,I,z,V,H,Y,Q,me,ke,J,ve,Se,Me,Ce,Re,Oe,Ze){var We,Pt=Ze-1>>1,ft=H[Y+0]|Q[me+0]<<16,rs=ke[J+0]|ve[Se+0]<<16;t(A!=null);var xt=3*ft+rs+131074>>2;for(N(A[I+0],255&xt,xt>>16,Me,Ce),z!=null&&(xt=3*rs+ft+131074>>2,N(z[V+0],255&xt,xt>>16,Re,Oe)),We=1;We<=Pt;++We){var js=H[Y+We]|Q[me+We]<<16,gr=ke[J+We]|ve[Se+We]<<16,is=ft+js+rs+gr+524296,vt=is+2*(js+rs)>>3;xt=vt+ft>>1,ft=(is=is+2*(ft+gr)>>3)+js>>1,N(A[I+2*We-1],255&xt,xt>>16,Me,Ce+(2*We-1)*_),N(A[I+2*We-0],255&ft,ft>>16,Me,Ce+(2*We-0)*_),z!=null&&(xt=is+rs>>1,ft=vt+gr>>1,N(z[V+2*We-1],255&xt,xt>>16,Re,Oe+(2*We-1)*_),N(z[V+2*We+0],255&ft,ft>>16,Re,Oe+(2*We+0)*_)),ft=js,rs=gr}1&Ze||(xt=3*ft+rs+131074>>2,N(A[I+Ze-1],255&xt,xt>>16,Me,Ce+(Ze-1)*_),z!=null&&(xt=3*rs+ft+131074>>2,N(z[V+Ze-1],255&xt,xt>>16,Re,Oe+(Ze-1)*_)))}}function Lp(){La[hv]=HH,La[fv]=E3,La[C3]=qH,La[mv]=T3,La[pv]=M3,La[_w]=R3,La[k3]=WH,La[Pw]=E3,La[Aw]=T3,La[gv]=M3,La[Ew]=R3}function Kh(v){return v&~YH?0>v?0:255:v>>L3}function Mc(v,N){return Kh((19077*v>>8)+(26149*N>>8)-14234)}function kr(v,N,_){return Kh((19077*v>>8)-(6419*N>>8)-(13320*_>>8)+8708)}function Ll(v,N){return Kh((19077*v>>8)+(33050*N>>8)-17685)}function Dl(v,N,_,A,I){A[I+0]=Mc(v,_),A[I+1]=kr(v,N,_),A[I+2]=Ll(v,N)}function Zh(v,N,_,A,I){A[I+0]=Ll(v,N),A[I+1]=kr(v,N,_),A[I+2]=Mc(v,_)}function Dp(v,N,_,A,I){var z=kr(v,N,_);N=z<<3&224|Ll(v,N)>>3,A[I+0]=248&Mc(v,_)|z>>5,A[I+1]=N}function fi(v,N,_,A,I){var z=240&Ll(v,N)|15;A[I+0]=240&Mc(v,_)|kr(v,N,_)>>4,A[I+1]=z}function cv(v,N,_,A,I){A[I+0]=255,Dl(v,N,_,A,I+1)}function Xh(v,N,_,A,I){Zh(v,N,_,A,I),A[I+3]=255}function dv(v,N,_,A,I){Dl(v,N,_,A,I),A[I+3]=255}function pr(v,N){return 0>v?0:v>N?N:v}function Ma(v,N,_){D[v]=function(A,I,z,V,H,Y,Q,me,ke){for(var J=me+(-2&ke)*_;me!=J;)N(A[I+0],z[V+0],H[Y+0],Q,me),N(A[I+1],z[V+0],H[Y+0],Q,me+_),I+=2,++V,++Y,me+=2*_;1&ke&&N(A[I+0],z[V+0],H[Y+0],Q,me)}}function Op(v,N,_){return _==0?v==0?N==0?6:5:N==0?4:0:_}function Ip(v,N,_,A,I){switch(v>>>30){case 3:Hn(N,_,A,I,0);break;case 2:Il(N,_,A,I);break;case 1:Go(N,_,A,I)}}function Rc(v,N){var _,A,I=N.M,z=N.Nb,V=v.oc,H=v.pc+40,Y=v.oc,Q=v.pc+584,me=v.oc,ke=v.pc+600;for(_=0;16>_;++_)V[H+32*_-1]=129;for(_=0;8>_;++_)Y[Q+32*_-1]=129,me[ke+32*_-1]=129;for(0<I?V[H-1-32]=Y[Q-1-32]=me[ke-1-32]=129:(i(V,H-32-1,127,21),i(Y,Q-32-1,127,9),i(me,ke-32-1,127,9)),A=0;A<v.za;++A){var J=N.ya[N.aa+A];if(0<A){for(_=-1;16>_;++_)n(V,H+32*_-4,V,H+32*_+12,4);for(_=-1;8>_;++_)n(Y,Q+32*_-4,Y,Q+32*_+4,4),n(me,ke+32*_-4,me,ke+32*_+4,4)}var ve=v.Gd,Se=v.Hd+A,Me=J.ad,Ce=J.Hc;if(0<I&&(n(V,H-32,ve[Se].y,0,16),n(Y,Q-32,ve[Se].f,0,8),n(me,ke-32,ve[Se].ea,0,8)),J.Za){var Re=V,Oe=H-32+16;for(0<I&&(A>=v.za-1?i(Re,Oe,ve[Se].y[15],4):n(Re,Oe,ve[Se+1].y,0,4)),_=0;4>_;_++)Re[Oe+128+_]=Re[Oe+256+_]=Re[Oe+384+_]=Re[Oe+0+_];for(_=0;16>_;++_,Ce<<=2)Re=V,Oe=H+O3[_],oo[J.Ob[_]](Re,Oe),Ip(Ce,Me,16*+_,Re,Oe)}else if(Re=Op(A,I,J.Ob[0]),Oc[Re](V,H),Ce!=0)for(_=0;16>_;++_,Ce<<=2)Ip(Ce,Me,16*+_,V,H+O3[_]);for(_=J.Gc,Re=Op(A,I,J.Dd),Fl[Re](Y,Q),Fl[Re](me,ke),Ce=Me,Re=Y,Oe=Q,255&(J=0|_)&&(170&J?sf(Ce,256,Re,Oe):Vp(Ce,256,Re,Oe)),J=me,Ce=ke,255&(_>>=8)&&(170&_?sf(Me,320,J,Ce):Vp(Me,320,J,Ce)),I<v.Ub-1&&(n(ve[Se].y,0,V,H+480,16),n(ve[Se].f,0,Y,Q+224,8),n(ve[Se].ea,0,me,ke+224,8)),_=8*z*v.B,ve=v.sa,Se=v.ta+16*A+16*z*v.R,Me=v.qa,J=v.ra+8*A+_,Ce=v.Ha,Re=v.Ia+8*A+_,_=0;16>_;++_)n(ve,Se+_*v.R,V,H+32*_,16);for(_=0;8>_;++_)n(Me,J+_*v.B,Y,Q+32*_,8),n(Ce,Re+_*v.B,me,ke+32*_,8)}}function Qh(v,N,_,A,I,z,V,H,Y){var Q=[0],me=[0],ke=0,J=Y!=null?Y.kd:0,ve=Y??new Wt;if(v==null||12>_)return 7;ve.data=v,ve.w=N,ve.ha=_,N=[N],_=[_],ve.gb=[ve.gb];e:{var Se=N,Me=_,Ce=ve.gb;if(t(v!=null),t(Me!=null),t(Ce!=null),Ce[0]=0,12<=Me[0]&&!s(v,Se[0],"RIFF")){if(s(v,Se[0]+8,"WEBP")){Ce=3;break e}var Re=ge(v,Se[0]+4);if(12>Re||4294967286<Re){Ce=3;break e}if(J&&Re>Me[0]-8){Ce=7;break e}Ce[0]=Re,Se[0]+=12,Me[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Re=0<ve.gb[0],_=_[0];;){e:{var Oe=v;Me=N,Ce=_;var Ze=Q,We=me,Pt=Se=[0];if((xt=ke=[ke])[0]=0,8>Ce[0])Ce=7;else{if(!s(Oe,Me[0],"VP8X")){if(ge(Oe,Me[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var ft=ge(Oe,Me[0]+8),rs=1+ye(Oe,Me[0]+12);if(2147483648<=rs*(Oe=1+ye(Oe,Me[0]+15))){Ce=3;break e}Pt!=null&&(Pt[0]=ft),Ze!=null&&(Ze[0]=rs),We!=null&&(We[0]=Oe),Me[0]+=18,Ce[0]-=18,xt[0]=1}Ce=0}}if(ke=ke[0],Se=Se[0],Ce!=0)return Ce;if(Me=!!(2&Se),!Re&&ke)return 3;if(z!=null&&(z[0]=!!(16&Se)),V!=null&&(V[0]=Me),H!=null&&(H[0]=0),V=Q[0],Se=me[0],ke&&Me&&Y==null){Ce=0;break}if(4>_){Ce=7;break}if(Re&&ke||!Re&&!ke&&!s(v,N[0],"ALPH")){_=[_],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{ft=v,Ce=N,Re=_;var xt=ve.gb;Ze=ve.na,We=ve.P,Pt=ve.Sa,rs=22,t(ft!=null),t(Re!=null),Oe=Ce[0];var js=Re[0];for(t(Ze!=null),t(Pt!=null),Ze[0]=null,We[0]=null,Pt[0]=0;;){if(Ce[0]=Oe,Re[0]=js,8>js){Ce=7;break e}var gr=ge(ft,Oe+4);if(4294967286<gr){Ce=3;break e}var is=8+gr+1&-2;if(rs+=is,0<xt&&rs>xt){Ce=3;break e}if(!s(ft,Oe,"VP8 ")||!s(ft,Oe,"VP8L")){Ce=0;break e}if(js[0]<is){Ce=7;break e}s(ft,Oe,"ALPH")||(Ze[0]=ft,We[0]=Oe+8,Pt[0]=gr),Oe+=is,js-=is}}if(_=_[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Ce!=0)break}_=[_],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(xt=v,Ce=N,Re=_,Ze=ve.gb[0],We=ve.Ja,Pt=ve.xa,ft=Ce[0],Oe=!s(xt,ft,"VP8 "),rs=!s(xt,ft,"VP8L"),t(xt!=null),t(Re!=null),t(We!=null),t(Pt!=null),8>Re[0])Ce=7;else{if(Oe||rs){if(xt=ge(xt,ft+4),12<=Ze&&xt>Ze-12){Ce=3;break e}if(J&&xt>Re[0]-8){Ce=7;break e}We[0]=xt,Ce[0]+=8,Re[0]-=8,Pt[0]=rs}else Pt[0]=5<=Re[0]&&xt[ft+0]==47&&!(xt[ft+4]>>5),We[0]=Re[0];Ce=0}if(_=_[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],N=N[0],Ce!=0)break;if(4294967286<ve.Ja)return 3;if(H==null||Me||(H[0]=ve.xa?2:1),V=[V],Se=[Se],ve.xa){if(5>_){Ce=7;break}H=V,J=Se,Me=z,v==null||5>_?v=0:5<=_&&v[N+0]==47&&!(v[N+4]>>5)?(Re=[0],xt=[0],Ze=[0],U(We=new W,v,N,_),Ae(We,Re,xt,Ze)?(H!=null&&(H[0]=Re[0]),J!=null&&(J[0]=xt[0]),Me!=null&&(Me[0]=Ze[0]),v=1):v=0):v=0}else{if(10>_){Ce=7;break}H=Se,v==null||10>_||!rv(v,N+3,_-3)?v=0:(J=v[N+0]|v[N+1]<<8|v[N+2]<<16,Me=16383&(v[N+7]<<8|v[N+6]),v=16383&(v[N+9]<<8|v[N+8]),1&J||3<(J>>1&7)||!(J>>4&1)||J>>5>=ve.Ja||!Me||!v?v=0:(V&&(V[0]=Me),H&&(H[0]=v),v=1))}if(!v||(V=V[0],Se=Se[0],ke&&(Q[0]!=V||me[0]!=Se)))return 3;Y!=null&&(Y[0]=ve,Y.offset=N-Y.w,t(4294967286>N-Y.w),t(Y.offset==Y.ha-_));break}return Ce==0||Ce==7&&ke&&Y==null?(z!=null&&(z[0]|=ve.na!=null&&0<ve.na.length),A!=null&&(A[0]=V),I!=null&&(I[0]=Se),0):Ce}function Ei(v,N,_){var A=N.width,I=N.height,z=0,V=0,H=A,Y=I;if(N.Da=v!=null&&0<v.Da,N.Da&&(H=v.cd,Y=v.bd,z=v.v,V=v.j,11>_||(z&=-2,V&=-2),0>z||0>V||0>=H||0>=Y||z+H>A||V+Y>I))return 0;if(N.v=z,N.j=V,N.va=z+H,N.o=V+Y,N.U=H,N.T=Y,N.da=v!=null&&0<v.da,N.da){if(!St(H,Y,_=[v.ib],z=[v.hb]))return 0;N.ib=_[0],N.hb=z[0]}return N.ob=v!=null&&v.ob,N.Kb=v==null||!v.Sd,N.da&&(N.ob=N.ib<3*A/4&&N.hb<3*I/4,N.Kb=0),1}function Ti(v){if(v==null)return 2;if(11>v.S){var N=v.f.RGBA;N.fb+=(v.height-1)*N.A,N.A=-N.A}else N=v.f.kb,v=v.height,N.O+=(v-1)*N.fa,N.fa=-N.fa,N.N+=(v-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(v-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(v-1)*N.lb,N.lb=-N.lb);return 0}function Su(v,N,_,A){if(A==null||0>=v||0>=N)return 2;if(_!=null){if(_.Da){var I=_.cd,z=_.bd,V=-2&_.v,H=-2&_.j;if(0>V||0>H||0>=I||0>=z||V+I>v||H+z>N)return 2;v=I,N=z}if(_.da){if(!St(v,N,I=[_.ib],z=[_.hb]))return 2;v=I[0],N=z[0]}}A.width=v,A.height=N;e:{var Y=A.width,Q=A.height;if(v=A.S,0>=Y||0>=Q||!(v>=hv&&13>v))v=2;else{if(0>=A.Rd&&A.sd==null){V=z=I=N=0;var me=(H=Y*I3[v])*Q;if(11>v||(z=(Q+1)/2*(N=(Y+1)/2),v==12&&(V=(I=Y)*Q)),(Q=a(me+2*z+V))==null){v=1;break e}A.sd=Q,11>v?((Y=A.f.RGBA).eb=Q,Y.fb=0,Y.A=H,Y.size=me):((Y=A.f.kb).y=Q,Y.O=0,Y.fa=H,Y.Fd=me,Y.f=Q,Y.N=0+me,Y.Ab=N,Y.Cd=z,Y.ea=Q,Y.W=0+me+z,Y.Db=N,Y.Ed=z,v==12&&(Y.F=Q,Y.J=0+me+2*z),Y.Tc=V,Y.lb=I)}if(N=1,I=A.S,z=A.width,V=A.height,I>=hv&&13>I)if(11>I)v=A.f.RGBA,N&=(H=Math.abs(v.A))*(V-1)+z<=v.size,N&=H>=z*I3[I],N&=v.eb!=null;else{v=A.f.kb,H=(z+1)/2,me=(V+1)/2,Y=Math.abs(v.fa),Q=Math.abs(v.Ab);var ke=Math.abs(v.Db),J=Math.abs(v.lb),ve=J*(V-1)+z;N&=Y*(V-1)+z<=v.Fd,N&=Q*(me-1)+H<=v.Cd,N=(N&=ke*(me-1)+H<=v.Ed)&Y>=z&Q>=H&ke>=H,N&=v.y!=null,N&=v.f!=null,N&=v.ea!=null,I==12&&(N&=J>=z,N&=ve<=v.Tc,N&=v.F!=null)}else N=0;v=N?0:2}}return v!=0||_!=null&&_.fd&&(v=Ti(A)),v}var Ho=64,Lc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fp=24,Dc=32,$n=8,Cw=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(v){return v},D.Predictor2=function(v,N,_){return N[_+0]},D.Predictor3=function(v,N,_){return N[_+1]},D.Predictor4=function(v,N,_){return N[_-1]},D.Predictor5=function(v,N,_){return fe(fe(v,N[_+1]),N[_+0])},D.Predictor6=function(v,N,_){return fe(v,N[_-1])},D.Predictor7=function(v,N,_){return fe(v,N[_+0])},D.Predictor8=function(v,N,_){return fe(N[_-1],N[_+0])},D.Predictor9=function(v,N,_){return fe(N[_+0],N[_+1])},D.Predictor10=function(v,N,_){return fe(fe(v,N[_-1]),fe(N[_+0],N[_+1]))},D.Predictor11=function(v,N,_){var A=N[_+0];return 0>=Le(A>>24&255,v>>24&255,(N=N[_-1])>>24&255)+Le(A>>16&255,v>>16&255,N>>16&255)+Le(A>>8&255,v>>8&255,N>>8&255)+Le(255&A,255&v,255&N)?A:v},D.Predictor12=function(v,N,_){var A=N[_+0];return(Pe((v>>24&255)+(A>>24&255)-((N=N[_-1])>>24&255))<<24|Pe((v>>16&255)+(A>>16&255)-(N>>16&255))<<16|Pe((v>>8&255)+(A>>8&255)-(N>>8&255))<<8|Pe((255&v)+(255&A)-(255&N)))>>>0},D.Predictor13=function(v,N,_){var A=N[_-1];return(ze((v=fe(v,N[_+0]))>>24&255,A>>24&255)<<24|ze(v>>16&255,A>>16&255)<<16|ze(v>>8&255,A>>8&255)<<8|ze(255&v,255&A))>>>0};var qo=D.PredictorAdd0;D.PredictorAdd1=Fe,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Wo=D.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var Jh,Bp=D.ColorIndexInverseTransform,ef=D.MapARGB,tf=D.VP8LColorIndexInverseTransformAlpha,Cu=D.MapAlpha,ku=D.VP8LPredictorsAdd=[];ku.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Ol,zp,Qi,Yo,Zs,Xs,Un,Hn,Il,sf,Go,Vp,i3,a3,o3,l3,c3,d3,u3,h3,f3,m3,p3,g3,$p,x3,v3,y3,b3=a(511),w3=a(2041),j3=a(225),N3=a(767),S3=0,kw=w3,uv=j3,Ji=N3,Ra=b3,hv=0,fv=1,C3=2,mv=3,pv=4,_w=5,k3=6,Pw=7,Aw=8,gv=9,Ew=10,EH=[2,3,7],TH=[3,3,11],_3=[280,256,256,256,40],MH=[0,1,1,1,0],RH=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],LH=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],DH=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],OH=8,Tw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Mw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Up=null,IH=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],FH=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],P3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],BH=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zH=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],VH=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$H=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oc=[],oo=[],Fl=[],UH=1,A3=2,Ic=[],La=[];ao("UpsampleRgbLinePair",Dl,3),ao("UpsampleBgrLinePair",Zh,3),ao("UpsampleRgbaLinePair",dv,4),ao("UpsampleBgraLinePair",Xh,4),ao("UpsampleArgbLinePair",cv,4),ao("UpsampleRgba4444LinePair",fi,2),ao("UpsampleRgb565LinePair",Dp,2);var HH=D.UpsampleRgbLinePair,qH=D.UpsampleBgrLinePair,E3=D.UpsampleRgbaLinePair,T3=D.UpsampleBgraLinePair,M3=D.UpsampleArgbLinePair,R3=D.UpsampleRgba4444LinePair,WH=D.UpsampleRgb565LinePair,xv=16,vv=1<<xv-1,Hp=-227,Rw=482,L3=6,YH=(256<<L3)-1,D3=0,GH=a(256),KH=a(256),ZH=a(256),XH=a(256),QH=a(Rw-Hp),JH=a(Rw-Hp);Ma("YuvToRgbRow",Dl,3),Ma("YuvToBgrRow",Zh,3),Ma("YuvToRgbaRow",dv,4),Ma("YuvToBgraRow",Xh,4),Ma("YuvToArgbRow",cv,4),Ma("YuvToRgba4444Row",fi,2),Ma("YuvToRgb565Row",Dp,2);var O3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yv=[0,2,8],eq=[8,7,6,4,4,2,2,2,1,1,1,1],tq=1;this.WebPDecodeRGBA=function(v,N,_,A,I){var z=fv,V=new Nt,H=new _s;V.ba=H,H.S=z,H.width=[H.width],H.height=[H.height];var Y=H.width,Q=H.height,me=new Ft;if(me==null||v==null)var ke=2;else t(me!=null),ke=Qh(v,N,_,me.width,me.height,me.Pd,me.Qd,me.format,null);if(ke!=0?Y=0:(Y!=null&&(Y[0]=me.width[0]),Q!=null&&(Q[0]=me.height[0]),Y=1),Y){H.width=H.width[0],H.height=H.height[0],A!=null&&(A[0]=H.width),I!=null&&(I[0]=H.height);e:{if(A=new Hh,(I=new Wt).data=v,I.w=N,I.ha=_,I.kd=1,N=[0],t(I!=null),((v=Qh(I.data,I.w,I.ha,null,null,null,N,null,I))==0||v==7)&&N[0]&&(v=4),(N=v)==0){if(t(V!=null),A.data=I.data,A.w=I.w+I.offset,A.ha=I.ha-I.offset,A.put=At,A.ac=qr,A.bc=hi,A.ma=V,I.xa){if((v=fu())==null){V=1;break e}if(function(J,ve){var Se=[0],Me=[0],Ce=[0];t:for(;;){if(J==null)return 0;if(ve==null)return J.a=2,0;if(J.l=ve,J.a=0,U(J.m,ve.data,ve.w,ve.ha),!Ae(J.m,Se,Me,Ce)){J.a=3;break t}if(J.xb=A3,ve.width=Se[0],ve.height=Me[0],!Vo(Se[0],Me[0],1,J,null))break t;return 1}return t(J.a!=0),0}(v,A)){if(A=(N=Su(A.width,A.height,V.Oa,V.ba))==0){t:{A=v;s:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((_=A.l)!=null),t((I=_.ma)!=null),A.xb!=0){if(A.ca=I.ba,A.tb=I.tb,t(A.ca!=null),!Ei(I.Oa,_,mv)){A.a=2;break s}if(!mu(A,_.width)||_.da)break s;if((_.da||Vt(A.ca.S))&&Nu(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&Nu()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!se(A.s.vb,A.s.Wa.Xa)){A.a=1;break s}A.xb=0}if(!ro(A,A.V,A.Ba,A.c,A.i,_.o,ns))break s;I.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(N=v.a)}else N=v.a}else{if((v=new cw)==null){V=1;break e}if(v.Fa=I.na,v.P=I.P,v.qc=I.Sa,iv(v,A)){if((N=Su(A.width,A.height,V.Oa,V.ba))==0){if(v.Aa=0,_=V.Oa,t((I=v)!=null),_!=null){if(0<(Y=0>(Y=_.Md)?0:100<Y?255:255*Y/100)){for(Q=me=0;4>Q;++Q)12>(ke=I.pb[Q]).lc&&(ke.ia=Y*eq[0>ke.lc?0:ke.lc]>>3),me|=ke.ia;me&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=_.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(J,ve){if(J==null)return 0;if(ve==null)return or(J,2,"NULL VP8Io parameter in VP8Decode().");if(!J.cb&&!iv(J,ve))return 0;if(t(J.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(J.L=0);var Se=yv[J.L];if(J.L==2?(J.yb=0,J.zb=0):(J.yb=ve.v-Se>>4,J.zb=ve.j-Se>>4,0>J.yb&&(J.yb=0),0>J.zb&&(J.zb=0)),J.Va=ve.o+15+Se>>4,J.Hb=ve.va+15+Se>>4,J.Hb>J.za&&(J.Hb=J.za),J.Va>J.Ub&&(J.Va=J.Ub),0<J.L){var Me=J.ed;for(Se=0;4>Se;++Se){var Ce;if(J.Qa.Cb){var Re=J.Qa.Lb[Se];J.Qa.Fb||(Re+=Me.Tb)}else Re=Me.Tb;for(Ce=0;1>=Ce;++Ce){var Oe=J.gd[Se][Ce],Ze=Re;if(Me.Pc&&(Ze+=Me.vd[0],Ce&&(Ze+=Me.od[0])),0<(Ze=0>Ze?0:63<Ze?63:Ze)){var We=Ze;0<Me.wb&&(We=4<Me.wb?We>>2:We>>1)>9-Me.wb&&(We=9-Me.wb),1>We&&(We=1),Oe.dd=We,Oe.tc=2*Ze+We,Oe.ld=40<=Ze?2:15<=Ze?1:0}else Oe.tc=0;Oe.La=Ce}}}Se=0}else or(J,6,"Frame setup failed"),Se=J.a;if(Se=Se==0){if(Se){J.$c=0,0<J.Aa||(J.Ic=tq);t:{Se=J.Ic,Me=4*(We=J.za);var Pt=32*We,ft=We+1,rs=0<J.L?We*(0<J.Aa?2:1):0,xt=(J.Aa==2?2:1)*We;if((Oe=Me+832+(Ce=3*(16*Se+yv[J.L])/2*Pt)+(Re=J.Fa!=null&&0<J.Fa.length?J.Kc.c*J.Kc.i:0))!=Oe)Se=0;else{if(Oe>J.Vb){if(J.Vb=0,J.Ec=a(Oe),J.Fc=0,J.Ec==null){Se=or(J,1,"no memory during frame initialization.");break t}J.Vb=Oe}Oe=J.Ec,Ze=J.Fc,J.Ac=Oe,J.Bc=Ze,Ze+=Me,J.Gd=o(Pt,sv),J.Hd=0,J.rb=o(ft+1,wp),J.sb=1,J.wa=rs?o(rs,Ta):null,J.Y=0,J.D.Nb=0,J.D.wa=J.wa,J.D.Y=J.Y,0<J.Aa&&(J.D.Y+=We),t(!0),J.oc=Oe,J.pc=Ze,Ze+=832,J.ya=o(xt,jp),J.aa=0,J.D.ya=J.ya,J.D.aa=J.aa,J.Aa==2&&(J.D.aa+=We),J.R=16*We,J.B=8*We,We=(Pt=yv[J.L])*J.R,Pt=Pt/2*J.B,J.sa=Oe,J.ta=Ze+We,J.qa=J.sa,J.ra=J.ta+16*Se*J.R+Pt,J.Ha=J.qa,J.Ia=J.ra+8*Se*J.B+Pt,J.$c=0,Ze+=Ce,J.mb=Re?Oe:null,J.nb=Re?Ze:null,t(Ze+Re<=J.Fc+J.Vb),pu(J),i(J.Ac,J.Bc,0,Me),Se=1}}if(Se){if(ve.ka=0,ve.y=J.sa,ve.O=J.ta,ve.f=J.qa,ve.N=J.ra,ve.ea=J.Ha,ve.Vd=J.Ia,ve.fa=J.R,ve.Rc=J.B,ve.F=null,ve.J=0,!S3){for(Se=-255;255>=Se;++Se)b3[255+Se]=0>Se?-Se:Se;for(Se=-1020;1020>=Se;++Se)w3[1020+Se]=-128>Se?-128:127<Se?127:Se;for(Se=-112;112>=Se;++Se)j3[112+Se]=-16>Se?-16:15<Se?15:Se;for(Se=-255;510>=Se;++Se)N3[255+Se]=0>Se?0:255<Se?255:Se;S3=1}Un=ov,Hn=uw,sf=hw,Go=$o,Vp=av,Il=dw,i3=k,a3=F,o3=je,l3=De,c3=ee,d3=ue,u3=Ye,h3=pt,f3=Tp,m3=ju,p3=Mp,g3=Rp,oo[0]=yw,oo[1]=Sp,oo[2]=xw,oo[3]=vw,oo[4]=bw,oo[5]=Ml,oo[6]=Tl,oo[7]=ww,oo[8]=qh,oo[9]=jw,Oc[0]=Ec,Oc[1]=mw,Oc[2]=pw,Oc[3]=Cp,Oc[4]=gw,Oc[5]=vu,Oc[6]=kp,Fl[0]=Yh,Fl[1]=fw,Fl[2]=_p,Fl[3]=yu,Fl[4]=Pp,Fl[5]=Nw,Fl[6]=Ap,Se=1}else Se=0}Se&&(Se=function(js,gr){for(js.M=0;js.M<js.Va;++js.M){var is,vt=js.Jc[js.M&js.Xb],st=js.m,qn=js;for(is=0;is<qn.za;++is){var Jt=st,Cs=qn,rn=Cs.Ac,Dr=Cs.Bc+4*is,mi=Cs.zc,Tn=Cs.ya[Cs.aa+is];if(Cs.Qa.Bb?Tn.$b=_e(Jt,Cs.Pa.jb[0])?2+_e(Jt,Cs.Pa.jb[2]):_e(Jt,Cs.Pa.jb[1]):Tn.$b=0,Cs.kc&&(Tn.Ad=_e(Jt,Cs.Bd)),Tn.Za=!_e(Jt,145)+0,Tn.Za){var Wr=Tn.Ob,pi=0;for(Cs=0;4>Cs;++Cs){var xr,As=mi[0+Cs];for(xr=0;4>xr;++xr){As=zH[rn[Dr+xr]][As];for(var Is=P3[_e(Jt,As[0])];0<Is;)Is=P3[2*Is+_e(Jt,As[Is])];As=-Is,rn[Dr+xr]=As}n(Wr,pi,rn,Dr,4),pi+=4,mi[0+Cs]=As}}else As=_e(Jt,156)?_e(Jt,128)?1:3:_e(Jt,163)?2:0,Tn.Ob[0]=As,i(rn,Dr,As,4),i(mi,0,As,4);Tn.Dd=_e(Jt,142)?_e(Jt,114)?_e(Jt,183)?1:3:2:0}if(qn.m.Ka)return or(js,7,"Premature end-of-partition0 encountered.");for(;js.ja<js.za;++js.ja){if(qn=vt,Jt=(st=js).rb[st.sb-1],rn=st.rb[st.sb+st.ja],is=st.ya[st.aa+st.ja],Dr=st.kc?is.Ad:0)Jt.la=rn.la=0,is.Za||(Jt.Na=rn.Na=0),is.Hc=0,is.Gc=0,is.ia=0;else{var Mn,Fs;if(Jt=rn,rn=qn,Dr=st.Pa.Xc,mi=st.ya[st.aa+st.ja],Tn=st.pb[mi.$b],Cs=mi.ad,Wr=0,pi=st.rb[st.sb-1],As=xr=0,i(Cs,Wr,0,384),mi.Za)var Or=0,lo=Dr[3];else{Is=a(16);var Wn=Jt.Na+pi.Na;if(Wn=Up(rn,Dr[1],Wn,Tn.Eb,0,Is,0),Jt.Na=pi.Na=(0<Wn)+0,1<Wn)Un(Is,0,Cs,Wr);else{var Mi=Is[0]+3>>3;for(Is=0;256>Is;Is+=16)Cs[Wr+Is]=Mi}Or=1,lo=Dr[0]}var Gs=15&Jt.la,vr=15&pi.la;for(Is=0;4>Is;++Is){var ea=1&vr;for(Mi=Fs=0;4>Mi;++Mi)Gs=Gs>>1|(ea=(Wn=Up(rn,lo,Wn=ea+(1&Gs),Tn.Sc,Or,Cs,Wr))>Or)<<7,Fs=Fs<<2|(3<Wn?3:1<Wn?2:Cs[Wr+0]!=0),Wr+=16;Gs>>=4,vr=vr>>1|ea<<7,xr=(xr<<8|Fs)>>>0}for(lo=Gs,Or=vr>>4,Mn=0;4>Mn;Mn+=2){for(Fs=0,Gs=Jt.la>>4+Mn,vr=pi.la>>4+Mn,Is=0;2>Is;++Is){for(ea=1&vr,Mi=0;2>Mi;++Mi)Wn=ea+(1&Gs),Gs=Gs>>1|(ea=0<(Wn=Up(rn,Dr[2],Wn,Tn.Qc,0,Cs,Wr)))<<3,Fs=Fs<<2|(3<Wn?3:1<Wn?2:Cs[Wr+0]!=0),Wr+=16;Gs>>=2,vr=vr>>1|ea<<5}As|=Fs<<4*Mn,lo|=Gs<<4<<Mn,Or|=(240&vr)<<Mn}Jt.la=lo,pi.la=Or,mi.Hc=xr,mi.Gc=As,mi.ia=43690&As?0:Tn.ia,Dr=!(xr|As)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[is.$b][is.Za],st.wa[st.Y+st.ja].La|=!Dr),qn.Ka)return or(js,7,"Premature end-of-file encountered.")}if(pu(js),st=gr,qn=1,is=(vt=js).D,Jt=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(is.M=vt.M,is.uc=Jt,Rc(vt,is),qn=1,is=(Fs=vt.D).Nb,Jt=(As=yv[vt.L])*vt.R,rn=As/2*vt.B,Is=16*is*vt.R,Mi=8*is*vt.B,Dr=vt.sa,mi=vt.ta-Jt+Is,Tn=vt.qa,Cs=vt.ra-rn+Mi,Wr=vt.Ha,pi=vt.Ia-rn+Mi,vr=(Gs=Fs.M)==0,xr=Gs>=vt.Va-1,vt.Aa==2&&Rc(vt,Fs),Fs.uc)for(ea=(Wn=vt).D.M,t(Wn.D.uc),Fs=Wn.yb;Fs<Wn.Hb;++Fs){Or=Fs,lo=ea;var gi=(ta=(Ir=Wn).D).Nb;Mn=Ir.R;var ta=ta.wa[ta.Y+Or],sa=Ir.sa,Ri=Ir.ta+16*gi*Mn+16*Or,na=ta.dd,Qs=ta.tc;if(Qs!=0)if(t(3<=Qs),Ir.L==1)0<Or&&m3(sa,Ri,Mn,Qs+4),ta.La&&g3(sa,Ri,Mn,Qs),0<lo&&f3(sa,Ri,Mn,Qs+4),ta.La&&p3(sa,Ri,Mn,Qs);else{var ra=Ir.B,co=Ir.qa,_u=Ir.ra+8*gi*ra+8*Or,Bl=Ir.Ha,Ir=Ir.Ia+8*gi*ra+8*Or;gi=ta.ld,0<Or&&(a3(sa,Ri,Mn,Qs+4,na,gi),l3(co,_u,Bl,Ir,ra,Qs+4,na,gi)),ta.La&&(d3(sa,Ri,Mn,Qs,na,gi),h3(co,_u,Bl,Ir,ra,Qs,na,gi)),0<lo&&(i3(sa,Ri,Mn,Qs+4,na,gi),o3(co,_u,Bl,Ir,ra,Qs+4,na,gi)),ta.La&&(c3(sa,Ri,Mn,Qs,na,gi),u3(co,_u,Bl,Ir,ra,Qs,na,gi))}}if(vt.ia&&alert("todo:DitherRow"),st.put!=null){if(Fs=16*Gs,Gs=16*(Gs+1),vr?(st.y=vt.sa,st.O=vt.ta+Is,st.f=vt.qa,st.N=vt.ra+Mi,st.ea=vt.Ha,st.W=vt.Ia+Mi):(Fs-=As,st.y=Dr,st.O=mi,st.f=Tn,st.N=Cs,st.ea=Wr,st.W=pi),xr||(Gs-=As),Gs>st.o&&(Gs=st.o),st.F=null,st.J=null,vt.Fa!=null&&0<vt.Fa.length&&Fs<Gs&&(st.J=Lr(vt,st,Fs,Gs-Fs),st.F=vt.mb,st.F==null&&st.F.length==0)){qn=or(vt,3,"Could not decode alpha data.");break t}Fs<st.j&&(As=st.j-Fs,Fs=st.j,t(!(1&As)),st.O+=vt.R*As,st.N+=vt.B*(As>>1),st.W+=vt.B*(As>>1),st.F!=null&&(st.J+=st.width*As)),Fs<Gs&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=Fs-st.j,st.U=st.va-st.v,st.T=Gs-Fs,qn=st.put(st))}is+1!=vt.Ic||xr||(n(vt.sa,vt.ta-Jt,Dr,mi+16*vt.R,Jt),n(vt.qa,vt.ra-rn,Tn,Cs+8*vt.B,rn),n(vt.Ha,vt.Ia-rn,Wr,pi+8*vt.B,rn))}if(!qn)return or(js,6,"Output aborted.")}return 1}(J,ve)),ve.bc!=null&&ve.bc(ve),Se&=1}return Se?(J.cb=0,Se):0})(v,A)||(N=v.a)}}else N=v.a}N==0&&V.Oa!=null&&V.Oa.fd&&(N=Ti(V.ba))}V=N}z=V!=0?null:11>z?H.f.RGBA.eb:H.f.kb.y}else z=null;return z};var I3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(D,$){for(var E="",T=0;T<4;T++)E+=String.fromCharCode(D[$++]);return E}function u(D,$){return D[$+0]|D[$+1]<<8}function h(D,$){return(D[$+0]|D[$+1]<<8|D[$+2]<<16)>>>0}function m(D,$){return(D[$+0]|D[$+1]<<8|D[$+2]<<16|D[$+3]<<24)>>>0}new c;var f=[0],g=[0],p=[],b=new c,x=e,y=function(D,$){var E={},T=0,q=!1,B=0,te=0;if(E.frames=[],!function(O,W){for(var Z=0;Z<4;Z++)if(O[W+Z]!="RIFF".charCodeAt(Z))return!0;return!1}(D,$)){for(m(D,$+=4),$+=8;$<D.length;){var ie=d(D,$),G=m(D,$+=4);$+=4;var P=G+(1&G);switch(ie){case"VP8 ":case"VP8L":E.frames[T]===void 0&&(E.frames[T]={}),(X=E.frames[T]).src_off=q?te:$-8,X.src_size=B+G+8,T++,q&&(q=!1,B=0,te=0);break;case"VP8X":(X=E.header={}).feature_flags=D[$];var U=$+4;X.canvas_width=1+h(D,U),U+=3,X.canvas_height=1+h(D,U),U+=3;break;case"ALPH":q=!0,B=P+8,te=$-8;break;case"ANIM":(X=E.header).bgcolor=m(D,$),U=$+4,X.loop_count=u(D,U),U+=2;break;case"ANMF":var xe,X;(X=E.frames[T]={}).offset_x=2*h(D,$),$+=3,X.offset_y=2*h(D,$),$+=3,X.width=1+h(D,$),$+=3,X.height=1+h(D,$),$+=3,X.duration=h(D,$),$+=3,xe=D[$++],X.dispose=1&xe,X.blend=xe>>1&1}ie!="ANMF"&&($+=P)}return E}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,S=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],g=[w.canvas_width];for(var C=0;C<S.length&&S[C].blend!=0;C++);}var L=S[0],R=b.WebPDecodeRGBA(x,L.src_off,L.src_size,g,f);L.rgba=R,L.imgwidth=g[0],L.imgheight=f[0];for(var M=0;M<g[0]*f[0]*4;M++)p[M]=R[M];return this.width=g,this.height=f,this.data=p,this}(function(e){var t,s,n,i,a,o,l,c,d,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=O;Object.defineProperty(this,"pdf",{get:function(){return W}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ge){Z=!!ge}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(ge){ce=!!ge}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(ge){isNaN(ge)||(ae=ge)}});var ne=0;Object.defineProperty(this,"posY",{get:function(){return ne},set:function(ge){isNaN(ge)||(ne=ge)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ge){var se;typeof ge=="number"?se=[ge,ge,ge,ge]:((se=new Array(4))[0]=ge[0],se[1]=ge.length>=2?ge[1]:se[0],se[2]=ge.length>=3?ge[2]:se[0],se[3]=ge.length>=4?ge[3]:se[1]),d.margin=se}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(ge){Ne=ge}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(ge){be=ge}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(ge){_e=ge}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ge){ge instanceof u&&(d=ge)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ge){d.path=ge}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(ge){Te=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var se;se=m(ge),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var se=m(ge);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var Ie=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(ge){Ie=null,ye=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var se;if(this.ctx.font=ge,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var It=se[1];se[2];var Tt=se[3],St=se[4];se[5];var Ge=se[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(St)[2];St=Math.floor(yt==="px"?parseFloat(St)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(St)*this.pdf.getFontSize():parseFloat(St)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(St);var nt=function(Ue){var qe,Ct,kt=[],lt=Ue.trim();if(lt==="")return iN;if(lt in uE)return[uE[lt]];for(;lt!=="";){switch(Ct=null,qe=(lt=fE(lt)).charAt(0)){case'"':case"'":Ct=Qie(lt.substring(1),qe);break;default:Ct=Jie(lt)}if(Ct===null||(kt.push(Ct[0]),(lt=fE(Ct[1]))!==""&&lt.charAt(0)!==","))return iN;lt=lt.replace(/^,/,"")}return kt}(Ge);if(this.fontFaces){var re=function(Ue,qe){if(Ie===null){var Ct=function(kt){var lt=[];return Object.keys(kt).forEach(function(Lt){kt[Lt].forEach(function(ws){var _t=null;switch(ws){case"bold":_t={family:Lt,weight:"bold"};break;case"italic":_t={family:Lt,style:"italic"};break;case"bolditalic":_t={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Lt}}_t!==null&&(_t.ref={name:Lt,style:ws},lt.push(_t))})}),lt}(Ue.getFontList());Ie=function(kt){for(var lt={},Lt=0;Lt<kt.length;++Lt){var ws=rN(kt[Lt]),_t=ws.family,Xt=ws.stretch,Vt=ws.style,Ys=ws.weight;lt[_t]=lt[_t]||{},lt[_t][Xt]=lt[_t][Xt]||{},lt[_t][Xt][Vt]=lt[_t][Xt][Vt]||{},lt[_t][Xt][Vt][Ys]=ws}return lt}(Ct.concat(qe))}return Ie}(this.pdf,this.fontFaces),fe=nt.map(function(Ue){return{family:Ue,stretch:"normal",weight:Tt,style:It}}),Pe=function(Ue,qe,Ct){for(var kt=(Ct=Ct||{}).defaultFontFamily||"times",lt=Object.assign({},Xie,Ct.genericFontFamilies||{}),Lt=null,ws=null,_t=0;_t<qe.length;++_t)if(lt[(Lt=rN(qe[_t])).family]&&(Lt.family=lt[Lt.family]),Ue.hasOwnProperty(Lt.family)){ws=Ue[Lt.family];break}if(!(ws=ws||Ue[kt]))throw new Error("Could not find a font-family for the rule '"+hE(Lt)+"' and default family '"+kt+"'.");if(ws=function(Xt,Vt){if(Vt[Xt])return Vt[Xt];var Ys=RS[Xt],sn=Ys<=RS.normal?-1:1,_s=dE(Vt,Z9,Ys,sn);if(!_s)throw new Error("Could not find a matching font-stretch value for "+Xt);return _s}(Lt.stretch,ws),ws=function(Xt,Vt){if(Vt[Xt])return Vt[Xt];for(var Ys=K9[Xt],sn=0;sn<Ys.length;++sn)if(Vt[Ys[sn]])return Vt[Ys[sn]];throw new Error("Could not find a matching font-style for "+Xt)}(Lt.style,ws),!(ws=function(Xt,Vt){if(Vt[Xt])return Vt[Xt];if(Xt===400&&Vt[500])return Vt[500];if(Xt===500&&Vt[400])return Vt[400];var Ys=Zie[Xt],sn=dE(Vt,X9,Ys,Xt<400?-1:1);if(!sn)throw new Error("Could not find a matching font-weight for value "+Xt);return sn}(Lt.weight,ws)))throw new Error("Failed to resolve a font for the rule '"+hE(Lt)+"'.");return ws}(re,fe);this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var ze="";(Tt==="bold"||parseInt(Tt,10)>=700||It==="bold")&&(ze="bold"),It==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var Le="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},we=0;we<nt.length;we++){if(this.pdf.internal.getFont(nt[we],ze,{noFallback:!0,disableWarning:!0})!==void 0){Le=nt[we];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(nt[we],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Le=nt[we],ze="bold";else if(this.pdf.internal.getFont(nt[we],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Le=nt[we],ze="normal";break}}if(Le===""){for(var de=0;de<nt.length;de++)if(Fe[nt[de]]){Le=Fe[nt[de]];break}}Le=Le===""?"Times":Le,this.pdf.setFont(Le,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};h.prototype.setLineDash=function(O){this.lineDash=O},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(O,W){if(isNaN(O)||isNaN(W))throw Ks.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(O,W));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(O,W)},h.prototype.closePath=function(){var O=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Vs(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){O=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},h.prototype.lineTo=function(O,W){if(isNaN(O)||isNaN(W))throw Ks.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(O,W));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(O,W,Z,ce){if(isNaN(Z)||isNaN(ce)||isNaN(O)||isNaN(W))throw Ks.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(Z,ce)),ne=this.ctx.transform.applyToPoint(new o(O,W));this.path.push({type:"qct",x1:ne.x,y1:ne.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},h.prototype.bezierCurveTo=function(O,W,Z,ce,ae,ne){if(isNaN(ae)||isNaN(ne)||isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce))throw Ks.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new o(ae,ne)),be=this.ctx.transform.applyToPoint(new o(O,W)),_e=this.ctx.transform.applyToPoint(new o(Z,ce));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:_e.x,y2:_e.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new o(Ne.x,Ne.y)},h.prototype.arc=function(O,W,Z,ce,ae,ne){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce)||isNaN(ae))throw Ks.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ne=!!ne,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new o(O,W));O=Ne.x,W=Ne.y;var be=this.ctx.transform.applyToPoint(new o(0,Z)),_e=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(be.x-_e.x,2)+Math.pow(be.y-_e.y,2))}Math.abs(ae-ce)>=2*Math.PI&&(ce=0,ae=2*Math.PI),this.path.push({type:"arc",x:O,y:W,radius:Z,startAngle:ce,endAngle:ae,counterclockwise:ne})},h.prototype.arcTo=function(O,W,Z,ce,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(O,W,Z,ce){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce))throw Ks.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,W),this.lineTo(O+Z,W),this.lineTo(O+Z,W+ce),this.lineTo(O,W+ce),this.lineTo(O,W),this.lineTo(O+Z,W),this.lineTo(O,W)},h.prototype.fillRect=function(O,W,Z,ce){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce))throw Ks.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,W,Z,ce),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(O,W,Z,ce){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce))throw Ks.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(O,W,Z,ce),this.stroke())},h.prototype.clearRect=function(O,W,Z,ce){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce))throw Ks.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,W,Z,ce))},h.prototype.save=function(O){O=typeof O!="boolean"||O;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},h.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(W),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(O){var W,Z,ce,ae;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))W=0,Z=0,ce=0,ae=0;else{var ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ne!==null)W=parseInt(ne[1]),Z=parseInt(ne[2]),ce=parseInt(ne[3]),ae=1;else if((ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)W=parseInt(ne[1]),Z=parseInt(ne[2]),ce=parseInt(ne[3]),ae=parseFloat(ne[4]);else{if(ae=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ne=new $9(O);O=Ne.ok?Ne.toHex():"#000000"}O.length===4?(W=O.substring(1,2),W+=W,Z=O.substring(2,3),Z+=Z,ce=O.substring(3,4),ce+=ce):(W=O.substring(1,3),Z=O.substring(3,5),ce=O.substring(5,7)),W=parseInt(W,16),Z=parseInt(Z,16),ce=parseInt(ce,16)}}return{r:W,g:Z,b:ce,a:ae,style:O}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(O,W,Z,ce){if(isNaN(W)||isNaN(Z)||typeof O!="string")throw Ks.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!f.call(this)){var ae=P(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;T.call(this,{text:O,x:W,y:Z,scale:ne,angle:ae,align:this.textAlign,maxWidth:ce})}},h.prototype.strokeText=function(O,W,Z,ce){if(isNaN(W)||isNaN(Z)||typeof O!="string")throw Ks.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ce=isNaN(ce)?void 0:ce;var ae=P(this.ctx.transform.rotation),ne=this.ctx.transform.scaleX;T.call(this,{text:O,x:W,y:Z,scale:ne,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ce})}},h.prototype.measureText=function(O){if(typeof O!="string")throw Ks.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Z=this.pdf.internal.scaleFactor,ce=W.internal.getFontSize(),ae=W.getStringUnitWidth(O)*ce/W.internal.scaleFactor;return new function(ne){var Ne=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ae*=Math.round(96*Z/72*1e4)/1e4})},h.prototype.scale=function(O,W){if(isNaN(O)||isNaN(W))throw Ks.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(O,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.rotate=function(O){if(isNaN(O))throw Ks.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},h.prototype.translate=function(O,W){if(isNaN(O)||isNaN(W))throw Ks.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,O,W);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.transform=function(O,W,Z,ce,ae,ne){if(isNaN(O)||isNaN(W)||isNaN(Z)||isNaN(ce)||isNaN(ae)||isNaN(ne))throw Ks.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(O,W,Z,ce,ae,ne);this.ctx.transform=this.ctx.transform.multiply(Ne)},h.prototype.setTransform=function(O,W,Z,ce,ae,ne){O=isNaN(O)?1:O,W=isNaN(W)?0:W,Z=isNaN(Z)?0:Z,ce=isNaN(ce)?1:ce,ae=isNaN(ae)?0:ae,ne=isNaN(ne)?0:ne,this.ctx.transform=new c(O,W,Z,ce,ae,ne)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(O,W,Z,ce,ae,ne,Ne,be,_e){var Te=this.pdf.getImageProperties(O),Ie=1,ye=1,ge=1,se=1;ce!==void 0&&be!==void 0&&(ge=be/ce,se=_e/ae,Ie=Te.width/ce*be/ce,ye=Te.height/ae*_e/ae),ne===void 0&&(ne=W,Ne=Z,W=0,Z=0),ce!==void 0&&be===void 0&&(be=ce,_e=ae),ce===void 0&&be===void 0&&(be=Te.width,_e=Te.height);for(var It,Tt=this.ctx.transform.decompose(),St=P(Tt.rotate.shx),Ge=new c,yt=(Ge=(Ge=(Ge=Ge.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new l(ne-W*ge,Ne-Z*se,ce*Ie,ae*ye)),nt=b.call(this,yt),re=[],fe=0;fe<nt.length;fe+=1)re.indexOf(nt[fe])===-1&&re.push(nt[fe]);if(w(re),this.autoPaging)for(var Pe=re[0],ze=re[re.length-1],Le=Pe;Le<ze+1;Le++){this.pdf.setPage(Le);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=Le===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Le===1?0:de+(Le-2)*Ue;if(this.ctx.clip_path.length!==0){var Ct=this.path;It=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(It,this.posX+this.margin[3],-qe+we+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Ct}var kt=JSON.parse(JSON.stringify(yt));kt=y([kt],this.posX+this.margin[3],-qe+we+this.ctx.prevPageLastElemOffset)[0];var lt=(Le>Pe||Le<ze)&&p.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ue,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,St),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,St)};var b=function(O,W,Z){var ce=[];W=W||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ce.push(Math.floor((O.y+ae)/Z)+1);break;case"arc":ce.push(Math.floor((O.y+ae-O.radius)/Z)+1),ce.push(Math.floor((O.y+ae+O.radius)/Z)+1);break;case"qct":var ne=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ce.push(Math.floor((ne.y+ae)/Z)+1),ce.push(Math.floor((ne.y+ne.h+ae)/Z)+1);break;case"bct":var Ne=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ce.push(Math.floor((Ne.y+ae)/Z)+1),ce.push(Math.floor((Ne.y+Ne.h+ae)/Z)+1);break;case"rect":ce.push(Math.floor((O.y+ae)/Z)+1),ce.push(Math.floor((O.y+O.h+ae)/Z)+1)}for(var be=0;be<ce.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<ce[be];)x.call(this);return ce},x=function(){var O=this.fillStyle,W=this.strokeStyle,Z=this.font,ce=this.lineCap,ae=this.lineWidth,ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=W,this.font=Z,this.lineCap=ce,this.lineWidth=ae,this.lineJoin=ne},y=function(O,W,Z){for(var ce=0;ce<O.length;ce++)switch(O[ce].type){case"bct":O[ce].x2+=W,O[ce].y2+=Z;case"qct":O[ce].x1+=W,O[ce].y1+=Z;default:O[ce].x+=W,O[ce].y+=Z}return O},w=function(O){return O.sort(function(W,Z){return W-Z})},S=function(O,W){for(var Z,ce,ae=this.fillStyle,ne=this.strokeStyle,Ne=this.lineCap,be=this.lineWidth,_e=Math.abs(be*this.ctx.transform.scaleX),Te=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),ge=[],se=0;se<ye.length;se++)if(ye[se].x!==void 0)for(var It=b.call(this,ye[se]),Tt=0;Tt<It.length;Tt+=1)ge.indexOf(It[Tt])===-1&&ge.push(It[Tt]);for(var St=0;St<ge.length;St++)for(;this.pdf.internal.getNumberOfPages()<ge[St];)x.call(this);if(w(ge),this.autoPaging)for(var Ge=ge[0],yt=ge[ge.length-1],nt=Ge;nt<yt+1;nt++){this.pdf.setPage(nt),this.fillStyle=ae,this.strokeStyle=ne,this.lineCap=Ne,this.lineWidth=_e,this.lineJoin=Te;var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],fe=nt===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Le=nt===1?0:Pe+(nt-2)*ze;if(this.ctx.clip_path.length!==0){var Fe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Z,this.posX+this.margin[3],-Le+fe+this.ctx.prevPageLastElemOffset),C.call(this,O,!0),this.path=Fe}if(ce=JSON.parse(JSON.stringify(Ie)),this.path=y(ce,this.posX+this.margin[3],-Le+fe+this.ctx.prevPageLastElemOffset),W===!1||nt===0){var we=(nt>Ge||nt<yt)&&p.call(this);we&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,ze,null).clip().discardPath()),C.call(this,O,W),we&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=_e,C.call(this,O,W),this.lineWidth=be;this.path=Ie},C=function(O,W){if((O!=="stroke"||W||!g.call(this))&&(O==="stroke"||W||!f.call(this))){for(var Z,ce,ae=[],ne=this.path,Ne=0;Ne<ne.length;Ne++){var be=ne[Ne];switch(be.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:be,deltas:[],abs:[]});break;case"lt":var _e=ae.length;if(ne[Ne-1]&&!isNaN(ne[Ne-1].x)&&(Z=[be.x-ne[Ne-1].x,be.y-ne[Ne-1].y],_e>0)){for(;_e>=0;_e--)if(ae[_e-1].close!==!0&&ae[_e-1].begin!==!0){ae[_e-1].deltas.push(Z),ae[_e-1].abs.push(be);break}}break;case"bct":Z=[be.x1-ne[Ne-1].x,be.y1-ne[Ne-1].y,be.x2-ne[Ne-1].x,be.y2-ne[Ne-1].y,be.x-ne[Ne-1].x,be.y-ne[Ne-1].y],ae[ae.length-1].deltas.push(Z);break;case"qct":var Te=ne[Ne-1].x+2/3*(be.x1-ne[Ne-1].x),Ie=ne[Ne-1].y+2/3*(be.y1-ne[Ne-1].y),ye=be.x+2/3*(be.x1-be.x),ge=be.y+2/3*(be.y1-be.y),se=be.x,It=be.y;Z=[Te-ne[Ne-1].x,Ie-ne[Ne-1].y,ye-ne[Ne-1].x,ge-ne[Ne-1].y,se-ne[Ne-1].x,It-ne[Ne-1].y],ae[ae.length-1].deltas.push(Z);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(be)}}ce=W?null:O==="stroke"?"stroke":"fill";for(var Tt=!1,St=0;St<ae.length;St++)if(ae[St].arc)for(var Ge=ae[St].abs,yt=0;yt<Ge.length;yt++){var nt=Ge[yt];nt.type==="arc"?M.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,W,!Tt):q.call(this,nt.x,nt.y),Tt=!0}else if(ae[St].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(ae[St].begin!==!0){var re=ae[St].start.x,fe=ae[St].start.y;B.call(this,ae[St].deltas,re,fe),Tt=!0}ce&&D.call(this,ce),W&&$.call(this)}},L=function(O){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Z;case"top":return O+W-Z;case"hanging":return O+W-2*Z;case"middle":return O+W/2-Z;default:return O}},R=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(W,Z){this.colorStops.push([W,Z])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(O,W,Z,ce,ae,ne,Ne,be,_e){for(var Te=ie.call(this,Z,ce,ae,ne),Ie=0;Ie<Te.length;Ie++){var ye=Te[Ie];Ie===0&&(_e?E.call(this,ye.x1+O,ye.y1+W):q.call(this,ye.x1+O,ye.y1+W)),te.call(this,O,W,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}be?$.call(this):D.call(this,Ne)},D=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(O,W){this.pdf.internal.out(s(O)+" "+n(W)+" m")},T=function(O){var W;switch(O.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var Z=this.pdf.getTextDimensions(O.text),ce=L.call(this,O.y),ae=R.call(this,ce)-Z.h,ne=this.ctx.transform.applyToPoint(new o(O.x,ce)),Ne=this.ctx.transform.decompose(),be=new c;be=(be=(be=be.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var _e,Te,Ie,ye=this.ctx.transform.applyToRectangle(new l(O.x,ce,Z.w,Z.h)),ge=be.applyToRectangle(new l(O.x,ae,Z.w,Z.h)),se=b.call(this,ge),It=[],Tt=0;Tt<se.length;Tt+=1)It.indexOf(se[Tt])===-1&&It.push(se[Tt]);if(w(It),this.autoPaging)for(var St=It[0],Ge=It[It.length-1],yt=St;yt<Ge+1;yt++){this.pdf.setPage(yt);var nt=yt===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fe=this.pdf.internal.pageSize.height-this.margin[2],Pe=fe-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],Le=ze-this.margin[3],Fe=yt===1?0:re+(yt-2)*Pe;if(this.ctx.clip_path.length!==0){var we=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(_e,this.posX+this.margin[3],-1*Fe+nt),C.call(this,"fill",!0),this.path=we}var de=y([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-Fe+nt+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*O.scale),Ie=this.lineWidth,this.lineWidth=Ie*O.scale);var Ue=this.autoPaging!=="text";if(Ue||de.y+de.h<=fe){if(Ue||de.y>=nt&&de.x<=ze){var qe=Ue?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||ze-de.x)[0],Ct=y([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Fe+nt+this.ctx.prevPageLastElemOffset)[0],kt=Ue&&(yt>St||yt<Ge)&&p.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Pe,null).clip().discardPath()),this.pdf.text(qe,Ct.x,Ct.y,{angle:O.angle,align:W,renderingMode:O.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else de.y<fe&&(this.ctx.prevPageLastElemOffset+=fe-de.y);O.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Ie)}else O.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*O.scale),Ie=this.lineWidth,this.lineWidth=Ie*O.scale),this.pdf.text(O.text,ne.x+this.posX,ne.y+this.posY,{angle:O.angle,align:W,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Ie)},q=function(O,W,Z,ce){Z=Z||0,ce=ce||0,this.pdf.internal.out(s(O+Z)+" "+n(W+ce)+" l")},B=function(O,W,Z){return this.pdf.lines(O,W,Z,null,null)},te=function(O,W,Z,ce,ae,ne,Ne,be){this.pdf.internal.out([t(i(Z+O)),t(a(ce+W)),t(i(ae+O)),t(a(ne+W)),t(i(Ne+O)),t(a(be+W)),"c"].join(" "))},ie=function(O,W,Z,ce){for(var ae=2*Math.PI,ne=Math.PI/2;W>Z;)W-=ae;var Ne=Math.abs(Z-W);Ne<ae&&ce&&(Ne=ae-Ne);for(var be=[],_e=ce?-1:1,Te=W;Ne>1e-5;){var Ie=Te+_e*Math.min(Ne,ne);be.push(G.call(this,O,Te,Ie)),Ne-=Math.abs(Ie-Te),Te=Ie}return be},G=function(O,W,Z){var ce=(Z-W)/2,ae=O*Math.cos(ce),ne=O*Math.sin(ce),Ne=ae,be=-ne,_e=Ne*Ne+be*be,Te=_e+Ne*ae+be*ne,Ie=4/3*(Math.sqrt(2*_e*Te)-Te)/(Ne*ne-be*ae),ye=Ne-Ie*be,ge=be+Ie*Ne,se=ye,It=-ge,Tt=ce+W,St=Math.cos(Tt),Ge=Math.sin(Tt);return{x1:O*Math.cos(W),y1:O*Math.sin(W),x2:ye*St-ge*Ge,y2:ye*Ge+ge*St,x3:se*St-It*Ge,y3:se*Ge+It*St,x4:O*Math.cos(Z),y4:O*Math.sin(Z)}},P=function(O){return 180*O/Math.PI},U=function(O,W,Z,ce,ae,ne){var Ne=O+.5*(Z-O),be=W+.5*(ce-W),_e=ae+.5*(Z-ae),Te=ne+.5*(ce-ne),Ie=Math.min(O,ae,Ne,_e),ye=Math.max(O,ae,Ne,_e),ge=Math.min(W,ne,be,Te),se=Math.max(W,ne,be,Te);return new l(Ie,ge,ye-Ie,se-ge)},xe=function(O,W,Z,ce,ae,ne,Ne,be){var _e,Te,Ie,ye,ge,se,It,Tt,St,Ge,yt,nt,re,fe,Pe=Z-O,ze=ce-W,Le=ae-Z,Fe=ne-ce,we=Ne-ae,de=be-ne;for(Te=0;Te<41;Te++)St=(It=(Ie=O+(_e=Te/40)*Pe)+_e*((ge=Z+_e*Le)-Ie))+_e*(ge+_e*(ae+_e*we-ge)-It),Ge=(Tt=(ye=W+_e*ze)+_e*((se=ce+_e*Fe)-ye))+_e*(se+_e*(ne+_e*de-se)-Tt),Te==0?(yt=St,nt=Ge,re=St,fe=Ge):(yt=Math.min(yt,St),nt=Math.min(nt,Ge),re=Math.max(re,St),fe=Math.max(fe,Ge));return new l(Math.round(yt),Math.round(nt),Math.round(re-yt),Math.round(fe-nt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,W,Z=(O=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:W}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(bt.API),function(e){var t=function(o){var l,c,d,u,h,m,f,g,p,b;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(b=h%85))/85)-(p=h%85))/85)-(g=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,g+33,p+33,b+33)):c.push(122);return function(x,y){for(var w=y;w>0;w--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},s=function(o){var l,c,d,u,h,m=String,f="length",g=255,p="charCodeAt",b="slice",x="replace";for(o[b](-2),o=o[b](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[b](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[p](u)-33)+614125*(o[p](u+1)-33)+7225*(o[p](u+2)-33)+85*(o[p](u+3)-33)+(o[p](u+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(y,w){for(var S=w;S>0;S--)y.pop()}(d,l[f]),m.fromCharCode.apply(m,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=bS(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=s(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(bt.API),function(e){e.loadFile=function(t,s,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(g){var p=g.length,b=[],x=String.fromCharCode;for(m=0;m<p;m+=1)b.push(x(255&g.charCodeAt(m)));return b.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)}(i,a,o)}catch{}return l}(t,s,n)},e.loadImageFile=e.loadFile}(bt.API),function(e){function t(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):Lj(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function s(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):Lj(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Vs(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(s).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],p=g.src.find(function(b){return b.format==="truetype"});p&&d.addFont(p.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,bt.getPageSize=function(l,c,d){if(Vs(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var g,p=0,b=0;if(f.hasOwnProperty(m))p=f[m][1]/h,b=f[m][0]/h;else try{p=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",b>p&&(g=b,b=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>b&&(g=b,b=p,p=g)}return{width:b,height:p,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(rN):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(bt.API),bt.API.addJS=function(e){return pE=e,this.internal.events.subscribe("postPutResources",function(){oy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(oy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){oy!==void 0&&mE!==void 0&&this.internal.out("/Names <</JavaScript "+oy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=s.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var h=s.internal.newObject();u.push(h);var m=s.internal.getPageInfo(a+1);s.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=s.internal.newObject();for(s.internal.write("<< /Names [ "),a=0;a<u.length;a++)s.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");s.internal.write(" ] >>","endobj"),t=s.internal.newObject(),s.internal.write("<< /Dests "+f+" 0 R"),s.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var s=this;s.outline.root.children.length>0&&(s.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&s.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=s.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(s,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=o||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,c=function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,p={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=f,t.indexOf(h.charCodeAt(b+1))!==-1){m=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),p={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:m,numcomponents:h.charCodeAt(b+9)};break}f=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return p}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:s,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(bt.API),bt.API.processPNG=function(e,t,s,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=Oie(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,u=a.depth;i=d&&c===1?function(R){for(var M=R.width,D=R.height,$=R.data,E=R.palette,T=R.depth,q=!1,B=[],te=[],ie=void 0,G=!1,P=0,U=0;U<E.length;U++){var xe=cA(E[U],4),X=xe[0],O=xe[1],W=xe[2],Z=xe[3];B.push(X,O,W),Z!=null&&(Z===0?(P++,te.length<1&&te.push(U)):Z<255&&(G=!0))}if(G||P>1){q=!0,te=void 0;var ce=M*D;ie=new Uint8Array(ce);for(var ae=new DataView($.buffer),ne=0;ne<ce;ne++){var Ne=aN(ae,ne,T),be=cA(E[Ne],4)[3];ie[ne]=be}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:$,alphaBytes:ie,needSMask:q,palette:B,mask:te}}(a):c===2||c===4?function(R){for(var M=R.data,D=R.width,$=R.height,E=R.channels,T=R.depth,q=E===2?"DeviceGray":"DeviceRGB",B=E-1,te=D*$,ie=B,G=te*ie,P=1*te,U=Math.ceil(G*T/8),xe=Math.ceil(P*T/8),X=new Uint8Array(U),O=new Uint8Array(xe),W=new DataView(M.buffer),Z=new DataView(X.buffer),ce=new DataView(O.buffer),ae=!1,ne=0;ne<te;ne++){for(var Ne=ne*E,be=0;be<ie;be++)SE(Z,aN(W,Ne+be,T),ne*ie+be,T);var _e=aN(W,Ne+ie,T);_e<(1<<T)-1&&(ae=!0),SE(ce,_e,1*ne,T)}return{colorSpace:q,colorsPerPixel:B,colorBytes:X,alphaBytes:O,needSMask:ae}}(a):function(R){var M=R.data,D=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:M instanceof Uint8Array?M:new Uint8Array(M.buffer),needSMask:!1}}(a);var h,m,f,g=i,p=g.colorSpace,b=g.colorsPerPixel,x=g.colorBytes,y=g.alphaBytes,w=g.needSMask,S=g.palette,C=g.mask,L=null;return n!==bt.API.image_compression.NONE&&typeof bS=="function"?(L=function(R){var M;switch(R){case bt.API.image_compression.FAST:M=11;break;case bt.API.image_compression.MEDIUM:M=13;break;case bt.API.image_compression.SLOW:M=14;break;default:M=12}return M}(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(L," "),e=yE(x,o*b,b,n),w&&(f=yE(y,o,1,n))):(h=void 0,m="",e=x,w&&(f=y)),m+="/Colors ".concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:s,data:e,index:t,filter:h,decodeParameters:m,transparency:C,palette:S,sMask:f,predictor:L,width:o,height:l,bitsPerComponent:u,colorSpace:p}}},function(e){e.processGIF89A=function(t,s,n,i){var a=new nae(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new oN(100).encode(d,100);return e.processJPEG.call(this,u,s,n,i)},e.processGIF87A=e.processGIF89A}(bt.API),ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:s,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ho.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(s){Ks.log("bit decode error:"+s)}},ho.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),s=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}s!==0&&(this.pos+=4-s)}},ho.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ho.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=s*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},ho.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},ho.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&s)/s*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},ho.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ho.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*s;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},ho.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,s,n,i){var a=new ho(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new oN(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(bt.API),kE.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,s,n,i){var a=new kE(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new oN(100).encode(c,100);return e.processJPEG.call(this,d,s,n,i)}}(bt.API),bt.API.processRGBA=function(e,t,s){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],h=n[d+1],m=n[d+2],f=n[d+3];a[l++]=u,a[l++]=h,a[l++]=m,o[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hf=bt.API,ly=hf.getCharWidthsArray=function(e,t){var s,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=t.doKerning!==!1,m=0,f=e.length,g=0,p=l[0]||c,b=[];for(s=0;s<f;s++)n=e.charCodeAt(s),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=h&&Vs(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,b.push((l[n]||p)/c+m)),g=n;return b},gE=hf.getStringUnitWidth=function(e,t){var s=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return hf.processArabic&&(e=hf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,s,i)/s:ly.apply(this,arguments).reduce(function(a,o){return a+o},0)},xE=function(e,t,s,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<s;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},vE=function(e,t,s){s||(s={});var n,i,a,o,l,c,d,u=[],h=[u],m=s.textIndent||0,f=0,g=0,p=e.split(" "),b=ly.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?p[0].length+2:s.lineIndent||0){var x=Array(c).join(" "),y=[];p.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(C,L){return(L&&C.length?`
`:"")+C})):y.push(S[0])}),p=y,c=gE.apply(this,[x,s])}for(a=0,o=p.length;a<o;a++){var w=0;if(n=p[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),m+f+(g=(i=ly.apply(this,[n,s])).reduce(function(S,C){return S+C},0))>t||w){if(g>t){for(l=xE.apply(this,[n,i,t-(m+f),t]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(S,C){return S+C},0)}else u=[n];h.push(u),m=g+c,f=b}else u.push(n),m+=f+g,f=b}return d=c?function(S,C){return(C?x:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(d)},hf.splitTextToSize=function(e,t,s){var n,i=(s=s||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,s);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=s.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(vE.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",s="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[s[a]]=t[a],i[t[a]]=s[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var f,g,p,b,x=["{"];for(var y in m){if(f=m[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=o(y).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(p=o(f).slice(3),b="-"):(p=o(f).slice(2),b=""),p=b+p.slice(0,-1)+i[p.slice(-1)];else{if(Vs(f)!=="object")throw new Error("Don't know what to do with value type "+Vs(f)+".");p=l(f)}x.push(g+p)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,p,b,x={},y=1,w=x,S=[],C="",L="",R=m.length-1,M=1;M<R;M+=1)(b=m[M])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(b):b=="{"?(S.push([w,p]),w={},p=void 0):b=="}"?((g=S.pop())[0][g[1]]=w,p=void 0,w=g[0]):b=="-"?y=-1:p===void 0?n.hasOwnProperty(b)?(C+=n[b],p=parseInt(C,16)*y,y=1,C=""):C+=b:n.hasOwnProperty(b)?(L+=n[b],w[p]=parseInt(L,16)*y,y=1,p=void 0,L=""):L+=b;return x},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var f=m.font,g=h.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(bt.API),function(e){var t=function(s){for(var n=s.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=s.charCodeAt(a);return i};e.API.events.push(["addFont",function(s){var n=void 0,i=s.font,a=s.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Jy(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(bt),bt.API.addSvgAsImage=function(e,t,s,n,i,a,o,l){if(isNaN(t)||isNaN(s))throw Ks.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Ks.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Yt.canvg?Promise.resolve(Yt.canvg):Lj(()=>import("./index.es-nMHA-4Nw.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,s,n,i,o,l)})},bt.API.putTotalPages=function(e){var t,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),s=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,s);return this},bt.API.viewerPreferences=function(e,t){var s;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(g,p){var b,x=!1;for(b=0;b<g.length;b+=1)g[b]===p&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=l.length;for(h=0;h<f;h+=1)s[l[h]].value=s[l[h]].defaultValue,s[l[h]].explicitSet=!1}if(Vs(e)==="object"){for(i in e)if(a=e[i],m(l,i)&&a!==void 0){if(s[i].type==="boolean"&&typeof a=="boolean")s[i].value=a;else if(s[i].type==="name"&&m(s[i].valueSet,a))s[i].value=a;else if(s[i].type==="integer"&&Number.isInteger(a))s[i].value=a;else if(s[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}s[i].value="["+c.join(" ")+"]"}else s[i].value=s[i].defaultValue;s[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in s)s[g].explicitSet===!0&&(s[g].type==="name"?p.push("/"+g+" /"+s[g].value):p.push("/"+g+" "+s[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",t)),this}}(bt.API),function(e){var t=e.API,s=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=a.length;h<m;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(a).sort(function(f,g){return f-g})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",g=0;g<m.length;g++)f+=String.fromCharCode(m[g]);var p=d();u({data:f,addLength1:!0,objectId:p}),c("endobj");var b=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vf(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+vf(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+vf(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var p=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var b=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+vf(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+vf(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},h=a.mutex||{},m=h.pdfEscape,f=h.activeFontKey,g=h.fonts,p=f,b="",x=0,y="",w=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(y=l,p=f,Array.isArray(l)&&(y=l[0]),x=0;x<y.length;x+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),o||y[x].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?b+=y[x]:b+="";var S="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?S=m(b,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(S=s(b,g[p])),h.isHex=!0,{text:S,x:c,y:d,options:u,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0},e.addFileToVFS=function(s,n){return t.call(this),this.internal.vFS[s]=n,this},e.getFileFromVFS=function(s){return t.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var S=function(E){var T=E.charCodeAt(),q=T>>8,B=p[q];return B!==void 0?h[256*B+(255&T)]:q===252||q===253?"AL":x.test(q)?"L":q===8?"R":"N"},C=function(E){for(var T,q=0;q<E.length;q++){if((T=S(E.charAt(q)))==="L")return!1;if(T==="R")return!0}return!1},L=function(E,T,q,B){var te,ie,G,P,U=T[B];switch(U){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(U="AN");break;case"AL":y=!0,U="R";break;case"WS":case"BN":U="N";break;case"CS":B<1||B+1>=T.length||(te=q[B-1])!=="EN"&&te!=="AN"||(ie=T[B+1])!=="EN"&&ie!=="AN"?U="N":y&&(ie="AN"),U=ie===te?ie:"N";break;case"ES":U=(te=B>0?q[B-1]:"B")==="EN"&&B+1<T.length&&T[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&q[B-1]==="EN"){U="EN";break}if(y){U="N";break}for(G=B+1,P=T.length;G<P&&T[G]==="ET";)G++;U=G<P&&T[G]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(P=T.length,G=B+1;G<P&&T[G]==="NSM";)G++;if(G<P){var xe=E[B],X=xe>=1425&&xe<=2303||xe===64286;if(te=T[G],X&&(te==="R"||te==="AL")){U="R";break}}}U=B<1||(te=T[B-1])==="B"?"N":q[B-1];break;case"B":y=!1,i=!0,U=w;break;case"S":a=!0,U="N"}return U},R=function(E,T,q){var B=E.split("");return q&&M(B,q,{hiLevel:w}),B.reverse(),T&&T.reverse(),B.join("")},M=function(E,T,q){var B,te,ie,G,P,U=-1,xe=E.length,X=0,O=[],W=w?f:m,Z=[];for(y=!1,i=!1,a=!1,te=0;te<xe;te++)Z[te]=S(E[te]);for(ie=0;ie<xe;ie++){if(P=X,O[ie]=L(E,Z,O,ie),B=240&(X=W[P][g[O[ie]]]),X&=15,T[ie]=G=W[X][5],B>0)if(B===16){for(te=U;te<ie;te++)T[te]=1;U=-1}else U=-1;if(W[X][6])U===-1&&(U=ie);else if(U>-1){for(te=U;te<ie;te++)T[te]=G;U=-1}Z[ie]==="B"&&(T[ie]=0),q.hiLevel|=G}a&&function(ce,ae,ne){for(var Ne=0;Ne<ne;Ne++)if(ce[Ne]==="S"){ae[Ne]=w;for(var be=Ne-1;be>=0&&ce[be]==="WS";be--)ae[be]=w}}(Z,T,xe)},D=function(E,T,q,B,te){if(!(te.hiLevel<E)){if(E===1&&w===1&&!i)return T.reverse(),void(q&&q.reverse());for(var ie,G,P,U,xe=T.length,X=0;X<xe;){if(B[X]>=E){for(P=X+1;P<xe&&B[P]>=E;)P++;for(U=X,G=P-1;U<G;U++,G--)ie=T[U],T[U]=T[G],T[G]=ie,q&&(ie=q[U],q[U]=q[G],q[G]=ie);X=P}X++}}},$=function(E,T,q){var B=E.split(""),te={hiLevel:w};return q||(q=[]),M(B,q,te),function(ie,G,P){if(P.hiLevel!==0&&u)for(var U,xe=0;xe<ie.length;xe++)G[xe]===1&&(U=b.indexOf(ie[xe]))>=0&&(ie[xe]=b[U+1])}(B,q,te),D(2,B,T,q,te),D(1,B,T,q,te),B.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,q){if(function(te,ie){if(ie)for(var G=0;G<te.length;G++)ie[G]=G;l===void 0&&(l=C(te)),d===void 0&&(d=C(te))}(E,T),o||!c||d)if(o&&c&&l^d)w=l?1:0,E=R(E,T,q);else if(!o&&c&&d)w=l?1:0,E=$(E,T,q),E=R(E,T);else if(!o||l||c||d){if(o&&!c&&l^d)E=R(E,T),l?(w=0,E=$(E,T,q)):(w=1,E=$(E,T,q),E=R(E,T));else if(o&&l&&!c&&d)w=1,E=$(E,T,q),E=R(E,T);else if(!o&&!c&&l^d){var B=u;l?(w=1,E=$(E,T,q),w=0,u=!1,E=$(E,T,q),u=B):(w=0,E=$(E,T,q),E=R(E,T),w=1,u=!1,E=$(E,T,q),u=B,E=R(E,T))}}else w=0,E=$(E,T,q);else w=l?1:0,E=$(E,T,q);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,s.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([s.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([s.doBidiReorder(i[l])]);n.text=o}else n.text=s.doBidiReorder(i);s.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function e(t){var s;if(this.rawData=t,s=this.contents=new Zd(t),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new vae(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new rae(this.contents),this.head=new aae(this),this.name=new uae(this),this.cmap=new J9(this),this.toUnicode={},this.hhea=new oae(this),this.maxp=new hae(this),this.hmtx=new fae(this),this.post=new cae(this),this.os2=new lae(this),this.loca=new xae(this),this.glyf=new mae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,s,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(s=i>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var s;return((s=this.cmap.unicode)!=null?s.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*s},e.prototype.widthOfString=function(t,s,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/s)||0;return o*(s/1e3)},e.prototype.lineHeight=function(t,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Bo,Zd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var s,n;for(n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var s,n,i;for(i=[],s=0,n=t.length;0<=n?s<n:s>n;s=0<=n?++s:--s)i.push(this.writeByte(t.charCodeAt(s)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,s,n,i,a,o,l,c;return t=this.readByte(),s=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*s+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var s,n;return s=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var s,n;for(s=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)s.push(this.readByte());return s},e.prototype.write=function(t){var s,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)s=t[n],a.push(this.writeByte(s));return a},e}(),rae=function(){var e;function t(s){var n,i,a;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(s){var n,i,a,o,l,c,d,u,h,m,f,g,p;for(p in f=Object.keys(s).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(i=new Zd).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),a=16*f,d=i.pos+a,l=null,g=[],s)for(m=s[p],i.writeString(p),i.writeInt(e(m)),i.writeInt(d),i.writeInt(m.length),g=g.concat(m),p==="head"&&(l=d),d+=m.length;d%4;)g.push(0),d++;return i.write(g),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(s){var n,i,a,o;for(s=eB.call(s);s.length%4;)s.push(0);for(a=new Zd(s),i=0,n=0,o=s.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),iae={}.hasOwnProperty,_l=function(e,t){for(var s in t)iae.call(t,s)&&(e[s]=t[s]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Bo=function(){function e(t){var s;this.file=t,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var aae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var s;return(s=new Zd).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(t),s.writeShort(this.glyphDataFormat),s.data},e}(),_E=function(){function e(t,s){var n,i,a,o,l,c,d,u,h,m,f,g,p,b,x,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=s+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(f=t.readUInt16(),m=f/2,t.pos+=6,a=function(){var S,C;for(C=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)C.push(t.readUInt16());return C}(),t.pos+=2,p=function(){var S,C;for(C=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)C.push(t.readUInt16());return C}(),d=function(){var S,C;for(C=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)C.push(t.readUInt16());return C}(),u=function(){var S,C;for(C=[],c=S=0;0<=m?S<m:S>m;c=0<=m?++S:--S)C.push(t.readUInt16());return C}(),i=(this.length-t.pos+this.offset)/2,l=function(){var S,C;for(C=[],c=S=0;0<=i?S<i:S>i;c=0<=i?++S:--S)C.push(t.readUInt16());return C}(),c=x=0,w=a.length;x<w;c=++x)for(b=a[c],n=y=g=p[c];g<=b?y<=b:y>=b;n=g<=b?++y:--y)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,s){var n,i,a,o,l,c,d,u,h,m,f,g,p,b,x,y,w,S,C,L,R,M,D,$,E,T,q,B,te,ie,G,P,U,xe,X,O,W,Z,ce,ae,ne,Ne,be,_e,Te,Ie;switch(B=new Zd,o=Object.keys(t).sort(function(ye,ge){return ye-ge}),s){case"macroman":for(p=0,b=function(){var ye=[];for(g=0;g<256;++g)ye.push(0);return ye}(),y={0:0},a={},te=0,U=o.length;te<U;te++)y[be=t[i=o[te]]]==null&&(y[be]=++p),a[i]={old:t[i],new:y[t[i]]},b[i]=y[t[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(b),{charMap:a,subtable:B.data,maxGlyphID:p+1};case"unicode":for(T=[],h=[],w=0,y={},n={},x=d=null,ie=0,xe=o.length;ie<xe;ie++)y[C=t[i=o[ie]]]==null&&(y[C]=++w),n[i]={old:C,new:y[C]},l=y[C]-i,x!=null&&l===d||(x&&h.push(x),T.push(i),d=l),x=i;for(x&&h.push(x),h.push(65535),T.push(65535),$=2*(D=T.length),M=2*Math.pow(Math.log(D)/Math.LN2,2),m=Math.log(M/2)/Math.LN2,R=2*D-M,c=[],L=[],f=[],g=G=0,X=T.length;G<X;g=++G){if(E=T[g],u=h[g],E===65535){c.push(0),L.push(0);break}if(E-(q=n[E].new)>=32768)for(c.push(0),L.push(2*(f.length+D-g)),i=P=E;E<=u?P<=u:P>=u;i=E<=u?++P:--P)f.push(n[i].new);else c.push(q-E),L.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*D+2*f.length),B.writeUInt16(0),B.writeUInt16($),B.writeUInt16(M),B.writeUInt16(m),B.writeUInt16(R),ne=0,O=h.length;ne<O;ne++)i=h[ne],B.writeUInt16(i);for(B.writeUInt16(0),Ne=0,W=T.length;Ne<W;Ne++)i=T[Ne],B.writeUInt16(i);for(_e=0,Z=c.length;_e<Z;_e++)l=c[_e],B.writeUInt16(l);for(Te=0,ce=L.length;Te<ce;Te++)S=L[Te],B.writeUInt16(S);for(Ie=0,ae=f.length;Ie<ae;Ie++)p=f[Ie],B.writeUInt16(p);return{charMap:n,subtable:B.data,maxGlyphID:w+1}}},e}(),J9=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="cmap",e.prototype.parse=function(t){var s,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)s=new _E(t,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(t,s){var n,i;return s==null&&(s="macroman"),n=_E.encode(t,s),(i=new Zd).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),oae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),lae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var s,n;for(n=[],s=0;s<10;++s)n.push(t.readByte());return n}(),this.charRange=function(){var s,n;for(n=[],s=0;s<4;++s)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var s,n;for(n=[],s=0;s<2;s=++s)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),cae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="post",e.prototype.parse=function(t){var s,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)s=t.readByte(),i.push(this.names.push(t.readString(s)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),dae=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},uae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="name",e.prototype.parse=function(t){var s,n,i,a,o,l,c,d,u,h,m;for(t.pos=this.offset,t.readShort(),s=t.readShort(),l=t.readShort(),n=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=u=0,h=n.length;u<h;a=++u)i=n[a],t.pos=i.offset,d=t.readString(i.length),o=new dae(d,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),hae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),fae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="hmtx",e.prototype.parse=function(t){var s,n,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],s=0,l=this.file.hhea.numberOfMetrics;0<=l?s<l:s>l;s=0<=l?++s:--s)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],s=d=0;0<=i?d<i:d>i;s=0<=i?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)a=h[d],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],s=o=0;0<=i?o<i:o>i;s=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),eB=[].slice,mae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var s,n,i,a,o,l,c,d,u,h;return t in this.cache?this.cache[t]:(a=this.file.loca,s=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(s.pos=this.offset+n,o=(l=new Zd(s.read(i))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new gae(l,d,h,c,u):new pae(l,o,d,h,c,u),this.cache[t]))},e.prototype.encode=function(t,s,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=s.length;l<c;l++)i=t[s[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),pae=function(){function e(t,s,n,i,a,o){this.raw=t,this.numberOfContours=s,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gae=function(){function e(t,s,n,i,a){var o,l;for(this.raw=t,this.xMin=s,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,s,n;for(s=new Zd(eB.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)s.pos=this.glyphOffsets[t];return s.data},e}(),xae=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _l(e,Bo),e.prototype.tag="loca",e.prototype.parse=function(t){var s,n;return t.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,s){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<s.length&&s[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),vae=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,s,n,i,a;for(s in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[s],t[s]=i[n];return t},e.prototype.glyphsFor=function(t){var s,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in s=[],i)(n=i[a])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(a in c=this.glyphsFor(s))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,s){var n,i,a,o,l,c,d,u,h,m,f,g,p,b,x;for(i in n=J9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},x=n.charMap)f[(c=x[i]).old]=c.new;for(g in m=n.maxGlyphID,o)g in f||(f[g]=m++);return u=function(y){var w,S;for(w in S={},y)S[y[w]]=w;return S}(f),h=Object.keys(u).sort(function(y,w){return y-w}),p=function(){var y,w,S;for(S=[],y=0,w=h.length;y<w;y++)l=h[y],S.push(u[l]);return S}(),a=this.font.glyf.encode(o,p,f),d=this.font.loca.encode(a.offsets,p),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();bt.API.PDFObject=function(){var e;function t(){}return e=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},t.convert=function(s){var n,i,a,o;if(Array.isArray(s))return"["+function(){var l,c,d;for(d=[],l=0,c=s.length;l<c;l++)n=s[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s!=null&&s.isString)return"("+s+")";if(s instanceof Date)return"(D:"+e(s.getUTCFullYear(),4)+e(s.getUTCMonth(),2)+e(s.getUTCDate(),2)+e(s.getUTCHours(),2)+e(s.getUTCMinutes(),2)+e(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(i in a=["<<"],s)o=s[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+s},t}();const yae=e=>{const t=parseFloat(e.basePrice||"0"),s=parseFloat(e.addOnsPrice||"0"),n=parseFloat(e.totalPrice||"0"),i=n*.15;return{serviceName:(o=>({cleaning:"House Cleaning","garden-care":"Garden Care & Maintenance",plumbing:"Plumbing Services",electrical:"Electrical Services","chef-catering":"Chef & Catering","event-staff":"Event Staff & Waitering",moving:"Moving Services","au-pair":"Au Pair & Childcare"})[o]||o)(e.serviceType),serviceDate:new Date(e.scheduledDate).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),serviceTime:e.scheduledTime,address:e.address,totalCost:n,basePrice:t,addOnsPrice:s>0?s:void 0,provider:e.providerName?{name:e.providerName,verified:!0}:void 0,paymentMethod:e.paymentMethod||"card",cardBrand:e.cardBrand||void 0,cardLast4:e.cardLast4||void 0,bankName:e.bankName||void 0,accountLast4:e.accountLast4||void 0,commission:i,bookingStatus:e.status,bookingNumber:e.bookingNumber||void 0}},bae=(e,t)=>{var h,m,f,g;const s=new bt,n=[139,92,246],i=[34,197,94],a=[31,41,55],o=[243,244,246];let l=20;s.setFillColor(n[0],n[1],n[2]),s.rect(0,0,210,40,"F"),s.setTextColor(255,255,255),s.setFontSize(24),s.setFont("helvetica","bold"),s.text("BERRY EVENTS",105,20,{align:"center"}),s.setFontSize(10),s.setFont("helvetica","normal"),s.text("All Your Home Services In One",105,28,{align:"center"}),l=50,s.setTextColor(a[0],a[1],a[2]),s.setFontSize(18),s.setFont("helvetica","bold"),s.text("BOOKING RECEIPT",105,l,{align:"center"}),l+=10,s.setFillColor(i[0],i[1],i[2]),s.roundedRect(15,l,180,12,3,3,"F"),s.setTextColor(255,255,255),s.setFontSize(11),s.setFont("helvetica","bold"),s.text(`Booking Reference: ${t}`,105,l+8,{align:"center"}),l+=20,s.setTextColor(a[0],a[1],a[2]),s.setFontSize(10),s.setFont("helvetica","normal");const c=new Date().toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(s.text(`Receipt Date: ${c}`,15,l),l+=15,s.setFillColor(o[0],o[1],o[2]),s.rect(15,l,180,8,"F"),s.setFont("helvetica","bold"),s.setFontSize(12),s.text("SERVICE DETAILS",20,l+6),l+=15,s.setFont("helvetica","normal"),s.setFontSize(10),s.setFont("helvetica","bold"),s.text("Service:",20,l),s.setFont("helvetica","normal"),s.text(e.serviceName,55,l),l+=7,e.cleaningType){s.setFont("helvetica","bold"),s.text("Type:",20,l),s.setFont("helvetica","normal");const p=e.cleaningType.replace("-"," "),b=p.charAt(0).toUpperCase()+p.slice(1);s.text(b+(e.propertySize?` (${e.propertySize})`:""),55,l),l+=7}e.electricalIssue&&(s.setFont("helvetica","bold"),s.text("Issue:",20,l),s.setFont("helvetica","normal"),s.text(e.electricalIssue.replace("-"," "),55,l),l+=7),s.setFont("helvetica","bold"),s.text("Date:",20,l),s.setFont("helvetica","normal");const d=new Date(e.preferredDate).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"});s.text(d,55,l),l+=7,s.setFont("helvetica","bold"),s.text("Time:",20,l),s.setFont("helvetica","normal"),s.text(e.timePreference,55,l),l+=7,s.setFont("helvetica","bold"),s.text("Address:",20,l),s.setFont("helvetica","normal");const u=s.splitTextToSize(e.address,120);if(s.text(u,55,l),l+=u.length*5+5,e.selectedProvider&&(l+=5,s.setFillColor(o[0],o[1],o[2]),s.rect(15,l,180,8,"F"),s.setFont("helvetica","bold"),s.setFontSize(12),s.text("SERVICE PROVIDER",20,l+6),l+=15,s.setFontSize(10),s.setFont("helvetica","bold"),s.text("Provider:",20,l),s.setFont("helvetica","normal"),s.text(e.selectedProvider.name+(e.selectedProvider.verified?" ":""),55,l),l+=7,s.setFont("helvetica","bold"),s.text("Rating:",20,l),s.setFont("helvetica","normal"),s.text(`${e.selectedProvider.rating}  (${e.selectedProvider.reviews} reviews)`,55,l),l+=10),l+=5,s.setFillColor(o[0],o[1],o[2]),s.rect(15,l,180,8,"F"),s.setFont("helvetica","bold"),s.setFontSize(12),s.text("PAYMENT SUMMARY",20,l+6),l+=15,s.setFontSize(10),s.setFont("helvetica","normal"),s.text("Base Service",20,l),s.text(`R${((h=e.pricing)==null?void 0:h.basePrice)||0}`,175,l,{align:"right"}),l+=7,(m=e.pricing)!=null&&m.addOnsPrice&&e.pricing.addOnsPrice>0&&(s.text("Add-ons",20,l),s.text(`R${e.pricing.addOnsPrice}`,175,l,{align:"right"}),l+=7),(f=e.pricing)!=null&&f.materialsDiscount&&e.pricing.materialsDiscount>0&&(s.setTextColor(34,197,94),s.text("Materials Discount",20,l),s.text(`-R${e.pricing.materialsDiscount}`,175,l,{align:"right"}),s.setTextColor(a[0],a[1],a[2]),l+=7),(g=e.pricing)!=null&&g.recurringDiscount&&e.pricing.recurringDiscount>0&&(s.setTextColor(34,197,94),s.text("Recurring Service Discount",20,l),s.text(`-R${e.pricing.recurringDiscount}`,175,l,{align:"right"}),s.setTextColor(a[0],a[1],a[2]),l+=7),l+=3,s.setLineWidth(.5),s.line(20,l,175,l),l+=8,s.setFont("helvetica","bold"),s.setFontSize(12),s.text("TOTAL PAID",20,l),s.setTextColor(n[0],n[1],n[2]),s.text(`R${e.totalCost}`,175,l,{align:"right"}),s.setTextColor(a[0],a[1],a[2]),l+=10,e.payment){if(s.setFontSize(9),s.setFont("helvetica","normal"),e.payment.paymentMethod==="card"){const p=e.payment.cardBrand||"Card",b=e.payment.cardLast4||"****";s.text(`Paid with ${p} ending in ${b}`,20,l)}else s.text("Payment Method: Bank Transfer",20,l);l+=10}else s.setFontSize(9),s.setFont("helvetica","normal"),s.text("Payment Method: Confirmed",20,l),l+=10;l+=5,s.setFillColor(59,130,246),s.roundedRect(15,l,180,12,3,3,"F"),s.setTextColor(255,255,255),s.setFontSize(9),s.setFont("helvetica","bold"),s.text("SECURED BY BERRY EVENTS BANK",105,l+5,{align:"center"}),s.setFont("helvetica","normal"),s.text("Your payment is protected until service completion",105,l+9,{align:"center"}),l+=20,e.commission&&(s.setTextColor(a[0],a[1],a[2]),s.setFontSize(8),s.text(`Platform fee (15%): R${e.commission}`,20,l),l+=8),l=270,s.setFontSize(8),s.setTextColor(107,114,128),s.text("Berry Events - All Your Home Services In One",105,l,{align:"center"}),l+=4,s.text("customerservice@berryevents.co.za | +27 61 279 6476",105,l,{align:"center"}),l+=4,s.text("www.berryevents.co.za",105,l,{align:"center"}),s.save(`Berry-Events-Receipt-${t}.pdf`)},wae=e=>{const t=new bt,s=[139,92,246],n=[34,197,94],i=[31,41,55],a=[243,244,246];let o=20;t.setFillColor(s[0],s[1],s[2]),t.rect(0,0,210,40,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.setFont("helvetica","bold"),t.text("BERRY EVENTS",105,20,{align:"center"}),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("All Your Home Services In One",105,28,{align:"center"}),o=50,t.setTextColor(i[0],i[1],i[2]),t.setFontSize(18),t.setFont("helvetica","bold"),t.text("SERVICE RECEIPT",105,o,{align:"center"}),o+=10;const l=e.bookingNumber||`BE-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`;t.setFillColor(n[0],n[1],n[2]),t.roundedRect(15,o,180,12,3,3,"F"),t.setTextColor(255,255,255),t.setFontSize(11),t.setFont("helvetica","bold"),t.text(`Booking Reference: ${l}`,105,o+8,{align:"center"}),o+=20,t.setTextColor(i[0],i[1],i[2]),t.setFontSize(10),t.setFont("helvetica","normal");const c=new Date().toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});t.text(`Receipt Date: ${c}`,15,o),o+=15,t.setFillColor(a[0],a[1],a[2]),t.rect(15,o,180,8,"F"),t.setFont("helvetica","bold"),t.setFontSize(12),t.text("SERVICE DETAILS",20,o+6),o+=15,t.setFont("helvetica","normal"),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Service:",20,o),t.setFont("helvetica","normal"),t.text(e.serviceName,55,o),o+=7,t.setFont("helvetica","bold"),t.text("Date:",20,o),t.setFont("helvetica","normal"),t.text(e.serviceDate,55,o),o+=7,t.setFont("helvetica","bold"),t.text("Time:",20,o),t.setFont("helvetica","normal"),t.text(e.serviceTime,55,o),o+=7,t.setFont("helvetica","bold"),t.text("Address:",20,o),t.setFont("helvetica","normal");const d=t.splitTextToSize(e.address,120);if(t.text(d,55,o),o+=d.length*5+5,e.bookingStatus){t.setFont("helvetica","bold"),t.text("Status:",20,o),t.setFont("helvetica","normal");const u=e.bookingStatus.charAt(0).toUpperCase()+e.bookingStatus.slice(1);t.text(u,55,o),o+=10}if(e.provider&&(o+=5,t.setFillColor(a[0],a[1],a[2]),t.rect(15,o,180,8,"F"),t.setFont("helvetica","bold"),t.setFontSize(12),t.text("SERVICE PROVIDER",20,o+6),o+=15,t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Provider:",20,o),t.setFont("helvetica","normal"),t.text(e.provider.name+(e.provider.verified?" ":""),55,o),o+=10),o+=5,t.setFillColor(a[0],a[1],a[2]),t.rect(15,o,180,8,"F"),t.setFont("helvetica","bold"),t.setFontSize(12),t.text("PAYMENT SUMMARY",20,o+6),o+=15,t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Base Service",20,o),t.text(`R${e.basePrice.toFixed(2)}`,175,o,{align:"right"}),o+=7,e.addOnsPrice&&e.addOnsPrice>0&&(t.text("Add-ons",20,o),t.text(`R${e.addOnsPrice.toFixed(2)}`,175,o,{align:"right"}),o+=7),o+=3,t.setLineWidth(.5),t.line(20,o,175,o),o+=8,t.setFont("helvetica","bold"),t.setFontSize(12),t.text("TOTAL PAID",20,o),t.setTextColor(s[0],s[1],s[2]),t.text(`R${e.totalCost.toFixed(2)}`,175,o,{align:"right"}),t.setTextColor(i[0],i[1],i[2]),o+=10,t.setFontSize(9),t.setFont("helvetica","normal"),e.paymentMethod==="card"&&e.cardLast4){const u=e.cardBrand||"Card";t.text(`Paid with ${u} ending in ${e.cardLast4}`,20,o)}else if(e.paymentMethod==="bank"&&e.accountLast4){const u=e.bankName||"Bank Transfer";t.text(`Paid via ${u} ending in ${e.accountLast4}`,20,o)}else t.text("Payment Method: Confirmed",20,o);o+=10,o+=5,t.setFillColor(59,130,246),t.roundedRect(15,o,180,12,3,3,"F"),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("SECURED BY BERRY EVENTS BANK",105,o+5,{align:"center"}),t.setFont("helvetica","normal"),t.text("Your payment is protected until service completion",105,o+9,{align:"center"}),o+=20,e.commission&&(t.setTextColor(i[0],i[1],i[2]),t.setFontSize(8),t.text(`Platform fee (15%): R${e.commission.toFixed(2)}`,20,o),o+=8),o=270,t.setFontSize(8),t.setTextColor(107,114,128),t.text("Berry Events - All Your Home Services In One",105,o,{align:"center"}),o+=4,t.text("customerservice@berryevents.co.za | +27 61 279 6476",105,o,{align:"center"}),o+=4,t.text("www.berryevents.co.za",105,o,{align:"center"}),t.save(`Berry-Events-Receipt-${l}.pdf`)},jae=(e,t)=>{const s=Array.isArray(e)?e:[e],n=s[0],i=new Date(n.preferredDate),a=n.timePreference.match(/(\d{1,2}):(\d{2})/);a?i.setHours(parseInt(a[1]),parseInt(a[2])):n.timePreference.toLowerCase().includes("morning")?i.setHours(9,0):n.timePreference.toLowerCase().includes("afternoon")?i.setHours(14,0):i.setHours(10,0);const o=lN(i),l=lN(new Date(i.getTime()+2*60*60*1e3));let c="Berry Events Booking Confirmation\\n\\n";c+=`Booking Reference: ${t}\\n\\n`,s.forEach((h,m)=>{s.length>1&&(c+=`Service ${m+1}:\\n`),c+=`${h.serviceName}\\n`,h.selectedProvider&&(c+=`Provider: ${h.selectedProvider.name}\\n`),h.selectedAddOns&&h.selectedAddOns.length>0&&(c+=`Add-ons: ${h.selectedAddOns.join(", ")}\\n`),h.specialRequests&&(c+=`Special Requests: ${h.specialRequests}\\n`),h.totalCost&&(c+=`Cost: R${h.totalCost}\\n`),c+="\\n"}),c+=`Address: ${n.address}\\n`,c+=`Time: ${n.timePreference}\\n\\n`,c+="For questions, contact: customerservice@berryevents.co.za or +27 61 279 6476";const d=s.length===1?`Berry Events - ${s[0].serviceName}`:`Berry Events - ${s.length} Services`;return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Berry Events//Booking System//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${t}@berryevents.co.za`,`DTSTAMP:${lN(new Date)}`,`DTSTART:${o}`,`DTEND:${l}`,`SUMMARY:${d}`,`DESCRIPTION:${c}`,`LOCATION:${n.address}`,"STATUS:CONFIRMED","SEQUENCE:0","BEGIN:VALARM","TRIGGER:-PT24H","DESCRIPTION:Berry Events Service Reminder","ACTION:DISPLAY","END:VALARM","END:VEVENT","END:VCALENDAR"].join(`\r
`)},lN=e=>{const t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return`${t}${s}${n}T${i}${a}${o}`},Nae=(e,t)=>{try{const s=jae(e,t),n=new Blob([s],{type:"text/calendar;charset=utf-8"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=`Berry-Events-Booking-${t}.ics`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(i.href)}catch(s){throw console.error("Error generating calendar invite:",s),s}};function Sae({isOpen:e,onClose:t,bookingData:s}){var p;j.useState(!1);const{toast:n}=us(),i=j.useMemo(()=>`BE${Date.now().toString().slice(-6)}${Math.random().toString(36).substr(2,3).toUpperCase()}`,[]);if(!s)return null;const a=Array.isArray(s)?s:[s],o=a.length>1,l=a[0],c=b=>new Date(b).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=a.reduce((b,x)=>b+(x.totalCost||0),0),u=a.reduce((b,x)=>{var y;return b+(((y=x.pricing)==null?void 0:y.basePrice)||0)},0),h=a.reduce((b,x)=>{var y;return b+(((y=x.pricing)==null?void 0:y.addOnsPrice)||0)},0),m=a.reduce((b,x)=>{var y,w;return b+(((y=x.pricing)==null?void 0:y.materialsDiscount)||0)+(((w=x.pricing)==null?void 0:w.recurringDiscount)||0)},0),f=()=>{try{bae(s,i),n({title:"Receipt downloaded",description:"Your booking receipt has been downloaded successfully."})}catch(b){console.error("Error generating receipt:",b),n({variant:"destructive",title:"Download failed",description:"Unable to generate receipt. Please try again."})}},g=()=>{try{Nae(s,i),n({title:"Calendar invite downloaded",description:"Add this event to your calendar to never miss your appointment."})}catch(b){console.error("Error generating calendar invite:",b),n({variant:"destructive",title:"Download failed",description:"Unable to generate calendar invite. Please try again."})}};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{className:"text-center pb-6",children:[r.jsx("div",{className:"mx-auto mb-4",children:r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"h-16 w-auto mx-auto mb-3","data-testid":"berry-logo-modal"})}),r.jsx("div",{className:"mx-auto mb-4 h-16 w-16 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(ur,{className:"h-8 w-8 text-green-600"})}),r.jsx(_n,{className:"text-2xl font-bold text-green-600",children:"Booking Confirmed!"}),r.jsx("p",{className:"text-gray-600",children:"Your service has been successfully booked. Here are your booking details:"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(oe,{className:"bg-green-50 border-green-200",children:r.jsx(le,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Booking Reference"}),r.jsx("p",{className:"text-2xl font-bold text-green-800 tracking-wider",children:i}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Save this reference for your records"})]})})}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ws,{className:"h-5 w-5 mr-2 text-primary"}),"Service Details"]}),o&&r.jsxs(Ke,{className:"bg-green-600",children:[a.length," Services"]})]})}),r.jsx(le,{className:"space-y-4",children:o?r.jsxs(r.Fragment,{children:[a.map((b,x)=>r.jsx("div",{className:`${x>0?"pt-4 border-t":""}`,children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Service ",x+1]}),r.jsx("p",{className:"font-semibold",children:b.serviceName}),b.cleaningType&&r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[b.cleaningType.replace("-"," "),b.propertySize&&`  ${b.propertySize.charAt(0).toUpperCase()+b.propertySize.slice(1)} Property`]}),b.electricalIssue&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",b.electricalIssue.replace("-"," ").replace(/\b\w/g,y=>y.toUpperCase())]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Cost"}),r.jsxs("p",{className:"font-semibold text-primary",children:["R",b.totalCost]})]})]})},x)),r.jsx(Pn,{className:"my-4"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),r.jsx("p",{className:"font-semibold",children:c(l.preferredDate)}),r.jsx("p",{className:"text-sm text-gray-600",children:l.timePreference})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),"Service Address"]}),r.jsx("p",{className:"font-semibold",children:l.address})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Service"}),r.jsx("p",{className:"font-semibold",children:l.serviceName}),l.cleaningType&&r.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[l.cleaningType.replace("-"," "),l.propertySize&&`  ${l.propertySize.charAt(0).toUpperCase()+l.propertySize.slice(1)} Property`]}),l.electricalIssue&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",l.electricalIssue.replace("-"," ").replace(/\b\w/g,b=>b.toUpperCase())]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),r.jsx("p",{className:"font-semibold",children:c(l.preferredDate)}),r.jsx("p",{className:"text-sm text-gray-600",children:l.timePreference})]})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),"Service Address"]}),r.jsx("p",{className:"font-semibold",children:l.address})]})]})})]}),l.selectedProvider&&r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(vn,{className:"h-5 w-5 mr-2 text-primary"}),"Your Service Provider"]})}),r.jsx(le,{children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx(vn,{className:"h-8 w-8 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h4",{className:"font-semibold text-lg",children:l.selectedProvider.name}),l.selectedProvider.verified&&r.jsxs(Ke,{variant:"secondary",className:"bg-green-100 text-green-700",children:[r.jsx(ur,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),r.jsx("div",{className:"flex items-center space-x-4 mt-1",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-500 mr-1"}),r.jsx("span",{className:"text-sm font-medium",children:l.selectedProvider.rating}),r.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",l.selectedProvider.reviews," reviews)"]})]})}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:l.selectedProvider.bio}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(p=l.selectedProvider.specializations)==null?void 0:p.map((b,x)=>r.jsx(Ke,{variant:"outline",className:"text-xs",children:b},x))})]})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Cr,{className:"h-5 w-5 mr-2 text-primary"}),"Payment Summary"]})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Base Service",o?"s":""]}),r.jsxs("span",{children:["R",u]})]}),h>0&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Add-ons"}),r.jsxs("span",{children:["R",h]})]}),m>0&&r.jsxs("div",{className:"flex justify-between text-green-600",children:[r.jsx("span",{children:"Total Discounts"}),r.jsxs("span",{children:["-R",m]})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total Paid"}),r.jsxs("span",{className:"text-primary",children:["R",d]})]}),o&&r.jsxs("p",{className:"text-xs text-gray-500 italic text-center",children:["Combined total for ",a.length," services"]}),r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:r.jsxs("p",{className:"text-sm text-blue-700 text-center",children:[r.jsx("strong",{children:"Secured by Berry Events Bank"}),r.jsx("br",{}),"Your payment is protected until service completion"]})})]})]}),r.jsxs(oe,{className:"bg-gray-50",children:[r.jsx(Ve,{children:r.jsx($e,{children:"What happens next?"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"h-6 w-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"1"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Confirmation Email"}),r.jsx("p",{className:"text-sm text-gray-600",children:"You'll receive a detailed confirmation email within 5 minutes"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"h-6 w-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"2"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Provider Contact"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your provider will contact you 24 hours before the service"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"h-6 w-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"3"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Service Completion"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Rate your experience after the service is completed"})]})]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(K,{variant:"outline",className:"flex-1",onClick:f,"data-testid":"button-download-receipt",children:[r.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Download Receipt"]}),r.jsxs(K,{variant:"outline",className:"flex-1",onClick:g,"data-testid":"button-download-calendar",children:[r.jsx(KK,{className:"h-4 w-4 mr-2"}),"Add to Calendar"]}),r.jsxs(K,{variant:"outline",className:"flex-1",onClick:()=>{navigator.share&&navigator.share({title:"Berry Events Booking Confirmation",text:`Booking confirmed: ${o?a.length+" services":l.serviceName} on ${l.preferredDate}`,url:window.location.href})},children:[r.jsx(l2,{className:"h-4 w-4 mr-2"}),"Share"]})]}),r.jsxs(K,{className:"w-full bg-primary",onClick:t,"data-testid":"button-close-confirmation",children:[r.jsx(TC,{className:"h-4 w-4 mr-2"}),"Got it, Thanks!"]})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500 pt-4 border-t mt-6",children:[r.jsx("p",{className:"mb-2 font-medium text-gray-700",children:"Berry Events Customer Service"}),r.jsxs("p",{children:["Need help? Contact us at ",r.jsx("strong",{children:"customerservice@berryevents.co.za"})," or ",r.jsx("strong",{children:"+27 61 279 6476"})]})]})]})})}function tB(){const[e,t]=j.useState(!1),[s,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(!1),{toast:c}=us(),[d,u]=j.useState({name:"",surname:"",email:"",contactNumber:"",description:""}),[h,m]=j.useState({}),[f,g]=j.useState({}),p=(L,R)=>{switch(L){case"name":if(!R.trim())return"Name is required";break;case"surname":if(!R.trim())return"Surname is required";break;case"email":if(!R.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R))return"Valid email address is required";break;case"contactNumber":if(!R.trim())return"Contact number is required";if(R.replace(/[\s\-\(\)\+]/g,"").length<10)return"Valid contact number is required (min 10 digits)";if(!/^[\d\s\-\(\)\+]+$/.test(R))return"Contact number can only contain digits, spaces, +, -, ( )";break;case"description":if(!R.trim())return"Description is required";if(R.trim().length<10)return"Description must be at least 10 characters";if(R.length>500)return"Description must not exceed 500 characters";break}},b=(L,R)=>{if(u(M=>({...M,[L]:R})),f[L]){const M=p(L,R);m(D=>({...D,[L]:M}))}},x=L=>{g(M=>({...M,[L]:!0}));const R=p(L,d[L]);m(M=>({...M,[L]:R}))},y=()=>{const L={};let R=!0;return Object.keys(d).forEach(M=>{const D=p(M,d[M]);D&&(L[M]=D,R=!1)}),m(L),g({name:!0,surname:!0,email:!0,contactNumber:!0,description:!0}),R},w=async L=>{if(L.preventDefault(),!y()){c({title:"Validation Error",description:"Please fill in all required fields correctly.",variant:"destructive"});return}l(!0);try{const R={to:"support@berryevents.co.za",subject:`New Custom Solution Request from ${d.name} ${d.surname}`,body:`
Custom Solution Request

Name: ${d.name} ${d.surname}
Email: ${d.email}
Contact Number: ${d.contactNumber}

Description:
${d.description}

---
Submitted from Berry Events Website
Date: ${new Date().toLocaleString()}
        `.trim()};console.log(" Email Data (to be sent):",R),await new Promise(M=>setTimeout(M,1500)),t(!1),n(!0),u({name:"",surname:"",email:"",contactNumber:"",description:""}),m({}),g({}),setTimeout(()=>{n(!1)},3e3)}catch(R){console.error("Error submitting form:",R),t(!1),a(!0)}finally{l(!1)}},S=()=>d.name.trim()&&d.surname.trim()&&d.email.trim()&&d.contactNumber.trim()&&d.description.trim().length>=10&&d.description.trim().length<=500&&!h.name&&!h.surname&&!h.email&&!h.contactNumber&&!h.description,C=d.description.length;return r.jsxs(r.Fragment,{children:[r.jsx(K,{onClick:()=>t(!0),variant:"secondary",size:"lg",className:"font-semibold px-8 py-3 text-white",style:{backgroundColor:"#C56B86"},"data-testid":"contact-custom-services",children:"Contact Us for Custom Solutions"}),r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-lg",style:{backgroundColor:"#F7F2EF"},children:[r.jsxs("button",{onClick:()=>t(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",style:{color:"#3C0920"},"data-testid":"button-close-modal",children:[r.jsx(to,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]}),r.jsxs(Bn,{children:[r.jsx(_n,{className:"text-2xl font-bold",style:{color:"#44062D"},children:"Request Custom Solution"}),r.jsx(_o,{style:{color:"#3C0920"},children:"Tell us what you need and our team will be in touch"})]}),r.jsxs("form",{onSubmit:w,className:"space-y-4 mt-4",children:[r.jsxs("div",{children:[r.jsxs(pe,{htmlFor:"name",style:{color:"#3C0920"},children:["Name ",r.jsx("span",{style:{color:"#C56B86"},children:"*"})]}),r.jsx(He,{id:"name",type:"text",placeholder:"Enter your name",value:d.name,onChange:L=>b("name",L.target.value),onBlur:()=>x("name"),maxLength:100,className:"mt-1",style:{borderColor:f.name&&h.name?"#C56B86":"#EED1C4"},"data-testid":"input-name"}),f.name&&h.name&&r.jsx("p",{className:"text-sm mt-1",style:{color:"#C56B86"},"data-testid":"error-name",children:h.name})]}),r.jsxs("div",{children:[r.jsxs(pe,{htmlFor:"surname",style:{color:"#3C0920"},children:["Surname ",r.jsx("span",{style:{color:"#C56B86"},children:"*"})]}),r.jsx(He,{id:"surname",type:"text",placeholder:"Enter your surname",value:d.surname,onChange:L=>b("surname",L.target.value),onBlur:()=>x("surname"),maxLength:100,className:"mt-1",style:{borderColor:f.surname&&h.surname?"#C56B86":"#EED1C4"},"data-testid":"input-surname"}),f.surname&&h.surname&&r.jsx("p",{className:"text-sm mt-1",style:{color:"#C56B86"},"data-testid":"error-surname",children:h.surname})]}),r.jsxs("div",{children:[r.jsxs(pe,{htmlFor:"email",style:{color:"#3C0920"},children:["Email Address ",r.jsx("span",{style:{color:"#C56B86"},children:"*"})]}),r.jsx(He,{id:"email",type:"email",placeholder:"your.email@example.com",value:d.email,onChange:L=>b("email",L.target.value),onBlur:()=>x("email"),maxLength:150,className:"mt-1",style:{borderColor:f.email&&h.email?"#C56B86":"#EED1C4"},"data-testid":"input-email"}),f.email&&h.email&&r.jsx("p",{className:"text-sm mt-1",style:{color:"#C56B86"},"data-testid":"error-email",children:h.email})]}),r.jsxs("div",{children:[r.jsxs(pe,{htmlFor:"contactNumber",style:{color:"#3C0920"},children:["Contact Number ",r.jsx("span",{style:{color:"#C56B86"},children:"*"})]}),r.jsx(He,{id:"contactNumber",type:"tel",placeholder:"e.g. 0812345678",value:d.contactNumber,onChange:L=>b("contactNumber",L.target.value),onBlur:()=>x("contactNumber"),maxLength:15,className:"mt-1",style:{borderColor:f.contactNumber&&h.contactNumber?"#C56B86":"#EED1C4"},"data-testid":"input-contact-number"}),f.contactNumber&&h.contactNumber&&r.jsx("p",{className:"text-sm mt-1",style:{color:"#C56B86"},"data-testid":"error-contact-number",children:h.contactNumber})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsxs(pe,{htmlFor:"description",style:{color:"#3C0920"},children:["Description ",r.jsx("span",{style:{color:"#C56B86"},children:"*"})]}),r.jsxs("span",{className:"text-sm",style:{color:"#3C0920"},"data-testid":"character-counter",children:[C,"/500 characters"]})]}),r.jsx(Ca,{id:"description",placeholder:"Please describe what you're looking for...",value:d.description,onChange:L=>b("description",L.target.value),onBlur:()=>x("description"),maxLength:500,rows:4,className:"mt-1 resize-none",style:{borderColor:f.description&&h.description?"#C56B86":"#EED1C4"},"data-testid":"input-description"}),f.description&&h.description&&r.jsx("p",{className:"text-sm mt-1",style:{color:"#C56B86"},"data-testid":"error-description",children:h.description})]}),r.jsx(K,{type:"submit",disabled:!S()||o,className:"w-full font-semibold text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-submit-form",children:o?r.jsxs(r.Fragment,{children:[r.jsx(AC,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send to Berry Team"})]})]})}),r.jsx(er,{open:s,onOpenChange:n,children:r.jsx(Fn,{className:"sm:max-w-md text-center",style:{backgroundColor:"#F7F2EF"},children:r.jsxs("div",{className:"flex flex-col items-center space-y-4 py-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#C56B86"},children:r.jsx($t,{className:"h-10 w-10 text-white"})}),r.jsx(_n,{className:"text-2xl font-bold",style:{color:"#44062D"},children:"Thank You!"}),r.jsx(_o,{className:"text-base",style:{color:"#3C0920"},children:"Your custom solution request has been received. Our Berry team will be in touch shortly."}),r.jsx(K,{onClick:()=>n(!1),className:"font-semibold text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-close-success",children:"OK"})]})})}),r.jsx(er,{open:i,onOpenChange:a,children:r.jsxs(Fn,{className:"sm:max-w-md text-center",style:{backgroundColor:"#F7F2EF"},children:[r.jsxs(Bn,{children:[r.jsx(_n,{className:"text-2xl font-bold",style:{color:"#44062D"},children:"Oops!"}),r.jsxs(_o,{className:"text-base",style:{color:"#3C0920"},children:["Something went wrong. Please try again or contact us directly at"," ",r.jsx("a",{href:"mailto:support@berryevents.co.za",style:{color:"#C56B86"},children:"support@berryevents.co.za"})]})]}),r.jsxs("div",{className:"flex gap-3 mt-4",children:[r.jsx(K,{onClick:()=>{a(!1),t(!0)},className:"flex-1 font-semibold text-white",style:{backgroundColor:"#C56B86"},"data-testid":"button-try-again",children:"Try Again"}),r.jsx(K,{onClick:()=>a(!1),variant:"outline",className:"flex-1",style:{borderColor:"#C56B86",color:"#44062D"},"data-testid":"button-close-error",children:"Close"})]})]})})]})}const Cae=[{serviceId:"house-cleaning",serviceName:"House Cleaning",addons:[{id:"deep_cleaning",label:"Deep cleaning (ovens, fridges, cupboards)",priceZAR:650,keywords:["deep clean","oven","fridge","cupboard","kitchen deep","deep","cupboards","ovens","fridges"]},{id:"window_cleaning",label:"Window cleaning",priceZAR:350,keywords:["window","windows","glass"]},{id:"carpet_upholstery",label:"Carpet and upholstery cleaning",priceZAR:750,keywords:["carpet","upholstery","rug","furniture","sofa","couch"]},{id:"laundry_service",label:"Laundry service (wash, dry, fold, iron)",priceZAR:300,keywords:["laundry","wash","dry","fold","iron","clothes","washing"]},{id:"organizing_declutter",label:"Organizing and decluttering",priceZAR:450,keywords:["organize","organiz","declutter","tidy","arrange","organizing"]},{id:"post_construction",label:"Post-construction cleaning",priceZAR:1200,keywords:["post construction","construction","renovation","building","debris","dust"]},{id:"pet_hair_removal",label:"Pet hair removal treatment",priceZAR:250,keywords:["pet hair","pet","dog","cat","animal","fur"]},{id:"disinfection_sanitize",label:"Disinfection and sanitizing",priceZAR:400,keywords:["disinfect","sanitize","sterilize","germ","bacteria","sanitizing","sanitise"]}]},{serviceId:"plumbing",serviceName:"Plumbing Services",addons:[{id:"drain_camera",label:"Drain camera inspection",priceZAR:750,keywords:["camera","inspection","drain camera","camera inspection","inspect"]},{id:"pressure_testing",label:"Water pressure testing",priceZAR:300,keywords:["pressure","low pressure","water pressure","pressure test"]},{id:"leak_detection",label:"Leak detection service",priceZAR:600,keywords:["leak","leaking","drip","water leak","pipe leak"]},{id:"geyser_maintenance",label:"Geyser maintenance/flush",priceZAR:650,keywords:["geyser","water heater","hot water","flush","maintenance"]},{id:"pipe_insulation",label:"Pipe insulation",priceZAR:350,keywords:["insulation","insulate","pipe insulation","winter","freeze"]},{id:"water_filtration",label:"Water filtration system installation",priceZAR:1200,keywords:["filtration","filter","water filter","purification","clean water"]},{id:"greywater_system",label:"Greywater system setup",priceZAR:1500,keywords:["greywater","grey water","recycling","water recycling"]},{id:"coc_plumbing",label:"Certificate of Compliance",priceZAR:850,keywords:["coc","certificate","compliance","certification"]}]},{serviceId:"electrical",serviceName:"Electrical Services",addons:[{id:"coc_electrical",label:"Certificate of Compliance (COC)",priceZAR:900,keywords:["coc","certificate","compliance","certification","electrical certificate"]},{id:"electrical_inspection",label:"Electrical inspection and testing",priceZAR:700,keywords:["inspection","test","testing","check","safety check"]},{id:"surge_protection",label:"Surge protection installation",priceZAR:650,keywords:["surge","protection","surge protector","lightning"]},{id:"generator_install",label:"Generator installation/connection",priceZAR:1500,keywords:["generator","backup power","power backup","loadshedding"]},{id:"solar_panel",label:"Solar panel installation",priceZAR:2800,keywords:["solar","solar panel","renewable","green energy","photovoltaic"]},{id:"prepaid_meter",label:"Prepaid meter installation",priceZAR:1200,keywords:["prepaid","meter","prepaid meter","electricity meter"]},{id:"db_board_upgrade",label:"DB board upgrade",priceZAR:2e3,keywords:["db board","distribution board","circuit breaker","upgrade"]},{id:"energy_audit",label:"Energy audit",priceZAR:900,keywords:["energy audit","audit","energy","efficiency","consumption"]}]},{serviceId:"garden-care",serviceName:"Garden Care",addons:[{id:"tree_felling",label:"Tree felling/pruning",priceZAR:1200,keywords:["tree","felling","prune","pruning","tree removal","cut tree"]},{id:"hedge_trimming",label:"Hedge trimming",priceZAR:400,keywords:["hedge","trim","trimming","hedges","shrub"]},{id:"lawn_fertilization",label:"Lawn fertilization and treatment",priceZAR:450,keywords:["fertilize","fertilization","lawn treatment","feed","nutrients"]},{id:"waste_removal",label:"Garden waste removal",priceZAR:350,keywords:["waste","removal","garden waste","rubbish","debris","cleanup"]},{id:"irrigation_system",label:"Irrigation system installation/repair",priceZAR:1200,keywords:["irrigation","sprinkler","watering","water system"]},{id:"flower_planting",label:"Seasonal flower planting",priceZAR:350,keywords:["flowers","planting","plants","seasonal","bedding"]},{id:"mulching",label:"Mulching",priceZAR:300,keywords:["mulch","mulching","bark","compost"]},{id:"pest_disease_control",label:"Pest and disease control",priceZAR:500,keywords:["pest","disease","insects","bug","treatment","control"]}]},{serviceId:"chef-catering",serviceName:"Chef & Catering",addons:[{id:"dietary_accommodations",label:"Special dietary accommodations (vegan, halaal, kosher, gluten-free)",priceZAR:300,keywords:["vegan","halaal","halal","kosher","gluten","gluten-free","dietary","allergy","vegetarian"]},{id:"tableware_rental",label:"Tableware and cutlery rental",priceZAR:600,keywords:["tableware","cutlery","plates","dishes","rental","crockery"]},{id:"beverage_service",label:"Beverage service",priceZAR:500,keywords:["beverage","drinks","bar","soft drinks","juice"]},{id:"dessert_cake",label:"Dessert/cake service",priceZAR:450,keywords:["dessert","cake","sweet","pastry","pudding"]},{id:"menu_tasting",label:"Menu tasting session",priceZAR:700,keywords:["tasting","sample","preview","trial"]},{id:"leftovers_packaging",label:"Leftovers packaging",priceZAR:200,keywords:["leftovers","packaging","takeaway","doggy bag"]},{id:"kitchen_cleanup",label:"Kitchen cleanup",priceZAR:350,keywords:["cleanup","clean up","kitchen","washing","dishes"]}]},{serviceId:"waitering",serviceName:"Waitering Services",addons:[{id:"bartender_service",label:"Bartender service",priceZAR:600,keywords:["bartender","bar","drinks","cocktails","mixologist"]},{id:"glassware_rental",label:"Glassware and tableware rental",priceZAR:450,keywords:["glassware","glasses","tableware","rental","champagne flutes"]},{id:"table_setting",label:"Table setting and decoration",priceZAR:400,keywords:["table setting","decoration","decor","centerpiece","setup"]},{id:"wine_specialist",label:"Champagne/wine service specialist",priceZAR:350,keywords:["champagne","wine","specialist","sommelier","wine service"]},{id:"post_event_cleanup",label:"Post-event cleanup",priceZAR:450,keywords:["post-event","cleanup","clean up","after party","cleaning"]}]},{serviceId:"home-moving",serviceName:"Home Moving",addons:[{id:"packing_service",label:"Packing service (full/partial)",priceZAR:1e3,keywords:["packing","pack","boxes","wrapping"]},{id:"unpacking_service",label:"Unpacking service",priceZAR:800,keywords:["unpacking","unpack","setup","arrange"]},{id:"packing_materials",label:"Packing materials supply",priceZAR:450,keywords:["materials","boxes","bubble wrap","tape","supplies"]},{id:"furniture_assembly",label:"Furniture disassembly/reassembly",priceZAR:900,keywords:["disassembly","reassembly","assembly","furniture","assemble","disassemble"]},{id:"appliance_connection",label:"Appliance disconnection/reconnection",priceZAR:600,keywords:["appliance","disconnect","reconnect","washing machine","fridge"]},{id:"heavy_items",label:"Heavy item specialists (pianos, safes)",priceZAR:1800,keywords:["piano","safe","heavy","specialist","large items"]},{id:"storage_solutions",label:"Storage solutions",priceZAR:700,keywords:["storage","warehouse","temporary storage"]},{id:"insurance_upgrade",label:"Insurance coverage upgrade",priceZAR:400,keywords:["insurance","coverage","protection","insure"]},{id:"furniture_hoisting",label:"Furniture hoisting/crane service",priceZAR:2200,keywords:["hoisting","crane","lift","balcony","window"]}]},{serviceId:"au-pair",serviceName:"Au Pair Services",addons:[{id:"overnight_care",label:"Overnight care",priceZAR:800,keywords:["overnight","night","sleep over","24 hour","full day"]},{id:"school_transport",label:"School drop-off and pick-up",priceZAR:300,keywords:["school run","school","drop-off","pick-up","transport"]},{id:"homework_help",label:"Homework assistance/tutoring",priceZAR:350,keywords:["homework","tutor","tutoring","help","education","learning"]},{id:"meal_prep_kids",label:"Meal preparation for children",priceZAR:250,keywords:["meal","food","cooking","prepare","lunch"]},{id:"light_housekeeping",label:"Light housekeeping",priceZAR:250,keywords:["housekeeping","cleaning","light housekeeping","tidy"]},{id:"newborn_specialist",label:"Newborn care specialist",priceZAR:900,keywords:["newborn","baby","infant","specialist"]},{id:"special_needs",label:"Special needs care",priceZAR:900,keywords:["special needs","disability","therapy","special care"]},{id:"additional_children",label:"Additional children surcharge",priceZAR:200,keywords:["additional","extra","more children","siblings"]},{id:"swimming_supervision",label:"Swimming supervision (certified)",priceZAR:300,keywords:["swimming","pool","water","lifeguard"]},{id:"first_aid_certified",label:"First aid certified",priceZAR:250,keywords:["first aid","medical","certified","emergency"]}]}];function kae(e){const t={};return e.forEach(s=>{t[s.serviceId]=s.addons.map(n=>({id:n.id,name:n.label,price:n.priceZAR,estimatedHours:Math.max(.5,Math.round(n.priceZAR/250*2)/2),keywords:n.keywords}))}),t["house-cleaning"]&&(t.cleaning=t["house-cleaning"]),t["garden-care"]&&(t["garden-maintenance"]=t["garden-care"]),t.waitering&&(t["event-staff"]=t.waitering),t}const LS=kae(Cae);function _ae(e,t){const s=LS[e]||[],n=t.toLowerCase();return s.filter(i=>i.keywords.some(a=>n.includes(a)))}const Pae={"house-cleaning":{baseHours:6,propertyMultiplier:{"1-2-bedrooms":1,"3-4-bedrooms":1.5,"5+-bedrooms":2},description:"Standard home cleaning"},plumbing:{baseHours:4,description:"Standard plumbing service call"},electrical:{baseHours:1.5,description:"Electrical repair/installation"},"garden-maintenance":{baseHours:2,propertyMultiplier:{small:1,medium:1.5,large:2.5},description:"Garden maintenance and care"},"chef-catering":{baseHours:4,description:"Chef services including prep and cooking"},"event-staff":{baseHours:6,description:"Event staffing services"},handyman:{baseHours:2,description:"General handyman services"},"beauty-wellness":{baseHours:1.5,description:"Beauty and wellness treatment"}};function Aae(e,t,s){const n=Pae[e];if(!n)return 2;let i=n.baseHours;if(t&&n.propertyMultiplier){const o=n.propertyMultiplier[t]||1;i*=o}return e==="house-cleaning"||e==="cleaning"?(i=Math.max(i,6),s&&s.length>0&&(i+=s.length*.5)):s&&s.length>0,Math.round(i*10)/10}function du({isOpen:e,onClose:t,serviceId:s,onServiceSelect:n,onBookingComplete:i,editBookingData:a,bookedServices:o=[],pendingDrafts:l=[],onAddAnotherService:c,preSelectedProviderId:d,preSelectedProviderName:u}){const{toast:h}=us(),{addToCart:m,itemCount:f}=up(),[,g]=nr(),[p,b]=j.useState(1),[x,y]=j.useState(!1),[w,S]=j.useState(null),[C,L]=j.useState(""),[R,M]=j.useState(0),[D,$]=j.useState([]),[E,T]=j.useState(null),q=pse(C,400),[B,te]=j.useState({cardNumber:!1,expiryDate:!1,cvv:!1,cardholderName:!1,selectedBank:!1,bankAccount:!1,bankBranch:!1}),[ie,G]=j.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}),[P,U]=j.useState({propertyType:(a==null?void 0:a.propertyType)||"",address:(a==null?void 0:a.address)||"",gateCode:(a==null?void 0:a.gateCode)||"",preferredDate:(a==null?void 0:a.preferredDate)||"",timePreference:(a==null?void 0:a.timePreference)||"",recurringSchedule:(a==null?void 0:a.recurringSchedule)||"one-time",materials:(a==null?void 0:a.materials)||"supply",insurance:(a==null?void 0:a.insurance)||!1,cleaningType:(a==null?void 0:a.cleaningType)||"",propertySize:(a==null?void 0:a.propertySize)||"",gardenSize:(a==null?void 0:a.gardenSize)||"",gardenCondition:(a==null?void 0:a.gardenCondition)||"",urgency:(a==null?void 0:a.urgency)||"standard",plumbingIssue:(a==null?void 0:a.plumbingIssue)||"",electricalIssue:(a==null?void 0:a.electricalIssue)||"",cuisineType:(a==null?void 0:a.cuisineType)||"",menuSelection:(a==null?void 0:a.menuSelection)||"popular",selectedMenu:(a==null?void 0:a.selectedMenu)||"",customMenuItems:(a==null?void 0:a.customMenuItems)||[],dietaryRequirements:(a==null?void 0:a.dietaryRequirements)||[],eventSize:(a==null?void 0:a.eventSize)||"",selectedAddOns:(a==null?void 0:a.selectedAddOns)||[],selectedProvider:(a==null?void 0:a.selectedProvider)||(d?{id:d,name:u||"Berry Star Provider",rating:4.9,totalReviews:150,reviews:150,hourlyRate:350,distance:"2.5 km",specializations:["Berry Star","Top Rated"],verified:!0,verifiedBadges:["Berry Star","Verified","Top Rated"],responseTime:"< 1 hour"}:null),specialRequests:(a==null?void 0:a.specialRequests)||"",tipAmount:(a==null?void 0:a.tipAmount)||0,paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}),xe=j.useMemo(()=>!!d&&!!P.selectedProvider,[d,P.selectedProvider]);j.useMemo(()=>{const we=P.cardNumber.replace(/\s/g,"");return/^4/.test(we)?"Visa":/^5[1-5]/.test(we)||/^2[2-7]/.test(we)?"Mastercard":/^3[47]/.test(we)?"American Express":/^6(?:011|5)/.test(we)?"Discover":""},[P.cardNumber]);const[X,O]=j.useState({basePrice:0,addOnsPrice:0,materialsDiscount:0,recurringDiscount:0,timeDiscount:0,totalPrice:0}),[W]=j.useState([{id:1,name:"Thabo Mthembu",rating:4.9,reviews:156,distance:3.2,specializations:["Deep Cleaning","Move In/Out"],verified:!0,responseTime:"< 2 hours",bio:"Professional service provider with 7+ years experience in home services. Known for reliability, attention to detail, and customer satisfaction.",profileImage:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",jobsCompleted:156,qualifications:["Certified Professional","Health & Safety Trained","Background Checked"],experience:7,availability:"Mon-Sat"},{id:2,name:"Nomsa Dlamini",rating:4.8,reviews:203,distance:5.7,specializations:["Garden Design","Lawn Care"],verified:!0,responseTime:"< 1 hour",bio:"Experienced home service professional with expertise across multiple service areas. Known for attention to detail and reliability. Fully insured and background-checked.",profileImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face",jobsCompleted:203,qualifications:["Certified Professional","First Aid Trained","Insured"],experience:10,availability:"Mon-Fri"},{id:3,name:"Sipho Ndlovu",rating:4.7,reviews:98,distance:8.1,specializations:["Emergency Services","Quick Response"],verified:!0,responseTime:"< 30 min",bio:"Multi-skilled home services provider with fast response time and excellent problem-solving skills. Committed to quality service delivery.",profileImage:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",jobsCompleted:98,qualifications:["Multi-Service Certified","Emergency Response","Licensed Professional"],experience:5,availability:"7 days/week"}]),Z={cleaning:{title:"House Cleaning Service",icon:Ld,basePrice:280,steps:4,propertyTypes:[{value:"apartment",label:"Apartment",multiplier:1},{value:"house",label:"House",multiplier:1.2},{value:"townhouse",label:"Townhouse",multiplier:1.1},{value:"villa",label:"Villa",multiplier:1.5}],cleaningTypes:[{value:"basic",label:"Basic Clean",price:280},{value:"deep-clean",label:"Deep Clean",price:450},{value:"move-clean",label:"Move In/Out",price:680}],propertySizes:[{value:"small",label:"Small (1-2 bedrooms)",multiplier:1},{value:"medium",label:"Medium (3-4 bedrooms)",multiplier:1.3},{value:"large",label:"Large (5+ bedrooms)",multiplier:1.6}],addOns:[{id:"inside-oven",name:"Inside Oven Cleaning",price:150},{id:"inside-fridge",name:"Inside Fridge Cleaning",price:100},{id:"windows",name:"Window Cleaning",price:80},{id:"carpet-clean",name:"Carpet Deep Clean",price:200}]},"garden-care":{title:"Garden Care Service",icon:U1,basePrice:320,steps:4,propertyTypes:[{value:"apartment",label:"Apartment Balcony",multiplier:.7},{value:"house",label:"House Garden",multiplier:1},{value:"townhouse",label:"Townhouse Garden",multiplier:.9},{value:"villa",label:"Villa Estate",multiplier:1.4}],gardenSizes:[{value:"small",label:"Small (0-100m)",multiplier:1},{value:"medium",label:"Medium (100-300m)",multiplier:1.3},{value:"large",label:"Large (300-500m)",multiplier:1.6},{value:"estate",label:"Estate (500m+)",multiplier:2}],gardenConditions:[{value:"well-maintained",label:"Well Maintained",multiplier:1},{value:"needs-attention",label:"Needs Attention",multiplier:1.2},{value:"overgrown",label:"Overgrown",multiplier:1.5},{value:"neglected",label:"Severely Neglected",multiplier:1.8}],addOns:[{id:"lawn-care",name:"Lawn Mowing & Edging",price:150},{id:"pruning",name:"Tree & Shrub Pruning",price:200},{id:"weeding",name:"Weeding & Cleanup",price:120},{id:"seasonal-prep",name:"Seasonal Preparation",price:100}]},plumbing:{title:"Plumbing Service",icon:bO,basePrice:380,steps:4,propertyTypes:[{value:"apartment",label:"Apartment",multiplier:1},{value:"house",label:"House",multiplier:1.1},{value:"townhouse",label:"Townhouse",multiplier:1.05},{value:"villa",label:"Villa",multiplier:1.3}],plumbingIssues:[{value:"leaking-pipe",label:"Leaking Pipe",price:450,description:"Fix water leaks in pipes, joints, or connections"},{value:"blocked-drain",label:"Blocked Drain/Toilet",price:380,description:"Clear blockages in drains, sinks, or toilets"},{value:"geyser-repair",label:"Geyser/Water Heater Repair",price:650,description:"Repair or replace water heater/geyser"},{value:"tap-faucet",label:"Tap/Faucet Repair",price:280,description:"Fix dripping or broken taps and faucets"},{value:"burst-pipe",label:"Burst Pipe (Emergency)",price:850,description:"Emergency repair for burst water pipes"},{value:"toilet-installation",label:"Toilet Installation/Repair",price:420,description:"Install new toilet or fix existing issues"},{value:"shower-repair",label:"Shower Repair",price:380,description:"Fix shower heads, mixers, or drainage"},{value:"sink-installation",label:"Sink Installation",price:520,description:"Install new kitchen or bathroom sink"},{value:"water-pressure",label:"Low Water Pressure",price:350,description:"Diagnose and fix water pressure issues"},{value:"sewer-line",label:"Sewer Line Issues",price:750,description:"Repair or unblock main sewer lines"},{value:"other",label:"Other Plumbing Issue",price:450,description:"Custom plumbing problem not listed above"}],addOns:[{id:"pipe-repair",name:"Additional Pipe Repair",price:200},{id:"faucet-install",name:"Extra Faucet Installation",price:150},{id:"toilet-repair",name:"Additional Toilet Repair",price:180},{id:"water-heater",name:"Water Heater Service",price:400}]},electrical:{title:"Electrical Service",icon:so,basePrice:450,steps:4,propertyTypes:[{value:"apartment",label:"Apartment",multiplier:1},{value:"house",label:"House",multiplier:1.2},{value:"townhouse",label:"Townhouse",multiplier:1.1},{value:"villa",label:"Villa",multiplier:1.4}],electricalIssues:[{value:"power-outage",label:"Power Outage/No Electricity",price:450,description:"Complete loss of power or electrical supply issues"},{value:"flickering-lights",label:"Flickering or Dim Lights",price:320,description:"Light fixtures flickering, dimming, or not working properly"},{value:"outlet-not-working",label:"Outlets Not Working",price:280,description:"Power outlets not functioning or sparking"},{value:"circuit-breaker",label:"Circuit Breaker Issues",price:380,description:"Breakers tripping frequently or not resetting"},{value:"wiring-problems",label:"Faulty Wiring",price:650,description:"Old, damaged, or unsafe electrical wiring"},{value:"electrical-panel",label:"Electrical Panel Problems",price:800,description:"Main electrical panel issues or upgrades needed"},{value:"appliance-installation",label:"Appliance Installation",price:350,description:"Installing new electrical appliances or fixtures"},{value:"ceiling-fan",label:"Ceiling Fan Issues",price:420,description:"Ceiling fan installation, repair, or replacement"},{value:"light-fixture",label:"Light Fixture Problems",price:300,description:"Installing or repairing light fixtures"},{value:"electrical-safety",label:"Electrical Safety Check",price:250,description:"Complete electrical system inspection and safety assessment"},{value:"generator-issues",label:"Generator Problems",price:550,description:"Generator installation, repair, or maintenance"},{value:"other",label:"Other Electrical Issue",price:450,description:"Custom electrical problem not listed above"}],urgencyLevels:[{value:"emergency",label:"Emergency (24/7)",multiplier:2.5},{value:"urgent",label:"Urgent (Same Day)",multiplier:1.8},{value:"standard",label:"Standard (Next Day)",multiplier:1},{value:"scheduled",label:"Scheduled (Flexible)",multiplier:.9}],addOns:[{id:"outlet-install",name:"Additional Outlet Installation",price:180},{id:"light-fixture",name:"Extra Light Fixture",price:220},{id:"ceiling-fan",name:"Additional Ceiling Fan",price:350},{id:"electrical-panel",name:"Panel Upgrade",price:800},{id:"surge-protection",name:"Surge Protection Installation",price:400},{id:"gfci-outlets",name:"GFCI Outlet Installation",price:150},{id:"electrical-inspection",name:"Full Electrical Inspection",price:300}]},"garden-maintenance":{title:"Garden Maintenance Service",icon:c2,basePrice:320,steps:4,propertyTypes:[{value:"apartment",label:"Apartment Balcony",multiplier:.7},{value:"house",label:"House Garden",multiplier:1},{value:"townhouse",label:"Townhouse Garden",multiplier:.9},{value:"villa",label:"Villa Estate",multiplier:1.4}],gardenSizes:[{value:"small",label:"Small (0-100m)",multiplier:1},{value:"medium",label:"Medium (100-300m)",multiplier:1.3},{value:"large",label:"Large (300-500m)",multiplier:1.6},{value:"estate",label:"Estate (500m+)",multiplier:2}],gardenConditions:[{value:"well-maintained",label:"Well Maintained",multiplier:1},{value:"needs-attention",label:"Needs Attention",multiplier:1.2},{value:"overgrown",label:"Overgrown",multiplier:1.5},{value:"neglected",label:"Severely Neglected",multiplier:1.8}],addOns:[{id:"lawn-care",name:"Lawn Mowing & Edging",price:150},{id:"pruning",name:"Tree & Shrub Pruning",price:200},{id:"weeding",name:"Weeding & Cleanup",price:120},{id:"seasonal-prep",name:"Seasonal Preparation",price:100}]},"chef-catering":{title:"Chef & Catering Service",icon:Tr,basePrice:850,steps:4,propertyTypes:[{value:"apartment",label:"Apartment/Small Kitchen",multiplier:1},{value:"house",label:"House Kitchen",multiplier:1.1},{value:"townhouse",label:"Townhouse Kitchen",multiplier:1.05},{value:"villa",label:"Villa/Large Kitchen",multiplier:1.3}],cuisineTypes:[{value:"south-african",label:" South African Traditional",multiplier:1,popularMenus:[{name:"Traditional Braai",items:["Boerewors","Lamb Chops","Chicken","Pap & Morogo","Chakalaka","Potato Salad"],price:850},{name:"Heritage Feast",items:["Bobotie","Yellow Rice","Green Beans","Sambals","Milk Tart"],price:920},{name:"Potjiekos Experience",items:["Traditional Potjie","Steamed Bread","Roasted Vegetables","Koeksisters"],price:780}],customItems:["Boerewors","Sosaties","Bobotie","Potjiekos","Biltong","Drowors","Koeksisters","Milk Tart","Malva Pudding","Pap & Morogo","Chakalaka","Roosterkoek"]},{value:"west-african",label:" West African",multiplier:1.1,popularMenus:[{name:"Nigerian Feast",items:["Jollof Rice","Suya","Plantain","Pepper Soup","Chin Chin"],price:950},{name:"Ghanaian Special",items:["Banku","Tilapia","Kelewele","Groundnut Soup","Fufu"],price:920},{name:"Senegalese Delight",items:["Thieboudienne","Yassa Chicken","Bissap Drink","Pastels"],price:890}],customItems:["Jollof Rice","Fufu","Banku","Suya","Kelewele","Plantain","Yassa","Thieboudienne","Bissap","Chin Chin","Pepper Soup","Palm Nut Soup"]},{value:"east-african",label:" East African",multiplier:1.1,popularMenus:[{name:"Ethiopian Experience",items:["Injera","Doro Wat","Kitfo","Vegetarian Combo","Ethiopian Coffee"],price:940},{name:"Kenyan Safari",items:["Nyama Choma","Ugali","Sukuma Wiki","Pilau Rice","Mandazi"],price:880},{name:"Tanzanian Taste",items:["Pilau","Mishkaki","Chapati","Coconut Rice","Urojo Soup"],price:910}],customItems:["Injera","Doro Wat","Kitfo","Ugali","Nyama Choma","Sukuma Wiki","Pilau","Mishkaki","Chapati","Mandazi","Coconut Rice","Ethiopian Coffee"]},{value:"north-african",label:" North African",multiplier:1.2,popularMenus:[{name:"Moroccan Royal",items:["Tagine","Couscous","Pastilla","Harira Soup","Mint Tea","Baklava"],price:1050},{name:"Egyptian Pharaoh",items:["Koshari","Molokhia","Fattah","Basbousa","Hibiscus Juice"],price:980},{name:"Tunisian Treasure",items:["Couscous Tunisien","Brik","Harissa Chicken","Makroudh"],price:920}],customItems:["Tagine","Couscous","Pastilla","Harira","Koshari","Molokhia","Brik","Harissa","Mint Tea","Baklava","Makroudh","Basbousa"]},{value:"central-african",label:" Central African",multiplier:1.15,popularMenus:[{name:"Congolese Celebration",items:["Fufu","Ndol","Grilled Fish","Plantain","Palm Wine"],price:890},{name:"Cameroonian Combo",items:["Jollof Rice","Pepper Soup","Banga Soup","Puff Puff"],price:860}],customItems:["Fufu","Ndol","Banga Soup","Pepper Soup","Cassava","Plantain","Palm Wine","Puff Puff","Grilled Fish"]}],dietaryRequirements:[{value:"halaal",label:" Halaal Certified",description:"Strictly Halaal ingredients and preparation"},{value:"kosher",label:" Kosher Certified",description:"Kosher ingredients and supervision"},{value:"vegan",label:" Vegan",description:"Plant-based ingredients only"},{value:"vegetarian",label:" Vegetarian",description:"No meat, fish allowed"},{value:"gluten-free",label:" Gluten-Free",description:"No wheat, barley, rye products"},{value:"keto",label:" Keto-Friendly",description:"Low-carb, high-fat diet"},{value:"diabetic",label:" Diabetic-Friendly",description:"Low sugar, controlled carbs"},{value:"nut-free",label:" Nut-Free",description:"No tree nuts or peanuts"},{value:"dairy-free",label:" Dairy-Free",description:"No milk products"}],eventSizes:[{value:"intimate",label:"Intimate Dining (2-8 people)",multiplier:1},{value:"small",label:"Small Gathering (9-15 people)",multiplier:1.5},{value:"medium",label:"Medium Event (16-30 people)",multiplier:2.2},{value:"large",label:"Large Celebration (31-50 people)",multiplier:3.5},{value:"corporate",label:"Corporate Event (50+ people)",multiplier:5}],addOns:[{id:"premium-ingredients",name:" Premium Ingredient Sourcing",price:200,description:"Organic, free-range, premium quality ingredients"},{id:"full-service",name:" Full Service Experience",price:400,description:"Professional waitering, bartending, setup & cleanup"},{id:"dietary-specialist",name:" Dietary Specialist Chef",price:250,description:"Specialized chef for dietary requirements"},{id:"cooking-demo",name:" Live Cooking Demonstration",price:300,description:"Interactive cooking experience with guests"},{id:"recipe-cards",name:" Custom Recipe Cards",price:150,description:"Take-home recipe cards for prepared dishes"},{id:"wine-pairing",name:" Wine & Beverage Pairing",price:350,description:"Professional sommelier and beverage selection"},{id:"traditional-setup",name:" Traditional Cultural Setup",price:280,description:"Authentic cultural decorations and presentation"}]},"event-staff":{title:"Event Staffing Service",icon:yn,basePrice:180,steps:4,propertyTypes:[{value:"apartment",label:"Apartment/Small Space",multiplier:.8},{value:"house",label:"House Event",multiplier:1},{value:"townhouse",label:"Townhouse Event",multiplier:.9},{value:"villa",label:"Villa/Large Event",multiplier:1.4}],staffTypes:[{value:"waiters",label:"Professional Waiters",price:180},{value:"bartenders",label:"Bartenders",price:220},{value:"security",label:"Event Security",price:300},{value:"coordinators",label:"Event Coordinators",price:400}],eventSizes:[{value:"small",label:"Small (10-25 guests)",multiplier:1},{value:"medium",label:"Medium (26-50 guests)",multiplier:1.5},{value:"large",label:"Large (51-100 guests)",multiplier:2.5},{value:"corporate",label:"Corporate (100+ guests)",multiplier:4}],addOns:[{id:"uniform-rental",name:"Professional Uniform Rental",price:50},{id:"overtime-coverage",name:"Overtime Coverage",price:120},{id:"event-setup",name:"Event Setup Assistance",price:200},{id:"cleanup-service",name:"Post-Event Cleanup",price:250}]},"beauty-wellness":{title:"Beauty & Wellness Service",icon:U1,basePrice:280,steps:4,propertyTypes:[{value:"apartment",label:"Apartment Visit",multiplier:1},{value:"house",label:"House Visit",multiplier:1.1},{value:"townhouse",label:"Townhouse Visit",multiplier:1.05},{value:"villa",label:"Villa Visit",multiplier:1.2}],serviceTypes:[{value:"hair-styling",label:"Hair Styling & Cut",price:280},{value:"manicure-pedicure",label:"Manicure & Pedicure",price:220},{value:"massage-therapy",label:"Massage Therapy",price:400},{value:"makeup-artistry",label:"Makeup Artistry",price:350}],sessionDuration:[{value:"quick",label:"Quick Session (30-60 min)",multiplier:1},{value:"standard",label:"Standard Session (1-2 hours)",multiplier:1.5},{value:"extended",label:"Extended Session (2-3 hours)",multiplier:2.2},{value:"full-day",label:"Full Day Package",multiplier:4}],addOns:[{id:"premium-products",name:"Premium Product Upgrade",price:150},{id:"group-discount",name:"Group Service (2+ people)",price:-50},{id:"travel-kit",name:"Professional Travel Kit",price:100},{id:"follow-up-care",name:"Follow-up Care Package",price:80}]},moving:{title:"Moving Services",icon:d2,basePrice:600,steps:4,propertyTypes:[{value:"apartment",label:"Apartment/1-2 Bedrooms",multiplier:1},{value:"house",label:"House/3-4 Bedrooms",multiplier:1.4},{value:"townhouse",label:"Townhouse/2-3 Bedrooms",multiplier:1.2},{value:"villa",label:"Villa/5+ Bedrooms",multiplier:1.8}],movingTypes:[{value:"local",label:"Local Moving (Same City)",price:600,description:"Moving within the same city or nearby areas"},{value:"long-distance",label:"Long-Distance Moving",price:1200,description:"Intercity or interstate moving"},{value:"office",label:"Office Relocation",price:800,description:"Business and office moving services"},{value:"furniture",label:"Furniture Moving & Assembly",price:400,description:"Specialized furniture transport and setup"},{value:"packing",label:"Packing & Unpacking Services",price:350,description:"Professional packing and unpacking assistance"},{value:"piano",label:"Piano & Specialty Items",price:900,description:"Special handling for delicate items"}],movingDistance:[{value:"local",label:"Local (0-50km)",multiplier:1},{value:"regional",label:"Regional (50-200km)",multiplier:1.5},{value:"long-distance",label:"Long Distance (200km+)",multiplier:2.2}],addOns:[{id:"packing-materials",name:"Packing Materials Supply",price:200},{id:"storage",name:"Temporary Storage (1 month)",price:300},{id:"insurance",name:"Premium Moving Insurance",price:150},{id:"disassembly",name:"Furniture Disassembly/Assembly",price:250},{id:"cleaning",name:"Post-Move Cleaning",price:400}]},"au-pair":{title:"Au Pair Services",icon:yn,basePrice:65,steps:4,propertyTypes:[{value:"apartment",label:"Apartment",multiplier:1},{value:"house",label:"House",multiplier:1.1},{value:"townhouse",label:"Townhouse",multiplier:1.05},{value:"villa",label:"Villa",multiplier:1.2}],careTypes:[{value:"live-in",label:"Live-in Au Pair (6-12 months)",price:3500,description:"Full-time live-in childcare provider"},{value:"part-time",label:"Part-time Childcare",price:65,description:"Flexible part-time childcare hours"},{value:"after-school",label:"After-school Care",price:80,description:"Care and supervision after school hours"},{value:"weekend",label:"Weekend & Holiday Care",price:90,description:"Weekend and special occasion care"},{value:"overnight",label:"Overnight Babysitting",price:120,description:"Extended overnight care services"},{value:"educational",label:"Educational Support & Tutoring",price:95,description:"Homework help and educational activities"}],childrenCount:[{value:"1",label:"1 Child",multiplier:1},{value:"2",label:"2 Children",multiplier:1.4},{value:"3",label:"3 Children",multiplier:1.7},{value:"4+",label:"4+ Children",multiplier:2}],childrenAges:[{value:"infant",label:"Infant (0-1 year)",multiplier:1.3},{value:"toddler",label:"Toddler (1-3 years)",multiplier:1.2},{value:"preschool",label:"Preschool (3-5 years)",multiplier:1.1},{value:"school",label:"School Age (6+ years)",multiplier:1}],addOns:[{id:"background-check",name:"Enhanced Background Check",price:120},{id:"first-aid",name:"Certified First Aid Training",price:80},{id:"transport",name:"Child Transportation Service",price:100},{id:"meal-prep",name:"Meal Preparation for Children",price:60},{id:"overnight",name:"Overnight Care Available",price:150}]}},ae=s?{cleaning:"cleaning","house-cleaning":"cleaning","garden-care":"garden-care","garden-maintenance":"garden-maintenance",plumbing:"plumbing","plumbing-services":"plumbing",electrical:"electrical","electrical-services":"electrical","chef-catering":"chef-catering",waitering:"event-staff","event-staff":"event-staff","event-staffing":"event-staff","beauty-wellness":"beauty-wellness",moving:"moving","au-pair":"au-pair"}[s]||s:"",ne=ae&&Z[ae]||null,Ne=j.useMemo(()=>s==="house-cleaning"||ae==="cleaning",[s,ae]),be=j.useMemo(()=>s==="plumbing"||ae==="plumbing",[s,ae]),_e=j.useMemo(()=>s==="electrical"||ae==="electrical",[s,ae]),Te=j.useMemo(()=>Ne||be||_e,[Ne,be,_e]),Ie=j.useMemo(()=>be&&["emergency","urgent","same-day"].includes(P.urgency),[be,P.urgency]),ye={cleaning:"Example: Please focus on the kitchen and bathrooms. Use eco-friendly products. Deep clean the oven.","house-cleaning":"Example: Please focus on the kitchen and bathrooms. Use eco-friendly products. Deep clean the oven.","garden-care":"Example: Trim overgrown hedges along the fence. Mow the lawn and edge the driveway. Remove weeds from flower beds.","garden-maintenance":"Example: Trim overgrown hedges along the fence. Mow the lawn and edge the driveway. Remove weeds from flower beds.",plumbing:"Example: Leaking faucet in the kitchen sink. Low water pressure in upstairs bathroom. Fix running toilet.","plumbing-services":"Example: Leaking faucet in the kitchen sink. Low water pressure in upstairs bathroom. Fix running toilet.",electrical:"Example: Install dimmer switch in living room. Replace faulty outlet in bedroom. Check circuit breaker for kitchen.","electrical-services":"Example: Install dimmer switch in living room. Replace faulty outlet in bedroom. Check circuit breaker for kitchen.","chef-catering":"Example: Prepare traditional South African braai for 20 guests. Include vegetarian options. Serve at 6 PM.",waitering:"Example: Need 3 waiters for dinner party. Black-tie attire required. Event runs from 7 PM to 11 PM.","event-staff":"Example: Need 3 waiters for dinner party. Black-tie attire required. Event runs from 7 PM to 11 PM.","event-staffing":"Example: Need 3 waiters for dinner party. Black-tie attire required. Event runs from 7 PM to 11 PM.",moving:"Example: Moving from 2-bedroom apartment to 3-bedroom house. Need help with furniture and boxes. No fragile items.","beauty-wellness":"Example: Haircut and styling for wedding. Prefer natural makeup look. Available on Saturday afternoon.","au-pair":"Example: Need help with 2 children aged 5 and 7. Pickup from school at 3 PM. Homework assistance needed."},ge=()=>ye[ae]||ye[s]||"Describe any specific requirements or special instructions for your service provider.",se=!s||!ne;j.useEffect(()=>{s&&!a&&(b(1),y(!1),S(null),L(""),$([]),U({propertyType:"",address:"",gateCode:"",preferredDate:"",timePreference:"",recurringSchedule:"one-time",materials:"supply",insurance:!1,cleaningType:"",propertySize:"",gardenSize:"",gardenCondition:"",urgency:"standard",plumbingIssue:"",electricalIssue:"",cuisineType:"",menuSelection:"popular",selectedMenu:"",customMenuItems:[],dietaryRequirements:[],eventSize:"",selectedAddOns:[],selectedProvider:null,specialRequests:"",tipAmount:0,paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}),te({cardNumber:!1,expiryDate:!1,cvv:!1,cardholderName:!1,selectedBank:!1,bankAccount:!1,bankBranch:!1}),G({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}))},[s,a]),j.useEffect(()=>{Ie&&P.recurringSchedule!=="one-time"&&U(we=>({...we,recurringSchedule:"one-time"}))},[Ie,P.recurringSchedule]),j.useEffect(()=>{const we=P.urgency==="emergency",de=P.urgency==="urgent",Ue=P.urgency==="same-day";if(we||de||Ue){const qe=new Date().toISOString().split("T")[0];U(Ct=>({...Ct,preferredDate:qe,timePreference:we?"ASAP":Ct.timePreference}))}},[P.urgency]),j.useEffect(()=>{if(q.trim().length>=3&&ae){const de=_ae(ae,q);$(de)}else $([])},[q,ae]),j.useEffect(()=>{if(ae){const we=Aae(ae,P.propertySize||P.gardenSize,P.selectedAddOns);M(we)}},[ae,P.propertySize,P.gardenSize,P.selectedAddOns]),j.useEffect(()=>{var _t,Xt,Vt,Ys,sn,_s,Ft,xs,Zi,En,ui,qr,At,hi,Ae,jt,nn,Ps,bn,ar,zo;if(!ae||!Z[ae]){O({basePrice:0,addOnsPrice:0,materialsDiscount:0,recurringDiscount:0,timeDiscount:0,totalPrice:0});return}const we=Z[ae];let de=we.basePrice;const Ue=(_t=we.propertyTypes)==null?void 0:_t.find(ns=>ns.value===P.propertyType);if(Ue&&(de*=Ue.multiplier),ae==="cleaning"){const ns=(Xt=we.cleaningTypes)==null?void 0:Xt.find(es=>es.value===P.cleaningType);ns&&(de=ns.price);const Kt=(Vt=we.propertySizes)==null?void 0:Vt.find(es=>es.value===P.propertySize);Kt&&(de*=Kt.multiplier)}if(ae==="garden-care"||ae==="garden-maintenance"){const ns=(Ys=we.gardenSizes)==null?void 0:Ys.find(es=>es.value===P.gardenSize);ns&&(de*=ns.multiplier);const Kt=(sn=we.gardenConditions)==null?void 0:sn.find(es=>es.value===P.gardenCondition);Kt&&(de*=Kt.multiplier)}if(ae==="plumbing"){const ns=(_s=we.plumbingIssues)==null?void 0:_s.find(Kt=>Kt.value===P.plumbingIssue);ns&&(de=ns.price),P.urgency==="emergency"?de+=150:P.urgency==="urgent"?de+=100:P.urgency==="same-day"&&(de+=50)}if(ae==="electrical"){const ns=(Ft=we.electricalIssues)==null?void 0:Ft.find(es=>es.value===P.electricalIssue);ns&&(de=ns.price);const Kt=(xs=we.urgencyLevels)==null?void 0:xs.find(es=>es.value===P.urgency);Kt&&(de*=Kt.multiplier)}if(ae==="chef-catering"){if(P.menuSelection==="popular"&&P.selectedMenu&&P.cuisineType){const Kt=(Zi=we.cuisineTypes)==null?void 0:Zi.find(zn=>zn.value===P.cuisineType),es=(En=Kt==null?void 0:Kt.popularMenus)==null?void 0:En.find(zn=>zn.name===P.selectedMenu);es&&(de=es.price)}else{const Kt=(ui=we.cuisineTypes)==null?void 0:ui.find(es=>es.value===P.cuisineType);Kt&&(de*=Kt.multiplier)}const ns=(qr=we.eventSizes)==null?void 0:qr.find(Kt=>Kt.value===P.eventSize);ns&&(de*=ns.multiplier),P.menuSelection==="custom"&&P.customMenuItems.length>0&&(de+=P.customMenuItems.length*45)}if(ae==="event-staff"){const ns=(At=we.staffTypes)==null?void 0:At.find(es=>es.value===P.cleaningType);ns&&(de=ns.price);const Kt=(hi=we.eventSizes)==null?void 0:hi.find(es=>es.value===P.propertySize);Kt&&(de*=Kt.multiplier)}if(ae==="beauty-wellness"){const ns=(Ae=we.serviceTypes)==null?void 0:Ae.find(es=>es.value===P.cleaningType);ns&&(de=ns.price);const Kt=(jt=we.sessionDuration)==null?void 0:jt.find(es=>es.value===P.propertySize);Kt&&(de*=Kt.multiplier)}if(ae==="moving"){const ns=(nn=we.movingTypes)==null?void 0:nn.find(es=>es.value===P.cleaningType);ns&&(de=ns.price);const Kt=(Ps=we.movingDistance)==null?void 0:Ps.find(es=>es.value===P.propertySize);Kt&&(de*=Kt.multiplier)}if(ae==="au-pair"){const ns=(bn=we.careTypes)==null?void 0:bn.find(zn=>zn.value===P.cleaningType);ns&&(de=ns.price);const Kt=(ar=we.childrenCount)==null?void 0:ar.find(zn=>zn.value===P.propertySize);Kt&&(de*=Kt.multiplier);const es=(zo=we.childrenAges)==null?void 0:zo.find(zn=>zn.value===P.gardenSize);es&&(de*=es.multiplier)}const Ct=(LS[ae]||[]).filter(ns=>P.selectedAddOns.includes(ns.id)).reduce((ns,Kt)=>ns+Kt.price,0)||0;let kt=0,lt=0,Lt=0;P.materials==="bring"&&(kt=Math.round((de+Ct)*.15)),P.recurringSchedule==="weekly"?lt=Math.round((de+Ct)*.15):P.recurringSchedule==="bi-weekly"?lt=Math.round((de+Ct)*.1):P.recurringSchedule==="monthly"&&(lt=Math.round((de+Ct)*.08)),P.timePreference==="06:00"&&(Lt=Math.round((de+Ct)*.1));const ws=Math.max(0,de+Ct-kt-lt-Lt);O({basePrice:Math.round(de),addOnsPrice:Ct,materialsDiscount:kt,recurringDiscount:lt,timeDiscount:Lt,totalPrice:Math.round(ws)})},[P,ae]);const It=we=>{U(de=>({...de,address:we}))},Tt=()=>{ne&&p<ne.steps&&b(p+1)},St=()=>{p>1&&b(p-1)},Ge=async()=>{var qe;if(f>=3){h({variant:"destructive",title:"Cart limit reached",description:"You can add up to 3 services per booking. Please proceed to checkout."});return}const Ue={serviceId:{cleaning:"house-cleaning","garden-care":"gardening","chef-catering":"chef-catering",plumbing:"plumbing",electrical:"electrical",waitering:"event-staff"}[s]||s,serviceName:ne.title,providerId:null,providerName:((qe=P.selectedProvider)==null?void 0:qe.name)||"To be assigned",scheduledDate:P.preferredDate,scheduledTime:P.timePreference,duration:R>0?Math.round(R):3,basePrice:X.basePrice.toString(),addOnsPrice:X.addOnsPrice.toString(),subtotal:X.totalPrice.toString(),selectedAddOns:P.selectedAddOns||[],comments:P.specialRequests||"",tipAmount:Te&&P.tipAmount?P.tipAmount.toString():"0",serviceDetails:JSON.stringify({propertyType:P.propertyType,address:P.address,recurringSchedule:P.recurringSchedule,materials:P.materials,insurance:P.insurance,cleaningType:P.cleaningType,propertySize:P.propertySize,gardenSize:P.gardenSize,gardenCondition:P.gardenCondition,urgency:P.urgency,electricalIssue:P.electricalIssue,cuisineType:P.cuisineType,menuSelection:P.menuSelection,selectedMenu:P.selectedMenu,customMenuItems:P.customMenuItems,dietaryRequirements:P.dietaryRequirements,eventSize:P.eventSize,provider:P.selectedProvider,tipAmount:Te?P.tipAmount:0})};console.log(" Adding to cart (mapped to CartItem):",Ue);try{await m(Ue),b(1),U({propertyType:"",address:"",gateCode:"",preferredDate:"",timePreference:"",recurringSchedule:"one-time",materials:"supply",insurance:!1,cleaningType:"",propertySize:"",gardenSize:"",gardenCondition:"",urgency:"standard",plumbingIssue:"",electricalIssue:"",cuisineType:"",menuSelection:"popular",selectedMenu:"",customMenuItems:[],dietaryRequirements:[],eventSize:"",selectedAddOns:[],specialRequests:"",selectedProvider:null,tipAmount:0,paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}),L(""),M(0),h({title:"Service added to cart!",description:`You can add ${3-(f+1)} more service${3-(f+1)===1?"":"s"}. Select another service or go to cart to checkout.`})}catch(Ct){console.error("Failed to add to cart:",Ct),h({variant:"destructive",title:"Failed to add to cart",description:"Please try again."})}},yt=async()=>{var qe;if(f>=3){h({variant:"destructive",title:"Cart limit reached",description:"You can add up to 3 services per booking. Please proceed to checkout."});return}const Ue={serviceId:{cleaning:"house-cleaning","garden-care":"gardening","chef-catering":"chef-catering",plumbing:"plumbing",electrical:"electrical",waitering:"event-staff"}[s]||s,serviceName:ne.title,providerId:null,providerName:((qe=P.selectedProvider)==null?void 0:qe.name)||"To be assigned",scheduledDate:P.preferredDate,scheduledTime:P.timePreference,duration:R>0?Math.round(R):3,basePrice:X.basePrice.toString(),addOnsPrice:X.addOnsPrice.toString(),subtotal:X.totalPrice.toString(),selectedAddOns:P.selectedAddOns||[],comments:P.specialRequests||"",tipAmount:Te&&P.tipAmount?P.tipAmount.toString():"0",serviceDetails:JSON.stringify({propertyType:P.propertyType,address:P.address,recurringSchedule:P.recurringSchedule,materials:P.materials,insurance:P.insurance,cleaningType:P.cleaningType,propertySize:P.propertySize,gardenSize:P.gardenSize,gardenCondition:P.gardenCondition,urgency:P.urgency,electricalIssue:P.electricalIssue,cuisineType:P.cuisineType,menuSelection:P.menuSelection,selectedMenu:P.selectedMenu,customMenuItems:P.customMenuItems,dietaryRequirements:P.dietaryRequirements,eventSize:P.eventSize,provider:P.selectedProvider,tipAmount:Te?P.tipAmount:0})};try{await m(Ue),h({title:"Service added to cart!",description:`${ne.title} added successfully. Redirecting to cart...`}),t(),g("/cart-checkout")}catch(Ct){console.error("Failed to add to cart:",Ct),h({variant:"destructive",title:"Failed to add to cart",description:"Please try again."})}},nt=()=>{t(),g("/cart-checkout")},re=()=>{y(!1),S(null),U(we=>({...we,cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""})),te({cardNumber:!1,expiryDate:!1,cvv:!1,cardholderName:!1,selectedBank:!1,bankAccount:!1,bankBranch:!1}),G({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""}),t(),b(1),U({propertyType:"",address:"",gateCode:"",preferredDate:"",timePreference:"",recurringSchedule:"one-time",materials:"supply",insurance:!1,cleaningType:"",propertySize:"",gardenSize:"",gardenCondition:"",urgency:"standard",plumbingIssue:"",electricalIssue:"",cuisineType:"",eventSize:"",menuSelection:"popular",selectedMenu:"",customMenuItems:[],dietaryRequirements:[],selectedAddOns:[],selectedProvider:null,specialRequests:"",tipAmount:0,paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",selectedBank:"",bankAccount:"",bankBranch:""})},fe=()=>{const we=[{id:"cleaning",config:Z.cleaning,description:"Professional house cleaning services"},{id:"garden-care",config:Z["garden-care"],description:"Complete garden maintenance"},{id:"plumbing",config:Z.plumbing,description:"Expert plumbing repairs and installation"},{id:"electrical",config:Z.electrical,description:"Certified electrical repairs and installations"},{id:"chef-catering",config:Z["chef-catering"],description:"Professional catering and chef services"},{id:"event-staff",config:Z["event-staff"],description:"Waitering and event staffing"},{id:"moving",config:Z.moving,description:"Professional moving and relocation services"},{id:"au-pair",config:Z["au-pair"],description:"Trusted childcare and au pair services"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Ld,{className:"h-12 w-12 text-primary mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Choose a Service"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Select the service you'd like to book"}),o.length>0&&r.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[o.length," service",o.length>1?"s":""," already selected"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:we.map(de=>{const Ue=o.includes(de.id),qe=de.config.icon;return r.jsx(oe,{className:`cursor-pointer transition-all hover:shadow-md ${Ue?"opacity-50 cursor-not-allowed":""}`,onClick:()=>{!Ue&&o.length<3?(n==null||n(de.id),b(1)):o.length>=3&&h({variant:"destructive",title:"Maximum services reached",description:"You can only book up to 3 services at once."})},children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${Ue?"bg-gray-200":"bg-primary/10"}`,children:r.jsx(qe,{className:`h-6 w-6 ${Ue?"text-gray-400":"text-primary"}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold",children:de.config.title}),r.jsx("p",{className:"text-sm text-gray-600",children:de.description}),Ue&&r.jsx(Ke,{variant:"secondary",className:"mt-2 bg-gray-100",children:"Already Selected"})]})]})})},de.id)})}),r.jsxs("div",{className:"mt-6",children:[r.jsx("div",{className:"text-center mb-3",children:r.jsx("p",{className:"text-sm text-gray-600",children:"Don't see what you need?"})}),r.jsx(tB,{})]}),o.length>=3&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Maximum of 3 services reached. Complete your booking or remove a service to add another."})})]})},Pe=()=>{var we,de,Ue,qe,Ct,kt,lt,Lt,ws,_t,Xt,Vt,Ys,sn,_s,Ft,xs,Zi,En,ui,qr,At,hi;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"Where do you need help?"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your property and location"})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"property-type",children:"Property Type *"}),r.jsxs(Dt,{value:P.propertyType,onValueChange:Ae=>U(jt=>({...jt,propertyType:Ae})),children:[r.jsx(Mt,{"data-testid":"select-property-type",children:r.jsx(Ot,{placeholder:"Select property type"})}),r.jsx(Rt,{children:(we=ne.propertyTypes)==null?void 0:we.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"address",children:"Service Address *"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(He,{id:"address",placeholder:"Enter your service address",value:P.address,onChange:Ae=>It(Ae.target.value),className:"w-full","data-testid":"input-address"}),P.address&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-xs text-green-700 flex items-center",children:[r.jsx($t,{className:"h-4 w-4 mr-2"}),"Address confirmed - Provider matching within 20km radius"]})})]})]}),(P.propertyType==="apartment"||P.propertyType==="townhouse"||P.propertyType==="villa")&&r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"gate-code",children:"Gate/Access Code (Optional)"}),r.jsx(He,{id:"gate-code",type:"password",placeholder:"Enter gate or access code",value:P.gateCode,onChange:Ae=>U(jt=>({...jt,gateCode:Ae.target.value})),className:"w-full","data-testid":"input-gate-code",autoComplete:"off"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[r.jsx(va,{className:"h-3 w-3"}),"Encrypted and only shared with your assigned provider"]})]}),s==="cleaning"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cleaning-type",children:"Cleaning Type *"}),r.jsxs(Dt,{value:P.cleaningType,onValueChange:Ae=>U(jt=>({...jt,cleaningType:Ae})),children:[r.jsx(Mt,{"data-testid":"select-cleaning-type",children:r.jsx(Ot,{placeholder:"Select cleaning type"})}),r.jsx(Rt,{children:(de=ne.cleaningTypes)==null?void 0:de.map(Ae=>r.jsxs(Ee,{value:Ae.value,children:[Ae.label," - R",Ae.price]},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"property-size",children:"Property Size *"}),r.jsxs(Dt,{value:P.propertySize,onValueChange:Ae=>U(jt=>({...jt,propertySize:Ae})),children:[r.jsx(Mt,{"data-testid":"select-property-size",children:r.jsx(Ot,{placeholder:"Select property size"})}),r.jsx(Rt,{children:(Ue=ne.propertySizes)==null?void 0:Ue.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]})]}),s==="garden-care"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Garden Size Range *"}),r.jsxs(Dt,{value:P.gardenSize,onValueChange:Ae=>U(jt=>({...jt,gardenSize:Ae})),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select garden size"})}),r.jsx(Rt,{children:(qe=ne.gardenSizes)==null?void 0:qe.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Garden Condition *"}),r.jsxs(Dt,{value:P.gardenCondition,onValueChange:Ae=>U(jt=>({...jt,gardenCondition:Ae})),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select garden condition"})}),r.jsx(Rt,{children:(Ct=ne.gardenConditions)==null?void 0:Ct.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]})]}),s==="plumbing"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"What needs to be fixed? *"}),r.jsxs(Dt,{value:P.plumbingIssue,onValueChange:Ae=>U(jt=>({...jt,plumbingIssue:Ae})),children:[r.jsx(Mt,{"data-testid":"select-plumbing-issue",children:r.jsx(Ot,{placeholder:"Select the plumbing issue"})}),r.jsx(Rt,{className:"max-h-72 overflow-y-auto",children:(kt=ne.plumbingIssues)==null?void 0:kt.map(Ae=>r.jsx(Ee,{value:Ae.value,children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("span",{className:"font-medium",children:[Ae.label," - R",Ae.price]}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:Ae.description})]})},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Booking Urgency *"}),r.jsxs(Dt,{value:P.urgency,onValueChange:Ae=>U(jt=>({...jt,urgency:Ae})),children:[r.jsx(Mt,{"data-testid":"select-plumbing-urgency",children:r.jsx(Ot,{placeholder:"Select urgency level"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"emergency",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium text-red-600",children:"Emergency (Immediate)"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Provider dispatched within 1 hour - Burst pipes, flooding"})]})}),r.jsx(Ee,{value:"urgent",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium text-orange-600",children:"Urgent (Same Day)"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Service within 24 hours - Major leaks, no water"})]})}),r.jsx(Ee,{value:"same-day",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium text-yellow-600",children:"Same Day"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Service today if available"})]})}),r.jsx(Ee,{value:"next-day",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Next Day"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Service tomorrow"})]})}),r.jsx(Ee,{value:"standard",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Standard (Flexible)"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Schedule at your convenience - Non-urgent repairs"})]})})]})]}),(P.urgency==="emergency"||P.urgency==="urgent"||P.urgency==="same-day")&&r.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-orange-700 flex items-center",children:[r.jsx(Eo,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:[P.urgency==="emergency"&&"Emergency service includes R150 callout fee. Provider will contact you immediately.",P.urgency==="urgent"&&"Urgent service includes R100 priority fee. Service scheduled for today.",P.urgency==="same-day"&&"Same-day service subject to availability. Additional R50 fee may apply."]})]})})]})]}),s==="electrical"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"electrical-issue",children:"What needs to be fixed? *"}),r.jsxs(Dt,{value:P.electricalIssue,onValueChange:Ae=>U(jt=>({...jt,electricalIssue:Ae})),children:[r.jsx(Mt,{"data-testid":"select-electrical-issue",children:r.jsx(Ot,{placeholder:"Select the electrical issue"})}),r.jsx(Rt,{className:"max-h-72 overflow-y-auto",children:(lt=ne.electricalIssues)==null?void 0:lt.map(Ae=>r.jsx(Ee,{value:Ae.value,children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("span",{className:"font-medium",children:[Ae.label," - R",Ae.price]}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:Ae.description})]})},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"How urgent is this? *"}),r.jsxs(Dt,{value:P.urgency,onValueChange:Ae=>U(jt=>({...jt,urgency:Ae})),children:[r.jsx(Mt,{"data-testid":"select-electrical-urgency",children:r.jsx(Ot,{placeholder:"Select urgency level"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"emergency",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Emergency (24/7) - 2.5x price"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Immediate response for critical electrical issues"})]})}),r.jsx(Ee,{value:"urgent",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Urgent (Same Day) - 1.8x price"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Fast response within hours for urgent repairs"})]})}),r.jsx(Ee,{value:"standard",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Standard (Next Day)"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Scheduled next-day service at regular price"})]})}),r.jsx(Ee,{value:"scheduled",children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsx("span",{className:"font-medium",children:"Scheduled (Flexible) - 10% discount"}),r.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Book in advance for non-urgent work"})]})})]})]}),(P.urgency==="emergency"||P.urgency==="urgent")&&r.jsx("div",{className:"mt-2 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-orange-700 flex items-center",children:[r.jsx(Eo,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:[P.urgency==="emergency"&&"Emergency service charged at 2.5x base price. Certified electrician will respond immediately for safety-critical issues.",P.urgency==="urgent"&&"Urgent service charged at 1.8x base price. Same-day response by qualified electrician for priority repairs."]})]})}),P.urgency==="scheduled"&&r.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-green-700 flex items-center",children:[r.jsx($t,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:"Save 10% by scheduling in advance. Great for planned upgrades and non-urgent electrical work."})]})})]})]}),s==="event-staff"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Staff Type *"}),r.jsxs(Dt,{value:P.cleaningType,onValueChange:Ae=>U(jt=>({...jt,cleaningType:Ae})),children:[r.jsx(Mt,{"data-testid":"select-staff-type",children:r.jsx(Ot,{placeholder:"Select staff type"})}),r.jsx(Rt,{children:(Lt=ne.staffTypes)==null?void 0:Lt.map(Ae=>r.jsxs(Ee,{value:Ae.value,children:[Ae.label," - R",Ae.price]},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Event Size *"}),r.jsxs(Dt,{value:P.propertySize,onValueChange:Ae=>U(jt=>({...jt,propertySize:Ae})),children:[r.jsx(Mt,{"data-testid":"select-event-size",children:r.jsx(Ot,{placeholder:"Select event size"})}),r.jsx(Rt,{children:(ws=ne.eventSizes)==null?void 0:ws.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]})]}),s==="moving"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Moving Type *"}),r.jsxs(Dt,{value:P.cleaningType,onValueChange:Ae=>U(jt=>({...jt,cleaningType:Ae})),children:[r.jsx(Mt,{"data-testid":"select-moving-type",children:r.jsx(Ot,{placeholder:"Select moving type"})}),r.jsx(Rt,{children:(_t=ne.movingTypes)==null?void 0:_t.map(Ae=>r.jsx(Ee,{value:Ae.value,children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("span",{className:"font-medium",children:[Ae.label," - R",Ae.price]}),r.jsx("span",{className:"text-xs text-gray-500",children:Ae.description})]})},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Moving Distance *"}),r.jsxs(Dt,{value:P.propertySize,onValueChange:Ae=>U(jt=>({...jt,propertySize:Ae})),children:[r.jsx(Mt,{"data-testid":"select-moving-distance",children:r.jsx(Ot,{placeholder:"Select moving distance"})}),r.jsx(Rt,{children:(Xt=ne.movingDistance)==null?void 0:Xt.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]})]}),s==="au-pair"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Care Type *"}),r.jsxs(Dt,{value:P.cleaningType,onValueChange:Ae=>U(jt=>({...jt,cleaningType:Ae})),children:[r.jsx(Mt,{"data-testid":"select-care-type",children:r.jsx(Ot,{placeholder:"Select care type"})}),r.jsx(Rt,{children:(Vt=ne.careTypes)==null?void 0:Vt.map(Ae=>r.jsx(Ee,{value:Ae.value,children:r.jsxs("div",{className:"flex flex-col items-start",children:[r.jsxs("span",{className:"font-medium",children:[Ae.label," - R",Ae.price]}),r.jsx("span",{className:"text-xs text-gray-500",children:Ae.description})]})},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Number of Children *"}),r.jsxs(Dt,{value:P.propertySize,onValueChange:Ae=>U(jt=>({...jt,propertySize:Ae})),children:[r.jsx(Mt,{"data-testid":"select-children-count",children:r.jsx(Ot,{placeholder:"Select number of children"})}),r.jsx(Rt,{children:(Ys=ne.childrenCount)==null?void 0:Ys.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Children's Age Range *"}),r.jsxs(Dt,{value:P.gardenSize,onValueChange:Ae=>U(jt=>({...jt,gardenSize:Ae})),children:[r.jsx(Mt,{"data-testid":"select-children-ages",children:r.jsx(Ot,{placeholder:"Select age range"})}),r.jsx(Rt,{children:(sn=ne.childrenAges)==null?void 0:sn.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]})]}),s==="chef-catering"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Cuisine Type *"}),r.jsxs(Dt,{value:P.cuisineType,onValueChange:Ae=>U(jt=>({...jt,cuisineType:Ae,selectedMenu:"",customMenuItems:[]})),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select cuisine type"})}),r.jsx(Rt,{children:(_s=ne.cuisineTypes)==null?void 0:_s.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Event Size *"}),r.jsxs(Dt,{value:P.eventSize,onValueChange:Ae=>U(jt=>({...jt,eventSize:Ae})),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select event size"})}),r.jsx(Rt,{children:(Ft=ne.eventSizes)==null?void 0:Ft.map(Ae=>r.jsx(Ee,{value:Ae.value,children:Ae.label},Ae.value))})]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Dietary Requirements"}),r.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2 max-h-48 overflow-y-auto",children:(xs=ne.dietaryRequirements)==null?void 0:xs.map(Ae=>r.jsxs("div",{className:"flex items-start space-x-2 p-2 border rounded-lg hover:bg-gray-50",children:[r.jsx(Bi,{checked:P.dietaryRequirements.includes(Ae.value),onCheckedChange:jt=>{U(jt?nn=>({...nn,dietaryRequirements:[...nn.dietaryRequirements,Ae.value]}):nn=>({...nn,dietaryRequirements:nn.dietaryRequirements.filter(Ps=>Ps!==Ae.value)}))}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium cursor-pointer",children:Ae.label}),r.jsx("p",{className:"text-xs text-gray-500",children:Ae.description})]})]},Ae.value))})]}),P.cuisineType&&r.jsxs("div",{children:[r.jsx(pe,{children:"Menu Selection *"}),r.jsxs("div",{className:"space-y-3 mt-2",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${P.menuSelection==="popular"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>U(Ae=>({...Ae,menuSelection:"popular",customMenuItems:[]})),children:[r.jsx("h4",{className:"font-semibold text-sm",children:"Popular Menus"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Pre-designed menu combinations"})]}),r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${P.menuSelection==="custom"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>U(Ae=>({...Ae,menuSelection:"custom",selectedMenu:""})),children:[r.jsx("h4",{className:"font-semibold text-sm",children:"Custom Menu"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Build your own menu"})]})]}),P.menuSelection==="popular"&&r.jsxs("div",{children:[r.jsx(pe,{children:"Choose Popular Menu *"}),r.jsx("div",{className:"space-y-2 mt-2 max-h-64 overflow-y-auto",children:(ui=(En=(Zi=ne.cuisineTypes)==null?void 0:Zi.find(Ae=>Ae.value===P.cuisineType))==null?void 0:En.popularMenus)==null?void 0:ui.map((Ae,jt)=>r.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${P.selectedMenu===Ae.name?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>U(nn=>({...nn,selectedMenu:Ae.name})),children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-sm",children:Ae.name}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ae.items.join(", ")})]}),r.jsxs("span",{className:"text-sm font-bold text-primary",children:["R",Ae.price]})]})},jt))})]}),P.menuSelection==="custom"&&r.jsxs("div",{children:[r.jsx(pe,{children:"Build Custom Menu *"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 max-h-64 overflow-y-auto",children:(hi=(At=(qr=ne.cuisineTypes)==null?void 0:qr.find(Ae=>Ae.value===P.cuisineType))==null?void 0:At.customItems)==null?void 0:hi.map((Ae,jt)=>r.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-lg hover:bg-gray-50",children:[r.jsx(Bi,{checked:P.customMenuItems.includes(Ae),onCheckedChange:nn=>{U(nn?Ps=>({...Ps,customMenuItems:[...Ps.customMenuItems,Ae]}):Ps=>({...Ps,customMenuItems:Ps.customMenuItems.filter(bn=>bn!==Ae)}))}}),r.jsx("label",{className:"text-sm cursor-pointer flex-1",children:Ae})]},jt))}),P.customMenuItems.length>0&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("h6",{className:"font-semibold text-sm text-blue-800",children:"Selected Items:"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:P.customMenuItems.join(", ")})]})]})]})]})]})]})]})},ze=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:"When do you need help?"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred date and time"})]}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"preferred-date",children:Ne?"Date *":"Preferred Date *"}),r.jsx(He,{id:"preferred-date",type:"date",value:P.preferredDate,onChange:we=>U(de=>({...de,preferredDate:we.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full h-12 text-base",readOnly:P.urgency==="emergency"||P.urgency==="urgent"||P.urgency==="same-day",disabled:P.urgency==="emergency"||P.urgency==="urgent"||P.urgency==="same-day","data-testid":"input-preferred-date",required:!0}),(P.urgency==="emergency"||P.urgency==="urgent"||P.urgency==="same-day")&&r.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Date locked to today for ",P.urgency==="emergency"?"emergency":P.urgency==="urgent"?"urgent":"same-day"," services"]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:Ne?"Preferred Time *":"Modern Time Preference Selection *"}),r.jsxs(Dt,{value:P.timePreference,onValueChange:we=>U(de=>({...de,timePreference:we})),disabled:P.urgency==="emergency",children:[r.jsx(Mt,{className:"h-12",children:r.jsx(Ot,{placeholder:"Choose your preferred time slot"})}),r.jsxs(Rt,{children:[P.urgency==="emergency"&&r.jsx(Ee,{value:"ASAP",children:"As Soon As Possible"}),(()=>{const we=P.preferredDate===new Date().toISOString().split("T")[0],de=new Date,Ue=de.getHours(),qe=de.getMinutes();return[{value:"08:00",label:"08:00 - Morning",hour:8},{value:"10:00",label:"10:00 - Late Morning",hour:10},{value:"12:00",label:"12:00 - Noon",hour:12},{value:"14:00",label:"14:00 - Afternoon",hour:14},{value:"16:00",label:"16:00 - Late Afternoon",hour:16}].map(kt=>{const lt=Te&&we&&(kt.hour<Ue||kt.hour===Ue&&qe>0);return r.jsxs(Ee,{value:kt.value,disabled:lt,children:[kt.label,lt&&" (Past)"]},kt.value)})})()]})]}),P.urgency==="emergency"&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:'Time locked to "As Soon As Possible" for emergency services'})]}),r.jsxs("div",{children:[r.jsx(pe,{children:Ne?"Reoccurring Services":"Recurring Schedule Options"}),r.jsxs(Dt,{value:P.recurringSchedule,onValueChange:we=>U(de=>({...de,recurringSchedule:we})),disabled:Ie,children:[r.jsx(Mt,{className:"h-12",children:r.jsx(Ot,{placeholder:"Choose booking frequency"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"one-time",children:"One-time Service (no commitment)"}),r.jsx(Ee,{value:"weekly",children:"Weekly (15% discount - most popular)"}),r.jsx(Ee,{value:"bi-weekly",children:"Bi-weekly (10% discount)"}),r.jsx(Ee,{value:"monthly",children:"Monthly (8% discount)"}),r.jsx(Ee,{value:"quarterly",children:"Quarterly (5% discount)"}),r.jsx(Ee,{value:"custom",children:"Custom Schedule (contact for pricing)"})]})]}),P.recurringSchedule!=="one-time"&&P.recurringSchedule&&!Ie&&r.jsxs("p",{className:"text-sm text-green-600 mt-2 flex items-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),"Recurring discount applied to total pricing"]}),Ie&&r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Recurring schedule unavailable for ",P.urgency," plumbing services"]})]}),r.jsxs("div",{children:[r.jsx(pe,{children:Ne?"Materials and Equipment Supplier":"Materials & Equipment Supply Options"}),r.jsxs(Dt,{value:P.materials,onValueChange:we=>U(de=>({...de,materials:we})),children:[r.jsx(Mt,{className:"h-12",children:r.jsx(Ot,{placeholder:"Choose material supply option"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"supply",children:"Provider Supplies All Materials (premium quality included)"}),r.jsx(Ee,{value:"bring",children:"I'll Provide My Own Materials (15% price reduction)"}),r.jsx(Ee,{value:"partial",children:"Mix - Some Provided, Some Mine (custom pricing)"})]})]}),P.materials==="bring"&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2",children:r.jsxs("p",{className:"text-sm text-green-700 flex items-center",children:[r.jsx($t,{className:"h-4 w-4 mr-2"}),"15% discount applied for providing your own materials. Total savings will reflect in final pricing."]})}),P.materials==="partial"&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:r.jsx("p",{className:"text-sm text-blue-700",children:"Custom pricing will be calculated based on which materials you provide versus what the provider supplies."})})]}),s==="plumbing"&&r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bi,{id:"insurance",checked:P.insurance,onCheckedChange:we=>U(de=>({...de,insurance:!!we})),"data-testid":"checkbox-plumbing-insurance"}),r.jsx(pe,{htmlFor:"insurance",className:"text-sm",children:"Insurance coverage required by insurer"})]})}),s==="electrical"&&r.jsx("div",{className:"space-y-2",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bi,{id:"electrical-insurance",checked:P.insurance,onCheckedChange:we=>U(de=>({...de,insurance:!!we})),"data-testid":"checkbox-electrical-insurance"}),r.jsx(pe,{htmlFor:"electrical-insurance",className:"text-sm",children:"Insurance coverage required by insurer"})]})})]})]}),Le=()=>{const we=LS[ae]||[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx("span",{className:"text-primary text-xl",children:"+"})}),r.jsx("h3",{className:"text-lg font-semibold",children:"Add-ons & Extras"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Customize your service with additional options"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"addons-comment",children:"Comments / Additional Details"}),r.jsx(Ca,{id:"addons-comment",placeholder:ge(),value:C,onChange:de=>L(de.target.value),className:"min-h-[80px]","data-testid":"textarea-addons-comment"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Mention specific issues to get smart add-on suggestions"})]}),D.length>0&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start space-x-2 mb-3",children:[r.jsx(Ld,{className:"h-5 w-5 text-blue-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:"Smart Suggestions"}),r.jsx("p",{className:"text-xs text-blue-700",children:"Based on your comments, we suggest:"})]})]}),r.jsx("div",{className:"space-y-2",children:D.map(de=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-blue-200",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bi,{id:`suggested-${de.id}`,checked:P.selectedAddOns.includes(de.id),onCheckedChange:Ue=>{U(Ue?qe=>({...qe,selectedAddOns:[...qe.selectedAddOns,de.id]}):qe=>({...qe,selectedAddOns:qe.selectedAddOns.filter(Ct=>Ct!==de.id)}))}}),r.jsx(pe,{htmlFor:`suggested-${de.id}`,className:"text-sm font-medium cursor-pointer",children:de.name})]}),r.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["+R",de.price]})]},de.id))})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"select-addon",children:"Add More Services (Optional)"}),r.jsxs(Dt,{value:"",onValueChange:de=>{de&&!P.selectedAddOns.includes(de)&&U(Ue=>({...Ue,selectedAddOns:[...Ue.selectedAddOns,de]}))},children:[r.jsx(Mt,{id:"select-addon",children:r.jsx(Ot,{placeholder:"Select additional services"})}),r.jsx(Rt,{children:we.map(de=>r.jsxs(Ee,{value:de.id,disabled:P.selectedAddOns.includes(de.id),children:[de.name," - R",de.price]},de.id))})]})]}),P.selectedAddOns.length>0&&r.jsxs("div",{children:[r.jsx(pe,{children:"Selected Add-ons"}),r.jsx("div",{className:"space-y-2 mt-2",children:P.selectedAddOns.map(de=>{const Ue=we.find(qe=>qe.id===de);return Ue?r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx($t,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"font-medium",children:Ue.name})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("span",{className:"font-semibold text-primary",children:["+R",Ue.price]}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{U(qe=>({...qe,selectedAddOns:qe.selectedAddOns.filter(Ct=>Ct!==de)}))},className:"h-8 w-8 p-0",children:""})]})]},de):null})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"estimated-hours",children:"Estimated Hours"}),r.jsx(He,{id:"estimated-hours",type:"text",value:`${R} hours`,readOnly:!0,className:"bg-gray-50","data-testid":"input-estimated-hours"}),r.jsxs("p",{className:"text-xs text-orange-600 mt-1 flex items-start",children:[r.jsx("span",{className:"mr-1",children:""}),r.jsx("span",{children:"The time spent on site is subject to change once the service provider assesses the scope on-site."})]})]})]}),c&&o.length<2&&r.jsxs("div",{className:"space-y-3 mt-6",children:[r.jsxs(K,{variant:"outline",className:"w-full border-2 border-dashed border-primary text-primary hover:bg-primary/5",onClick:()=>{const de={serviceId:ae,serviceName:(ne==null?void 0:ne.name)||s,...P,pricing:X,totalCost:X.totalPrice,commission:Math.round(X.totalPrice*.15),timestamp:new Date().toISOString(),selectedProvider:null,addOnsComment:C,estimatedHours:R};c(de)},"data-testid":"button-add-another-service",children:[r.jsx("span",{className:"text-lg mr-2",children:"+"}),"Add Another Service (Max 3)"]}),o.length>0&&r.jsxs("div",{className:"text-sm text-gray-600 text-center",children:["Already booked: ",o.length," service",o.length>1?"s":""]}),r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You can add up to 3 services before completing your booking"})]})]})},Fe=()=>{var we;if(xe&&P.selectedProvider){const de=P.selectedProvider;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(Et,{className:"h-12 w-12 text-yellow-500 mx-auto mb-3 fill-current"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Berry Star Provider Selected"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"You've chosen one of our top-rated Berry Star professionals"}),r.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg p-3 mt-3",children:r.jsxs("p",{className:"text-xs text-yellow-700 flex items-center justify-center",children:[r.jsx(Et,{className:"h-4 w-4 mr-2 fill-current"}),"Berry Stars are our highest-rated providers with proven excellence"]})})]}),r.jsx(oe,{className:"ring-2 ring-yellow-500 bg-gradient-to-br from-yellow-50/50 to-orange-50/50",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center",children:r.jsx(Et,{className:"h-6 w-6 text-white fill-current"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:de.name}),r.jsx(Ke,{className:"bg-yellow-500 text-white",children:"Berry Star"}),r.jsx($t,{className:"h-4 w-4 text-green-500"})]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-400 mr-1 fill-current"}),de.rating," (",de.reviews,")"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),de.distance]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ts,{className:"h-4 w-4 mr-1"}),de.responseTime]})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:(we=de.verifiedBadges)==null?void 0:we.map(Ue=>r.jsx(Ke,{variant:"secondary",className:"text-xs",children:Ue},Ue))}),r.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:["R",de.hourlyRate,"/hour"]}),r.jsxs(Ke,{variant:"outline",className:"bg-green-50 text-green-700",children:[r.jsx(va,{className:"h-3 w-3 mr-1"}),"Pre-Selected"]})]})]})]})})}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:r.jsx("p",{className:"text-sm text-blue-700",children:"This Berry Star provider is pre-selected for this booking. Proceed to add to cart or complete your booking."})})]})}return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx(vn,{className:"h-12 w-12 text-primary mx-auto mb-3"}),r.jsx("h3",{className:"text-lg font-semibold",children:"Choose Your Verified Provider"}),r.jsxs("p",{className:"text-gray-600 text-sm",children:["Showing ",W.length," verified professionals within 20km radius matching your requirements"]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:r.jsxs("p",{className:"text-xs text-blue-700 flex items-center justify-center",children:[r.jsx($t,{className:"h-4 w-4 mr-2"}),"All providers are background-checked, insured, and rated 4.5+ stars"]})})]}),r.jsx("div",{className:"space-y-4",children:W.map(de=>{var Ue,qe,Ct;return r.jsx(oe,{className:`transition-all ${((Ue=P.selectedProvider)==null?void 0:Ue.id)===de.id?"ring-2 ring-primary":""}`,children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[Te&&de.profileImage?r.jsx("img",{src:de.profileImage,alt:de.name,className:"w-16 h-16 rounded-full object-cover flex-shrink-0"}):r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(vn,{className:"h-6 w-6 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[r.jsx("h4",{className:"font-semibold text-primary underline cursor-pointer hover:text-primary/80",onClick:()=>T(de),children:de.name}),de.verified&&r.jsx($t,{className:"h-4 w-4 text-green-500"})]}),Te&&de.bio&&r.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:de.bio}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-400 mr-1 fill-current"}),de.rating," (",de.reviews," reviews)"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),de.distance,"km"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ts,{className:"h-4 w-4 mr-1"}),de.responseTime]})]}),Te&&r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-2",children:[de.jobsCompleted&&r.jsxs("div",{className:"flex items-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1 text-success"}),de.jobsCompleted," jobs completed"]}),de.experience&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(bs,{className:"h-4 w-4 mr-1"}),de.experience," years exp."]})]}),Te&&de.qualifications&&de.qualifications.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:de.qualifications.map(kt=>r.jsx(Ke,{variant:"secondary",className:"text-xs",children:kt},kt))}),!Ne&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:de.specializations.slice(0,2).map(kt=>r.jsx(Ke,{variant:"secondary",className:"text-xs",children:kt},kt))}),Ne&&de.availability&&r.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Available: ",de.availability]}),r.jsx(K,{size:"sm",variant:((qe=P.selectedProvider)==null?void 0:qe.id)===de.id?"default":"outline",onClick:()=>U(kt=>({...kt,selectedProvider:de})),className:"w-full","data-testid":`button-select-provider-${de.id}`,children:((Ct=P.selectedProvider)==null?void 0:Ct.id)===de.id?"Selected":"Select Provider"})]})]})})},de.id)})}),Te&&P.selectedProvider&&r.jsx(oe,{className:"bg-gradient-to-br from-primary/5 to-accent/5 border-primary/20",children:r.jsxs(le,{className:"p-4",children:[r.jsx(pe,{className:"text-sm font-semibold mb-2 block",children:"Add a tip for your provider (optional)"}),r.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Show your appreciation for excellent service"}),r.jsx("div",{className:"flex gap-2 mb-3",children:[0,20,50,100].map(de=>r.jsxs(K,{type:"button",size:"sm",variant:P.tipAmount===de?"default":"outline",onClick:()=>U(Ue=>({...Ue,tipAmount:de})),className:"flex-1","data-testid":`button-tip-${de}`,children:["R",de]},de))}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(pe,{htmlFor:"custom-tip",className:"text-xs whitespace-nowrap",children:"Custom:"}),r.jsxs("div",{className:"relative flex-1",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-sm text-gray-500",children:"R"}),r.jsx(He,{id:"custom-tip",type:"number",min:"0",max:"1000",step:"0.01",value:P.tipAmount||"",onChange:de=>{const Ue=de.target.value;if(Ue===""||Ue===null||Ue===void 0){U(Ct=>({...Ct,tipAmount:0}));return}const qe=parseFloat(Ue);if(!isNaN(qe)&&qe>=0&&qe<=1e3){const Ct=Math.round(qe*100)/100;U(kt=>({...kt,tipAmount:Ct}))}},className:"pl-8",placeholder:"0","data-testid":"input-custom-tip"})]})]}),P.tipAmount>0&&r.jsxs("p",{className:"text-xs text-success mt-2",children:[" R",P.tipAmount.toFixed(2)," tip will be added to your total"]})]})}),o.length>0&&r.jsxs("div",{className:"text-sm text-gray-600 text-center mt-4",children:["Already booked: ",o.length," service",o.length>1?"s":""]})]})};return r.jsxs(r.Fragment,{children:[r.jsx(er,{open:e,onOpenChange:t,children:r.jsx(Fn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-background",children:se?r.jsxs(r.Fragment,{children:[r.jsxs(Bn,{className:"pb-4",children:[r.jsx(_n,{className:"text-2xl font-bold text-foreground",children:"Book Your Service"}),r.jsx(_o,{className:"text-muted-foreground",children:"Select a service to get started"})]}),fe(),r.jsx("div",{className:"flex justify-end pt-6 border-t border-border",children:r.jsx(K,{variant:"outline",onClick:t,className:"rounded-lg",children:"Cancel"})})]}):r.jsxs(r.Fragment,{children:[r.jsxs(Bn,{className:"pb-2",children:[r.jsxs(_n,{className:"flex items-center gap-3 text-2xl font-bold text-foreground",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(ne.icon,{className:"h-5 w-5 text-primary"})}),r.jsx("span",{children:ne.title})]}),r.jsxs(_o,{className:"text-muted-foreground pt-1",children:["Step ",p," of ",ne.steps]})]}),r.jsx("div",{className:"flex items-center gap-2 my-6 px-1",children:Array.from({length:ne.steps},(we,de)=>r.jsxs("div",{className:"flex items-center flex-1",children:[r.jsx("div",{className:`h-1.5 rounded-full transition-all flex-1 ${de+1<=p?"bg-primary":"bg-border"}`}),de<ne.steps-1&&r.jsx("div",{className:"w-2"})]},de))}),r.jsx(oe,{className:"bg-card border-border shadow-sm mb-6",children:r.jsxs(le,{className:"p-6 min-h-[400px]",children:[p===1&&Pe(),p===2&&ze(),p===3&&Le(),p===4&&Fe()]})}),r.jsxs("div",{className:"flex justify-between pt-4 border-t border-border",children:[r.jsx(K,{variant:"outline",onClick:St,disabled:p===1,className:"rounded-lg px-6",children:"Back"}),r.jsx("div",{className:"flex gap-3",children:p===4&&Te?r.jsxs(r.Fragment,{children:[r.jsxs(K,{variant:"outline",onClick:Ge,disabled:!P.selectedProvider,className:"border-2 border-border text-foreground hover:bg-muted rounded-lg px-6","data-testid":"button-add-to-cart-select-another",children:[r.jsx(o2,{className:"h-4 w-4 mr-2"}),"Add to Cart & Select Another"]}),r.jsxs(K,{onClick:yt,className:"bg-primary hover:bg-accent text-primary-foreground rounded-lg px-6 shadow-sm",disabled:!P.selectedProvider,"data-testid":"button-add-and-go-to-cart",children:[r.jsx(qu,{className:"h-4 w-4 mr-2"}),"Add & Go to Cart"]})]}):r.jsxs(r.Fragment,{children:[p===4&&P.selectedProvider&&f<3&&r.jsxs(K,{variant:"outline",onClick:Ge,disabled:!P.selectedProvider,className:"border-2 border-border text-foreground hover:bg-muted rounded-lg px-6","data-testid":"button-add-to-cart-continue",children:[r.jsx(qu,{className:"h-4 w-4 mr-2"}),"Add to Cart & Select Another"]}),p<ne.steps?r.jsx(K,{onClick:Tt,className:"bg-primary hover:bg-accent text-primary-foreground rounded-lg px-8 shadow-sm",disabled:p===1&&(!P.propertyType||!P.address||s==="cleaning"&&(!P.cleaningType||!P.propertySize)||s==="garden-care"&&(!P.gardenSize||!P.gardenCondition)||s==="plumbing"&&(!P.plumbingIssue||!P.urgency)||s==="electrical"&&(!P.electricalIssue||!P.urgency)||s==="chef-catering"&&(!P.cuisineType||!P.eventSize)||s==="event-staff"&&(!P.cleaningType||!P.propertySize)||s==="moving"&&(!P.cleaningType||!P.propertySize)||s==="au-pair"&&(!P.cleaningType||!P.propertySize||!P.gardenSize))||p===2&&(!P.preferredDate||!P.timePreference)||p===4&&!P.selectedProvider,children:"Next"}):r.jsxs(r.Fragment,{children:[r.jsxs(K,{onClick:yt,className:"bg-primary hover:bg-accent text-primary-foreground rounded-lg px-6 shadow-sm",disabled:!P.selectedProvider,"data-testid":"button-add-to-cart",children:[r.jsx(qu,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),r.jsxs(K,{onClick:nt,variant:"outline",className:"border-2 border-border text-foreground hover:bg-muted rounded-lg px-6","data-testid":"button-go-to-cart",children:[r.jsx(qu,{className:"h-4 w-4 mr-2"}),"Go to Cart (",f,")"]})]})]})})]})]})})}),E&&r.jsx(er,{open:!!E,onOpenChange:()=>T(null),children:r.jsxs(Fn,{className:"max-w-md",children:[r.jsx(Bn,{children:r.jsx(_n,{children:"Provider Details"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(vn,{className:"h-10 w-10 text-primary"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:E.name}),E.verified&&r.jsxs("div",{className:"flex items-center text-success text-sm",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),"Verified Provider"]})]})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Rating"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-5 w-5 text-yellow-400 mr-1"}),r.jsx("span",{className:"font-semibold",children:E.rating}),r.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",E.reviews," reviews)"]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Distance"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ys,{className:"h-5 w-5 text-primary mr-1"}),r.jsxs("span",{className:"font-semibold",children:[E.distance,"km away"]})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Response Time"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ts,{className:"h-5 w-5 text-primary mr-1"}),r.jsx("span",{className:"font-semibold",children:E.responseTime})]})]})]}),r.jsx(Pn,{}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Specializations"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:E.specializations.map(we=>r.jsx(Ke,{variant:"secondary",children:we},we))})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"About"}),r.jsxs("p",{className:"text-sm",children:["Professional service provider with ",E.reviews,"+ successful bookings. Specializes in ",E.specializations.join(", "),". Highly rated and verified by Berry Events."]})]}),r.jsx(K,{className:"w-full",onClick:()=>{U(we=>({...we,selectedProvider:E})),T(null)},children:"Select This Provider"})]})]})}),r.jsx(Sae,{isOpen:x,onClose:re,bookingData:w})]})}var F0=e=>e.type==="checkbox",Ku=e=>e instanceof Date,ji=e=>e==null;const sB=e=>typeof e=="object";var tr=e=>!ji(e)&&!Array.isArray(e)&&sB(e)&&!Ku(e),nB=e=>tr(e)&&e.target?F0(e.target)?e.target.checked:e.target.value:e,Eae=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,rB=(e,t)=>e.has(Eae(t)),Tae=e=>{const t=e.constructor&&e.constructor.prototype;return tr(t)&&t.hasOwnProperty("isPrototypeOf")},Ek=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fr(e){let t;const s=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ek&&(e instanceof Blob||n))&&(s||tr(e)))if(t=s?[]:{},!s&&!Tae(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Fr(e[i]));else return e;return t}var F2=e=>Array.isArray(e)?e.filter(Boolean):[],Gn=e=>e===void 0,at=(e,t,s)=>{if(!t||!tr(e))return s;const n=F2(t.split(/[,[\].]+?/)).reduce((i,a)=>ji(i)?i:i[a],e);return Gn(n)||n===e?Gn(e[t])?s:e[t]:n},da=e=>typeof e=="boolean",Tk=e=>/^\w*$/.test(e),iB=e=>F2(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ls=(e,t,s)=>{let n=-1;const i=Tk(t)?[t]:iB(t),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=s;if(n!==o){const d=e[l];c=tr(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const rb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aB=it.createContext(null),B2=()=>it.useContext(aB),Mae=e=>{const{children:t,...s}=e;return it.createElement(aB.Provider,{value:s},t)};var oB=(e,t,s,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==wo.all&&(t._proxyFormState[o]=!n||wo.all),s&&(s[o]=!0),e[o]}});return i};function Rae(e){const t=B2(),{control:s=t.control,disabled:n,name:i,exact:a}=e||{},[o,l]=it.useState(s._formState),c=it.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=it.useRef(i);return d.current=i,it.useEffect(()=>s._subscribe({name:d.current,formState:c.current,exact:a,callback:u=>{!n&&l({...s._formState,...u})}}),[s,n,a]),it.useEffect(()=>{c.current.isValid&&s._setValid(!0)},[s]),it.useMemo(()=>oB(o,s,c.current,!1),[o,s])}var fl=e=>typeof e=="string",lB=(e,t,s,n,i)=>fl(e)?(n&&t.watch.add(e),at(s,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),at(s,a))):(n&&(t.watchAll=!0),s);function Lae(e){const t=B2(),{control:s=t.control,name:n,defaultValue:i,disabled:a,exact:o}=e||{},l=it.useRef(n),c=it.useRef(i);l.current=n,it.useEffect(()=>s._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&u(lB(l.current,s._names,h.values||s._formValues,!1,c.current))}),[s,a,o]);const[d,u]=it.useState(s._getWatch(n,i));return it.useEffect(()=>s._removeUnmounted()),d}function Dae(e){const t=B2(),{name:s,disabled:n,control:i=t.control,shouldUnregister:a}=e,o=rB(i._names.array,s),l=Lae({control:i,name:s,defaultValue:at(i._formValues,s,at(i._defaultValues,s,e.defaultValue)),exact:!0}),c=Rae({control:i,name:s,exact:!0}),d=it.useRef(e),u=it.useRef(i.register(s,{...e.rules,value:l,...da(e.disabled)?{disabled:e.disabled}:{}})),h=it.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!at(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!at(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!at(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!at(c.validatingFields,s)},error:{enumerable:!0,get:()=>at(c.errors,s)}}),[c,s]),m=it.useCallback(b=>u.current.onChange({target:{value:nB(b),name:s},type:rb.CHANGE}),[s]),f=it.useCallback(()=>u.current.onBlur({target:{value:at(i._formValues,s),name:s},type:rb.BLUR}),[s,i._formValues]),g=it.useCallback(b=>{const x=at(i._fields,s);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:y=>b.setCustomValidity(y),reportValidity:()=>b.reportValidity()})},[i._fields,s]),p=it.useMemo(()=>({name:s,value:l,...da(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:m,onBlur:f,ref:g}),[s,n,c.disabled,m,f,g,l]);return it.useEffect(()=>{const b=i._options.shouldUnregister||a;i.register(s,{...d.current.rules,...da(d.current.disabled)?{disabled:d.current.disabled}:{}});const x=(y,w)=>{const S=at(i._fields,y);S&&S._f&&(S._f.mount=w)};if(x(s,!0),b){const y=Fr(at(i._options.defaultValues,s));Ls(i._defaultValues,s,y),Gn(at(i._formValues,s))&&Ls(i._formValues,s,y)}return!o&&i.register(s),()=>{(o?b&&!i._state.action:b)?i.unregister(s):x(s,!1)}},[s,i,o,a]),it.useEffect(()=>{i._setDisabledField({disabled:n,name:s})},[n,s,i]),it.useMemo(()=>({field:p,formState:c,fieldState:h}),[p,c,h])}const Oae=e=>e.render(Dae(e));var cB=(e,t,s,n,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[n]:i||!0}}:{},Jg=e=>Array.isArray(e)?e:[e],PE=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},DS=e=>ji(e)||!sB(e);function od(e,t){if(DS(e)||DS(t))return e===t;if(Ku(e)&&Ku(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(const i of s){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Ku(a)&&Ku(o)||tr(a)&&tr(o)||Array.isArray(a)&&Array.isArray(o)?!od(a,o):a!==o)return!1}}return!0}var bi=e=>tr(e)&&!Object.keys(e).length,Mk=e=>e.type==="file",jo=e=>typeof e=="function",ib=e=>{if(!Ek)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dB=e=>e.type==="select-multiple",Rk=e=>e.type==="radio",Iae=e=>Rk(e)||F0(e),cN=e=>ib(e)&&e.isConnected;function Fae(e,t){const s=t.slice(0,-1).length;let n=0;for(;n<s;)e=Gn(e)?n++:e[t[n++]];return e}function Bae(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gn(e[t]))return!1;return!0}function yr(e,t){const s=Array.isArray(t)?t:Tk(t)?[t]:iB(t),n=s.length===1?e:Fae(e,s),i=s.length-1,a=s[i];return n&&delete n[a],i!==0&&(tr(n)&&bi(n)||Array.isArray(n)&&Bae(n))&&yr(e,s.slice(0,-1)),e}var uB=e=>{for(const t in e)if(jo(e[t]))return!0;return!1};function ab(e,t={}){const s=Array.isArray(e);if(tr(e)||s)for(const n in e)Array.isArray(e[n])||tr(e[n])&&!uB(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ab(e[n],t[n])):ji(e[n])||(t[n]=!0);return t}function hB(e,t,s){const n=Array.isArray(e);if(tr(e)||n)for(const i in e)Array.isArray(e[i])||tr(e[i])&&!uB(e[i])?Gn(t)||DS(s[i])?s[i]=Array.isArray(e[i])?ab(e[i],[]):{...ab(e[i])}:hB(e[i],ji(t)?{}:t[i],s[i]):s[i]=!od(e[i],t[i]);return s}var og=(e,t)=>hB(e,t,ab(t));const AE={value:!1,isValid:!1},EE={value:!0,isValid:!0};var fB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gn(e[0].attributes.value)?Gn(e[0].value)||e[0].value===""?EE:{value:e[0].value,isValid:!0}:EE:AE}return AE},mB=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:n})=>Gn(e)?e:t?e===""?NaN:e&&+e:s&&fl(e)?new Date(e):n?n(e):e;const TE={isValid:!1,value:null};var pB=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,TE):TE;function ME(e){const t=e.ref;return Mk(t)?t.files:Rk(t)?pB(e.refs).value:dB(t)?[...t.selectedOptions].map(({value:s})=>s):F0(t)?fB(e.refs).value:mB(Gn(t.value)?e.ref.value:t.value,e)}var zae=(e,t,s,n)=>{const i={};for(const a of e){const o=at(t,a);o&&Ls(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:n}},ob=e=>e instanceof RegExp,lg=e=>Gn(e)?e:ob(e)?e.source:tr(e)?ob(e.value)?e.value.source:e.value:e,RE=e=>({isOnSubmit:!e||e===wo.onSubmit,isOnBlur:e===wo.onBlur,isOnChange:e===wo.onChange,isOnAll:e===wo.all,isOnTouch:e===wo.onTouched});const LE="AsyncFunction";var Vae=e=>!!e&&!!e.validate&&!!(jo(e.validate)&&e.validate.constructor.name===LE||tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===LE)),$ae=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),DE=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ex=(e,t,s,n)=>{for(const i of s||Object.keys(e)){const a=at(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ex(l,t))break}else if(tr(l)&&ex(l,t))break}}};function OE(e,t,s){const n=at(e,s);if(n||Tk(s))return{error:n,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=at(t,a),l=at(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:s}}var Uae=(e,t,s,n)=>{s(e);const{name:i,...a}=e;return bi(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||wo.all))},Hae=(e,t,s)=>!e||!t||e===t||Jg(e).some(n=>n&&(s?n===t:n.startsWith(t)||t.startsWith(n))),qae=(e,t,s,n,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?n.isOnBlur:i.isOnBlur)?!e:(s?n.isOnChange:i.isOnChange)?e:!0,Wae=(e,t)=>!F2(at(e,t)).length&&yr(e,t),Yae=(e,t,s)=>{const n=Jg(at(e,s));return Ls(n,"root",t[s]),Ls(e,s,n),e},r1=e=>fl(e);function IE(e,t,s="validate"){if(r1(e)||Array.isArray(e)&&e.every(r1)||da(e)&&!e)return{type:s,message:r1(e)?e:"",ref:t}}var ff=e=>tr(e)&&!ob(e)?e:{value:e,message:""},FE=async(e,t,s,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:f,validate:g,name:p,valueAsNumber:b,mount:x}=e._f,y=at(s,p);if(!x||t.has(p))return{};const w=l?l[0]:o,S=T=>{i&&w.reportValidity&&(w.setCustomValidity(da(T)?"":T||""),w.reportValidity())},C={},L=Rk(o),R=F0(o),M=L||R,D=(b||Mk(o))&&Gn(o.value)&&Gn(y)||ib(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,$=cB.bind(null,p,n,C),E=(T,q,B,te=Hl.maxLength,ie=Hl.minLength)=>{const G=T?q:B;C[p]={type:T?te:ie,message:G,ref:o,...$(T?te:ie,G)}};if(a?!Array.isArray(y)||!y.length:c&&(!M&&(D||ji(y))||da(y)&&!y||R&&!fB(l).isValid||L&&!pB(l).isValid)){const{value:T,message:q}=r1(c)?{value:!!c,message:c}:ff(c);if(T&&(C[p]={type:Hl.required,message:q,ref:w,...$(Hl.required,q)},!n))return S(q),C}if(!D&&(!ji(h)||!ji(m))){let T,q;const B=ff(m),te=ff(h);if(!ji(y)&&!isNaN(y)){const ie=o.valueAsNumber||y&&+y;ji(B.value)||(T=ie>B.value),ji(te.value)||(q=ie<te.value)}else{const ie=o.valueAsDate||new Date(y),G=xe=>new Date(new Date().toDateString()+" "+xe),P=o.type=="time",U=o.type=="week";fl(B.value)&&y&&(T=P?G(y)>G(B.value):U?y>B.value:ie>new Date(B.value)),fl(te.value)&&y&&(q=P?G(y)<G(te.value):U?y<te.value:ie<new Date(te.value))}if((T||q)&&(E(!!T,B.message,te.message,Hl.max,Hl.min),!n))return S(C[p].message),C}if((d||u)&&!D&&(fl(y)||a&&Array.isArray(y))){const T=ff(d),q=ff(u),B=!ji(T.value)&&y.length>+T.value,te=!ji(q.value)&&y.length<+q.value;if((B||te)&&(E(B,T.message,q.message),!n))return S(C[p].message),C}if(f&&!D&&fl(y)){const{value:T,message:q}=ff(f);if(ob(T)&&!y.match(T)&&(C[p]={type:Hl.pattern,message:q,ref:o,...$(Hl.pattern,q)},!n))return S(q),C}if(g){if(jo(g)){const T=await g(y,s),q=IE(T,w);if(q&&(C[p]={...q,...$(Hl.validate,q.message)},!n))return S(q.message),C}else if(tr(g)){let T={};for(const q in g){if(!bi(T)&&!n)break;const B=IE(await g[q](y,s),w,q);B&&(T={...B,...$(q,B.message)},S(B.message),n&&(C[p]=T))}if(!bi(T)&&(C[p]={ref:w,...T},!n))return C}}return S(!0),C};const Gae={mode:wo.onSubmit,reValidateMode:wo.onChange,shouldFocusError:!0};function Kae(e={}){let t={...Gae,...e},s={submitCount:0,isDirty:!1,isLoading:jo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=tr(t.defaultValues)||tr(t.values)?Fr(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Fr(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:PE(),state:PE()},f=RE(t.mode),g=RE(t.reValidateMode),p=t.criteriaMode===wo.all,b=re=>fe=>{clearTimeout(d),d=setTimeout(re,fe)},x=async re=>{if(!t.disabled&&(u.isValid||h.isValid||re)){const fe=t.resolver?bi((await D()).errors):await E(n,!0);fe!==s.isValid&&m.state.next({isValid:fe})}},y=(re,fe)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((re||Array.from(l.mount)).forEach(Pe=>{Pe&&(fe?Ls(s.validatingFields,Pe,fe):yr(s.validatingFields,Pe))}),m.state.next({validatingFields:s.validatingFields,isValidating:!bi(s.validatingFields)}))},w=(re,fe=[],Pe,ze,Le=!0,Fe=!0)=>{if(ze&&Pe&&!t.disabled){if(o.action=!0,Fe&&Array.isArray(at(n,re))){const we=Pe(at(n,re),ze.argA,ze.argB);Le&&Ls(n,re,we)}if(Fe&&Array.isArray(at(s.errors,re))){const we=Pe(at(s.errors,re),ze.argA,ze.argB);Le&&Ls(s.errors,re,we),Wae(s.errors,re)}if((u.touchedFields||h.touchedFields)&&Fe&&Array.isArray(at(s.touchedFields,re))){const we=Pe(at(s.touchedFields,re),ze.argA,ze.argB);Le&&Ls(s.touchedFields,re,we)}(u.dirtyFields||h.dirtyFields)&&(s.dirtyFields=og(i,a)),m.state.next({name:re,isDirty:q(re,fe),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Ls(a,re,fe)},S=(re,fe)=>{Ls(s.errors,re,fe),m.state.next({errors:s.errors})},C=re=>{s.errors=re,m.state.next({errors:s.errors,isValid:!1})},L=(re,fe,Pe,ze)=>{const Le=at(n,re);if(Le){const Fe=at(a,re,Gn(Pe)?at(i,re):Pe);Gn(Fe)||ze&&ze.defaultChecked||fe?Ls(a,re,fe?Fe:ME(Le._f)):ie(re,Fe),o.mount&&x()}},R=(re,fe,Pe,ze,Le)=>{let Fe=!1,we=!1;const de={name:re};if(!t.disabled){if(!Pe||ze){(u.isDirty||h.isDirty)&&(we=s.isDirty,s.isDirty=de.isDirty=q(),Fe=we!==de.isDirty);const Ue=od(at(i,re),fe);we=!!at(s.dirtyFields,re),Ue?yr(s.dirtyFields,re):Ls(s.dirtyFields,re,!0),de.dirtyFields=s.dirtyFields,Fe=Fe||(u.dirtyFields||h.dirtyFields)&&we!==!Ue}if(Pe){const Ue=at(s.touchedFields,re);Ue||(Ls(s.touchedFields,re,Pe),de.touchedFields=s.touchedFields,Fe=Fe||(u.touchedFields||h.touchedFields)&&Ue!==Pe)}Fe&&Le&&m.state.next(de)}return Fe?de:{}},M=(re,fe,Pe,ze)=>{const Le=at(s.errors,re),Fe=(u.isValid||h.isValid)&&da(fe)&&s.isValid!==fe;if(t.delayError&&Pe?(c=b(()=>S(re,Pe)),c(t.delayError)):(clearTimeout(d),c=null,Pe?Ls(s.errors,re,Pe):yr(s.errors,re)),(Pe?!od(Le,Pe):Le)||!bi(ze)||Fe){const we={...ze,...Fe&&da(fe)?{isValid:fe}:{},errors:s.errors,name:re};s={...s,...we},m.state.next(we)}},D=async re=>{y(re,!0);const fe=await t.resolver(a,t.context,zae(re||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(re),fe},$=async re=>{const{errors:fe}=await D(re);if(re)for(const Pe of re){const ze=at(fe,Pe);ze?Ls(s.errors,Pe,ze):yr(s.errors,Pe)}else s.errors=fe;return fe},E=async(re,fe,Pe={valid:!0})=>{for(const ze in re){const Le=re[ze];if(Le){const{_f:Fe,...we}=Le;if(Fe){const de=l.array.has(Fe.name),Ue=Le._f&&Vae(Le._f);Ue&&u.validatingFields&&y([ze],!0);const qe=await FE(Le,l.disabled,a,p,t.shouldUseNativeValidation&&!fe,de);if(Ue&&u.validatingFields&&y([ze]),qe[Fe.name]&&(Pe.valid=!1,fe))break;!fe&&(at(qe,Fe.name)?de?Yae(s.errors,qe,Fe.name):Ls(s.errors,Fe.name,qe[Fe.name]):yr(s.errors,Fe.name))}!bi(we)&&await E(we,fe,Pe)}}return Pe.valid},T=()=>{for(const re of l.unMount){const fe=at(n,re);fe&&(fe._f.refs?fe._f.refs.every(Pe=>!cN(Pe)):!cN(fe._f.ref))&&be(re)}l.unMount=new Set},q=(re,fe)=>!t.disabled&&(re&&fe&&Ls(a,re,fe),!od(O(),i)),B=(re,fe,Pe)=>lB(re,l,{...o.mount?a:Gn(fe)?i:fl(re)?{[re]:fe}:fe},Pe,fe),te=re=>F2(at(o.mount?a:i,re,t.shouldUnregister?at(i,re,[]):[])),ie=(re,fe,Pe={})=>{const ze=at(n,re);let Le=fe;if(ze){const Fe=ze._f;Fe&&(!Fe.disabled&&Ls(a,re,mB(fe,Fe)),Le=ib(Fe.ref)&&ji(fe)?"":fe,dB(Fe.ref)?[...Fe.ref.options].forEach(we=>we.selected=Le.includes(we.value)):Fe.refs?F0(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(Le)?!!Le.find(de=>de===we.value):Le===we.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Le):Fe.refs.forEach(we=>we.checked=we.value===Le):Mk(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Le,Fe.ref.type||m.state.next({name:re,values:Fr(a)})))}(Pe.shouldDirty||Pe.shouldTouch)&&R(re,Le,Pe.shouldTouch,Pe.shouldDirty,!0),Pe.shouldValidate&&X(re)},G=(re,fe,Pe)=>{for(const ze in fe){const Le=fe[ze],Fe=`${re}.${ze}`,we=at(n,Fe);(l.array.has(re)||tr(Le)||we&&!we._f)&&!Ku(Le)?G(Fe,Le,Pe):ie(Fe,Le,Pe)}},P=(re,fe,Pe={})=>{const ze=at(n,re),Le=l.array.has(re),Fe=Fr(fe);Ls(a,re,Fe),Le?(m.array.next({name:re,values:Fr(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Pe.shouldDirty&&m.state.next({name:re,dirtyFields:og(i,a),isDirty:q(re,Fe)})):ze&&!ze._f&&!ji(Fe)?G(re,Fe,Pe):ie(re,Fe,Pe),DE(re,l)&&m.state.next({...s}),m.state.next({name:o.mount?re:void 0,values:Fr(a)})},U=async re=>{o.mount=!0;const fe=re.target;let Pe=fe.name,ze=!0;const Le=at(n,Pe),Fe=we=>{ze=Number.isNaN(we)||Ku(we)&&isNaN(we.getTime())||od(we,at(a,Pe,we))};if(Le){let we,de;const Ue=fe.type?ME(Le._f):nB(re),qe=re.type===rb.BLUR||re.type===rb.FOCUS_OUT,Ct=!$ae(Le._f)&&!t.resolver&&!at(s.errors,Pe)&&!Le._f.deps||qae(qe,at(s.touchedFields,Pe),s.isSubmitted,g,f),kt=DE(Pe,l,qe);Ls(a,Pe,Ue),qe?(Le._f.onBlur&&Le._f.onBlur(re),c&&c(0)):Le._f.onChange&&Le._f.onChange(re);const lt=R(Pe,Ue,qe),Lt=!bi(lt)||kt;if(!qe&&m.state.next({name:Pe,type:re.type,values:Fr(a)}),Ct)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?qe&&x():qe||x()),Lt&&m.state.next({name:Pe,...kt?{}:lt});if(!qe&&kt&&m.state.next({...s}),t.resolver){const{errors:ws}=await D([Pe]);if(Fe(Ue),ze){const _t=OE(s.errors,n,Pe),Xt=OE(ws,n,_t.name||Pe);we=Xt.error,Pe=Xt.name,de=bi(ws)}}else y([Pe],!0),we=(await FE(Le,l.disabled,a,p,t.shouldUseNativeValidation))[Pe],y([Pe]),Fe(Ue),ze&&(we?de=!1:(u.isValid||h.isValid)&&(de=await E(n,!0)));ze&&(Le._f.deps&&X(Le._f.deps),M(Pe,de,we,lt))}},xe=(re,fe)=>{if(at(s.errors,fe)&&re.focus)return re.focus(),1},X=async(re,fe={})=>{let Pe,ze;const Le=Jg(re);if(t.resolver){const Fe=await $(Gn(re)?re:Le);Pe=bi(Fe),ze=re?!Le.some(we=>at(Fe,we)):Pe}else re?(ze=(await Promise.all(Le.map(async Fe=>{const we=at(n,Fe);return await E(we&&we._f?{[Fe]:we}:we)}))).every(Boolean),!(!ze&&!s.isValid)&&x()):ze=Pe=await E(n);return m.state.next({...!fl(re)||(u.isValid||h.isValid)&&Pe!==s.isValid?{}:{name:re},...t.resolver||!re?{isValid:Pe}:{},errors:s.errors}),fe.shouldFocus&&!ze&&ex(n,xe,re?Le:l.mount),ze},O=re=>{const fe={...o.mount?a:i};return Gn(re)?fe:fl(re)?at(fe,re):re.map(Pe=>at(fe,Pe))},W=(re,fe)=>({invalid:!!at((fe||s).errors,re),isDirty:!!at((fe||s).dirtyFields,re),error:at((fe||s).errors,re),isValidating:!!at(s.validatingFields,re),isTouched:!!at((fe||s).touchedFields,re)}),Z=re=>{re&&Jg(re).forEach(fe=>yr(s.errors,fe)),m.state.next({errors:re?s.errors:{}})},ce=(re,fe,Pe)=>{const ze=(at(n,re,{_f:{}})._f||{}).ref,Le=at(s.errors,re)||{},{ref:Fe,message:we,type:de,...Ue}=Le;Ls(s.errors,re,{...Ue,...fe,ref:ze}),m.state.next({name:re,errors:s.errors,isValid:!1}),Pe&&Pe.shouldFocus&&ze&&ze.focus&&ze.focus()},ae=(re,fe)=>jo(re)?m.state.subscribe({next:Pe=>re(B(void 0,fe),Pe)}):B(re,fe,!0),ne=re=>m.state.subscribe({next:fe=>{Hae(re.name,fe.name,re.exact)&&Uae(fe,re.formState||u,Ge,re.reRenderRoot)&&re.callback({values:{...a},...s,...fe})}}).unsubscribe,Ne=re=>(o.mount=!0,h={...h,...re.formState},ne({...re,formState:h})),be=(re,fe={})=>{for(const Pe of re?Jg(re):l.mount)l.mount.delete(Pe),l.array.delete(Pe),fe.keepValue||(yr(n,Pe),yr(a,Pe)),!fe.keepError&&yr(s.errors,Pe),!fe.keepDirty&&yr(s.dirtyFields,Pe),!fe.keepTouched&&yr(s.touchedFields,Pe),!fe.keepIsValidating&&yr(s.validatingFields,Pe),!t.shouldUnregister&&!fe.keepDefaultValue&&yr(i,Pe);m.state.next({values:Fr(a)}),m.state.next({...s,...fe.keepDirty?{isDirty:q()}:{}}),!fe.keepIsValid&&x()},_e=({disabled:re,name:fe})=>{(da(re)&&o.mount||re||l.disabled.has(fe))&&(re?l.disabled.add(fe):l.disabled.delete(fe))},Te=(re,fe={})=>{let Pe=at(n,re);const ze=da(fe.disabled)||da(t.disabled);return Ls(n,re,{...Pe||{},_f:{...Pe&&Pe._f?Pe._f:{ref:{name:re}},name:re,mount:!0,...fe}}),l.mount.add(re),Pe?_e({disabled:da(fe.disabled)?fe.disabled:t.disabled,name:re}):L(re,!0,fe.value),{...ze?{disabled:fe.disabled||t.disabled}:{},...t.progressive?{required:!!fe.required,min:lg(fe.min),max:lg(fe.max),minLength:lg(fe.minLength),maxLength:lg(fe.maxLength),pattern:lg(fe.pattern)}:{},name:re,onChange:U,onBlur:U,ref:Le=>{if(Le){Te(re,fe),Pe=at(n,re);const Fe=Gn(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,we=Iae(Fe),de=Pe._f.refs||[];if(we?de.find(Ue=>Ue===Fe):Fe===Pe._f.ref)return;Ls(n,re,{_f:{...Pe._f,...we?{refs:[...de.filter(cN),Fe,...Array.isArray(at(i,re))?[{}]:[]],ref:{type:Fe.type,name:re}}:{ref:Fe}}}),L(re,!1,void 0,Fe)}else Pe=at(n,re,{}),Pe._f&&(Pe._f.mount=!1),(t.shouldUnregister||fe.shouldUnregister)&&!(rB(l.array,re)&&o.action)&&l.unMount.add(re)}}},Ie=()=>t.shouldFocusError&&ex(n,xe,l.mount),ye=re=>{da(re)&&(m.state.next({disabled:re}),ex(n,(fe,Pe)=>{const ze=at(n,Pe);ze&&(fe.disabled=ze._f.disabled||re,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(Le=>{Le.disabled=ze._f.disabled||re}))},0,!1))},ge=(re,fe)=>async Pe=>{let ze;Pe&&(Pe.preventDefault&&Pe.preventDefault(),Pe.persist&&Pe.persist());let Le=Fr(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Fe,values:we}=await D();s.errors=Fe,Le=we}else await E(n);if(l.disabled.size)for(const Fe of l.disabled)Ls(Le,Fe,void 0);if(yr(s.errors,"root"),bi(s.errors)){m.state.next({errors:{}});try{await re(Le,Pe)}catch(Fe){ze=Fe}}else fe&&await fe({...s.errors},Pe),Ie(),setTimeout(Ie);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bi(s.errors)&&!ze,submitCount:s.submitCount+1,errors:s.errors}),ze)throw ze},se=(re,fe={})=>{at(n,re)&&(Gn(fe.defaultValue)?P(re,Fr(at(i,re))):(P(re,fe.defaultValue),Ls(i,re,Fr(fe.defaultValue))),fe.keepTouched||yr(s.touchedFields,re),fe.keepDirty||(yr(s.dirtyFields,re),s.isDirty=fe.defaultValue?q(re,Fr(at(i,re))):q()),fe.keepError||(yr(s.errors,re),u.isValid&&x()),m.state.next({...s}))},It=(re,fe={})=>{const Pe=re?Fr(re):i,ze=Fr(Pe),Le=bi(re),Fe=Le?i:ze;if(fe.keepDefaultValues||(i=Pe),!fe.keepValues){if(fe.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(og(i,a))]);for(const de of Array.from(we))at(s.dirtyFields,de)?Ls(Fe,de,at(a,de)):P(de,at(Fe,de))}else{if(Ek&&Gn(re))for(const we of l.mount){const de=at(n,we);if(de&&de._f){const Ue=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(ib(Ue)){const qe=Ue.closest("form");if(qe){qe.reset();break}}}}for(const we of l.mount)P(we,at(Fe,we))}a=Fr(Fe),m.array.next({values:{...Fe}}),m.state.next({values:{...Fe}})}l={mount:fe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!fe.keepIsValid||!!fe.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:fe.keepSubmitCount?s.submitCount:0,isDirty:Le?!1:fe.keepDirty?s.isDirty:!!(fe.keepDefaultValues&&!od(re,i)),isSubmitted:fe.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:Le?{}:fe.keepDirtyValues?fe.keepDefaultValues&&a?og(i,a):s.dirtyFields:fe.keepDefaultValues&&re?og(i,re):fe.keepDirty?s.dirtyFields:{},touchedFields:fe.keepTouched?s.touchedFields:{},errors:fe.keepErrors?s.errors:{},isSubmitSuccessful:fe.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},Tt=(re,fe)=>It(jo(re)?re(a):re,fe),St=(re,fe={})=>{const Pe=at(n,re),ze=Pe&&Pe._f;if(ze){const Le=ze.refs?ze.refs[0]:ze.ref;Le.focus&&(Le.focus(),fe.shouldSelect&&jo(Le.select)&&Le.select())}},Ge=re=>{s={...s,...re}},nt={control:{register:Te,unregister:be,getFieldState:W,handleSubmit:ge,setError:ce,_subscribe:ne,_runSchema:D,_getWatch:B,_getDirty:q,_setValid:x,_setFieldArray:w,_setDisabledField:_e,_setErrors:C,_getFieldArray:te,_reset:It,_resetDefaultValues:()=>jo(t.defaultValues)&&t.defaultValues().then(re=>{Tt(re,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ye,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(re){o=re},get _defaultValues(){return i},get _names(){return l},set _names(re){l=re},get _formState(){return s},get _options(){return t},set _options(re){t={...t,...re}}},subscribe:Ne,trigger:X,register:Te,handleSubmit:ge,watch:ae,setValue:P,getValues:O,reset:Tt,resetField:se,clearErrors:Z,unregister:be,setError:ce,setFocus:St,getFieldState:W};return{...nt,formControl:nt}}function z2(e={}){const t=it.useRef(void 0),s=it.useRef(void 0),[n,i]=it.useState({isDirty:!1,isValidating:!1,isLoading:jo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:jo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Kae(e),formState:n},e.formControl&&e.defaultValues&&!jo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,it.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),it.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),it.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),it.useEffect(()=>{e.values&&!od(e.values,s.current)?(a._reset(e.values,a._options.resetOptions),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),it.useEffect(()=>{e.errors&&!bi(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),it.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),it.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=oB(n,a),t.current}const BE=(e,t,s)=>{if(e&&"reportValidity"in e){const n=at(s,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},gB=(e,t)=>{for(const s in t.fields){const n=t.fields[s];n&&n.ref&&"reportValidity"in n.ref?BE(n.ref,s,e):n.refs&&n.refs.forEach(i=>BE(i,s,e))}},Zae=(e,t)=>{t.shouldUseNativeValidation&&gB(e,t);const s={};for(const n in e){const i=at(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(Xae(t.names||Object.keys(e),n)){const o=Object.assign({},at(s,n));Ls(o,"root",a),Ls(s,n,o)}else Ls(s,n,a)}return s},Xae=(e,t)=>e.some(s=>s.startsWith(t+"."));var Qae=function(e,t){for(var s={};e.length;){var n=e[0],i=n.code,a=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=s[o].types,d=c&&c[n.code];s[o]=cB(o,t,s,i,d?[].concat(d,n.message):n.message)}e.shift()}return s},V2=function(e,t,s){return s===void 0&&(s={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return a.shouldUseNativeValidation&&gB({},a),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Zae(Qae(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ks;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function s(i){throw new Error}e.assertNever=s,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ks||(ks={}));var OS;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(OS||(OS={}));const dt=ks.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tc=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},Xe=ks.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Jae=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ja extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),n}static assert(t){if(!(t instanceof ja))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ks.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},n=[];for(const i of this.issues)i.path.length>0?(s[i.path[0]]=s[i.path[0]]||[],s[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}ja.create=e=>new ja(e);const Bm=(e,t)=>{let s;switch(e.code){case Xe.invalid_type:e.received===dt.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case Xe.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ks.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:s=`Unrecognized key(s) in object: ${ks.joinValues(e.keys,", ")}`;break;case Xe.invalid_union:s="Invalid input";break;case Xe.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ks.joinValues(e.options)}`;break;case Xe.invalid_enum_value:s=`Invalid enum value. Expected ${ks.joinValues(e.options)}, received '${e.received}'`;break;case Xe.invalid_arguments:s="Invalid function arguments";break;case Xe.invalid_return_type:s="Invalid function return type";break;case Xe.invalid_date:s="Invalid date";break;case Xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ks.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case Xe.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case Xe.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case Xe.custom:s="Invalid input";break;case Xe.invalid_intersection_types:s="Intersection results could not be merged";break;case Xe.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case Xe.not_finite:s="Number must be finite";break;default:s=t.defaultError,ks.assertNever(e)}return{message:s}};let xB=Bm;function eoe(e){xB=e}function lb(){return xB}const cb=e=>{const{data:t,path:s,errorMaps:n,issueData:i}=e,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},toe=[];function ot(e,t){const s=lb(),n=cb({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Bm?void 0:Bm].filter(i=>!!i)});e.common.issues.push(n)}class ci{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const n=[];for(const i of s){if(i.status==="aborted")return qt;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,s){const n=[];for(const i of s){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return ci.mergeObjectSync(t,n)}static mergeObjectSync(t,s){const n={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return qt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const qt=Object.freeze({status:"aborted"}),Rf=e=>({status:"dirty",value:e}),ki=e=>({status:"valid",value:e}),IS=e=>e.status==="aborted",FS=e=>e.status==="dirty",kh=e=>e.status==="valid",Bx=e=>typeof Promise<"u"&&e instanceof Promise;function db(e,t,s,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function vB(e,t,s,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,s),s}var wt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(wt||(wt={}));var Pg,Ag;class Nl{constructor(t,s,n,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zE=(e,t)=>{if(kh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ja(e.common.issues);return this._error=s,this._error}}};function ss(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:n,description:i}=e;if(t&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:l.defaultError}},description:i}}class cs{get description(){return this._def.description}_getType(t){return tc(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:tc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ci,ctx:{common:t.parent.common,data:t.data,parsedType:tc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(Bx(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const n=this.safeParse(t,s);if(n.success)return n.data;throw n.error}safeParse(t,s){var n;const i={common:{issues:[],async:(n=s==null?void 0:s.async)!==null&&n!==void 0?n:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tc(t)},a=this._parseSync({data:t,path:i.path,parent:i});return zE(i,a)}"~validate"(t){var s,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tc(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:i});return kh(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(s=a==null?void 0:a.message)===null||s===void 0?void 0:s.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(a=>kh(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(t,s){const n=await this.safeParseAsync(t,s);if(n.success)return n.data;throw n.error}async safeParseAsync(t,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tc(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Bx(i)?i:Promise.resolve(i));return zE(n,a)}refine(t,s){const n=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:Xe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,s){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof s=="function"?s(n,i):s),!1))}_refinement(t){return new Lo({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return yl.create(this,this._def)}nullable(){return eu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Po.create(this)}promise(){return Vm.create(this,this._def)}or(t){return Ux.create([this,t],this._def)}and(t){return Hx.create(this,t,this._def)}transform(t){return new Lo({...ss(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Kx({...ss(this._def),innerType:this,defaultValue:s,typeName:Ut.ZodDefault})}brand(){return new Lk({typeName:Ut.ZodBranded,type:this,...ss(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Zx({...ss(this._def),innerType:this,catchValue:s,typeName:Ut.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return B0.create(this,t)}readonly(){return Xx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const soe=/^c[^\s-]{8,}$/i,noe=/^[0-9a-z]+$/,roe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ioe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aoe=/^[a-z0-9_-]{21}$/i,ooe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,loe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,coe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,doe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dN;const uoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,foe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,moe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,poe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,goe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xoe=new RegExp(`^${yB}$`);function bB(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function voe(e){return new RegExp(`^${bB(e)}$`)}function wB(e){let t=`${yB}T${bB(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function yoe(e,t){return!!((t==="v4"||!t)&&uoe.test(e)||(t==="v6"||!t)&&foe.test(e))}function boe(e,t){if(!ooe.test(e))return!1;try{const[s]=e.split("."),n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function woe(e,t){return!!((t==="v4"||!t)&&hoe.test(e)||(t==="v6"||!t)&&moe.test(e))}class No extends cs{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const a=this._getOrReturnCtx(t);return ot(a,{code:Xe.invalid_type,expected:dt.string,received:a.parsedType}),qt}const n=new ci;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?ot(i,{code:Xe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ot(i,{code:Xe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")coe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"email",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")dN||(dN=new RegExp(doe,"u")),dN.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"emoji",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ioe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"uuid",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")aoe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"nanoid",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")soe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"cuid",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")noe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"cuid2",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")roe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"ulid",code:Xe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ot(i,{validation:"url",code:Xe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"regex",code:Xe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?wB(a).test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?xoe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?voe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?loe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"duration",code:Xe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?yoe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"ip",code:Xe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?boe(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"jwt",code:Xe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?woe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"cidr",code:Xe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?poe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"base64",code:Xe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?goe.test(t.data)||(i=this._getOrReturnCtx(t,i),ot(i,{validation:"base64url",code:Xe.invalid_string,message:a.message}),n.dirty()):ks.assertNever(a);return{status:n.value,value:t.data}}_regex(t,s,n){return this.refinement(i=>t.test(i),{validation:s,code:Xe.invalid_string,...wt.errToObj(n)})}_addCheck(t){return new No({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...wt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...wt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...wt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...wt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...wt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...wt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...wt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...wt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...wt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...wt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...wt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...wt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...wt.errToObj(t)})}datetime(t){var s,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(s=t==null?void 0:t.offset)!==null&&s!==void 0?s:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...wt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...wt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...wt.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...wt.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...wt.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...wt.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...wt.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...wt.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...wt.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...wt.errToObj(s)})}nonempty(t){return this.min(1,wt.errToObj(t))}trim(){return new No({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new No({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new No({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}No.create=e=>{var t;return new No({checks:[],typeName:Ut.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ss(e)})};function joe(e,t){const s=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=s>n?s:n,a=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Xd extends cs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const a=this._getOrReturnCtx(t);return ot(a,{code:Xe.invalid_type,expected:dt.number,received:a.parsedType}),qt}let n;const i=new ci;for(const a of this._def.checks)a.kind==="int"?ks.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?joe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.not_finite,message:a.message}),i.dirty()):ks.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,wt.toString(s))}gt(t,s){return this.setLimit("min",t,!1,wt.toString(s))}lte(t,s){return this.setLimit("max",t,!0,wt.toString(s))}lt(t,s){return this.setLimit("max",t,!1,wt.toString(s))}setLimit(t,s,n,i){return new Xd({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:n,message:wt.toString(i)}]})}_addCheck(t){return new Xd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:wt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:wt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ks.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Xd.create=e=>new Xd({checks:[],typeName:Ut.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ss(e)});class Qd extends cs{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==dt.bigint)return this._getInvalidInput(t);let n;const i=new ci;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Xe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ks.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return ot(s,{code:Xe.invalid_type,expected:dt.bigint,received:s.parsedType}),qt}gte(t,s){return this.setLimit("min",t,!0,wt.toString(s))}gt(t,s){return this.setLimit("min",t,!1,wt.toString(s))}lte(t,s){return this.setLimit("max",t,!0,wt.toString(s))}lt(t,s){return this.setLimit("max",t,!1,wt.toString(s))}setLimit(t,s,n,i){return new Qd({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:n,message:wt.toString(i)}]})}_addCheck(t){return new Qd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:wt.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Qd.create=e=>{var t;return new Qd({checks:[],typeName:Ut.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ss(e)})};class zx extends cs{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.boolean,received:n.parsedType}),qt}return ki(t.data)}}zx.create=e=>new zx({typeName:Ut.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ss(e)});class _h extends cs{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const a=this._getOrReturnCtx(t);return ot(a,{code:Xe.invalid_type,expected:dt.date,received:a.parsedType}),qt}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ot(a,{code:Xe.invalid_date}),qt}const n=new ci;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),ot(i,{code:Xe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ks.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _h({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:wt.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:wt.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}_h.create=e=>new _h({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ut.ZodDate,...ss(e)});class ub extends cs{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.symbol,received:n.parsedType}),qt}return ki(t.data)}}ub.create=e=>new ub({typeName:Ut.ZodSymbol,...ss(e)});class Vx extends cs{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.undefined,received:n.parsedType}),qt}return ki(t.data)}}Vx.create=e=>new Vx({typeName:Ut.ZodUndefined,...ss(e)});class $x extends cs{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.null,received:n.parsedType}),qt}return ki(t.data)}}$x.create=e=>new $x({typeName:Ut.ZodNull,...ss(e)});class zm extends cs{constructor(){super(...arguments),this._any=!0}_parse(t){return ki(t.data)}}zm.create=e=>new zm({typeName:Ut.ZodAny,...ss(e)});class lh extends cs{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ki(t.data)}}lh.create=e=>new lh({typeName:Ut.ZodUnknown,...ss(e)});class Nc extends cs{_parse(t){const s=this._getOrReturnCtx(t);return ot(s,{code:Xe.invalid_type,expected:dt.never,received:s.parsedType}),qt}}Nc.create=e=>new Nc({typeName:Ut.ZodNever,...ss(e)});class hb extends cs{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.void,received:n.parsedType}),qt}return ki(t.data)}}hb.create=e=>new hb({typeName:Ut.ZodVoid,...ss(e)});class Po extends cs{_parse(t){const{ctx:s,status:n}=this._processInputParams(t),i=this._def;if(s.parsedType!==dt.array)return ot(s,{code:Xe.invalid_type,expected:dt.array,received:s.parsedType}),qt;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,l=s.data.length<i.exactLength.value;(o||l)&&(ot(s,{code:o?Xe.too_big:Xe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(ot(s,{code:Xe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(ot(s,{code:Xe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>i.type._parseAsync(new Nl(s,o,s.path,l)))).then(o=>ci.mergeArray(n,o));const a=[...s.data].map((o,l)=>i.type._parseSync(new Nl(s,o,s.path,l)));return ci.mergeArray(n,a)}get element(){return this._def.type}min(t,s){return new Po({...this._def,minLength:{value:t,message:wt.toString(s)}})}max(t,s){return new Po({...this._def,maxLength:{value:t,message:wt.toString(s)}})}length(t,s){return new Po({...this._def,exactLength:{value:t,message:wt.toString(s)}})}nonempty(t){return this.min(1,t)}}Po.create=(e,t)=>new Po({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...ss(t)});function yf(e){if(e instanceof jn){const t={};for(const s in e.shape){const n=e.shape[s];t[s]=yl.create(yf(n))}return new jn({...e._def,shape:()=>t})}else return e instanceof Po?new Po({...e._def,type:yf(e.element)}):e instanceof yl?yl.create(yf(e.unwrap())):e instanceof eu?eu.create(yf(e.unwrap())):e instanceof Sl?Sl.create(e.items.map(t=>yf(t))):e}class jn extends cs{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=ks.objectKeys(t);return this._cached={shape:t,keys:s}}_parse(t){if(this._getType(t)!==dt.object){const d=this._getOrReturnCtx(t);return ot(d,{code:Xe.invalid_type,expected:dt.object,received:d.parsedType}),qt}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Nc&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Nl(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Nc){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(ot(i,{code:Xe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Nl(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>ci.mergeObjectSync(n,d)):ci.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return wt.errToObj,new jn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,n)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,s,n).message)!==null&&o!==void 0?o:n.defaultError;return s.code==="unrecognized_keys"?{message:(l=wt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(t){return new jn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new jn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ut.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new jn({...this._def,catchall:t})}pick(t){const s={};return ks.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(s[n]=this.shape[n])}),new jn({...this._def,shape:()=>s})}omit(t){const s={};return ks.objectKeys(this.shape).forEach(n=>{t[n]||(s[n]=this.shape[n])}),new jn({...this._def,shape:()=>s})}deepPartial(){return yf(this)}partial(t){const s={};return ks.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?s[n]=i:s[n]=i.optional()}),new jn({...this._def,shape:()=>s})}required(t){const s={};return ks.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])s[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof yl;)a=a._def.innerType;s[n]=a}}),new jn({...this._def,shape:()=>s})}keyof(){return jB(ks.objectKeys(this.shape))}}jn.create=(e,t)=>new jn({shape:()=>e,unknownKeys:"strip",catchall:Nc.create(),typeName:Ut.ZodObject,...ss(t)});jn.strictCreate=(e,t)=>new jn({shape:()=>e,unknownKeys:"strict",catchall:Nc.create(),typeName:Ut.ZodObject,...ss(t)});jn.lazycreate=(e,t)=>new jn({shape:e,unknownKeys:"strip",catchall:Nc.create(),typeName:Ut.ZodObject,...ss(t)});class Ux extends cs{_parse(t){const{ctx:s}=this._processInputParams(t),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ja(l.ctx.common.issues));return ot(s,{code:Xe.invalid_union,unionErrors:o}),qt}if(s.common.async)return Promise.all(n.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ja(c));return ot(s,{code:Xe.invalid_union,unionErrors:l}),qt}}get options(){return this._def.options}}Ux.create=(e,t)=>new Ux({options:e,typeName:Ut.ZodUnion,...ss(t)});const Gl=e=>e instanceof Wx?Gl(e.schema):e instanceof Lo?Gl(e.innerType()):e instanceof Yx?[e.value]:e instanceof Jd?e.options:e instanceof Gx?ks.objectValues(e.enum):e instanceof Kx?Gl(e._def.innerType):e instanceof Vx?[void 0]:e instanceof $x?[null]:e instanceof yl?[void 0,...Gl(e.unwrap())]:e instanceof eu?[null,...Gl(e.unwrap())]:e instanceof Lk||e instanceof Xx?Gl(e.unwrap()):e instanceof Zx?Gl(e._def.innerType):[];class $2 extends cs{_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==dt.object)return ot(s,{code:Xe.invalid_type,expected:dt.object,received:s.parsedType}),qt;const n=this.discriminator,i=s.data[n],a=this.optionsMap.get(i);return a?s.common.async?a._parseAsync({data:s.data,path:s.path,parent:s}):a._parseSync({data:s.data,path:s.path,parent:s}):(ot(s,{code:Xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,s,n){const i=new Map;for(const a of s){const o=Gl(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new $2({typeName:Ut.ZodDiscriminatedUnion,discriminator:t,options:s,optionsMap:i,...ss(n)})}}function BS(e,t){const s=tc(e),n=tc(t);if(e===t)return{valid:!0,data:e};if(s===dt.object&&n===dt.object){const i=ks.objectKeys(t),a=ks.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=BS(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===dt.array&&n===dt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=BS(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return s===dt.date&&n===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Hx extends cs{_parse(t){const{status:s,ctx:n}=this._processInputParams(t),i=(a,o)=>{if(IS(a)||IS(o))return qt;const l=BS(a.value,o.value);return l.valid?((FS(a)||FS(o))&&s.dirty(),{status:s.value,value:l.data}):(ot(n,{code:Xe.invalid_intersection_types}),qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Hx.create=(e,t,s)=>new Hx({left:e,right:t,typeName:Ut.ZodIntersection,...ss(s)});class Sl extends cs{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.array)return ot(n,{code:Xe.invalid_type,expected:dt.array,received:n.parsedType}),qt;if(n.data.length<this._def.items.length)return ot(n,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qt;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Nl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>ci.mergeArray(s,o)):ci.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Sl({...this._def,rest:t})}}Sl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sl({items:e,typeName:Ut.ZodTuple,rest:null,...ss(t)})};class qx extends cs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return ot(n,{code:Xe.invalid_type,expected:dt.object,received:n.parsedType}),qt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new Nl(n,l,n.path,l)),value:o._parse(new Nl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?ci.mergeObjectAsync(s,i):ci.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(t,s,n){return s instanceof cs?new qx({keyType:t,valueType:s,typeName:Ut.ZodRecord,...ss(n)}):new qx({keyType:No.create(),valueType:t,typeName:Ut.ZodRecord,...ss(s)})}}class fb extends cs{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.map)return ot(n,{code:Xe.invalid_type,expected:dt.map,received:n.parsedType}),qt;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:i._parse(new Nl(n,l,n.path,[d,"key"])),value:a._parse(new Nl(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return qt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return qt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),l.set(d.value,u.value)}return{status:s.value,value:l}}}}fb.create=(e,t,s)=>new fb({valueType:t,keyType:e,typeName:Ut.ZodMap,...ss(s)});class Ph extends cs{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.set)return ot(n,{code:Xe.invalid_type,expected:dt.set,received:n.parsedType}),qt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ot(n,{code:Xe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ot(n,{code:Xe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return qt;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new Nl(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,s){return new Ph({...this._def,minSize:{value:t,message:wt.toString(s)}})}max(t,s){return new Ph({...this._def,maxSize:{value:t,message:wt.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}Ph.create=(e,t)=>new Ph({valueType:e,minSize:null,maxSize:null,typeName:Ut.ZodSet,...ss(t)});class tm extends cs{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==dt.function)return ot(s,{code:Xe.invalid_type,expected:dt.function,received:s.parsedType}),qt;function n(l,c){return cb({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,lb(),Bm].filter(d=>!!d),issueData:{code:Xe.invalid_arguments,argumentsError:c}})}function i(l,c){return cb({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,lb(),Bm].filter(d=>!!d),issueData:{code:Xe.invalid_return_type,returnTypeError:c}})}const a={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof Vm){const l=this;return ki(async function(...c){const d=new ja([]),u=await l._def.args.parseAsync(c,a).catch(f=>{throw d.addIssue(n(c,f)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(f=>{throw d.addIssue(i(h,f)),d})})}else{const l=this;return ki(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new ja([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new ja([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new tm({...this._def,args:Sl.create(t).rest(lh.create())})}returns(t){return new tm({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,s,n){return new tm({args:t||Sl.create([]).rest(lh.create()),returns:s||lh.create(),typeName:Ut.ZodFunction,...ss(n)})}}class Wx extends cs{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Wx.create=(e,t)=>new Wx({getter:e,typeName:Ut.ZodLazy,...ss(t)});class Yx extends cs{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return ot(s,{received:s.data,code:Xe.invalid_literal,expected:this._def.value}),qt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Yx.create=(e,t)=>new Yx({value:e,typeName:Ut.ZodLiteral,...ss(t)});function jB(e,t){return new Jd({values:e,typeName:Ut.ZodEnum,...ss(t)})}class Jd extends cs{constructor(){super(...arguments),Pg.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),n=this._def.values;return ot(s,{expected:ks.joinValues(n),received:s.parsedType,code:Xe.invalid_type}),qt}if(db(this,Pg)||vB(this,Pg,new Set(this._def.values)),!db(this,Pg).has(t.data)){const s=this._getOrReturnCtx(t),n=this._def.values;return ot(s,{received:s.data,code:Xe.invalid_enum_value,options:n}),qt}return ki(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Jd.create(t,{...this._def,...s})}exclude(t,s=this._def){return Jd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...s})}}Pg=new WeakMap;Jd.create=jB;class Gx extends cs{constructor(){super(...arguments),Ag.set(this,void 0)}_parse(t){const s=ks.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==dt.string&&n.parsedType!==dt.number){const i=ks.objectValues(s);return ot(n,{expected:ks.joinValues(i),received:n.parsedType,code:Xe.invalid_type}),qt}if(db(this,Ag)||vB(this,Ag,new Set(ks.getValidEnumValues(this._def.values))),!db(this,Ag).has(t.data)){const i=ks.objectValues(s);return ot(n,{received:n.data,code:Xe.invalid_enum_value,options:i}),qt}return ki(t.data)}get enum(){return this._def.values}}Ag=new WeakMap;Gx.create=(e,t)=>new Gx({values:e,typeName:Ut.ZodNativeEnum,...ss(t)});class Vm extends cs{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==dt.promise&&s.common.async===!1)return ot(s,{code:Xe.invalid_type,expected:dt.promise,received:s.parsedType}),qt;const n=s.parsedType===dt.promise?s.data:Promise.resolve(s.data);return ki(n.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Vm.create=(e,t)=>new Vm({type:e,typeName:Ut.ZodPromise,...ss(t)});class Lo extends cs{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{ot(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return qt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?qt:c.status==="dirty"||s.value==="dirty"?Rf(c.value):c});{if(s.value==="aborted")return qt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?qt:l.status==="dirty"||s.value==="dirty"?Rf(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?qt:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?qt:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!kh(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>kh(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:s.value,value:l})):o);ks.assertNever(i)}}Lo.create=(e,t,s)=>new Lo({schema:e,typeName:Ut.ZodEffects,effect:t,...ss(s)});Lo.createWithPreprocess=(e,t,s)=>new Lo({schema:t,effect:{type:"preprocess",transform:e},typeName:Ut.ZodEffects,...ss(s)});class yl extends cs{_parse(t){return this._getType(t)===dt.undefined?ki(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yl.create=(e,t)=>new yl({innerType:e,typeName:Ut.ZodOptional,...ss(t)});class eu extends cs{_parse(t){return this._getType(t)===dt.null?ki(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}eu.create=(e,t)=>new eu({innerType:e,typeName:Ut.ZodNullable,...ss(t)});class Kx extends cs{_parse(t){const{ctx:s}=this._processInputParams(t);let n=s.data;return s.parsedType===dt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Kx.create=(e,t)=>new Kx({innerType:e,typeName:Ut.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ss(t)});class Zx extends cs{_parse(t){const{ctx:s}=this._processInputParams(t),n={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Bx(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ja(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Zx.create=(e,t)=>new Zx({innerType:e,typeName:Ut.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ss(t)});class mb extends cs{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return ot(n,{code:Xe.invalid_type,expected:dt.nan,received:n.parsedType}),qt}return{status:"valid",value:t.data}}}mb.create=e=>new mb({typeName:Ut.ZodNaN,...ss(e)});const Noe=Symbol("zod_brand");class Lk extends cs{_parse(t){const{ctx:s}=this._processInputParams(t),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class B0 extends cs{_parse(t){const{status:s,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?qt:a.status==="dirty"?(s.dirty(),Rf(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?qt:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,s){return new B0({in:t,out:s,typeName:Ut.ZodPipeline})}}class Xx extends cs{_parse(t){const s=this._def.innerType._parse(t),n=i=>(kh(i)&&(i.value=Object.freeze(i.value)),i);return Bx(s)?s.then(i=>n(i)):n(s)}unwrap(){return this._def.innerType}}Xx.create=(e,t)=>new Xx({innerType:e,typeName:Ut.ZodReadonly,...ss(t)});function VE(e,t){const s=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof s=="string"?{message:s}:s}function NB(e,t={},s){return e?zm.create().superRefine((n,i)=>{var a,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=VE(t,n),m=(u=(d=h.fatal)!==null&&d!==void 0?d:s)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...h,fatal:m})}});if(!l){const c=VE(t,n),d=(o=(a=c.fatal)!==null&&a!==void 0?a:s)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:d})}}):zm.create()}const Soe={object:jn.lazycreate};var Ut;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ut||(Ut={}));const Coe=(e,t={message:`Input not instance of ${e.name}`})=>NB(s=>s instanceof e,t),SB=No.create,CB=Xd.create,koe=mb.create,_oe=Qd.create,kB=zx.create,Poe=_h.create,Aoe=ub.create,Eoe=Vx.create,Toe=$x.create,Moe=zm.create,Roe=lh.create,Loe=Nc.create,Doe=hb.create,Ooe=Po.create,Ioe=jn.create,Foe=jn.strictCreate,Boe=Ux.create,zoe=$2.create,Voe=Hx.create,$oe=Sl.create,Uoe=qx.create,Hoe=fb.create,qoe=Ph.create,Woe=tm.create,Yoe=Wx.create,Goe=Yx.create,Koe=Jd.create,Zoe=Gx.create,Xoe=Vm.create,$E=Lo.create,Qoe=yl.create,Joe=eu.create,ele=Lo.createWithPreprocess,tle=B0.create,sle=()=>SB().optional(),nle=()=>CB().optional(),rle=()=>kB().optional(),ile={string:e=>No.create({...e,coerce:!0}),number:e=>Xd.create({...e,coerce:!0}),boolean:e=>zx.create({...e,coerce:!0}),bigint:e=>Qd.create({...e,coerce:!0}),date:e=>_h.create({...e,coerce:!0})},ale=qt;var rt=Object.freeze({__proto__:null,defaultErrorMap:Bm,setErrorMap:eoe,getErrorMap:lb,makeIssue:cb,EMPTY_PATH:toe,addIssueToContext:ot,ParseStatus:ci,INVALID:qt,DIRTY:Rf,OK:ki,isAborted:IS,isDirty:FS,isValid:kh,isAsync:Bx,get util(){return ks},get objectUtil(){return OS},ZodParsedType:dt,getParsedType:tc,ZodType:cs,datetimeRegex:wB,ZodString:No,ZodNumber:Xd,ZodBigInt:Qd,ZodBoolean:zx,ZodDate:_h,ZodSymbol:ub,ZodUndefined:Vx,ZodNull:$x,ZodAny:zm,ZodUnknown:lh,ZodNever:Nc,ZodVoid:hb,ZodArray:Po,ZodObject:jn,ZodUnion:Ux,ZodDiscriminatedUnion:$2,ZodIntersection:Hx,ZodTuple:Sl,ZodRecord:qx,ZodMap:fb,ZodSet:Ph,ZodFunction:tm,ZodLazy:Wx,ZodLiteral:Yx,ZodEnum:Jd,ZodNativeEnum:Gx,ZodPromise:Vm,ZodEffects:Lo,ZodTransformer:Lo,ZodOptional:yl,ZodNullable:eu,ZodDefault:Kx,ZodCatch:Zx,ZodNaN:mb,BRAND:Noe,ZodBranded:Lk,ZodPipeline:B0,ZodReadonly:Xx,custom:NB,Schema:cs,ZodSchema:cs,late:Soe,get ZodFirstPartyTypeKind(){return Ut},coerce:ile,any:Moe,array:Ooe,bigint:_oe,boolean:kB,date:Poe,discriminatedUnion:zoe,effect:$E,enum:Koe,function:Woe,instanceof:Coe,intersection:Voe,lazy:Yoe,literal:Goe,map:Hoe,nan:koe,nativeEnum:Zoe,never:Loe,null:Toe,nullable:Joe,number:CB,object:Ioe,oboolean:rle,onumber:nle,optional:Qoe,ostring:sle,pipeline:tle,preprocess:ele,promise:Xoe,record:Uoe,set:qoe,strictObject:Foe,string:SB,symbol:Aoe,transformer:$E,tuple:$oe,undefined:Eoe,union:Boe,unknown:Roe,void:Doe,NEVER:ale,ZodIssueCode:Xe,quotelessJson:Jae,ZodError:ja});const ole=rt.object({providerType:rt.enum(["individual","company"]),firstName:rt.string().min(2,"First name is required"),lastName:rt.string().min(2,"Last name is required"),email:rt.string().email("Valid email is required"),phone:rt.string().min(10,"Valid phone number is required"),companyName:rt.string().optional(),companyRegistration:rt.string().optional(),taxNumber:rt.string().optional(),bio:rt.string().min(50,"Please provide a detailed bio (minimum 50 characters)"),servicesOffered:rt.array(rt.string()).min(1,"Please select at least one service"),experience:rt.string().min(20,"Please describe your experience"),hourlyRate:rt.string().min(1,"Hourly rate is required"),location:rt.string().min(5,"Location is required"),hasInsurance:rt.boolean(),backgroundCheckConsent:rt.boolean().refine(e=>e===!0,{message:"Background check consent is required"}),bankAccountNumber:rt.string().min(8,"Bank account number is required"),bankName:rt.string().min(2,"Bank name is required"),branchCode:rt.string().min(6,"Branch code is required"),accountHolder:rt.string().min(2,"Account holder name is required")});function lle({isOpen:e,onClose:t}){const[s,n]=j.useState(1),[i,a]=j.useState({idDocument:null,qualificationCert:null,companyRegDoc:null}),[o,l]=j.useState(!1);j.useState(!1),j.useRef(null);const{toast:c}=us(),d=Ja(),u=z2({resolver:V2(ole),defaultValues:{providerType:"individual",servicesOffered:[],hasInsurance:!1,backgroundCheckConsent:!1}}),h=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),m=[{id:"house-cleaning",name:"House Cleaning",rate:"R280/hour"},{id:"chef-catering",name:"Chef & Catering",rate:"R550/event"},{id:"waitering",name:"Waitering Services",rate:"R180/hour"},{id:"plumbing",name:"Plumbing",rate:"R380/hour"},{id:"electrical",name:"Electrical",rate:"R420/hour"},{id:"garden-care",name:"Garden Care",rate:"R320/hour"}],f=os({mutationFn:async x=>pn("POST","/api/provider-applications",x),onSuccess:()=>{l(!0),d.invalidateQueries({queryKey:["/api/providers"]}),c({title:"Application Submitted!",description:"We'll review your application within 24-48 hours."})},onError:x=>{c({title:"Submission Failed",description:"Please check your information and try again.",variant:"destructive"})}}),g=async(x,y)=>{const w=new FormData;w.append("file",x),w.append("type",y);try{const S=`https://storage.berry-events.com/documents/${y}-${Date.now()}.jpg`;a(C=>({...C,[y]:S})),c({title:"Document Uploaded",description:`${y} uploaded successfully`})}catch{c({title:"Upload Failed",description:"Please try uploading again",variant:"destructive"})}},p=x=>{if(h){const y=document.createElement("input");y.type="file",y.accept="image/*",y.capture="environment",y.onchange=w=>{var C;const S=(C=w.target.files)==null?void 0:C[0];S&&g(S,x)},y.click()}else{const y=document.createElement("input");y.type="file",y.accept="image/*,application/pdf",y.onchange=w=>{var C;const S=(C=w.target.files)==null?void 0:C[0];S&&g(S,x)},y.click()}},b=x=>{if(s<4){n(s+1);return}f.mutate({...x,documents:i})};return e?o?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx(oe,{className:"w-full max-w-md",children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx($t,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Application Submitted!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for applying to become a Berry Events service provider. We'll review your application within 24-48 hours."}),r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Review Time: 24-48 hours"]}),r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),"Email & SMS updates included"]}),r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),"Questions? Call +27 11 123 4567"]})]}),r.jsx(K,{onClick:t,className:"mt-6 w-full",children:"Close"})]})})}):r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs(oe,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center",children:[r.jsx(yn,{className:"h-6 w-6 mr-2"}),"Become a Berry Events Provider"]}),r.jsx("div",{className:"flex space-x-2",children:[1,2,3,4].map(x=>r.jsx("div",{className:`h-2 flex-1 rounded ${x<=s?"bg-primary":"bg-gray-200"}`},x))}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",s," of 4 -",s===1&&" Basic Information",s===2&&" Service Details",s===3&&" Document Verification",s===4&&" Banking & Final Details"]})]}),r.jsx(le,{children:r.jsxs("form",{onSubmit:u.handleSubmit(b),className:"space-y-6",children:[s===1&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Provider Type"}),r.jsxs(Dt,{onValueChange:x=>u.setValue("providerType",x),defaultValue:"individual",children:[r.jsx(Mt,{children:r.jsx(Ot,{})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"individual",children:"Individual Provider"}),r.jsx(Ee,{value:"company",children:"Company/Business"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"firstName",children:"First Name"}),r.jsx(He,{...u.register("firstName")}),u.formState.errors.firstName&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.firstName.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),r.jsx(He,{...u.register("lastName")}),u.formState.errors.lastName&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.lastName.message})]})]}),u.watch("providerType")==="company"&&r.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"companyName",children:"Company Name"}),r.jsx(He,{...u.register("companyName")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"companyRegistration",children:"Company Registration"}),r.jsx(He,{...u.register("companyRegistration")})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"taxNumber",children:"Tax Number"}),r.jsx(He,{...u.register("taxNumber")})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsx(He,{type:"email",...u.register("email")}),u.formState.errors.email&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.email.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),r.jsx(He,{...u.register("phone")}),u.formState.errors.phone&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.phone.message})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"location",children:"Location (City/Area)"}),r.jsx(He,{...u.register("location"),placeholder:"e.g., Johannesburg, Sandton"}),u.formState.errors.location&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.location.message})]})]}),s===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Services You Offer"}),r.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:m.map(x=>r.jsxs("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx(Bi,{checked:u.watch("servicesOffered").includes(x.id),onCheckedChange:y=>{const w=u.watch("servicesOffered");y?u.setValue("servicesOffered",[...w,x.id]):u.setValue("servicesOffered",w.filter(S=>S!==x.id))}}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-sm",children:x.name}),r.jsx("div",{className:"text-xs text-gray-500",children:x.rate})]})]},x.id))}),u.formState.errors.servicesOffered&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.servicesOffered.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"hourlyRate",children:"Your Hourly Rate (ZAR)"}),r.jsx(He,{type:"number",...u.register("hourlyRate"),placeholder:"e.g., 280"}),u.formState.errors.hourlyRate&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.hourlyRate.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"experience",children:"Experience & Qualifications"}),r.jsx(Ca,{...u.register("experience"),placeholder:"Describe your relevant experience, qualifications, and specializations...",rows:4}),u.formState.errors.experience&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.experience.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bio",children:"Professional Bio"}),r.jsx(Ca,{...u.register("bio"),placeholder:"Write a professional bio that customers will see on your profile...",rows:4}),u.formState.errors.bio&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.bio.message})]})]}),s===3&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Document Verification"}),r.jsx("p",{className:"text-gray-600",children:h?"Use your camera to capture documents":"Upload clear photos or PDFs of your documents"})]}),r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"South African ID or Passport"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Required for identity verification"})]}),i.idDocument?r.jsx($t,{className:"h-6 w-6 text-green-500"}):r.jsx("div",{className:"text-red-500 text-sm",children:"Required"})]}),r.jsxs(K,{type:"button",variant:"outline",onClick:()=>p("idDocument"),className:"w-full",children:[h?r.jsx(Yg,{className:"h-4 w-4 mr-2"}):r.jsx(yd,{className:"h-4 w-4 mr-2"}),i.idDocument?"Re-upload ID Document":h?"Capture ID Document":"Upload ID Document"]})]}),r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Qualification Certificate"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Relevant training or certification"})]}),i.qualificationCert?r.jsx($t,{className:"h-6 w-6 text-green-500"}):r.jsx("div",{className:"text-orange-500 text-sm",children:"Optional"})]}),r.jsxs(K,{type:"button",variant:"outline",onClick:()=>p("qualificationCert"),className:"w-full",children:[h?r.jsx(Yg,{className:"h-4 w-4 mr-2"}):r.jsx(yd,{className:"h-4 w-4 mr-2"}),i.qualificationCert?"Re-upload Certificate":h?"Capture Certificate":"Upload Certificate"]})]}),u.watch("providerType")==="company"&&r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Company Registration Document"}),r.jsx("p",{className:"text-sm text-gray-600",children:"CIPC registration certificate"})]}),i.companyRegDoc?r.jsx($t,{className:"h-6 w-6 text-green-500"}):r.jsx("div",{className:"text-red-500 text-sm",children:"Required"})]}),r.jsxs(K,{type:"button",variant:"outline",onClick:()=>p("companyRegDoc"),className:"w-full",children:[h?r.jsx(Yg,{className:"h-4 w-4 mr-2"}):r.jsx(yd,{className:"h-4 w-4 mr-2"}),i.companyRegDoc?"Re-upload Registration":h?"Capture Registration":"Upload Registration"]})]}),r.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:r.jsxs("div",{className:"flex items-center",children:[h?r.jsx(vh,{className:"h-4 w-4 mr-2"}):r.jsx(yd,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"text-sm",children:h?"Mobile detected - Camera capture enabled for easy document upload":"Desktop detected - File upload available for documents and images"})]})})]}),s===4&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Cr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Banking Details"}),r.jsx("p",{className:"text-gray-600",children:"For secure payment distribution after service completion"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bankName",children:"Bank Name"}),r.jsx(He,{...u.register("bankName"),placeholder:"e.g., FNB, Standard Bank"}),u.formState.errors.bankName&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.bankName.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"branchCode",children:"Branch Code"}),r.jsx(He,{...u.register("branchCode"),placeholder:"e.g., 250655"}),u.formState.errors.branchCode&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.branchCode.message})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bankAccountNumber",children:"Account Number"}),r.jsx(He,{...u.register("bankAccountNumber"),placeholder:"Your bank account number"}),u.formState.errors.bankAccountNumber&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.bankAccountNumber.message})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"accountHolder",children:"Account Holder Name"}),r.jsx(He,{...u.register("accountHolder"),placeholder:"Full name as on bank account"}),u.formState.errors.accountHolder&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.accountHolder.message})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-start space-x-3",children:[r.jsx(Bi,{checked:u.watch("hasInsurance"),onCheckedChange:x=>u.setValue("hasInsurance",!!x)}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"I have professional indemnity insurance"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Recommended for additional customer protection"})]})]}),r.jsxs("label",{className:"flex items-start space-x-3",children:[r.jsx(Bi,{checked:u.watch("backgroundCheckConsent"),onCheckedChange:x=>u.setValue("backgroundCheckConsent",!!x)}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"I consent to a background check"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Required for platform verification and customer trust"})]})]}),u.formState.errors.backgroundCheckConsent&&r.jsx("p",{className:"text-red-500 text-sm",children:u.formState.errors.backgroundCheckConsent.message})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Payment Structure"}),r.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[r.jsx("li",{children:" All payments go through Berry Events Bank first"}),r.jsx("li",{children:" Funds released to you after successful service completion"}),r.jsx("li",{children:" 15% platform fee deducted (competitive industry rate)"}),r.jsx("li",{children:" Payments processed within 2-3 business days"})]})]})]}),r.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[r.jsx(K,{type:"button",variant:"outline",onClick:()=>s>1?n(s-1):t(),children:s>1?"Previous":"Cancel"}),r.jsx(K,{type:"submit",disabled:f.isPending,className:"min-w-[120px]",children:f.isPending?"Submitting...":s<4?"Next Step":"Submit Application"})]})]})})]})}):null}function cle(){const[e,t]=j.useState(!1),[s,n]=j.useState(""),[i,a]=j.useState(!1),[o,l]=j.useState([]),[c,d]=j.useState([]),[u,h]=j.useState([]),m=f=>{if(f&&f!=="all-services"){if(o.includes(f)){alert(`You've already booked ${f.replace("-"," ")} in this session. Please choose a different service.`);return}n(f)}else n("");t(!0)};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(ite,{onBookingClick:()=>m("all-services")}),r.jsxs("main",{children:[r.jsx(ote,{onBookingClick:()=>m("all-services")}),r.jsx(lte,{onServiceSelect:m}),r.jsx(fte,{}),r.jsx(lk,{onBookService:m}),r.jsx(ok,{})]}),r.jsx(bh,{}),r.jsx(du,{isOpen:e,onClose:()=>{t(!1),n("")},serviceId:s,onServiceSelect:f=>n(f),onBookingComplete:f=>{console.log("Payment completed for all services:",f);const g=[...c,f];h(g),d([]),l([]),t(!1),n("")},bookedServices:o,pendingDrafts:c,onAddAnotherService:f=>{console.log("Adding service to pending drafts:",f),d(g=>[...g,f]),f.serviceId&&!o.includes(f.serviceId)&&l(g=>[...g,f.serviceId]),t(!1),n("")}}),i&&r.jsx(lle,{isOpen:i,onClose:()=>a(!1)})]})}var _B={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=it.createContext&&it.createContext(_B),dle=["attr","size","title"];function ule(e,t){if(e==null)return{};var s=hle(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function hle(e,t){if(e==null)return{};var s={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;s[n]=e[n]}return s}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},pb.apply(this,arguments)}function HE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function gb(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(s),!0).forEach(function(n){fle(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):HE(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function fle(e,t,s){return t=mle(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function mle(e){var t=ple(e,"string");return typeof t=="symbol"?t:t+""}function ple(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var n=s.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PB(e){return e&&e.map((t,s)=>it.createElement(t.tag,gb({key:s},t.attr),PB(t.child)))}function U2(e){return t=>it.createElement(gle,pb({attr:gb({},e.attr)},t),PB(e.child))}function gle(e){var t=s=>{var{attr:n,size:i,title:a}=e,o=ule(e,dle),l=i||s.size||"1em",c;return s.className&&(c=s.className),e.className&&(c=(c?c+" ":"")+e.className),it.createElement("svg",pb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,o,{className:c,style:gb(gb({color:e.color||s.color},s.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&it.createElement("title",null,a),e.children)};return UE!==void 0?it.createElement(UE.Consumer,null,s=>t(s)):t(_B)}function AB(e){return U2({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function EB(e){return U2({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function TB(e){return U2({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function MB(e){return U2({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function xle({isOpen:e,onClose:t,onSuccess:s,message:n}){const[i,a]=j.useState(!0),[o,l]=j.useState(!1);nr();const{login:c,refreshUser:d}=S0(),[u,h]=j.useState(!1),[m,f]=j.useState({email:"",password:"",rememberMe:!1}),{toast:g}=us(),p=[{name:"Google",icon:EB,color:"bg-red-500 hover:bg-red-600",provider:"google"},{name:"Apple ID",icon:AB,color:"bg-gray-900 hover:bg-black",provider:"apple"},{name:"Twitter",icon:MB,color:"bg-blue-500 hover:bg-blue-600",provider:"twitter"},{name:"Instagram",icon:TB,color:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",provider:"instagram"}],b=async C=>{if(C.preventDefault(),!m.email||!m.password){g({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"});return}try{h(!0),await c(m.email,m.password),g({title:"Login Successful",description:"Welcome back!"}),d(),s&&s({email:m.email}),t()}catch(L){g({title:"Login Failed",description:L.message||"Invalid email or password",variant:"destructive"})}finally{h(!1)}};os({mutationFn:async C=>await Ha.register(C),onSuccess:C=>{g({title:"Registration Successful",description:`Welcome to Berry Events, ${C.user.firstName||"User"}!`}),s==null||s(C.user),t()},onError:C=>{g({title:"Registration Failed",description:C.message||"Registration failed. Please try again.",variant:"destructive"})}});const x=os({mutationFn:async C=>new Promise((L,R)=>{const M=window.open(`/api/auth/${C}`,`${C}_auth`,"width=500,height=600,scrollbars=yes,resizable=yes");if(!M){R(new Error("Popup blocked. Please allow popups and try again."));return}const D=E=>{if(E.origin===window.location.origin)try{const T=typeof E.data=="string"?JSON.parse(E.data):E.data;if(T.type==="SOCIAL_LOGIN_SUCCESS"&&T.payload){const q=T.payload;localStorage.setItem("accessToken",q.accessToken),q.refreshToken&&localStorage.setItem("refreshToken",q.refreshToken),window.removeEventListener("message",D),L(q)}else T.type==="SOCIAL_LOGIN_ERROR"&&(window.removeEventListener("message",D),R(new Error(T.error||"Social authentication failed")))}catch{R(new Error("Authentication failed"))}},$=setInterval(()=>{M.closed&&(clearInterval($),window.removeEventListener("message",D),R(new Error("Authentication cancelled")))},1e3);window.addEventListener("message",D)}),onSuccess:C=>{g({title:"Login Successful",description:`Welcome, ${C.user.firstName}! You're now logged in.`}),s&&s(C.user),t()},onError:C=>{g({title:"Social Login Failed",description:C.message||"Social login failed. Please try again.",variant:"destructive"})}}),y=async C=>{if(C.preventDefault(),!i&&m.password!==m.confirmPassword){g({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}i?await b(C):(t(),window.location.href="/auth")},w=C=>{x.mutate(C)},S=(C,L)=>{f(R=>({...R,[C]:L}))};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-md max-h-[95vh] overflow-y-auto","aria-describedby":"auth-modal-description","data-testid":"auth-modal",children:[r.jsxs(Bn,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(_n,{className:"text-2xl font-bold",children:i?"Sign In":"Create Account"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:t,"data-testid":"close-auth-modal",children:r.jsx(to,{className:"h-4 w-4"})})]}),r.jsx(_o,{className:"text-center text-gray-600",children:i?"Welcome back! Sign in to access your Berry Events account.":"Join Berry Events to book premium home services in South Africa."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-gray-600 text-center",children:i?"Sign in with your preferred account":"Create account with your preferred platform"}),r.jsx("div",{className:"grid grid-cols-2 gap-3",children:p.map(C=>{const L=C.icon;return r.jsxs(K,{variant:"outline",onClick:()=>w(C.provider),className:`h-12 ${C.color} text-white border-0 hover:text-white transition-colors`,"data-testid":`social-login-${C.provider}`,disabled:x.isPending,children:[r.jsx(L,{className:"h-5 w-5 mr-2"}),C.name]},C.provider)})})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(Pn,{className:"flex-1"}),r.jsx("span",{className:"text-sm text-gray-500",children:"or continue with email"}),r.jsx(Pn,{className:"flex-1"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!i&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"firstName",children:"First Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",value:m.firstName,onChange:C=>S("firstName",C.target.value),required:!i,"data-testid":"input-firstName"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",value:m.lastName,onChange:C=>S("lastName",C.target.value),required:!i,"data-testid":"input-lastName"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-10",value:m.email,onChange:C=>S("email",C.target.value),required:!0,"data-testid":"input-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"password",type:o?"text":"password",placeholder:"Enter your password",className:"pl-10 pr-10",value:m.password,onChange:C=>S("password",C.target.value),required:!0,"data-testid":"input-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>l(!o),"data-testid":"toggle-password",children:o?r.jsx(qy,{className:"h-4 w-4"}):r.jsx(Gg,{className:"h-4 w-4"})})]})]}),!i&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"confirmPassword",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"confirmPassword",type:o?"text":"password",placeholder:"Confirm your password",className:"pl-10",value:m.confirmPassword,onChange:C=>S("confirmPassword",C.target.value),required:!0,"data-testid":"input-confirmPassword"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(xn,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"phone",type:"tel",placeholder:"+27 XX XXX XXXX",className:"pl-10",value:m.phone,onChange:C=>S("phone",C.target.value),"data-testid":"input-phone"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"city",children:"City"}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"city",type:"text",placeholder:"Johannesburg",className:"pl-10",value:m.city,onChange:C=>S("city",C.target.value),"data-testid":"input-city"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"province",children:"Province"}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(He,{id:"province",type:"text",placeholder:"Gauteng",className:"pl-10",value:m.province,onChange:C=>S("province",C.target.value),"data-testid":"input-province"})]})]})]})]}),i&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{id:"rememberMe",type:"checkbox",checked:m.rememberMe,onChange:C=>S("rememberMe",C.target.checked),className:"rounded border-gray-300","data-testid":"checkbox-rememberMe"}),r.jsx(pe,{htmlFor:"rememberMe",className:"text-sm cursor-pointer",children:"Remember me for faster login"})]}),r.jsx(K,{type:"submit",className:"w-full h-12",disabled:u,"data-testid":"submit-auth-form",children:u?r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),i?"Signing In...":"Creating Account..."]}):i?"Sign In":"Create Account"})]}),r.jsx("div",{className:"text-center",children:r.jsx(K,{variant:"link",onClick:()=>a(!i),className:"text-sm","data-testid":"toggle-auth-mode",children:i?"Don't have an account? Sign up":"Already have an account? Sign in"})}),i&&r.jsx("div",{className:"text-center",children:r.jsx(K,{variant:"link",className:"text-sm text-blue-600",children:"Forgot your password?"})})]})]})})}var Dk="Tabs",[vle,jwe]=hr(Dk,[fp]),RB=fp(),[yle,Ok]=vle(Dk),LB=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=hp(l),[h,m]=Sa({prop:n,onChange:i,defaultProp:a});return r.jsx(yle,{scope:s,baseId:ba(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:r.jsx(gt.div,{dir:u,"data-orientation":o,...d,ref:t})})});LB.displayName=Dk;var DB="TabsList",OB=j.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...i}=e,a=Ok(DB,s),o=RB(s);return r.jsx(YC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:r.jsx(gt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});OB.displayName=DB;var IB="TabsTrigger",FB=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:i=!1,...a}=e,o=Ok(IB,s),l=RB(s),c=VB(o.baseId,n),d=$B(o.baseId,n),u=n===o.value;return r.jsx(GC,{asChild:!0,...l,focusable:!i,active:u,children:r.jsx(gt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Qe(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Qe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Qe(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(n)})})})});FB.displayName=IB;var BB="TabsContent",zB=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,forceMount:i,children:a,...o}=e,l=Ok(BB,s),c=VB(l.baseId,n),d=$B(l.baseId,n),u=n===l.value,h=j.useRef(u);return j.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),r.jsx(fr,{present:i||u,children:({present:m})=>r.jsx(gt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});zB.displayName=BB;function VB(e,t){return`${e}-trigger-${t}`}function $B(e,t){return`${e}-content-${t}`}var ble=LB,UB=OB,HB=FB,qB=zB;const kc=ble,Pl=j.forwardRef(({className:e,...t},s)=>r.jsx(UB,{ref:s,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pl.displayName=UB.displayName;const hs=j.forwardRef(({className:e,...t},s)=>r.jsx(HB,{ref:s,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));hs.displayName=HB.displayName;const fs=j.forwardRef(({className:e,...t},s)=>r.jsx(qB,{ref:s,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fs.displayName=qB.displayName;function wle({isOpen:e,onClose:t,user:s}){const[n,i]=j.useState("profile"),[a,o]=j.useState(!1),[l,c]=j.useState({firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",email:(s==null?void 0:s.email)||"",phone:(s==null?void 0:s.phone)||"",address:(s==null?void 0:s.address)||"",city:(s==null?void 0:s.city)||"",province:(s==null?void 0:s.province)||""}),[d,u]=j.useState({type:"card",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cardBrand:"",nickname:"",isDefault:!1}),[h,m]=j.useState({emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,marketingEmails:!1,bookingReminders:!0,providerUpdates:!0}),[f,g]=j.useState(!1),[p,b]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[x,y]=j.useState(!1),[w,S]=j.useState(!1),[C,L]=j.useState(!1),[R,M]=j.useState(!1),[D,$]=j.useState(!1),{toast:E}=us(),T=Ja(),{data:q=[],isLoading:B}=Ds({queryKey:["/api/payment-methods"],enabled:e&&n==="payment"}),te=Array.isArray(q)?q:[],{data:ie,isLoading:G}=Ds({queryKey:["/api/user/security-settings"],enabled:e&&n==="security",retry:!1});j.useEffect(()=>{ie&&(M(ie.is2FAEnabled||!1),$(ie.isBiometricsEnabled||!1))},[ie]);const P=os({mutationFn:async ye=>await pn("PUT","/api/user/profile",ye),onSuccess:()=>{E({title:"Profile Updated",description:"Your profile has been successfully updated."}),T.invalidateQueries({queryKey:["/api/user/profile"]})},onError:ye=>{E({title:"Update Failed",description:ye.message||"Failed to update profile.",variant:"destructive"})}}),U=os({mutationFn:async ye=>await pn("POST","/api/payment-methods",ye),onSuccess:()=>{E({title:"Payment Method Added",description:"Your payment method has been securely saved."}),o(!1),u({type:"card",cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",cardBrand:"",nickname:"",isDefault:!1}),T.invalidateQueries({queryKey:["/api/payment-methods"]})},onError:ye=>{E({title:"Failed to Add Payment Method",description:ye.message||"Failed to save payment method.",variant:"destructive"})}}),xe=os({mutationFn:async ye=>await pn("DELETE",`/api/payment-methods/${ye}`),onSuccess:()=>{E({title:"Payment Method Removed",description:"Payment method has been removed from your account."}),T.invalidateQueries({queryKey:["/api/payment-methods"]})},onError:ye=>{E({title:"Removal Failed",description:ye.message||"Failed to remove payment method.",variant:"destructive"})}}),X=os({mutationFn:async ye=>await pn("POST","/api/user/change-password",ye),onSuccess:()=>{E({title:"Password Changed",description:"Your password has been successfully updated."}),g(!1),b({currentPassword:"",newPassword:"",confirmPassword:""})},onError:ye=>{E({title:"Password Change Failed",description:ye.message||"Failed to change password.",variant:"destructive"})}}),O=os({mutationFn:async ye=>await pn("POST","/api/user/toggle-2fa",{enabled:ye}),onSuccess:ye=>{M(ye.is2FAEnabled),E({title:ye.is2FAEnabled?"2FA Enabled":"2FA Disabled",description:ye.message}),T.invalidateQueries({queryKey:["/api/user/security-settings"]})},onError:ye=>{E({title:"Update Failed",description:ye.message||"Failed to update 2FA settings.",variant:"destructive"})}}),W=os({mutationFn:async ye=>await pn("POST","/api/user/toggle-biometrics",{enabled:ye}),onSuccess:ye=>{$(ye.isBiometricsEnabled),E({title:ye.isBiometricsEnabled?"Biometrics Enabled":"Biometrics Disabled",description:ye.message}),T.invalidateQueries({queryKey:["/api/user/security-settings"]})},onError:ye=>{E({title:"Update Failed",description:ye.message||"Failed to update biometric settings.",variant:"destructive"})}}),Z=ye=>{const ge=ye.replace(/\s/g,"");return ge.startsWith("4")?"visa":ge.startsWith("5")||ge.startsWith("2")?"mastercard":ge.startsWith("3")?"amex":"unknown"},ce=ye=>ye.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim(),ae=ye=>{const ge=ce(ye),se=Z(ye);u(It=>({...It,cardNumber:ge,cardBrand:se}))},ne=()=>{P.mutate(l)},Ne=()=>{if(!d.cardNumber||!d.cardHolderName){E({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}const ye={...d,cardLast4:d.cardNumber.slice(-4),cardNumber:void 0};U.mutate(ye)},be=ye=>{xe.mutate(ye)},_e=()=>{if(!p.currentPassword||!p.newPassword||!p.confirmPassword){E({title:"Missing Information",description:"Please fill in all password fields.",variant:"destructive"});return}if(p.newPassword!==p.confirmPassword){E({title:"Password Mismatch",description:"New password and confirm password do not match.",variant:"destructive"});return}if(p.newPassword.length<8){E({title:"Weak Password",description:"Password must be at least 8 characters long.",variant:"destructive"});return}X.mutate({currentPassword:p.currentPassword,newPassword:p.newPassword})},Te=()=>{O.mutate(!R)},Ie=async()=>{D?W.mutate(!1):"credentials"in navigator&&"create"in navigator.credentials?W.mutate(!0):E({title:"Not Supported",description:"Biometric authentication is not supported on this device.",variant:"destructive"})};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-4xl max-h-[95vh] overflow-y-auto","aria-describedby":"profile-modal-description","data-testid":"user-profile-modal",children:[r.jsxs(Bn,{children:[r.jsx(_n,{className:"text-2xl font-bold",children:"Account Settings"}),r.jsx("div",{id:"profile-modal-description",className:"sr-only",children:"Manage your account settings, payment methods, and preferences"})]}),r.jsxs(kc,{value:n,onValueChange:i,className:"mt-6",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-4",children:[r.jsxs(hs,{value:"profile","data-testid":"tab-profile",children:[r.jsx(vn,{className:"h-4 w-4 mr-2"}),"Profile"]}),r.jsxs(hs,{value:"payment","data-testid":"tab-payment",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Payment"]}),r.jsxs(hs,{value:"notifications","data-testid":"tab-notifications",children:[r.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Notifications"]}),r.jsxs(hs,{value:"security","data-testid":"tab-security",children:[r.jsx(bs,{className:"h-4 w-4 mr-2"}),"Security"]})]}),r.jsx(fs,{value:"profile",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Personal Information"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"firstName",children:"First Name"}),r.jsx(He,{id:"firstName",value:l.firstName,onChange:ye=>c(ge=>({...ge,firstName:ye.target.value})),"data-testid":"input-profile-firstName"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),r.jsx(He,{id:"lastName",value:l.lastName,onChange:ye=>c(ge=>({...ge,lastName:ye.target.value})),"data-testid":"input-profile-lastName"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsx(He,{id:"email",type:"email",value:l.email,onChange:ye=>c(ge=>({...ge,email:ye.target.value})),"data-testid":"input-profile-email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),r.jsx(He,{id:"phone",type:"tel",value:l.phone,onChange:ye=>c(ge=>({...ge,phone:ye.target.value})),"data-testid":"input-profile-phone"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"address",children:"Address"}),r.jsx(He,{id:"address",value:l.address,onChange:ye=>c(ge=>({...ge,address:ye.target.value})),"data-testid":"input-profile-address"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"city",children:"City"}),r.jsx(He,{id:"city",value:l.city,onChange:ye=>c(ge=>({...ge,city:ye.target.value})),"data-testid":"input-profile-city"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"province",children:"Province"}),r.jsx(He,{id:"province",value:l.province,onChange:ye=>c(ge=>({...ge,province:ye.target.value})),"data-testid":"input-profile-province"})]})]}),r.jsx(K,{onClick:ne,disabled:P.isPending,"data-testid":"save-profile-button",children:P.isPending?"Saving...":"Save Changes"})]})]})}),r.jsxs(fs,{value:"payment",className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Saved Payment Methods"}),r.jsxs(K,{onClick:()=>o(!0),disabled:a,"data-testid":"add-payment-method-button",children:[r.jsx(o2,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]}),a&&r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Add New Payment Method"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"cardNumber",children:"Card Number"}),r.jsx(He,{id:"cardNumber",placeholder:"1234 5678 9012 3456",maxLength:19,value:d.cardNumber,onChange:ye=>ae(ye.target.value),"data-testid":"input-card-number"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"cardHolder",children:"Card Holder Name"}),r.jsx(He,{id:"cardHolder",placeholder:"John Doe",value:d.cardHolderName,onChange:ye=>u(ge=>({...ge,cardHolderName:ye.target.value})),"data-testid":"input-card-holder"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"expiryMonth",children:"Expiry Month"}),r.jsxs(Dt,{value:d.expiryMonth,onValueChange:ye=>u(ge=>({...ge,expiryMonth:ye})),children:[r.jsx(Mt,{"data-testid":"select-expiry-month",children:r.jsx(Ot,{placeholder:"Month"})}),r.jsx(Rt,{children:Array.from({length:12},(ye,ge)=>r.jsx(Ee,{value:String(ge+1).padStart(2,"0"),children:String(ge+1).padStart(2,"0")},ge+1))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"expiryYear",children:"Expiry Year"}),r.jsxs(Dt,{value:d.expiryYear,onValueChange:ye=>u(ge=>({...ge,expiryYear:ye})),children:[r.jsx(Mt,{"data-testid":"select-expiry-year",children:r.jsx(Ot,{placeholder:"Year"})}),r.jsx(Rt,{children:Array.from({length:10},(ye,ge)=>{const se=new Date().getFullYear()+ge;return r.jsx(Ee,{value:String(se),children:se},se)})})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"nickname",children:"Nickname (Optional)"}),r.jsx(He,{id:"nickname",placeholder:"e.g. Primary Card",value:d.nickname,onChange:ye=>u(ge=>({...ge,nickname:ye.target.value})),"data-testid":"input-card-nickname"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{id:"setDefault",type:"checkbox",checked:d.isDefault,onChange:ye=>u(ge=>({...ge,isDefault:ye.target.checked})),className:"rounded border-gray-300","data-testid":"checkbox-set-default"}),r.jsx(pe,{htmlFor:"setDefault",className:"text-sm",children:"Set as default payment method"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(bs,{className:"h-5 w-5 text-blue-600 mr-2 mt-0.5"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium",children:"Security Notice"}),r.jsx("p",{children:"Your CVV is never stored for your security. You'll be asked to enter it during checkout."})]})]})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(K,{onClick:Ne,disabled:U.isPending,"data-testid":"save-payment-method-button",children:U.isPending?"Saving...":"Save Payment Method"}),r.jsx(K,{variant:"outline",onClick:()=>o(!1),"data-testid":"cancel-payment-method-button",children:"Cancel"})]})]})]}),B?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Loading payment methods..."})]}):te.length>0?r.jsx("div",{className:"space-y-4",children:te.map(ye=>{var ge;return r.jsx(oe,{className:"relative",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-12 h-8 bg-gray-100 rounded flex items-center justify-center",children:r.jsx(Cr,{className:"h-5 w-5 text-gray-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:ye.nickname||`${(ge=ye.cardBrand)==null?void 0:ge.toUpperCase()} ending in ${ye.cardLast4}`}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Expires ",ye.expiryMonth,"/",ye.expiryYear]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[ye.isDefault&&r.jsx(Ke,{variant:"secondary",children:"Default"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>be(ye.id),"data-testid":`remove-payment-${ye.id}`,children:r.jsx(LC,{className:"h-4 w-4 text-red-600"})})]})]})})},ye.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Cr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No payment methods saved yet"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Add a payment method for faster checkout"})]})]}),r.jsx(fs,{value:"notifications",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx($e,{children:"Notification Preferences"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(K,{variant:"outline",size:"sm",onClick:()=>{m({emailNotifications:!0,smsNotifications:!0,pushNotifications:!0,marketingEmails:!0,bookingReminders:!0,providerUpdates:!0})},"data-testid":"select-all-notifications",children:"Select All"}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>{m({emailNotifications:!1,smsNotifications:!1,pushNotifications:!1,marketingEmails:!1,bookingReminders:!1,providerUpdates:!1})},"data-testid":"deselect-all-notifications",children:"Deselect All"})]})]})}),r.jsx(le,{className:"space-y-4",children:Object.entries(h).map(([ye,ge])=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(pe,{htmlFor:ye,className:"cursor-pointer",children:ye.replace(/([A-Z])/g," $1").replace(/^./,se=>se.toUpperCase())}),r.jsx("input",{id:ye,type:"checkbox",checked:ge,onChange:se=>m(It=>({...It,[ye]:se.target.checked})),className:"rounded border-gray-300","data-testid":`notification-${ye}`})]},ye))})]})}),r.jsx(fs,{value:"security",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Password & Security"})}),r.jsxs(le,{className:"space-y-4",children:[f?r.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-gray-50",children:[r.jsx("h4",{className:"font-medium",children:"Change Password"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"currentPassword",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(He,{id:"currentPassword",type:x?"text":"password",value:p.currentPassword,onChange:ye=>b(ge=>({...ge,currentPassword:ye.target.value})),"data-testid":"input-current-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>y(!x),children:x?r.jsx(qy,{className:"h-4 w-4"}):r.jsx(Gg,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"newPassword",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(He,{id:"newPassword",type:w?"text":"password",value:p.newPassword,onChange:ye=>b(ge=>({...ge,newPassword:ye.target.value})),"data-testid":"input-new-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>S(!w),children:w?r.jsx(qy,{className:"h-4 w-4"}):r.jsx(Gg,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"confirmPassword",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(He,{id:"confirmPassword",type:C?"text":"password",value:p.confirmPassword,onChange:ye=>b(ge=>({...ge,confirmPassword:ye.target.value})),"data-testid":"input-confirm-password"}),r.jsx(K,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>L(!C),children:C?r.jsx(qy,{className:"h-4 w-4"}):r.jsx(Gg,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(K,{onClick:_e,disabled:X.isPending,"data-testid":"save-password-button",children:X.isPending?"Saving...":"Save Password"}),r.jsx(K,{variant:"outline",onClick:()=>{g(!1),b({currentPassword:"",newPassword:"",confirmPassword:""})},disabled:X.isPending,"data-testid":"cancel-password-button",children:"Cancel"})]})]}):r.jsxs(K,{variant:"outline",onClick:()=>g(!0),"data-testid":"change-password-button",children:[r.jsx(va,{className:"h-4 w-4 mr-2"}),"Change Password"]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Two-Factor Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:O.isPending?"Updating...":R?"Enabled":"Disabled"}),r.jsx("input",{id:"toggle2FA",type:"checkbox",checked:R,onChange:Te,disabled:O.isPending,className:"rounded border-gray-300","data-testid":"toggle-2fa"})]})]}),R&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-green-800",children:"Two-factor authentication is active. You'll need to enter a code from your authenticator app when logging in."})})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:"Biometric Authentication"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Use fingerprint or face recognition for secure access"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:W.isPending?"Updating...":D?"Enabled":"Disabled"}),r.jsx("input",{id:"toggleBiometrics",type:"checkbox",checked:D,onChange:Ie,disabled:W.isPending,className:"rounded border-gray-300","data-testid":"toggle-biometrics"})]})]}),D&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsx("p",{className:"text-sm text-blue-800",children:"Biometric authentication is enabled for this device. You can use fingerprint or face recognition to log in."})})]})]})]})})]})]})})}const jle=fk,Nle=mk,Sle=pk,WB=j.forwardRef(({className:e,...t},s)=>r.jsx(A0,{className:tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));WB.displayName=A0.displayName;const Cle=ip("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),YB=j.forwardRef(({side:e="right",className:t,children:s,...n},i)=>r.jsxs(Sle,{children:[r.jsx(WB,{}),r.jsxs(E0,{ref:i,className:tt(Cle({side:e}),t),...n,children:[s,r.jsxs(A2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(to,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));YB.displayName=E0.displayName;const GB=({className:e,...t})=>r.jsx("div",{className:tt("flex flex-col space-y-2 text-center sm:text-left",e),...t});GB.displayName="SheetHeader";const KB=j.forwardRef(({className:e,...t},s)=>r.jsx(T0,{ref:s,className:tt("text-lg font-semibold text-foreground",e),...t}));KB.displayName=T0.displayName;const ZB=j.forwardRef(({className:e,...t},s)=>r.jsx(M0,{ref:s,className:tt("text-sm text-muted-foreground",e),...t}));ZB.displayName=M0.displayName;function kle(e,t){return j.useReducer((s,n)=>t[s][n]??s,e)}var Ik="ScrollArea",[XB,Nwe]=hr(Ik),[_le,no]=XB(Ik),QB=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=j.useState(null),[d,u]=j.useState(null),[h,m]=j.useState(null),[f,g]=j.useState(null),[p,b]=j.useState(null),[x,y]=j.useState(0),[w,S]=j.useState(0),[C,L]=j.useState(!1),[R,M]=j.useState(!1),D=Gt(t,E=>c(E)),$=hp(i);return r.jsx(_le,{scope:s,type:n,dir:$,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:L,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:R,onScrollbarYEnabledChange:M,onCornerWidthChange:y,onCornerHeightChange:S,children:r.jsx(gt.div,{dir:$,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});QB.displayName=Ik;var JB="ScrollAreaViewport",ez=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:n,nonce:i,...a}=e,o=no(JB,s),l=j.useRef(null),c=Gt(t,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(gt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ez.displayName=JB;var Al="ScrollAreaScrollbar",Fk=j.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=no(Al,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return j.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?r.jsx(Ple,{...n,ref:t,forceMount:s}):i.type==="scroll"?r.jsx(Ale,{...n,ref:t,forceMount:s}):i.type==="auto"?r.jsx(tz,{...n,ref:t,forceMount:s}):i.type==="always"?r.jsx(Bk,{...n,ref:t}):null});Fk.displayName=Al;var Ple=j.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=no(Al,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),r.jsx(fr,{present:s||a,children:r.jsx(tz,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Ale=j.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=no(Al,e.__scopeScrollArea),a=e.orientation==="horizontal",o=q2(()=>c("SCROLL_END"),100),[l,c]=kle("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),j.useEffect(()=>{const d=i.viewport,u=a?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const f=d[u];h!==f&&(c("SCROLL"),o()),h=f};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),r.jsx(fr,{present:s||l!=="hidden",children:r.jsx(Bk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Qe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Qe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tz=j.forwardRef((e,t)=>{const s=no(Al,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=j.useState(!1),l=e.orientation==="horizontal",c=q2(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:u)}},10);return $m(s.viewport,c),$m(s.content,c),r.jsx(fr,{present:n||a,children:r.jsx(Bk,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Bk=j.forwardRef((e,t)=>{const{orientation:s="vertical",...n}=e,i=no(Al,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[l,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=az(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,f){return Dle(m,o.current,l,f)}return s==="horizontal"?r.jsx(Ele,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,f=qE(m,l,i.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):s==="vertical"?r.jsx(Tle,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,f=qE(m,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),Ele=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,...i}=e,a=no(Al,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=Gt(t,c,a.onScrollbarXChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(nz,{"data-orientation":"horizontal",...i,ref:d,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":H2(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),lz(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vb(o.paddingLeft),paddingEnd:vb(o.paddingRight)}})}})}),Tle=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:n,...i}=e,a=no(Al,e.__scopeScrollArea),[o,l]=j.useState(),c=j.useRef(null),d=Gt(t,c,a.onScrollbarYChange);return j.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(nz,{"data-orientation":"vertical",...i,ref:d,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":H2(s)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(a.viewport){const m=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),lz(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vb(o.paddingTop),paddingEnd:vb(o.paddingBottom)}})}})}),[Mle,sz]=XB(Al),nz=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,f=no(Al,s),[g,p]=j.useState(null),b=Gt(t,D=>p(D)),x=j.useRef(null),y=j.useRef(""),w=f.viewport,S=n.content-n.viewport,C=gn(u),L=gn(c),R=q2(h,10);function M(D){if(x.current){const $=D.clientX-x.current.left,E=D.clientY-x.current.top;d({x:$,y:E})}}return j.useEffect(()=>{const D=$=>{const E=$.target;(g==null?void 0:g.contains(E))&&C($,S)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[w,g,S,C]),j.useEffect(L,[n,L]),$m(g,R),$m(f.content,R),r.jsx(Mle,{scope:s,scrollbar:g,hasThumb:i,onThumbChange:gn(a),onThumbPointerUp:gn(o),onThumbPositionChange:L,onThumbPointerDown:gn(l),children:r.jsx(gt.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:Qe(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),M(D))}),onPointerMove:Qe(e.onPointerMove,M),onPointerUp:Qe(e.onPointerUp,D=>{const $=D.target;$.hasPointerCapture(D.pointerId)&&$.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),x.current=null})})})}),xb="ScrollAreaThumb",rz=j.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=sz(xb,e.__scopeScrollArea);return r.jsx(fr,{present:s||i.hasThumb,children:r.jsx(Rle,{ref:t,...n})})}),Rle=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:n,...i}=e,a=no(xb,s),o=sz(xb,s),{onThumbPositionChange:l}=o,c=Gt(t,h=>o.onThumbChange(h)),d=j.useRef(void 0),u=q2(()=>{d.current&&(d.current(),d.current=void 0)},100);return j.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(u(),!d.current){const f=Ole(h,l);d.current=f,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,u,l]),r.jsx(gt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Qe(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),g=h.clientX-f.left,p=h.clientY-f.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Qe(e.onPointerUp,o.onThumbPointerUp)})});rz.displayName=xb;var zk="ScrollAreaCorner",iz=j.forwardRef((e,t)=>{const s=no(zk,e.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?r.jsx(Lle,{...e,ref:t}):null});iz.displayName=zk;var Lle=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,...n}=e,i=no(zk,s),[a,o]=j.useState(0),[l,c]=j.useState(0),d=!!(a&&l);return $m(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),$m(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?r.jsx(gt.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vb(e){return e?parseInt(e,10):0}function az(e,t){const s=e/t;return isNaN(s)?0:s}function H2(e){const t=az(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-s)*t;return Math.max(n,18)}function Dle(e,t,s,n="ltr"){const i=H2(s),a=i/2,o=t||a,l=i-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,u=s.content-s.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return oz([c,d],h)(e)}function qE(e,t,s="ltr"){const n=H2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-n,c=s==="ltr"?[0,o]:[o*-1,0],d=uS(e,c);return oz([0,o],[0,l])(d)}function oz(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(s-e[0])}}function lz(e,t){return e>0&&e<t}var Ole=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=s.left!==a.left,l=s.top!==a.top;(o||l)&&t(),s=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function q2(e,t){const s=gn(e),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,t)},[s,t])}function $m(e,t){const s=gn(t);sr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,s])}var cz=QB,Ile=ez,Fle=iz;const Vk=j.forwardRef(({className:e,children:t,...s},n)=>r.jsxs(cz,{ref:n,className:tt("relative overflow-hidden",e),...s,children:[r.jsx(Ile,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(dz,{}),r.jsx(Fle,{})]}));Vk.displayName=cz.displayName;const dz=j.forwardRef(({className:e,orientation:t="vertical",...s},n)=>r.jsx(Fk,{ref:n,orientation:t,className:tt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:r.jsx(rz,{className:"relative flex-1 rounded-full bg-border"})}));dz.displayName=Fk.displayName;function Ln(e){if(e==null)return 0;if(typeof e=="number")return e;const t=parseFloat(e.toString());return isNaN(t)?0:t}function Er(e){return`R${Ln(e).toFixed(2)}`}function Ble({item:e}){const{removeFromCart:t}=up(),[s,n]=j.useState(!1),i=async()=>{n(!0);try{await t(e.id)}finally{n(!1)}},a=e.serviceDetails?typeof e.serviceDetails=="string"?JSON.parse(e.serviceDetails):e.serviceDetails:{};return r.jsxs("div",{className:"group relative rounded-lg border border-gray-200 p-4 hover:border-purple-200 transition-all","data-testid":`cart-item-${e.id}`,children:[r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 truncate","data-testid":`cart-item-name-${e.id}`,children:e.serviceName}),r.jsxs("div",{className:"mt-1 space-y-1",children:[r.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[r.jsx(Ws,{className:"w-3 h-3 mr-1.5 flex-shrink-0"}),r.jsx("span",{"data-testid":`cart-item-date-${e.id}`,children:e.scheduledDate instanceof Date?e.scheduledDate.toLocaleDateString():new Date(e.scheduledDate).toLocaleDateString()}),r.jsx(Ts,{className:"w-3 h-3 ml-3 mr-1.5 flex-shrink-0"}),r.jsx("span",{"data-testid":`cart-item-time-${e.id}`,children:e.scheduledTime})]}),a.address&&r.jsxs("div",{className:"flex items-start text-xs text-gray-600",children:[r.jsx(ys,{className:"w-3 h-3 mr-1.5 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"line-clamp-1","data-testid":`cart-item-location-${e.id}`,children:a.address})]})]})]}),r.jsxs("div",{className:"flex flex-col items-end gap-2",children:[r.jsx("p",{className:"font-semibold text-purple-600 whitespace-nowrap","data-testid":`cart-item-price-${e.id}`,children:Er(e.subtotal)}),r.jsx(K,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-red-600 hover:bg-red-50",onClick:i,disabled:s,"data-testid":`button-remove-item-${e.id}`,children:r.jsx(LC,{className:"h-3.5 w-3.5"})})]})]}),e.selectedAddOns&&Array.isArray(e.selectedAddOns)&&e.selectedAddOns.length>0&&r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[r.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Add-ons:"}),r.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.selectedAddOns.map((o,l)=>r.jsx(Ke,{variant:"secondary",className:"text-xs py-0.5 px-2","data-testid":`cart-item-addon-${e.id}-${l}`,children:o},l))})]}),e.comments&&r.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:r.jsx("p",{className:"text-xs text-gray-600 line-clamp-2","data-testid":`cart-item-comments-${e.id}`,children:e.comments})})]})}function yb(){var g,p;const[e,t]=j.useState(!1),{cart:s,itemCount:n,isLoading:i,clearCart:a}=up(),[,o]=nr(),[l,c]=j.useState(!1),d=async()=>{c(!0);try{await a()}finally{c(!1)}},u=()=>{t(!1),o("/cart-checkout")},h=((g=s==null?void 0:s.items)==null?void 0:g.reduce((b,x)=>b+Ln(x.subtotal),0))||0,m=h*.15,f=h+m;return r.jsxs(jle,{open:e,onOpenChange:t,children:[r.jsx(Nle,{asChild:!0,children:r.jsxs(K,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-open-cart",children:[r.jsx(qu,{className:"h-5 w-5"}),n>0&&r.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-primary text-primary-foreground","data-testid":"cart-badge-count",children:n})]})}),r.jsxs(YB,{className:"w-full sm:max-w-lg flex flex-col","data-testid":"cart-drawer",children:[r.jsxs(GB,{children:[r.jsxs(KB,{className:"flex items-center gap-2",children:[r.jsx(qu,{className:"h-5 w-5"}),r.jsx("span",{children:"Your Cart"}),n>0&&r.jsxs(Ke,{variant:"secondary","data-testid":"cart-drawer-count",children:[n," ",n===1?"service":"services"]})]}),r.jsx(ZB,{children:n===0?"Your cart is empty. Add services to book.":n===3?"Maximum services reached (3/3)":`Add up to ${3-n} more service${3-n===1?"":"s"}`})]}),i?r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Loading cart..."})]})}):n===0?r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center max-w-sm",children:[r.jsx(qu,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Browse our services and add them to your cart to get started"}),r.jsx(K,{onClick:()=>{t(!1),o("/")},"data-testid":"button-browse-services",children:"Browse Services"})]})}):r.jsxs(r.Fragment,{children:[r.jsx(Vk,{className:"flex-1 -mx-6 px-6 my-4",children:r.jsx("div",{className:"space-y-3",children:(p=s==null?void 0:s.items)==null?void 0:p.map(b=>r.jsx(Ble,{item:b},b.id))})}),r.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Subtotal"}),r.jsx("span",{"data-testid":"cart-subtotal",children:Er(h)})]}),r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Platform Fee (15%)"}),r.jsx("span",{"data-testid":"cart-platform-fee",children:Er(m)})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between font-semibold text-base text-gray-900",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{"data-testid":"cart-total",children:Er(f)})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(K,{variant:"outline",onClick:d,disabled:l,className:"flex-1","data-testid":"button-clear-cart",children:[r.jsx(LC,{className:"h-4 w-4 mr-2"}),"Clear Cart"]}),r.jsx(K,{onClick:u,className:"flex-1 bg-primary hover:bg-accent text-primary-foreground","data-testid":"button-proceed-checkout",children:"Checkout"})]})]})]})]})]})}function sm({onBookingClick:e,onServiceSelect:t,isAuthenticated:s=!1,user:n,notificationCount:i=0,messageCount:a=0}){var C,L;const[,o]=nr(),[l,c]=j.useState(!1),[d,u]=j.useState(!1),[h,m]=j.useState(!1),[f,g]=j.useState(!1),[p,b]=j.useState(n),{toast:x}=us(),{itemCount:y}=up(),w=os({mutationFn:async()=>{await Ha.logout()},onSuccess:()=>{x({title:"Signed Out",description:"You have been successfully signed out."}),o("/"),window.location.reload()},onError:()=>{x({title:"Logout Error",description:"There was an error signing out. Please try again.",variant:"destructive"})}}),S=()=>{w.mutate()};return r.jsxs("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-50 shadow-sm",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx(fn,{href:"/",className:"flex items-center",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("img",{src:jc,alt:"Berry Events logo",style:{height:"63px",width:"auto"}}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Berry Events"}),r.jsx("p",{className:"text-xs text-gray-500 -mt-1",children:"All your home services"})]})]})}),r.jsx("div",{className:"hidden lg:flex flex-1 max-w-lg mx-8",children:r.jsxs("div",{className:"relative w-full",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"Search services, providers, or help...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"search-input"})]})}),r.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[r.jsxs(fn,{href:"/",className:"text-gray-700 hover:text-accent transition-colors duration-200 font-medium flex items-center","data-testid":"nav-home",children:[r.jsx(eo,{className:"h-4 w-4 mr-1"}),"Home"]}),r.jsxs(fn,{href:"/services",className:"text-gray-700 hover:text-accent transition-colors duration-200 font-medium flex items-center","data-testid":"nav-services",children:[r.jsx(WK,{className:"h-4 w-4 mr-1"}),"Services"]}),r.jsxs(fn,{href:"/admin",className:"text-primary hover:text-accent transition-colors duration-200 font-medium flex items-center","data-testid":"nav-admin-portal",children:[r.jsx(bs,{className:"h-4 w-4 mr-1"}),"Admin Portal"]}),!s&&r.jsx(fn,{href:"/auth",className:"text-gray-700 hover:text-accent transition-colors duration-200 font-medium","data-testid":"nav-sign-in",children:"Sign In"}),s&&(n==null?void 0:n.isProvider)&&r.jsx(fn,{href:"/provider-dashboard",className:"text-gray-700 hover:text-accent transition-colors duration-200 font-medium","data-testid":"nav-provider-dashboard",children:"Provider Hub"})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsx(K,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>u(!d),"data-testid":"button-search-toggle",children:r.jsx($i,{className:"h-5 w-5"})}),r.jsxs("div",{className:"relative",children:[r.jsx(yb,{}),y>0&&r.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-primary text-primary-foreground text-xs p-0 flex items-center justify-center animate-pulse",children:y>9?"9+":y})]}),s?r.jsxs(r.Fragment,{children:[r.jsxs(K,{variant:"ghost",size:"sm",className:"relative",onClick:()=>o("/notifications"),"data-testid":"button-notifications",children:[r.jsx(Fi,{className:"h-5 w-5"}),i>0&&r.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs p-0 flex items-center justify-center",children:i>9?"9+":i})]}),r.jsxs(nk,{children:[r.jsx(rk,{asChild:!0,children:r.jsx(K,{variant:"ghost",size:"sm",className:"relative h-10 w-10 rounded-full","data-testid":"button-user-menu",children:n!=null&&n.profileImage?r.jsx("img",{src:n.profileImage,alt:`${n.firstName} ${n.lastName}`,className:"h-10 w-10 rounded-full object-cover"}):r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-semibold text-sm",children:[(C=n==null?void 0:n.firstName)==null?void 0:C.charAt(0),(L=n==null?void 0:n.lastName)==null?void 0:L.charAt(0)]})})})}),r.jsxs(P2,{className:"w-56",align:"end",children:[r.jsxs("div",{className:"px-3 py-2",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),r.jsx("p",{className:"text-xs text-gray-500",children:n!=null&&n.isProvider?"Service Provider":"Customer"})]}),r.jsx(Dm,{}),r.jsxs(bo,{onClick:()=>g(!0),children:[r.jsx(vn,{className:"mr-2 h-4 w-4"}),"Profile & Settings"]}),r.jsxs(bo,{onClick:()=>o("/bookings"),children:[r.jsx(Ws,{className:"mr-2 h-4 w-4"}),"My Bookings"]}),r.jsxs(bo,{onClick:()=>o("/wallet"),"data-testid":"nav-wallet",children:[r.jsx(tS,{className:"mr-2 h-4 w-4"}),"My Wallet"]}),r.jsxs(bo,{onClick:()=>o("/settings"),children:[r.jsx(op,{className:"mr-2 h-4 w-4"}),"Settings"]}),r.jsx(Dm,{}),r.jsxs(bo,{onClick:S,className:"text-red-600","data-testid":"button-logout",children:[r.jsx($1,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})]}):r.jsx(r.Fragment,{children:r.jsxs("div",{className:"border-l border-gray-200 pl-4 ml-4",children:[r.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Service provider?"}),r.jsx(K,{onClick:()=>o("/provider-onboarding"),variant:"outline",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground font-medium","data-testid":"button-join-as-provider",children:"Join as Provider"})]})})]}),r.jsx(K,{onClick:()=>c(!l),variant:"ghost",size:"sm",className:"md:hidden","data-testid":"button-mobile-menu",children:l?r.jsx(to,{className:"h-6 w-6"}):r.jsx(EC,{className:"h-6 w-6"})})]}),d&&r.jsx("div",{className:"lg:hidden py-3 border-t border-gray-100",children:r.jsxs("div",{className:"relative",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"Search services or providers...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent","data-testid":"search-input-mobile"})]})}),l&&r.jsx("div",{className:"md:hidden border-t border-gray-100",children:r.jsxs("div",{className:"py-4 space-y-3",children:[r.jsx("div",{className:"px-4 lg:hidden",children:r.jsxs("div",{className:"relative",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx("input",{type:"text",placeholder:"Search services...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg"})]})}),r.jsx(fn,{href:"/services",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Services"}),r.jsx("div",{className:"px-4",children:r.jsx(yb,{})}),r.jsx(fn,{href:"/auth",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Sign In"}),s?r.jsxs(r.Fragment,{children:[r.jsx(fn,{href:"/bookings",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"My Bookings"}),r.jsxs(fn,{href:"/messages",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium flex items-center",onClick:()=>c(!1),children:[r.jsx(ya,{className:"mr-2 h-4 w-4"}),"Messages",a>0&&r.jsx(Ke,{className:"ml-auto bg-green-500",children:a})]}),r.jsx(fn,{href:"/profile",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Profile"}),r.jsxs(fn,{href:"/wallet",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium flex items-center",onClick:()=>c(!1),"data-testid":"mobile-nav-wallet",children:[r.jsx(tS,{className:"mr-2 h-4 w-4"}),"My Wallet"]}),(n==null?void 0:n.isProvider)&&r.jsx(fn,{href:"/provider-dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Provider Dashboard"})]}):r.jsxs(r.Fragment,{children:[r.jsx(fn,{href:"/auth",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Sign In"}),r.jsx(fn,{href:"/provider-onboarding",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 font-medium",onClick:()=>c(!1),children:"Become a Provider"})]}),r.jsx("div",{className:"px-4 pt-4 space-y-3",children:r.jsx(K,{onClick:()=>{e(),c(!1)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold","data-testid":"button-book-service-mobile",children:"Book a Service"})})]})})]}),r.jsx(xle,{isOpen:h,onClose:()=>m(!1),onSuccess:R=>{b(R)}}),p&&r.jsx(wle,{isOpen:f,onClose:()=>g(!1),user:p})]})}function zle({onBookingClick:e,onDemoClick:t}){const s=[{icon:bs,text:"Fully Insured",color:"bg-green-100 text-green-600"},{icon:yc,text:"Background Verified",color:"bg-blue-100 text-blue-600"},{icon:Ts,text:"Same Day Booking",color:"bg-purple-100 text-purple-600"},{icon:Rr,text:"Quality Guaranteed",color:"bg-yellow-100 text-yellow-600"}],n=[{value:"10K+",label:"Happy Customers",icon:Et},{value:"4.9/5",label:"Average Rating",icon:vc},{value:"2 min",label:"Booking Time",icon:Ts},{value:"500+",label:"Verified Providers",icon:yc}];return r.jsx("section",{className:"relative py-16 lg:py-24 overflow-hidden",style:{backgroundColor:"#F7F2EF"},children:r.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-12 lg:items-center",children:[r.jsxs("div",{className:"lg:col-span-6",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(Ke,{className:"text-white px-4 py-2 text-sm font-semibold border-0",style:{backgroundColor:"#C56B86"},children:[r.jsx(Ld,{className:"h-4 w-4 mr-2"}),"South Africa's #1 Home Services Platform"]})}),r.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight mb-6",style:{color:"#44062D"},children:["All the help your",r.jsx("span",{className:"block",style:{color:"#C56B86"},children:"home needs"})]}),r.jsx("p",{className:"text-xl leading-relaxed mb-8 max-w-2xl",style:{color:"#3C0920"},children:"From cleaning to gardening, plumbing to catering - connect with vetted, insured professionals in your area. Book instantly, pay securely, and get the job done right."}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-10",children:r.jsxs(K,{size:"lg",className:"text-white font-semibold px-8 py-4 rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{backgroundColor:"#C56B86"},onClick:t||(()=>{const i=document.getElementById("how-it-works");i==null||i.scrollIntoView({behavior:"smooth"})}),"data-testid":"button-watch-demo",children:[r.jsx(Em,{className:"mr-2 h-5 w-5"}),"Watch How It Works"]})}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:s.map((i,a)=>r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white",style:{backgroundColor:"#C56B86"},children:r.jsx(i.icon,{className:"h-5 w-5"})}),r.jsx("span",{className:"text-sm font-medium leading-tight",style:{color:"#3C0920"},children:i.text})]},a))})]}),r.jsx("div",{className:"mt-12 lg:mt-0 lg:col-span-6",children:r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=600",alt:"Professional home cleaning service",className:"w-full h-[500px] object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),r.jsx("div",{className:"absolute top-6 left-6 bg-white rounded-lg p-4 shadow-lg backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(ur,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Live Tracking"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Provider en route"})]})]})}),r.jsx("div",{className:"absolute top-6 right-6 bg-white rounded-lg p-4 shadow-lg backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Et,{className:"h-6 w-6 text-green-600 fill-current"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"5.0 Rating"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Nomsa M."})]})]})})]}),r.jsx("div",{className:"absolute -bottom-6 left-6 right-6 bg-white rounded-xl p-6 shadow-2xl border",children:r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:n.map((i,a)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx(i.icon,{className:"h-6 w-6 text-blue-600"})}),r.jsx("div",{className:"text-2xl font-bold text-gray-900","data-testid":`stat-${i.label.toLowerCase().replace(" ","-")}`,children:i.value}),r.jsx("div",{className:"text-sm text-gray-600",children:i.label})]},a))})}),r.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full opacity-20 blur-xl"}),r.jsx("div",{className:"absolute -bottom-8 -left-4 w-32 h-32 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full opacity-20 blur-xl"})]})})]}),r.jsxs("div",{className:"mt-20 text-center",children:[r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Trusted by leading organizations"}),r.jsxs("div",{className:"flex items-center justify-center space-x-8 opacity-60",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"PropertyFox"}),r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Seeff"}),r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"Pam Golding"}),r.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"RE/MAX"})]})]})]})})}function uN({service:e,index:t,onServiceSelect:s,onModalOpen:n,theme:i}){const[a,o]=j.useState(!1),c={blue:{border:"hover:border-primary/30",shadow:"hover:shadow-primary/20",gradient:"rgba(59, 130, 246, 0.05)",gradientEnd:"rgba(147, 51, 234, 0.05)"},green:{border:"hover:border-green-400/30",shadow:"hover:shadow-green-500/20",gradient:"rgba(34, 197, 94, 0.05)",gradientEnd:"rgba(22, 163, 74, 0.05)"},purple:{border:"hover:border-purple-400/30",shadow:"hover:shadow-purple-500/20",gradient:"rgba(147, 51, 234, 0.05)",gradientEnd:"rgba(126, 34, 206, 0.05)"}}[i];return r.jsx(oe,{className:`bg-white border border-gray-100 ${c.border} hover:shadow-2xl transition-all duration-500 ease-out group cursor-pointer rounded-2xl overflow-hidden h-full flex flex-col hover:-translate-y-4 hover:scale-[1.02] transform hover:rotate-1 ${c.shadow} animate-fade-in-up ${i==="green"?"bounce-on-hover":i==="purple"?"pulse-on-hover":""}`,style:{animationDelay:`${t*(i==="green"?150:i==="purple"?120:100)}ms`,animationFillMode:"both"},"data-testid":`service-card-${e.id}`,onClick:()=>{n(e.id)},onMouseEnter:d=>{o(!0),d.currentTarget.style.background=`linear-gradient(135deg, ${c.gradient} 0%, ${c.gradientEnd} 100%)`},onMouseLeave:d=>{o(!1),d.currentTarget.style.background="white"},children:r.jsxs(le,{className:"p-6 flex flex-col h-full",children:[r.jsxs("div",{className:"relative mb-4",children:[r.jsxs("div",{className:`w-16 h-16 bg-gradient-to-br ${e.gradient} rounded-2xl flex items-center justify-center shadow-xl group-hover:scale-125 group-hover:shadow-2xl group-hover:rotate-12 transition-all duration-500 ease-out mx-auto relative overflow-hidden ${a?"animate-pulse-glow":""}`,children:[r.jsx("div",{className:"absolute inset-0 bg-white/20 transform scale-0 group-hover:scale-100 transition-transform duration-500 rounded-2xl animate-shimmer"}),r.jsx(e.icon,{className:"h-8 w-8 text-white relative z-10 group-hover:scale-110 group-hover:animate-bounce-gentle transition-transform duration-300"})]}),(e.popular||e.urgent)&&r.jsxs("div",{className:"absolute -top-1 -right-1 animate-bounce-gentle",children:[e.popular&&r.jsxs(Ke,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white border-0 text-xs px-1.5 py-0.5 animate-pulse-glow",children:[r.jsx(Et,{className:"h-2 w-2 mr-0.5 animate-wiggle"}),"Hot"]}),e.urgent&&r.jsx(Ke,{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white border-0 text-xs px-1.5 py-0.5 animate-pulse-glow",children:"24/7"})]})]}),r.jsxs("div",{className:"mb-4 text-center",children:[r.jsx("span",{className:"text-xs bg-gradient-to-r from-primary/10 to-purple-600/10 text-primary px-3 py-1 rounded-full font-medium border border-primary/20 mb-3 inline-block transition-all duration-300 group-hover:scale-105",children:e.category}),r.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors duration-300 group-hover:scale-105 transform",children:e.title}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-3 group-hover:text-gray-700 transition-colors",children:e.description}),r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-purple-600/5 rounded-lg py-2 px-3 mb-3 group-hover:from-primary/10 group-hover:to-purple-600/10 transition-all duration-300",children:[r.jsx("div",{className:"text-lg font-bold text-primary group-hover:scale-110 transition-transform duration-300",children:e.price}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Duration: ",e.duration]})]})]}),r.jsxs("div",{className:"space-y-3 mb-5",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[r.jsxs("span",{className:"flex items-center justify-center bg-green-50 text-green-700 py-1 px-2 rounded group-hover:scale-105 transition-transform duration-200",children:[r.jsx(Ts,{className:"h-3 w-3 mr-1 group-hover:animate-wiggle"}),"Same day"]}),r.jsxs("span",{className:"flex items-center justify-center bg-yellow-50 text-yellow-700 py-1 px-2 rounded group-hover:scale-105 transition-transform duration-200",children:[r.jsx(Et,{className:"h-3 w-3 mr-1 group-hover:animate-wiggle"}),"4.8+ rated"]}),r.jsxs("span",{className:"flex items-center justify-center bg-blue-50 text-blue-700 py-1 px-2 rounded group-hover:scale-105 transition-transform duration-200",children:[r.jsx(bs,{className:"h-3 w-3 mr-1 group-hover:animate-wiggle"}),"Verified"]}),r.jsxs("span",{className:"flex items-center justify-center bg-purple-50 text-purple-700 py-1 px-2 rounded group-hover:scale-105 transition-transform duration-200",children:[r.jsx(ys,{className:"h-3 w-3 mr-1 group-hover:animate-wiggle"}),"20km"]})]}),r.jsx("div",{className:"text-xs text-green-600 font-medium group-hover:text-green-700 transition-colors duration-300 animate-shimmer",children:"Weekly: -15% | Materials: -15% | Early: -10%"}),r.jsxs("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:[e.serviceTypes.slice(0,2).map((d,u)=>r.jsxs("div",{className:"flex items-start text-xs text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:[r.jsx(ur,{className:"h-2.5 w-2.5 text-green-500 mr-1.5 flex-shrink-0 mt-0.5 group-hover:scale-125 transition-transform duration-300"}),r.jsx("span",{className:"line-clamp-1",children:d})]},u)),e.serviceTypes.length>2&&r.jsxs("div",{className:`text-xs font-medium text-center transition-colors duration-300 ${i==="blue"?"text-blue-600 group-hover:text-blue-700":i==="green"?"text-green-600 group-hover:text-green-700":"text-purple-600 group-hover:text-purple-700"}`,children:["+",e.serviceTypes.length-2," more"]})]})]}),r.jsx("div",{className:"mt-auto",children:r.jsxs(K,{onClick:d=>{d.stopPropagation(),n(e.id)},className:"w-full bg-gradient-to-r from-primary via-purple-600 to-primary hover:from-primary/90 hover:via-purple-600/90 hover:to-primary/90 text-white font-medium text-sm py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl group relative overflow-hidden","data-testid":`book-${e.id}`,children:[r.jsx("div",{className:"absolute inset-0 bg-white/10 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),r.jsx("span",{className:"relative z-10",children:"Quick Quote or Book Now"}),r.jsx(ul,{className:"h-4 w-4 ml-2 relative z-10 group-hover:translate-x-1 group-hover:scale-110 transition-all duration-300"})]})})]})})}const Vle=[{id:"cleaning",category:"Indoor Services",title:"House Cleaning",description:"Complete cleaning services from regular maintenance to deep cleaning with professional-grade equipment",price:"From R75/hour",duration:"2-6 hours",popular:!0,serviceTypes:["Regular House Cleaning (Weekly/Bi-weekly/Monthly)","Deep Cleaning (Spring cleaning, move-in/move-out)","Office Cleaning (Daily/Weekly/Monthly contracts)","Carpet & Upholstery Cleaning","Window Cleaning (Interior/Exterior)","Post-Construction Cleaning","Event Cleanup Services"],features:["Professional equipment","Eco-friendly products","Insured cleaners","Flexible scheduling"],icon:eo,gradient:"from-blue-500 to-cyan-500",bookingSteps:5},{id:"plumbing",category:"Indoor Services",title:"Plumbing Services",description:"Professional plumbing solutions from emergency repairs to complete installations with certified plumbers",price:"From R120/hour",duration:"1-4 hours",urgent:!0,serviceTypes:["Emergency Repairs (24/7 availability)","Installation Services (taps, toilets, showers)","Drain Cleaning & Unblocking","Leak Detection & Repair","Water Heater Services","Pipe Replacement & Maintenance","Bathroom & Kitchen Plumbing"],features:["24/7 emergency service","Licensed plumbers","Parts included","Insurance coverage"],icon:_C,gradient:"from-cyan-500 to-blue-600",bookingSteps:4},{id:"electrical",category:"Indoor Services",title:"Electrical Services",description:"Safe and certified electrical work including installations, repairs, and compliance certificates",price:"From R150/hour",duration:"1-8 hours",urgent:!0,serviceTypes:["Emergency Electrical Repairs","Installation (lights, outlets, ceiling fans)","Electrical Inspections & Certificates","DB Board & Circuit Repairs","Smart Home Installation","Solar Panel Installation & Maintenance","Appliance Installation & Repair"],features:["Licensed electricians","Safety certificates","Emergency response","Code compliance"],icon:so,gradient:"from-yellow-500 to-orange-500",bookingSteps:4}],$le=[{id:"garden-care",category:"Outdoor Services",title:"Garden Care",description:"Professional garden maintenance and landscaping services to keep your outdoor spaces beautiful",price:"From R90/hour",duration:"2-8 hours",serviceTypes:["Regular Garden Maintenance","Landscaping Design & Installation","Tree Trimming & Removal","Lawn Care & Mowing","Irrigation System Installation","Garden Cleanup Services","Plant Care & Consultation"],features:["Garden specialists","Professional tools","Plant expertise","Design consultation"],icon:c2,gradient:"from-green-600 to-emerald-600",bookingSteps:4}],Ule=[{id:"chef-catering",category:"Specialized Services",title:"Chef & Catering",description:"Professional chefs specializing in authentic African cuisine and international dishes for events and daily meals with complete dietary accommodation",price:"From R400/event",duration:"2-12 hours",popular:!0,serviceTypes:[" Personal Chef (daily/weekly meal prep)"," Event Catering (parties, corporate events, weddings)"," Private Cooking Classes (individual/group sessions)"," African Cuisine Specialists (South African, West African, East African, North African, Central African)"," Dietary Requirements (Halaal, Kosher, Vegan, Vegetarian, Keto, Gluten-Free, Diabetic-Friendly)"," Full Service Experience (waitering, bartending, setup)"," Custom Menu Design & Consultation"],features:[" Traditional African Cuisine Experts"," Popular Menu Items: Braai, Bobotie, Potjiekos, Boerewors, Chakalaka, Pap & Morogo, Jollof Rice, Injera, Tagine"," Dietary Accommodations: Halaal/Kosher certified chefs available"," Ingredient Sourcing: Fresh local ingredients, specialty African spices and imported items"," Full Service Teams: Professional waitering, bartending, and event setup staff"],icon:Tr,gradient:"from-green-500 to-emerald-500",bookingSteps:4},{id:"waitering",category:"Specialized Services",title:"Waitering Services",description:"Professional event staff and waitering services for parties, corporate events, and special occasions",price:"From R85/hour",duration:"4-12 hours",serviceTypes:["Event Waitering Staff","Corporate Event Service","Private Party Servers","Bartending Services","Event Setup & Cleanup","Professional Table Service","Cocktail Party Staff"],features:["Trained professionals","Event specialists","Bar service","Setup assistance"],icon:yn,gradient:"from-indigo-500 to-purple-500",bookingSteps:4},{id:"moving",category:"Specialized Services",title:"Moving Services",description:"Complete moving solutions from local relocations to long-distance moves with professional teams",price:"From R600/day",duration:"4-12 hours",serviceTypes:["Local Moving (same city)","Long-distance Moving (intercity/interstate)","Office Relocation","Furniture Moving & Assembly","Packing & Unpacking Services","Storage Solutions","Piano & Specialty Item Moving"],features:["Professional movers","Insured service","Packing materials","Storage options"],icon:Mm,gradient:"from-purple-500 to-pink-500",bookingSteps:5},{id:"au-pair",category:"Specialized Services",title:"Au Pair Services",description:"Trusted childcare providers offering flexible care solutions from occasional babysitting to live-in arrangements",price:"From R65/hour",duration:"4 hours - 12 months",serviceTypes:["Live-in Au Pair (6-12 month contracts)","Part-time Childcare","After-school Care","Weekend & Holiday Care","Overnight Babysitting","Educational Support & Tutoring","Activity Planning & Outings"],features:["Background checked","Experienced caregivers","Flexible schedules","Educational support"],icon:pO,gradient:"from-pink-500 to-rose-500",bookingSteps:4}],Hle=[...Vle,...$le,...Ule];function qle({onServiceSelect:e}){const[t,s]=j.useState(!1),[n,i]=j.useState(""),[a,o]=j.useState(""),[l,c]=j.useState("All"),d=["All","Indoor Services","Outdoor Services","Specialized Services"],u=j.useMemo(()=>{let g=Hle;return l!=="All"&&(g=g.filter(p=>p.category===l)),a&&(g=g.filter(p=>p.title.toLowerCase().includes(a.toLowerCase())||p.description.toLowerCase().includes(a.toLowerCase())||p.serviceTypes.some(b=>b.toLowerCase().includes(a.toLowerCase())))),g},[a,l]),h=u.filter(g=>g.category==="Indoor Services"),m=u.filter(g=>g.category==="Outdoor Services"),f=u.filter(g=>g.category==="Specialized Services");return r.jsxs("section",{className:"py-16 lg:py-24",style:{backgroundColor:"#EED1C4"},"data-testid":"comprehensive-services-section",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs(Ke,{className:"text-white px-4 py-2 text-sm font-semibold border-0 mb-4",style:{backgroundColor:"#C56B86"},children:[r.jsx(Ld,{className:"h-4 w-4 mr-2"}),"Complete Home Services"]}),r.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold mb-6",style:{color:"#44062D"},children:["Everything your home needs,",r.jsx("span",{className:"block",style:{color:"#C56B86"},children:"all in one platform"})]}),r.jsx("p",{className:"text-xl max-w-3xl mx-auto leading-relaxed",style:{color:"#3C0920"},children:"From emergency repairs to regular maintenance, event catering to childcare - professional services delivered by verified South African specialists."})]}),r.jsxs("div",{className:"mb-12 space-y-4 sm:space-y-0 sm:flex sm:items-center sm:space-x-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md mx-auto sm:mx-0",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{placeholder:"Search services, features, or descriptions...",value:a,onChange:g=>o(g.target.value),className:"pl-10 h-12","data-testid":"search-services-homepage"})]}),r.jsx("div",{className:"flex space-x-2 justify-center sm:justify-start",children:d.map(g=>r.jsxs(K,{variant:l===g?"default":"outline",size:"sm",onClick:()=>c(g),"data-testid":`filter-${g.toLowerCase().replace(" ","-")}`,className:"h-12",children:[r.jsx(wO,{className:"h-3 w-3 mr-1"}),g]},g))})]}),a&&r.jsx("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("p",{className:"text-blue-800",children:[r.jsx("strong",{children:u.length})," service",u.length!==1?"s":"",' found for "',a,'"',l!=="All"&&` in ${l}`]})}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(eo,{className:"h-8 w-8 mr-3 text-blue-600"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Indoor Services"}),r.jsxs(Ke,{className:"ml-4 bg-blue-100 text-blue-700 border-blue-200",children:[h.length," services"]})]}),h.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map((g,p)=>r.jsx(uN,{service:g,index:p,theme:"blue",onServiceSelect:e,onModalOpen:b=>{i(b),s(!0)}},g.id))}):r.jsx(oe,{children:r.jsx(le,{className:"p-6 text-center text-gray-600",children:"No Indoor services match your search/filter."})})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(c2,{className:"h-8 w-8 mr-3 text-green-600"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Outdoor Services"}),r.jsxs(Ke,{className:"ml-4 bg-green-100 text-green-700 border-green-200",children:[m.length," services"]})]}),m.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((g,p)=>r.jsx(uN,{service:g,index:p,theme:"green",onServiceSelect:e,onModalOpen:b=>{i(b),s(!0)}},g.id))}):r.jsx(oe,{children:r.jsx(le,{className:"p-6 text-center text-gray-600",children:"No Outdoor services match your search/filter."})})]}),r.jsxs("div",{className:"mb-16",children:[r.jsxs("div",{className:"flex items-center mb-8",children:[r.jsx(Et,{className:"h-8 w-8 mr-3 text-purple-600"}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Specialized Services"}),r.jsxs(Ke,{className:"ml-4 bg-purple-100 text-purple-700 border-purple-200",children:[f.length," services"]})]}),f.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map((g,p)=>r.jsx(uN,{service:g,index:p,theme:"purple",onServiceSelect:e,onModalOpen:b=>{i(b),s(!0)}},g.id))}):r.jsx(oe,{children:r.jsx(le,{className:"p-6 text-center text-gray-600",children:"No Specialized services match your search/filter."})})]}),r.jsxs("div",{className:"text-center rounded-3xl p-8 lg:p-12 text-white",style:{backgroundColor:"#44062D"},children:[r.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Need a custom service solution?"}),r.jsx("p",{className:"text-lg mb-6 max-w-2xl mx-auto",style:{color:"#EED1C4"},children:"Our platform connects you with verified professionals for any home service need. Book multiple services together for better coordination and pricing."}),r.jsx(tB,{})]})]}),r.jsx(du,{isOpen:t,onClose:()=>s(!1),serviceId:n,onBookingComplete:g=>{console.log("Booking completed:",g),s(!1)}})]})}function uz({isOpen:e,onClose:t,onEditBooking:s,bookingData:n}){var d,u;const[i,a]=j.useState(!1),o=h=>{switch(h){case"house-cleaning":return r.jsx(Ld,{className:"h-5 w-5"});case"garden-services":return r.jsx("div",{className:"h-5 w-5",children:""});case"chef-catering":return r.jsx(Tr,{className:"h-5 w-5"});case"plumbing":return r.jsx("div",{className:"h-5 w-5",children:""});case"electrical":return r.jsx("div",{className:"h-5 w-5",children:""});case"handyman":return r.jsx("div",{className:"h-5 w-5",children:""});case"painting":return r.jsx("div",{className:"h-5 w-5",children:""});case"waitering":return r.jsx(vn,{className:"h-5 w-5"});default:return r.jsx(Et,{className:"h-5 w-5"})}},l=h=>({"house-cleaning":"House Cleaning","garden-services":"Garden Services","chef-catering":"Chef & Catering",plumbing:"Plumbing",electrical:"Electrical",handyman:"Handyman",painting:"Painting",waitering:"Waitering"})[h]||"Service",c=(h,m)=>h?`${new Date(h).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"})} at ${m||"Time TBD"}`:"Not specified";return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Bn,{children:r.jsxs(_n,{className:"flex items-center space-x-3 text-2xl",children:[r.jsx($t,{className:"h-8 w-8 text-green-600"}),r.jsx("span",{children:"Booking Confirmed!"})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(oe,{className:"bg-green-50 border-green-200",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx($t,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Your booking has been confirmed!"}),r.jsxs("p",{className:"text-green-700",children:["Booking Reference: ",r.jsxs("span",{className:"font-mono font-bold",children:["#",n.bookingId]})]}),r.jsx("p",{className:"text-green-600 text-sm mt-2",children:"You'll receive a confirmation email shortly with all the details."})]})})}),r.jsxs(oe,{children:[r.jsxs(Ve,{className:"flex flex-row items-center justify-between",children:[r.jsxs($e,{className:"flex items-center space-x-3",children:[o(n.serviceId),r.jsx("span",{children:l(n.serviceId)})]}),r.jsxs(K,{variant:"outline",size:"sm",onClick:s,children:[r.jsx(RP,{className:"h-4 w-4 mr-2"}),"Edit Booking"]})]}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ys,{className:"h-5 w-5 text-gray-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Service Address"}),r.jsx("p",{className:"text-gray-600",children:n.address||"Not specified"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Property Type: ",n.propertyType||"Not specified"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ws,{className:"h-5 w-5 text-gray-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Date & Time"}),r.jsx("p",{className:"text-gray-600",children:c(n.preferredDate,n.timePreference)}),n.recurringSchedule!=="one-time"&&r.jsx(Ke,{variant:"secondary",className:"mt-1",children:n.recurringSchedule})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Cr,{className:"h-5 w-5 text-gray-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Total Cost"}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R",n.totalCost]}),n.commission&&r.jsxs("p",{className:"text-sm text-gray-500",children:["Platform fee: R",n.commission]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(a2,{className:"h-5 w-5 text-gray-500 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Payment Method"}),r.jsx("p",{className:"text-gray-600",children:"Berry Events Bank"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Secure escrow protection"})]})]})]})]}),n.serviceId==="chef-catering"&&r.jsxs("div",{className:"mt-4 p-4 bg-orange-50 rounded-lg",children:[r.jsxs("h4",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Catering Details"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.cuisineType&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Cuisine:"})," ",n.cuisineType]}),n.eventSize&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Event Size:"})," ",n.eventSize]}),n.selectedMenu&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Menu:"})," ",n.selectedMenu]}),((d=n.dietaryRequirements)==null?void 0:d.length)>0&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("span",{className:"font-medium",children:"Dietary Requirements:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:n.dietaryRequirements.map((h,m)=>r.jsx(Ke,{variant:"outline",className:"text-xs",children:h},m))})]})]})]}),((u=n.selectedAddOns)==null?void 0:u.length)>0&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold mb-2",children:"Selected Add-ons"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:n.selectedAddOns.map((h,m)=>r.jsx(Ke,{variant:"secondary",children:h},m))})]})]})]}),n.selectedProvider&&r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Your Service Provider"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:()=>a(!i),children:i?"Hide Details":"View Details"})]})}),r.jsx(le,{children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("img",{src:n.selectedProvider.profileImage||"/placeholder-avatar.png",alt:n.selectedProvider.name,className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-lg",children:n.selectedProvider.name}),r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"font-semibold ml-1",children:n.selectedProvider.rating})]}),r.jsxs("span",{className:"text-gray-500",children:["(",n.selectedProvider.reviews," reviews)"]}),r.jsx(Ke,{variant:"secondary",children:n.selectedProvider.experience})]}),i&&r.jsxs("div",{className:"space-y-2 mt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(xn,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:n.selectedProvider.phone||"Will be shared closer to service date"})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(li,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{children:n.selectedProvider.email||"Contact through Berry Events"})]}),n.selectedProvider.bio&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:n.selectedProvider.bio})]})]})]})})]}),r.jsxs(oe,{className:"bg-blue-50 border-blue-200",children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-blue-800",children:"What happens next?"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Provider Confirmation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your provider will confirm availability within 2 hours"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Service Preparation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Provider will contact you 24 hours before to confirm details"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:"Service Completion"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Payment is released after you confirm service completion"})]})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsx(K,{size:"lg",className:"flex-1",onClick:t,children:"Continue Browsing"}),r.jsxs(K,{variant:"outline",size:"lg",onClick:s,children:[r.jsx(RP,{className:"h-4 w-4 mr-2"}),"Edit This Booking"]}),r.jsx(K,{variant:"outline",size:"lg",onClick:()=>window.print(),children:"Print Details"})]})]})]})})}function hz({isOpen:e,onClose:t}){var f,g,p;const[s,n]=j.useState(!1),[i,a]=j.useState(0);j.useState(!1);const[o,l]=j.useState(0),c=j.useRef(null),d=[{title:"Browse Services",description:"Choose from 8 comprehensive service categories",scene:"service-selection",duration:3e3},{title:"Select Your Service",description:"Pick House Cleaning and configure your preferences",scene:"service-config",duration:4e3},{title:"Enter Details",description:"Add your address, preferred date and time",scene:"booking-details",duration:3500},{title:"Choose Provider",description:"Select from verified professionals in your area",scene:"provider-selection",duration:3e3},{title:"Secure Payment",description:"Complete your booking with Berry Events Bank protection",scene:"payment",duration:2500},{title:"Booking Confirmed",description:"Get instant confirmation with all booking details",scene:"confirmation",duration:3e3}],u=d.reduce((b,x)=>b+x.duration,0);j.useEffect(()=>{if(s&&e){let b=0;const x=d.slice(0,i).reduce((y,w)=>y+w.duration,0);c.current=setInterval(()=>{b+=100;const y=x+b;l(y/u*100),b>=d[i].duration&&(i<d.length-1?a(i+1):(n(!1),l(100)))},100)}else c.current&&clearInterval(c.current);return()=>{c.current&&clearInterval(c.current)}},[s,i,e]);const h=()=>{n(!1),a(0),l(0)},m=()=>{const b=d[i];switch(b==null?void 0:b.scene){case"service-selection":return r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 p-8 rounded-lg",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Choose Your Service"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h4",{className:"font-bold",children:"House Cleaning"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h4",{className:"font-bold",children:"Garden Care"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h4",{className:"font-bold",children:"Chef & Catering"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h4",{className:"font-bold",children:"Plumbing"})]})})]})]});case"service-config":return r.jsxs("div",{className:"bg-white p-8 rounded-lg border",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"House Cleaning Service"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Property Type"}),r.jsx("select",{className:"w-full p-3 border rounded-lg",children:r.jsx("option",{children:"House"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Cleaning Type"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx(Ke,{className:"bg-blue-100 text-blue-800 p-2",children:"Basic Clean"}),r.jsx(Ke,{className:"bg-primary text-white p-2",children:"Deep Clean "}),r.jsx(Ke,{className:"bg-gray-100 text-gray-800 p-2",children:"Move In/Out"})]})]})]})]});case"booking-details":return r.jsxs("div",{className:"bg-white p-8 rounded-lg border",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Booking Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Address"}),r.jsx("input",{className:"w-full p-3 border rounded-lg",value:"123 Sandton Drive, Johannesburg",readOnly:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Date"}),r.jsxs("div",{className:"flex items-center p-3 border rounded-lg",children:[r.jsx(Ws,{className:"h-5 w-5 mr-2 text-gray-500"}),r.jsx("span",{children:"Tomorrow"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block font-medium mb-2",children:"Time"}),r.jsx("div",{className:"flex items-center p-3 border rounded-lg",children:r.jsx("span",{children:"10:00 AM"})})]})]})]})]});case"provider-selection":return r.jsxs("div",{className:"bg-white p-8 rounded-lg border",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Choose Your Provider"}),r.jsx("div",{className:"space-y-4",children:r.jsx(oe,{className:"border-2 border-primary bg-primary/5",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face",alt:"Provider",className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold",children:"Thabo Mthembu"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"font-semibold ml-1",children:"4.9"})]}),r.jsx("span",{className:"text-gray-500",children:"(156 reviews)"}),r.jsx(Ke,{variant:"secondary",children:"3.2km away"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Deep Cleaning Specialist"})]}),r.jsx($t,{className:"h-6 w-6 text-primary"})]})})})})]});case"payment":return r.jsxs("div",{className:"bg-white p-8 rounded-lg border",children:[r.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Secure Payment"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx($t,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"font-medium text-green-800",children:"Berry Events Bank Protection"})]}),r.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your payment is held securely until service completion"})]}),r.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Total Amount"}),r.jsx("span",{className:"text-2xl font-bold text-primary",children:"R450"})]}),r.jsx(oe,{className:"border-2 border-primary bg-primary/5",children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx(Cr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),r.jsx("h4",{className:"font-semibold",children:"Credit/Debit Card"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Secure card payment"})]})})]})]});case"confirmation":return r.jsx("div",{className:"bg-green-50 p-8 rounded-lg border border-green-200",children:r.jsxs("div",{className:"text-center",children:[r.jsx($t,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Booking Confirmed!"}),r.jsxs("p",{className:"text-green-700 mb-4",children:["Booking Reference: ",r.jsx("span",{className:"font-mono font-bold",children:"#BE123456"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-green-600",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(xn,{className:"h-4 w-4"}),r.jsx("span",{children:"Provider will contact you within 2 hours"})]}),r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(Ws,{className:"h-4 w-4"}),r.jsx("span",{children:"Service scheduled for tomorrow at 10:00 AM"})]})]})]})});default:return null}};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"min-w-[800px] min-h-[600px] max-w-5xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Bn,{children:r.jsxs(_n,{className:"flex items-center space-x-2",children:[r.jsx(Em,{className:"h-6 w-6 text-primary"}),r.jsx("span",{children:"Berry Events Booking Experience Demo"})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsx("span",{children:(f=d[i])==null?void 0:f.title}),r.jsxs("span",{children:[Math.round(o),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2 rounded-full transition-all duration-200",style:{width:`${o}%`}})})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:(g=d[i])==null?void 0:g.title}),r.jsx("p",{className:"text-gray-600",children:(p=d[i])==null?void 0:p.description})]}),r.jsx("div",{className:"min-h-[400px] bg-gray-50 rounded-lg p-4 flex items-center justify-center",children:m()}),r.jsxs("div",{className:"flex items-center justify-center py-4 border-t",children:[!s&&o===0&&r.jsxs(K,{onClick:()=>n(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 text-lg",children:[r.jsx(Em,{className:"h-5 w-5 mr-2"}),"Play Demo"]}),(s||o>0)&&r.jsxs("div",{className:"text-sm text-gray-600",children:[s?"Demo playing...":"Demo completed",o>=100&&r.jsxs(K,{variant:"outline",size:"sm",onClick:h,className:"ml-4",children:[r.jsx(jO,{className:"h-4 w-4 mr-2"}),"Watch Again"]})]})]}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:d.map((b,x)=>r.jsx("div",{className:`p-2 text-xs rounded-lg border ${x===i?"bg-primary text-white border-primary":x<i?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200"}`,children:b.title},x))})]})]})})}function Wle({isOpen:e,onClose:t,onSuccess:s,message:n}){const[,i]=nr(),{login:a,refreshUser:o}=S0(),[l,c]=j.useState(!1),[d,u]=j.useState({email:"",password:""}),{toast:h}=us(),m=async g=>{if(g.preventDefault(),!d.email||!d.password){h({title:"Validation Error",description:"Please enter both email and password",variant:"destructive"});return}try{c(!0),await a(d.email,d.password),h({title:"Login Successful",description:"Welcome back! Continuing with your booking..."}),o(),s&&s(),t()}catch(p){h({title:"Login Failed",description:p.message||"Invalid email or password. Please try again.",variant:"destructive"})}finally{c(!1)}},f=()=>{t(),i("/auth")};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-md",children:[r.jsxs(Bn,{children:[r.jsx(_n,{children:"Sign In to Continue"}),r.jsx(_o,{children:n||"Please sign in to continue with your booking"})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4 mt-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"email",type:"email",placeholder:"your.email@example.com",className:"pl-10",value:d.email,onChange:g=>u({...d,email:g.target.value}),required:!0,"data-testid":"input-booking-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"password",type:"password",placeholder:"Enter your password",className:"pl-10",value:d.password,onChange:g=>u({...d,password:g.target.value}),required:!0,"data-testid":"input-booking-password"})]})]}),r.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:l,"data-testid":"button-booking-signin",children:l?"Signing In...":"Sign In"})]}),r.jsxs("div",{className:"relative my-4",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"Or"})})]}),r.jsx(K,{type:"button",variant:"outline",className:"w-full",onClick:f,"data-testid":"button-booking-signup-redirect",children:"Don't have an account? Sign Up"})]})})}function Yle(){const[e,t]=j.useState(!1),[s,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),[u,h]=j.useState(""),[m,f]=j.useState(""),[g,p]=j.useState(""),[b,x]=j.useState(""),[y,w]=j.useState(""),[S,C]=j.useState(null),{user:L,isAuthenticated:R,isLoading:M}=S0(),[D]=j.useState(3),[$]=j.useState(1);if(M)return r.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const E=te=>{if(!R){te&&h(te),n(!0);return}te&&d(te),t(!0)},T=(te,ie,G)=>{if(!R){h(te),f(ie||""),p(G||""),n(!0);return}d(te),x(ie||""),w(G||""),t(!0)},q=()=>{n(!1),d(u||"house-cleaning"),x(m),w(g),t(!0),h(""),f(""),p("")},B=()=>{a(!1),S!=null&&S.serviceId&&d(S.serviceId),t(!0)};return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(sm,{onBookingClick:E,onServiceSelect:T,isAuthenticated:R,user:L||void 0,notificationCount:D,messageCount:$}),r.jsxs("main",{children:[r.jsx(zle,{onBookingClick:E,onDemoClick:()=>l(!0)}),r.jsx(qle,{onServiceSelect:T}),r.jsx(lk,{onBookService:T}),r.jsx(ok,{})]}),r.jsx(bh,{}),r.jsx(Wle,{isOpen:s,onClose:()=>{n(!1),h(""),f(""),p("")},onSuccess:q,message:"Please sign in to continue with your booking"}),e&&r.jsx(du,{isOpen:e,onClose:()=>{t(!1),d(""),x(""),w("")},serviceId:c||"house-cleaning",preSelectedProviderId:b,preSelectedProviderName:y,editBookingData:S,onBookingComplete:te=>{console.log("Booking completed:",te);const ie={...te,bookingId:`BE${Date.now().toString().slice(-6)}`,timestamp:new Date().toISOString(),status:"confirmed"};C(ie),t(!1),x(""),w(""),a(!0)}}),i&&S&&r.jsx(uz,{isOpen:i,onClose:()=>{a(!1),C(null),d("")},onEditBooking:B,bookingData:S}),r.jsx(hz,{isOpen:o,onClose:()=>l(!1)})]})}function Gle(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...n)=>e(...n);return new Proxy(s,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function W2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const zS=e=>Array.isArray(e);function fz(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function Qx(e){return typeof e=="string"||Array.isArray(e)}function WE(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function $k(e,t,s,n){if(typeof t=="function"){const[i,a]=WE(n);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=WE(n);t=t(s!==void 0?s:e.custom,i,a)}return t}function Y2(e,t,s){const n=e.getProps();return $k(n,t,s!==void 0?s:n.custom,e)}const Uk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hk=["initial",...Uk],z0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bh=new Set(z0),uc=e=>e*1e3,hc=e=>e/1e3,Kle={type:"spring",stiffness:500,damping:25,restSpeed:10},Zle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Xle={type:"keyframes",duration:.8},Qle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jle=(e,{keyframes:t})=>t.length>2?Xle:Bh.has(e)?e.startsWith("scale")?Zle(t[1]):Kle:Qle;function qk(e,t){return e?e[t]||e.default||e:void 0}const ece={skipAnimations:!1,useManualTiming:!1},tce=e=>e!==null;function G2(e,{repeat:t,repeatType:s="loop"},n){const i=e.filter(tce),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const ai=e=>e;let VS=ai;function sce(e){let t=new Set,s=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const f=h&&n?t:s;return u&&a.add(d),f.has(d)||f.add(d),d},cancel:d=>{s.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,s]=[s,t],s.clear(),t.forEach(l),n=!1,i&&(i=!1,c.process(d))}};return c}const cy=["read","resolveKeyframes","update","preRender","render","postRender"],nce=40;function mz(e,t){let s=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=cy.reduce((x,y)=>(x[y]=sce(a),x),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:m}=o,f=()=>{const x=performance.now();s=!1,i.delta=n?1e3/60:Math.max(Math.min(x-i.timestamp,nce),1),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),i.isProcessing=!1,s&&t&&(n=!1,e(f))},g=()=>{s=!0,n=!0,i.isProcessing||e(f)};return{schedule:cy.reduce((x,y)=>{const w=o[y];return x[y]=(S,C=!1,L=!1)=>(s||g(),w.schedule(S,C,L)),x},{}),cancel:x=>{for(let y=0;y<cy.length;y++)o[cy[y]].cancel(x)},state:i,steps:o}}const{schedule:qs,cancel:tu,state:Vr,steps:hN}=mz(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0),pz=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,rce=1e-7,ice=12;function ace(e,t,s,n,i){let a,o,l=0;do o=t+(s-t)/2,a=pz(o,n,i)-e,a>0?s=o:t=o;while(Math.abs(a)>rce&&++l<ice);return o}function V0(e,t,s,n){if(e===t&&s===n)return ai;const i=a=>ace(a,0,1,e,s);return a=>a===0||a===1?a:pz(i(a),t,n)}const gz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xz=e=>t=>1-e(1-t),vz=V0(.33,1.53,.69,.99),Wk=xz(vz),yz=gz(Wk),bz=e=>(e*=2)<1?.5*Wk(e):.5*(2-Math.pow(2,-10*(e-1))),Yk=e=>1-Math.sin(Math.acos(e)),wz=xz(Yk),jz=gz(Yk),Nz=e=>/^0[^.\s]+$/u.test(e);function oce(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Nz(e):!0}const Sz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Cz=e=>t=>typeof t=="string"&&t.startsWith(e),kz=Cz("--"),lce=Cz("var(--"),Gk=e=>lce(e)?cce.test(e.split("/*")[0].trim()):!1,cce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uce(e){const t=dce.exec(e);if(!t)return[,];const[,s,n,i]=t;return[`--${s??n}`,i]}function _z(e,t,s=1){const[n,i]=uce(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return Sz(o)?parseFloat(o):o}return Gk(i)?_z(i,t,s+1):i}const Sc=(e,t,s)=>s>t?t:s<e?e:s,vp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jx={...vp,transform:e=>Sc(0,1,e)},dy={...vp,default:1},$0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xc=$0("deg"),bl=$0("%"),zt=$0("px"),hce=$0("vh"),fce=$0("vw"),YE={...bl,parse:e=>bl.parse(e)/100,transform:e=>bl.transform(e*100)},mce=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),GE=e=>e===vp||e===zt,KE=(e,t)=>parseFloat(e.split(", ")[t]),ZE=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return KE(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?KE(a[1],e):0}},pce=new Set(["x","y","z"]),gce=z0.filter(e=>!pce.has(e));function xce(e){const t=[];return gce.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const Um={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ZE(4,13),y:ZE(5,14)};Um.translateX=Um.x;Um.translateY=Um.y;const Pz=e=>t=>t.test(e),vce={test:e=>e==="auto",parse:e=>e},Az=[vp,zt,bl,Xc,fce,hce,vce],XE=e=>Az.find(Pz(e)),ch=new Set;let $S=!1,US=!1;function Ez(){if(US){const e=Array.from(ch).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const i=xce(n);i.length&&(s.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=s.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}US=!1,$S=!1,ch.forEach(e=>e.complete()),ch.clear()}function Tz(){ch.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(US=!0)})}function yce(){Tz(),Ez()}class Kk{constructor(t,s,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ch.add(this),$S||($S=!0,qs.read(Tz),qs.resolveKeyframes(Ez))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ch.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ch.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tx=e=>Math.round(e*1e5)/1e5,Zk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bce(e){return e==null}const wce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xk=(e,t)=>s=>!!(typeof s=="string"&&wce.test(s)&&s.startsWith(e)||t&&!bce(s)&&Object.prototype.hasOwnProperty.call(s,t)),Mz=(e,t,s)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(Zk);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},jce=e=>Sc(0,255,e),fN={...vp,transform:e=>Math.round(jce(e))},Zu={test:Xk("rgb","red"),parse:Mz("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+fN.transform(e)+", "+fN.transform(t)+", "+fN.transform(s)+", "+tx(Jx.transform(n))+")"};function Nce(e){let t="",s="",n="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const HS={test:Xk("#"),parse:Nce,transform:Zu.transform},Lf={test:Xk("hsl","hue"),parse:Mz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+bl.transform(tx(t))+", "+bl.transform(tx(s))+", "+tx(Jx.transform(n))+")"},ti={test:e=>Zu.test(e)||HS.test(e)||Lf.test(e),parse:e=>Zu.test(e)?Zu.parse(e):Lf.test(e)?Lf.parse(e):HS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Zu.transform(e):Lf.transform(e)},Sce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cce(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zk))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(Sce))===null||s===void 0?void 0:s.length)||0)>0}const Rz="number",Lz="color",kce="var",_ce="var(",QE="${}",Pce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function e0(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Pce,c=>(ti.test(c)?(n.color.push(a),i.push(Lz),s.push(ti.parse(c))):c.startsWith(_ce)?(n.var.push(a),i.push(kce),s.push(c)):(n.number.push(a),i.push(Rz),s.push(parseFloat(c))),++a,QE)).split(QE);return{values:s,split:l,indexes:n,types:i}}function Dz(e){return e0(e).values}function Oz(e){const{split:t,types:s}=e0(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=s[o];l===Rz?a+=tx(i[o]):l===Lz?a+=ti.transform(i[o]):a+=i[o]}return a}}const Ace=e=>typeof e=="number"?0:e;function Ece(e){const t=Dz(e);return Oz(e)(t.map(Ace))}const su={test:Cce,parse:Dz,createTransformer:Oz,getAnimatableNone:Ece},Tce=new Set(["brightness","contrast","saturate","opacity"]);function Mce(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(Zk)||[];if(!n)return e;const i=s.replace(n,"");let a=Tce.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+i+")"}const Rce=/\b([a-z-]*)\(.*?\)/gu,qS={...su,getAnimatableNone:e=>{const t=e.match(Rce);return t?t.map(Mce).join(" "):e}},Lce={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt},Dce={rotate:Xc,rotateX:Xc,rotateY:Xc,rotateZ:Xc,scale:dy,scaleX:dy,scaleY:dy,scaleZ:dy,skew:Xc,skewX:Xc,skewY:Xc,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:Jx,originX:YE,originY:YE,originZ:zt},JE={...vp,transform:Math.round},Qk={...Lce,...Dce,zIndex:JE,size:zt,fillOpacity:Jx,strokeOpacity:Jx,numOctaves:JE},Oce={...Qk,color:ti,backgroundColor:ti,outlineColor:ti,fill:ti,stroke:ti,borderColor:ti,borderTopColor:ti,borderRightColor:ti,borderBottomColor:ti,borderLeftColor:ti,filter:qS,WebkitFilter:qS},Jk=e=>Oce[e];function Iz(e,t){let s=Jk(e);return s!==qS&&(s=su),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Ice=new Set(["auto","none","0"]);function Fce(e,t,s){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Ice.has(a)&&e0(a).values.length&&(i=e[n]),n++}if(i&&s)for(const a of t)e[a]=Iz(s,i)}class Fz extends Kk{constructor(t,s,n,i,a){super(t,s,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Gk(d))){const u=_z(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!mce.has(n)||t.length!==2)return;const[i,a]=t,o=XE(i),l=XE(a);if(o!==l)if(GE(o)&&GE(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let i=0;i<t.length;i++)oce(t[i])&&n.push(i);n.length&&Fce(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Um[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:s,name:n,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Um[n](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{s.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function e_(e){return typeof e=="function"}let i1;function Bce(){i1=void 0}const wl={now:()=>(i1===void 0&&wl.set(Vr.isProcessing||ece.useManualTiming?Vr.timestamp:performance.now()),i1),set:e=>{i1=e,queueMicrotask(Bce)}},eT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(su.test(e)||e==="0")&&!e.startsWith("url("));function zce(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Vce(e,t,s,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=eT(i,t),l=eT(a,t);return!o||!l?!1:zce(e)||(s==="spring"||e_(s))&&n}const $ce=40;class Bz{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wl.now(),this.options={autoplay:t,delay:s,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>$ce?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yce(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=wl.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Vce(t,n,i,a))if(o)this.options.duration=0;else{c==null||c(G2(t,this.options,s)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,s);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...u},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Hm=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},zz=(e,t,s=10)=>{let n="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)n+=e(Hm(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function Vz(e,t){return t?e*(1e3/t):0}const Uce=5;function $z(e,t,s){const n=Math.max(t-Uce,0);return Vz(s-e(n),t-n)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mN=.001;function Hce({duration:e=On.duration,bounce:t=On.bounce,velocity:s=On.velocity,mass:n=On.mass}){let i,a,o=1-t;o=Sc(On.minDamping,On.maxDamping,o),e=Sc(On.minDuration,On.maxDuration,hc(e)),o<1?(i=d=>{const u=d*o,h=u*e,m=u-s,f=WS(d,o),g=Math.exp(-h);return mN-m/f*g},a=d=>{const h=d*o*e,m=h*s+s,f=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),p=WS(Math.pow(d,2),o);return(-i(d)+mN>0?-1:1)*((m-f)*g)/p}):(i=d=>{const u=Math.exp(-d*e),h=(d-s)*e+1;return-mN+u*h},a=d=>{const u=Math.exp(-d*e),h=(s-d)*(e*e);return u*h});const l=5/e,c=Wce(i,a,l);if(e=uc(e),isNaN(c))return{stiffness:On.stiffness,damping:On.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const qce=12;function Wce(e,t,s){let n=s;for(let i=1;i<qce;i++)n=n-e(n)/t(n);return n}function WS(e,t){return e*Math.sqrt(1-t*t)}const YS=2e4;function Uz(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<YS;)t+=s,n=e.next(t);return t>=YS?1/0:t}const Yce=["duration","bounce"],Gce=["stiffness","damping","mass"];function tT(e,t){return t.some(s=>e[s]!==void 0)}function Kce(e){let t={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...e};if(!tT(e,Gce)&&tT(e,Yce))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),i=n*n,a=2*Sc(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:On.mass,stiffness:i,damping:a}}else{const s=Hce(e);t={...t,...s,mass:On.mass},t.isResolvedFromDuration=!0}return t}function Hz(e=On.visualDuration,t=On.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=Kce({...s,velocity:-hc(s.velocity||0)}),g=m||0,p=d/(2*Math.sqrt(c*u)),b=o-a,x=hc(Math.sqrt(c/u)),y=Math.abs(b)<5;n||(n=y?On.restSpeed.granular:On.restSpeed.default),i||(i=y?On.restDelta.granular:On.restDelta.default);let w;if(p<1){const C=WS(x,p);w=L=>{const R=Math.exp(-p*x*L);return o-R*((g+p*x*b)/C*Math.sin(C*L)+b*Math.cos(C*L))}}else if(p===1)w=C=>o-Math.exp(-x*C)*(b+(g+x*b)*C);else{const C=x*Math.sqrt(p*p-1);w=L=>{const R=Math.exp(-p*x*L),M=Math.min(C*L,300);return o-R*((g+p*x*b)*Math.sinh(M)+C*b*Math.cosh(M))/C}}const S={calculatedDuration:f&&h||null,next:C=>{const L=w(C);if(f)l.done=C>=h;else{let R=0;p<1&&(R=C===0?uc(g):$z(w,C,L));const M=Math.abs(R)<=n,D=Math.abs(o-L)<=i;l.done=M&&D}return l.value=l.done?o:L,l},toString:()=>{const C=Math.min(Uz(S),YS),L=zz(R=>S.next(C*R).value,C,30);return C+"ms "+L}};return S}function sT({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=M=>l!==void 0&&M<l||c!==void 0&&M>c,g=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let p=s*t;const b=h+p,x=o===void 0?b:o(b);x!==b&&(p=x-h);const y=M=>-p*Math.exp(-M/n),w=M=>x+y(M),S=M=>{const D=y(M),$=w(M);m.done=Math.abs(D)<=d,m.value=m.done?x:$};let C,L;const R=M=>{f(m.value)&&(C=M,L=Hz({keyframes:[m.value,g(m.value)],velocity:$z(w,M,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return R(0),{calculatedDuration:null,next:M=>{let D=!1;return!L&&C===void 0&&(D=!0,S(M),R(M)),C!==void 0&&M>=C?L.next(M-C):(!D&&S(M),m)}}}const Zce=V0(.42,0,1,1),Xce=V0(0,0,.58,1),qz=V0(.42,0,.58,1),Qce=e=>Array.isArray(e)&&typeof e[0]!="number",t_=e=>Array.isArray(e)&&typeof e[0]=="number",nT={linear:ai,easeIn:Zce,easeInOut:qz,easeOut:Xce,circIn:Yk,circInOut:jz,circOut:wz,backIn:Wk,backInOut:yz,backOut:vz,anticipate:bz},rT=e=>{if(t_(e)){VS(e.length===4);const[t,s,n,i]=e;return V0(t,s,n,i)}else if(typeof e=="string")return VS(nT[e]!==void 0),nT[e];return e},Jce=(e,t)=>s=>t(e(s)),zd=(...e)=>e.reduce(Jce),Sn=(e,t,s)=>e+(t-e)*s;function pN(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function ede({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;i=pN(c,l,e+1/3),a=pN(c,l,e),o=pN(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function bb(e,t){return s=>s>0?t:e}const gN=(e,t,s)=>{const n=e*e,i=s*(t*t-n)+n;return i<0?0:Math.sqrt(i)},tde=[HS,Zu,Lf],sde=e=>tde.find(t=>t.test(e));function iT(e){const t=sde(e);if(!t)return!1;let s=t.parse(e);return t===Lf&&(s=ede(s)),s}const aT=(e,t)=>{const s=iT(e),n=iT(t);if(!s||!n)return bb(e,t);const i={...s};return a=>(i.red=gN(s.red,n.red,a),i.green=gN(s.green,n.green,a),i.blue=gN(s.blue,n.blue,a),i.alpha=Sn(s.alpha,n.alpha,a),Zu.transform(i))},GS=new Set(["none","hidden"]);function nde(e,t){return GS.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function rde(e,t){return s=>Sn(e,t,s)}function s_(e){return typeof e=="number"?rde:typeof e=="string"?Gk(e)?bb:ti.test(e)?aT:ode:Array.isArray(e)?Wz:typeof e=="object"?ti.test(e)?aT:ide:bb}function Wz(e,t){const s=[...e],n=s.length,i=e.map((a,o)=>s_(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)s[o]=i[o](a);return s}}function ide(e,t){const s={...e,...t},n={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(n[i]=s_(e[i])(e[i],t[i]));return i=>{for(const a in n)s[a]=n[a](i);return s}}function ade(e,t){var s;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(s=e.values[l])!==null&&s!==void 0?s:0;n[a]=c,i[o]++}return n}const ode=(e,t)=>{const s=su.createTransformer(t),n=e0(e),i=e0(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?GS.has(e)&&!i.values.length||GS.has(t)&&!n.values.length?nde(e,t):zd(Wz(ade(n,i),i.values),s):bb(e,t)};function Yz(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Sn(e,t,s):s_(e)(e,t)}function lde(e,t,s){const n=[],i=s||Yz,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ai:t;l=zd(c,l)}n.push(l)}return n}function cde(e,t,{clamp:s=!0,ease:n,mixer:i}={}){const a=e.length;if(VS(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=lde(t,n,i),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Hm(e[u],e[u+1],d);return o[u](h)};return s?d=>c(Sc(e[0],e[a-1],d)):c}function dde(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const i=Hm(0,t,n);e.push(Sn(s,1,i))}}function ude(e){const t=[0];return dde(t,e.length-1),t}function hde(e,t){return e.map(s=>s*t)}function fde(e,t){return e.map(()=>t||qz).splice(0,e.length-1)}function wb({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const i=Qce(n)?n.map(rT):rT(n),a={done:!1,value:t[0]},o=hde(s&&s.length===t.length?s:ude(t),e),l=cde(o,t,{ease:Array.isArray(i)?i:fde(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const mde=e=>{const t=({timestamp:s})=>e(s);return{start:()=>qs.update(t,!0),stop:()=>tu(t),now:()=>Vr.isProcessing?Vr.timestamp:wl.now()}},pde={decay:sT,inertia:sT,tween:wb,keyframes:wb,spring:Hz},gde=e=>e/100;class n_ extends Bz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:s,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Kk,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,s,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=e_(s)?s:pde[s]||wb;let c,d;l!==wb&&typeof t[0]!="number"&&(c=zd(gde,Yz(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Uz(u));const{calculatedDuration:h}=u,m=h+i,f=m*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:f}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:n}=this;if(!n){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:m,repeat:f,repeatType:g,repeatDelay:p,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,S=a;if(f){const M=Math.min(this.currentTime,u)/h;let D=Math.floor(M),$=M%1;!$&&M>=1&&($=1),$===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(g==="reverse"?($=1-$,p&&($-=p/h)):g==="mirror"&&(S=o)),w=Sc(0,1,$)*h}const C=y?{done:!1,value:c[0]}:S.next(w);l&&(C.value=l(C.value));let{done:L}=C;!y&&d!==null&&(L=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return R&&i!==void 0&&(C.value=G2(c,this.options,i)),b&&b(C.value),R&&this.finish(),C}get duration(){const{resolved:t}=this;return t?hc(t.calculatedDuration):0}get time(){return hc(this.currentTime)}set time(t){t=uc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=hc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=mde,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const xde=new Set(["opacity","clipPath","filter","transform"]);function r_(e){let t;return()=>(t===void 0&&(t=e()),t)}const vde={linearEasing:void 0};function yde(e,t){const s=r_(e);return()=>{var n;return(n=vde[t])!==null&&n!==void 0?n:s()}}const jb=yde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Gz(e){return!!(typeof e=="function"&&jb()||!e||typeof e=="string"&&(e in KS||jb())||t_(e)||Array.isArray(e)&&e.every(Gz))}const Eg=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,KS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eg([0,.65,.55,1]),circOut:Eg([.55,0,1,.45]),backIn:Eg([.31,.01,.66,-.59]),backOut:Eg([.33,1.53,.69,.99])};function Kz(e,t){if(e)return typeof e=="function"&&jb()?zz(e,t):t_(e)?Eg(e):Array.isArray(e)?e.map(s=>Kz(s,t)||KS.easeOut):KS[e]}function bde(e,t,s,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:s};c&&(d.offset=c);const u=Kz(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}function oT(e,t){e.timeline=t,e.onfinish=null}const wde=r_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nb=10,jde=2e4;function Nde(e){return e_(e.type)||e.type==="spring"||!Gz(e.ease)}function Sde(e,t){const s=new n_({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<jde;)n=s.sample(a),i.push(n.value),a+=Nb;return{times:void 0,keyframes:i,duration:a-Nb,ease:"linear"}}const Zz={anticipate:bz,backInOut:yz,circInOut:jz};function Cde(e){return e in Zz}class lT extends Bz{constructor(t){super(t);const{name:s,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new Fz(a,(o,l)=>this.onKeyframesResolved(o,l),s,n,i),this.resolver.scheduleResolve()}initPlayback(t,s){var n;let{duration:i=300,times:a,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((n=c.owner)===null||n===void 0)&&n.current))return!1;if(typeof o=="string"&&jb()&&Cde(o)&&(o=Zz[o]),Nde(this.options)){const{onComplete:m,onUpdate:f,motionValue:g,element:p,...b}=this.options,x=Sde(t,b);t=x.keyframes,t.length===1&&(t[1]=t[0]),i=x.duration,a=x.times,o=x.ease,l="keyframes"}const h=bde(c.owner.current,d,t,{...this.options,duration:i,times:a,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(oT(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set(G2(t,this.options,s)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:a,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return hc(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return hc(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.currentTime=uc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:n}=s;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return ai;const{animation:n}=s;oT(n,t)}return ai}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:m,...f}=this.options,g=new n_({...f,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),p=uc(this.time);d.setWithVelocity(g.sample(p-Nb).value,g.sample(p).value,Nb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;return wde()&&n&&xde.has(n)&&s&&s.owner&&s.owner.current instanceof HTMLElement&&!s.owner.getProps().onUpdate&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const kde=r_(()=>window.ScrollTimeline!==void 0);class _de{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,s){return Promise.all(this.animations).then(t).catch(s)}getAll(t){return this.animations[0][t]}setAll(t,s){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=s}attachTimeline(t,s){const n=this.animations.map(i=>kde()&&i.attachTimeline?i.attachTimeline(t):s(i));return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Pde({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const i_=(e,t,s,n={},i,a)=>o=>{const l=qk(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-uc(c);let u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Pde(l)||(u={...u,...Jle(e,u)}),u.duration&&(u.duration=uc(u.duration)),u.repeatDelay&&(u.repeatDelay=uc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=G2(u.keyframes,l);if(m!==void 0)return qs.update(()=>{u.onUpdate(m),u.onComplete()}),new _de([])}return!a&&lT.supports(u)?new lT(u):new n_(u)},Ade=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ede=e=>zS(e)?e[e.length-1]||0:e;function a_(e,t){e.indexOf(t)===-1&&e.push(t)}function o_(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class l_{constructor(){this.subscriptions=[]}add(t){return a_(this.subscriptions,t),()=>o_(this.subscriptions,t)}notify(t,s,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cT=30,Tde=e=>!isNaN(parseFloat(e));class Mde{constructor(t,s={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=wl.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=wl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Tde(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new l_);const n=this.events[t].add(s);return t==="change"?()=>{n(),qs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cT)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,cT);return Vz(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function t0(e,t){return new Mde(e,t)}function Rde(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,t0(s))}function Lde(e,t){const s=Y2(e,t);let{transitionEnd:n={},transition:i={},...a}=s||{};a={...a,...n};for(const o in a){const l=Ede(a[o]);Rde(e,o,l)}}const c_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dde="framerAppearId",Xz="data-"+c_(Dde);function Qz(e){return e.props[Xz]}const ni=e=>!!(e&&e.getVelocity);function Ode(e){return!!(ni(e)&&e.add)}function ZS(e,t){const s=e.getValue("willChange");if(Ode(s))return s.add(t)}function Ide({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Jz(e,t,{delay:s=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),f=c[h];if(f===void 0||u&&Ide(u,h))continue;const g={delay:s,...qk(o||{},h)};let p=!1;if(window.MotionHandoffAnimation){const x=Qz(e);if(x){const y=window.MotionHandoffAnimation(x,h,qs);y!==null&&(g.startTime=y,p=!0)}}ZS(e,h),m.start(i_(h,m,f,e.shouldReduceMotion&&Bh.has(h)?{type:!1}:g,e,p));const b=m.animation;b&&d.push(b)}return l&&Promise.all(d).then(()=>{qs.update(()=>{l&&Lde(e,l)})}),d}function XS(e,t,s={}){var n;const i=Y2(e,t,s.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const o=i?()=>Promise.all(Jz(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return Fde(e,t,u+d,h,m,s)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(s.delay)])}function Fde(e,t,s=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Bde).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(XS(d,t,{...a,delay:s+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Bde(e,t){return e.sortNodePosition(t)}function zde(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>XS(e,a,s));n=Promise.all(i)}else if(typeof t=="string")n=XS(e,t,s);else{const i=typeof t=="function"?Y2(e,t,s.custom):t;n=Promise.all(Jz(e,i,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Vde=Hk.length;function eV(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?eV(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Vde;s++){const n=Hk[s],i=e.props[n];(Qx(i)||i===!1)&&(t[n]=i)}return t}const $de=[...Uk].reverse(),Ude=Uk.length;function Hde(e){return t=>Promise.all(t.map(({animation:s,options:n})=>zde(e,s,n)))}function qde(e){let t=Hde(e),s=dT(),n=!0;const i=c=>(d,u)=>{var h;const m=Y2(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:f,transitionEnd:g,...p}=m;d={...d,...p,...g}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=eV(e.parent)||{},h=[],m=new Set;let f={},g=1/0;for(let b=0;b<Ude;b++){const x=$de[b],y=s[x],w=d[x]!==void 0?d[x]:u[x],S=Qx(w),C=x===c?y.isActive:null;C===!1&&(g=b);let L=w===u[x]&&w!==d[x]&&S;if(L&&n&&e.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...f},!y.isActive&&C===null||!w&&!y.prevProp||W2(w)||typeof w=="boolean")continue;const R=Wde(y.prevProp,w);let M=R||x===c&&y.isActive&&!L&&S||b>g&&S,D=!1;const $=Array.isArray(w)?w:[w];let E=$.reduce(i(x),{});C===!1&&(E={});const{prevResolvedValues:T={}}=y,q={...T,...E},B=G=>{M=!0,m.has(G)&&(D=!0,m.delete(G)),y.needsAnimating[G]=!0;const P=e.getValue(G);P&&(P.liveStyle=!1)};for(const G in q){const P=E[G],U=T[G];if(f.hasOwnProperty(G))continue;let xe=!1;zS(P)&&zS(U)?xe=!fz(P,U):xe=P!==U,xe?P!=null?B(G):m.add(G):P!==void 0&&m.has(G)?B(G):y.protectedKeys[G]=!0}y.prevProp=w,y.prevResolvedValues=E,y.isActive&&(f={...f,...E}),n&&e.blockInitialAnimation&&(M=!1),M&&(!(L&&R)||D)&&h.push(...$.map(G=>({animation:G,options:{type:x}})))}if(m.size){const b={};m.forEach(x=>{const y=e.getBaseTarget(x),w=e.getValue(x);w&&(w.liveStyle=!0),b[x]=y??null}),h.push({animation:b})}let p=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(h):Promise.resolve()}function l(c,d){var u;if(s[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(m=>{var f;return(f=m.animationState)===null||f===void 0?void 0:f.setActive(c,d)}),s[c].isActive=d;const h=o(c);for(const m in s)s[m].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>s,reset:()=>{s=dT(),n=!0}}}function Wde(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fz(t,e):!1}function Pu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dT(){return{animate:Pu(!0),whileInView:Pu(),whileHover:Pu(),whileTap:Pu(),whileDrag:Pu(),whileFocus:Pu(),exit:Pu()}}class uu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Yde extends uu{constructor(t){super(t),t.animationState||(t.animationState=qde(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();W2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Gde=0;class Kde extends uu{constructor(){super(...arguments),this.id=Gde++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Zde={animation:{Feature:Yde},exit:{Feature:Kde}};function Xde(e,t,s){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const mo={x:!1,y:!1};function tV(){return mo.x||mo.y}function uT(e){return t=>{t.pointerType==="touch"||tV()||e(t)}}function Qde(e,t,s={}){const n=new AbortController,i={passive:!0,...s,signal:n.signal},a=uT(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const d=uT(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return Xde(e).forEach(o=>{o.addEventListener("pointerenter",a,i)}),()=>n.abort()}function Jde(e){return e==="x"||e==="y"?mo[e]?null:(mo[e]=!0,()=>{mo[e]=!1}):mo.x||mo.y?null:(mo.x=mo.y=!0,()=>{mo.x=mo.y=!1})}const sV=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function U0(e){return{point:{x:e.pageX,y:e.pageY}}}const eue=e=>t=>sV(t)&&e(t,U0(t));function ac(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function Vd(e,t,s,n){return ac(e,t,eue(s),n)}const hT=(e,t)=>Math.abs(e-t);function tue(e,t){const s=hT(e.x,t.x),n=hT(e.y,t.y);return Math.sqrt(s**2+n**2)}class nV{constructor(t,s,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=vN(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=tue(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:g}=h,{timestamp:p}=Vr;this.history.push({...g,timestamp:p});const{onStart:b,onMove:x}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xN(m,this.transformPagePoint),qs.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:g,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=vN(h.type==="pointercancel"?this.lastMoveEventInfo:xN(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,b),g&&g(h,b)},!sV(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=n,this.contextWindow=i||window;const o=U0(t),l=xN(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Vr;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,vN(l,this.history)),this.removeListeners=zd(Vd(this.contextWindow,"pointermove",this.handlePointerMove),Vd(this.contextWindow,"pointerup",this.handlePointerUp),Vd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tu(this.updatePoint)}}function xN(e,t){return t?{point:t(e.point)}:e}function fT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function vN({point:e},t){return{point:e,delta:fT(e,rV(t)),offset:fT(e,sue(t)),velocity:nue(t,.1)}}function sue(e){return e[0]}function rV(e){return e[e.length-1]}function nue(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const i=rV(e);for(;s>=0&&(n=e[s],!(i.timestamp-n.timestamp>uc(t)));)s--;if(!n)return{x:0,y:0};const a=hc(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Df(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const iV=1e-4,rue=1-iV,iue=1+iV,aV=.01,aue=0-aV,oue=0+aV;function ka(e){return e.max-e.min}function lue(e,t,s){return Math.abs(e-t)<=s}function mT(e,t,s,n=.5){e.origin=n,e.originPoint=Sn(t.min,t.max,e.origin),e.scale=ka(s)/ka(t),e.translate=Sn(s.min,s.max,e.origin)-e.originPoint,(e.scale>=rue&&e.scale<=iue||isNaN(e.scale))&&(e.scale=1),(e.translate>=aue&&e.translate<=oue||isNaN(e.translate))&&(e.translate=0)}function sx(e,t,s,n){mT(e.x,t.x,s.x,n?n.originX:void 0),mT(e.y,t.y,s.y,n?n.originY:void 0)}function pT(e,t,s){e.min=s.min+t.min,e.max=e.min+ka(t)}function cue(e,t,s){pT(e.x,t.x,s.x),pT(e.y,t.y,s.y)}function gT(e,t,s){e.min=t.min-s.min,e.max=e.min+ka(t)}function nx(e,t,s){gT(e.x,t.x,s.x),gT(e.y,t.y,s.y)}function due(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?Sn(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?Sn(s,e,n.max):Math.min(e,s)),e}function xT(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function uue(e,{top:t,left:s,bottom:n,right:i}){return{x:xT(e.x,s,i),y:xT(e.y,t,n)}}function vT(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function hue(e,t){return{x:vT(e.x,t.x),y:vT(e.y,t.y)}}function fue(e,t){let s=.5;const n=ka(e),i=ka(t);return i>n?s=Hm(t.min,t.max-n,e.min):n>i&&(s=Hm(e.min,e.max-i,t.min)),Sc(0,1,s)}function mue(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const QS=.35;function pue(e=QS){return e===!1?e=0:e===!0&&(e=QS),{x:yT(e,"left","right"),y:yT(e,"top","bottom")}}function yT(e,t,s){return{min:bT(e,t),max:bT(e,s)}}function bT(e,t){return typeof e=="number"?e:e[t]||0}const wT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Of=()=>({x:wT(),y:wT()}),jT=()=>({min:0,max:0}),Yn=()=>({x:jT(),y:jT()});function Ia(e){return[e("x"),e("y")]}function oV({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function gue({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xue(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function yN(e){return e===void 0||e===1}function JS({scale:e,scaleX:t,scaleY:s}){return!yN(e)||!yN(t)||!yN(s)}function Ou(e){return JS(e)||lV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lV(e){return NT(e.x)||NT(e.y)}function NT(e){return e&&e!=="0%"}function Sb(e,t,s){const n=e-s,i=t*n;return s+i}function ST(e,t,s,n,i){return i!==void 0&&(e=Sb(e,i,n)),Sb(e,s,n)+t}function e4(e,t=0,s=1,n,i){e.min=ST(e.min,t,s,n,i),e.max=ST(e.max,t,s,n,i)}function cV(e,{x:t,y:s}){e4(e.x,t.translate,t.scale,t.originPoint),e4(e.y,s.translate,s.scale,s.originPoint)}const CT=.999999999999,kT=1.0000000000001;function vue(e,t,s,n=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=s[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ff(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cV(e,o)),n&&Ou(a.latestValues)&&Ff(e,a.latestValues))}t.x<kT&&t.x>CT&&(t.x=1),t.y<kT&&t.y>CT&&(t.y=1)}function If(e,t){e.min=e.min+t,e.max=e.max+t}function _T(e,t,s,n,i=.5){const a=Sn(e.min,e.max,i);e4(e,t,s,a,n)}function Ff(e,t){_T(e.x,t.x,t.scaleX,t.scale,t.originX),_T(e.y,t.y,t.scaleY,t.scale,t.originY)}function dV(e,t){return oV(xue(e.getBoundingClientRect(),t))}function yue(e,t,s){const n=dV(e,s),{scroll:i}=t;return i&&(If(n.x,i.offset.x),If(n.y,i.offset.y)),n}const uV=({current:e})=>e?e.ownerDocument.defaultView:null,bue=new WeakMap;class wue{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yn(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(U0(u).point)},a=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:g}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jde(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(b=>{let x=this.getAxisMotionValue(b).get()||0;if(bl.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[b];w&&(x=ka(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),g&&qs.postRender(()=>g(u,h)),ZS(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:g,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(f&&this.currentDirection===null){this.currentDirection=jue(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Ia(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new nV(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:uV(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&qs.postRender(()=>a(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:i}=this.getProps();if(!n||!uy(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=due(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;s&&Df(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=uue(i.layoutBox,s):this.constraints=!1,this.elastic=pue(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ia(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mue(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Df(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=yue(n,i.root,this.visualElement.getTransformPagePoint());let o=hue(i.layout.layoutBox,a);if(s){const l=s(gue(o));this.hasMutatedConstraints=!!l,l&&(o=oV(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Ia(u=>{if(!uy(u,s,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=i?200:1e6,f=i?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return ZS(this.visualElement,t),n.start(i_(t,n,0,s,this.visualElement,!1))}stopAnimation(){Ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ia(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[s];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ia(s=>{const{drag:n}=this.getProps();if(!uy(s,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[s];a.set(t[s]-Sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Df(s)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ia(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=fue({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ia(o=>{if(!uy(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Sn(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;bue.set(this.visualElement,this);const t=this.visualElement.current,s=Vd(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Df(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qs.read(n);const o=ac(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ia(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=QS,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function uy(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function jue(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Nue extends uu{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new wue(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=e=>(t,s)=>{e&&qs.postRender(()=>e(t,s))};class Sue extends uu{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new nV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:PT(t),onStart:PT(s),onMove:n,onEnd:(a,o)=>{delete this.session,i&&qs.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Vd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const K2=j.createContext(null);function Cue(){const e=j.useContext(K2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,i=j.useId();j.useEffect(()=>n(i),[]);const a=j.useCallback(()=>s&&s(i),[i,s]);return!t&&s?[!1,a]:[!0]}const d_=j.createContext({}),hV=j.createContext({}),a1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const cg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(zt.test(e))e=parseFloat(e);else return e;const s=AT(e,t.target.x),n=AT(e,t.target.y);return`${s}% ${n}%`}},kue={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,i=su.parse(e);if(i.length>5)return n;const a=su.createTransformer(e),o=typeof i[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=Sn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}},Cb={};function _ue(e){Object.assign(Cb,e)}const{schedule:u_,cancel:Swe}=mz(queueMicrotask,!1);class Pue extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;_ue(Aue),a&&(s.group&&s.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),a1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||qs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fV(e){const[t,s]=Cue(),n=j.useContext(d_);return r.jsx(Pue,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(hV),isPresent:t,safeToRemove:s})}const Aue={borderRadius:{...cg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cg,borderTopRightRadius:cg,borderBottomLeftRadius:cg,borderBottomRightRadius:cg,boxShadow:kue},mV=["TopLeft","TopRight","BottomLeft","BottomRight"],Eue=mV.length,ET=e=>typeof e=="string"?parseFloat(e):e,TT=e=>typeof e=="number"||zt.test(e);function Tue(e,t,s,n,i,a){i?(e.opacity=Sn(0,s.opacity!==void 0?s.opacity:1,Mue(n)),e.opacityExit=Sn(t.opacity!==void 0?t.opacity:1,0,Rue(n))):a&&(e.opacity=Sn(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<Eue;o++){const l=`border${mV[o]}Radius`;let c=MT(t,l),d=MT(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||TT(c)===TT(d)?(e[l]=Math.max(Sn(ET(c),ET(d),n),0),(bl.test(d)||bl.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Sn(t.rotate||0,s.rotate||0,n))}function MT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Mue=pV(0,.5,wz),Rue=pV(.5,.95,ai);function pV(e,t,s){return n=>n<e?0:n>t?1:s(Hm(e,t,n))}function RT(e,t){e.min=t.min,e.max=t.max}function Da(e,t){RT(e.x,t.x),RT(e.y,t.y)}function LT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function DT(e,t,s,n,i){return e-=t,e=Sb(e,1/s,n),i!==void 0&&(e=Sb(e,1/i,n)),e}function Lue(e,t=0,s=1,n=.5,i,a=e,o=e){if(bl.test(t)&&(t=parseFloat(t),t=Sn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Sn(a.min,a.max,n);e===a&&(l-=t),e.min=DT(e.min,t,s,l,i),e.max=DT(e.max,t,s,l,i)}function OT(e,t,[s,n,i],a,o){Lue(e,t[s],t[n],t[i],t.scale,a,o)}const Due=["x","scaleX","originX"],Oue=["y","scaleY","originY"];function IT(e,t,s,n){OT(e.x,t,Due,s?s.x:void 0,n?n.x:void 0),OT(e.y,t,Oue,s?s.y:void 0,n?n.y:void 0)}function FT(e){return e.translate===0&&e.scale===1}function gV(e){return FT(e.x)&&FT(e.y)}function BT(e,t){return e.min===t.min&&e.max===t.max}function Iue(e,t){return BT(e.x,t.x)&&BT(e.y,t.y)}function zT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xV(e,t){return zT(e.x,t.x)&&zT(e.y,t.y)}function VT(e){return ka(e.x)/ka(e.y)}function $T(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fue{constructor(){this.members=[]}add(t){a_(this.members,t),t.scheduleRender()}remove(t){if(o_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let n;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bue(e,t,s){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:g}=s;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),f&&(n+=`skewX(${f}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const zue=(e,t)=>e.depth-t.depth;class Vue{constructor(){this.children=[],this.isDirty=!1}add(t){a_(this.children,t),this.isDirty=!0}remove(t){o_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zue),this.isDirty=!1,this.children.forEach(t)}}function o1(e){const t=ni(e)?e.get():e;return Ade(t)?t.toValue():t}function $ue(e,t){const s=wl.now(),n=({timestamp:i})=>{const a=i-s;a>=t&&(tu(n),e(a-t))};return qs.read(n,!0),()=>tu(n)}function Uue(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Hue(e,t,s){const n=ni(e)?e:t0(e);return n.start(i_("",n,t,s)),n.animation}const Iu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tg=typeof window<"u"&&window.MotionDebug!==void 0,bN=["","X","Y","Z"],que={visibility:"hidden"},UT=1e3;let Wue=0;function wN(e,t,s,n){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function vV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Qz(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",qs,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&vV(n)}function yV({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Wue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tg&&(Iu.totalNodes=Iu.resolvedTargetDeltas=Iu.recalculatedProjection=0),this.nodes.forEach(Kue),this.nodes.forEach(ehe),this.nodes.forEach(the),this.nodes.forEach(Zue),Tg&&window.MotionDebug.record(Iu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uue(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$ue(m,250),a1.hasAnimatedSinceResize&&(a1.hasAnimatedSinceResize=!1,this.nodes.forEach(qT))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||ahe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!xV(this.targetLayout,g)||f,w=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const S={...qk(p,"layout"),onPlay:b,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else m||qT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(she),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HT);return}this.isUpdating||this.nodes.forEach(Que),this.isUpdating=!1,this.nodes.forEach(Jue),this.nodes.forEach(Yue),this.nodes.forEach(Gue),this.clearAllSnapshots();const l=wl.now();Vr.delta=Sc(0,1e3/60,l-Vr.timestamp),Vr.timestamp=l,Vr.isProcessing=!0,hN.update.process(Vr),hN.preRender.process(Vr),hN.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xue),this.sharedNodes.forEach(nhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||Ou(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ohe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Yn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(lhe))){const{scroll:u}=this.root;u&&(If(c.x,u.offset.x),If(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Yn();if(Da(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Da(c,o),If(c.x,h.offset.x),If(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Yn();Da(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ff(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ou(u.latestValues)&&Ff(c,u.latestValues)}return Ou(this.latestValues)&&Ff(c,this.latestValues),c}removeTransform(o){const l=Yn();Da(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ou(d.latestValues))continue;JS(d.latestValues)&&d.updateSnapshot();const u=Yn(),h=d.measurePageBox();Da(u,h),IT(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ou(this.latestValues)&&IT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Vr.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),nx(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Yn(),this.targetWithTransforms=Yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cue(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Da(this.target,this.layout.layoutBox),cV(this.target,this.targetDelta)):Da(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yn(),this.relativeTargetOrigin=Yn(),nx(this.relativeTargetOrigin,this.target,f.target),Da(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tg&&Iu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||JS(this.parent.latestValues)||lV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Da(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;vue(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Yn());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LT(this.prevProjectionDelta.x,this.projectionDelta.x),LT(this.prevProjectionDelta.y,this.projectionDelta.y)),sx(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!$T(this.projectionDelta.x,this.prevProjectionDelta.x)||!$T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Tg&&Iu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Of(),this.projectionDelta=Of(),this.projectionDeltaWithTransform=Of()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Of();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Yn(),f=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=f!==g,b=this.getStack(),x=!b||b.members.length<=1,y=!!(p&&!x&&this.options.crossfade===!0&&!this.path.some(ihe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;WT(h.x,o.x,C),WT(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nx(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rhe(this.relativeTarget,this.relativeTargetOrigin,m,C),w&&Iue(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Yn()),Da(w,this.relativeTarget)),p&&(this.animationValues=u,Tue(u,d,this.latestValues,C,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qs.update(()=>{a1.hasAnimatedSinceResize=!0,this.currentAnimation=Hue(0,UT,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&bV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Yn();const h=ka(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=ka(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Da(l,c),Ff(l,u),sx(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Fue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&wN("z",o,d,this.animationValues);for(let u=0;u<bN.length;u++)wN(`rotate${bN[u]}`,o,d,this.animationValues),wN(`skew${bN[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return que;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=o1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=o1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Bue(this.projectionDeltaWithTransform,this.treeScale,m),u&&(d.transform=u(m,d.transform));const{x:f,y:g}=this.projectionDelta;d.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const p in Cb){if(m[p]===void 0)continue;const{correct:b,applyTo:x}=Cb[p],y=d.transform==="none"?m[p]:b(m[p],h);if(x){const w=x.length;for(let S=0;S<w;S++)d[x[S]]=y}else d[p]=y}return this.options.layoutId&&(d.pointerEvents=h===this?o1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(HT),this.root.sharedNodes.clear()}}}function Yue(e){e.updateLayout()}function Gue(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=s.source!==e.layout.source;a==="size"?Ia(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=ka(m);m.min=n[h].min,m.max=m.min+f}):bV(a,s.layoutBox,n)&&Ia(h=>{const m=o?s.measuredBox[h]:s.layoutBox[h],f=ka(n[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Of();sx(l,n,s.layoutBox);const c=Of();o?sx(c,e.applyTransform(i,!0),s.measuredBox):sx(c,n,s.layoutBox);const d=!gV(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const g=Yn();nx(g,s.layoutBox,m.layoutBox);const p=Yn();nx(p,n,f.layoutBox),xV(g,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Kue(e){Tg&&Iu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Zue(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xue(e){e.clearSnapshot()}function HT(e){e.clearMeasurements()}function Que(e){e.isLayoutDirty=!1}function Jue(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ehe(e){e.resolveTargetDelta()}function the(e){e.calcProjection()}function she(e){e.resetSkewAndRotation()}function nhe(e){e.removeLeadSnapshot()}function WT(e,t,s){e.translate=Sn(t.translate,0,s),e.scale=Sn(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function YT(e,t,s,n){e.min=Sn(t.min,s.min,n),e.max=Sn(t.max,s.max,n)}function rhe(e,t,s,n){YT(e.x,t.x,s.x,n),YT(e.y,t.y,s.y,n)}function ihe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ahe={duration:.45,ease:[.4,0,.1,1]},GT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),KT=GT("applewebkit/")&&!GT("chrome/")?Math.round:ai;function ZT(e){e.min=KT(e.min),e.max=KT(e.max)}function ohe(e){ZT(e.x),ZT(e.y)}function bV(e,t,s){return e==="position"||e==="preserve-aspect"&&!lue(VT(t),VT(s),.2)}function lhe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const che=yV({attachResizeListener:(e,t)=>ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jN={current:void 0},wV=yV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jN.current){const e=new che({});e.mount(window),e.setOptions({layoutScroll:!0}),jN.current=e}return jN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dhe={pan:{Feature:Sue},drag:{Feature:Nue,ProjectionNode:wV,MeasureLayout:fV}};function XT(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s);const i=n[s?"onHoverStart":"onHoverEnd"];i&&qs.postRender(()=>i(t,U0(t)))}class uhe extends uu{mount(){const{current:t,props:s}=this.node;t&&(this.unmount=Qde(t,n=>(XT(this.node,n,!0),i=>XT(this.node,i,!1)),{passive:!s.onHoverStart&&!s.onHoverEnd}))}unmount(){}}class hhe extends uu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zd(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const jV=(e,t)=>t?e===t?!0:jV(e,t.parentElement):!1;function NN(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,U0(s))}class fhe extends uu{constructor(){super(...arguments),this.removeStartListeners=ai,this.removeEndListeners=ai,this.removeAccessibleListeners=ai,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=Vd(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),m=!h&&!jV(this.node.current,l.target)?u:d;m&&qs.update(()=>m(l,c))},{passive:!(n.onTap||n.onPointerUp)}),o=Vd(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=zd(a,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||NN("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&qs.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=ac(this.node.current,"keyup",o),NN("down",(l,c)=>{this.startPress(l,c)})},s=ac(this.node.current,"keydown",t),n=()=>{this.isPressing&&NN("cancel",(a,o)=>this.cancelPress(a,o))},i=ac(this.node.current,"blur",n);this.removeAccessibleListeners=zd(s,i)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&qs.postRender(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tV()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&qs.postRender(()=>n(t,s))}mount(){const t=this.node.getProps(),s=Vd(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=ac(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zd(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const t4=new WeakMap,SN=new WeakMap,mhe=e=>{const t=t4.get(e.target);t&&t(e)},phe=e=>{e.forEach(mhe)};function ghe({root:e,...t}){const s=e||document;SN.has(s)||SN.set(s,{});const n=SN.get(s),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(phe,{root:e,...t})),n[i]}function xhe(e,t,s){const n=ghe(t);return t4.set(e,s),n.observe(e),()=>{t4.delete(e),n.unobserve(e)}}const vhe={some:0,all:1};class yhe extends uu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:vhe[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return xhe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(bhe(t,s))&&this.startObserver()}unmount(){}}function bhe({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const whe={inView:{Feature:yhe},tap:{Feature:fhe},focus:{Feature:hhe},hover:{Feature:uhe}},jhe={layout:{ProjectionNode:wV,MeasureLayout:fV}},h_=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Z2=j.createContext({}),f_=typeof window<"u",NV=f_?j.useLayoutEffect:j.useEffect,SV=j.createContext({strict:!1});function Nhe(e,t,s,n,i){var a,o;const{visualElement:l}=j.useContext(Z2),c=j.useContext(SV),d=j.useContext(K2),u=j.useContext(h_).reducedMotion,h=j.useRef();n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,f=j.useContext(hV);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&She(h.current,s,i,f);const g=j.useRef(!1);j.useInsertionEffect(()=>{m&&g.current&&m.update(s,d)});const p=s[Xz],b=j.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return NV(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),u_.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),j.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,p)}),b.current=!1))}),m}function She(e,t,s,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:CV(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Df(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function CV(e){if(e)return e.options.allowProjection!==!1?e.projection:CV(e.parent)}function Che(e,t,s){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Df(s)&&(s.current=n))},[t])}function X2(e){return W2(e.animate)||Hk.some(t=>Qx(e[t]))}function kV(e){return!!(X2(e)||e.variants)}function khe(e,t){if(X2(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Qx(s)?s:void 0,animate:Qx(n)?n:void 0}}return e.inherit!==!1?t:{}}function _he(e){const{initial:t,animate:s}=khe(e,j.useContext(Z2));return j.useMemo(()=>({initial:t,animate:s}),[QT(t),QT(s)])}function QT(e){return Array.isArray(e)?e.join(" "):e}const JT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qm={};for(const e in JT)qm[e]={isEnabled:t=>JT[e].some(s=>!!t[s])};function Phe(e){for(const t in e)qm[t]={...qm[t],...e[t]}}const Ahe=Symbol.for("motionComponentSymbol");function Ehe({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:i}){e&&Phe(e);function a(l,c){let d;const u={...j.useContext(h_),...l,layoutId:The(l)},{isStatic:h}=u,m=_he(l),f=n(l,h);if(!h&&f_){Mhe();const g=Rhe(u);d=g.MeasureLayout,m.visualElement=Nhe(i,f,u,t,g.ProjectionNode)}return r.jsxs(Z2.Provider,{value:m,children:[d&&m.visualElement?r.jsx(d,{visualElement:m.visualElement,...u}):null,s(i,l,Che(f,m.visualElement,c),f,h,m.visualElement)]})}const o=j.forwardRef(a);return o[Ahe]=i,o}function The({layoutId:e}){const t=j.useContext(d_).id;return t&&e!==void 0?t+"-"+e:e}function Mhe(e,t){j.useContext(SV).strict}function Rhe(e){const{drag:t,layout:s}=qm;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Lhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m_(e){return typeof e!="string"||e.includes("-")?!1:!!(Lhe.indexOf(e)>-1||/[A-Z]/u.test(e))}function _V(e,{style:t,vars:s},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in s)e.style.setProperty(a,s[a])}const PV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AV(e,t,s,n){_V(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(PV.has(i)?i:c_(i),t.attrs[i])}function EV(e,{layout:t,layoutId:s}){return Bh.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Cb[e]||e==="opacity")}function p_(e,t,s){var n;const{style:i}=e,a={};for(const o in i)(ni(i[o])||t.style&&ni(t.style[o])||EV(o,e)||((n=s==null?void 0:s.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function TV(e,t,s){const n=p_(e,t,s);for(const i in e)if(ni(e[i])||ni(t[i])){const a=z0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function g_(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}function Dhe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,i,a){const o={latestValues:Ohe(n,i,a,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const MV=e=>(t,s)=>{const n=j.useContext(Z2),i=j.useContext(K2),a=()=>Dhe(e,t,n,i);return s?a():g_(a)};function Ohe(e,t,s,n){const i={},a=n(e,{});for(const m in a)i[m]=o1(a[m]);let{initial:o,animate:l}=e;const c=X2(e),d=kV(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!W2(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const g=$k(e,m[f]);if(g){const{transitionEnd:p,transition:b,...x}=g;for(const y in x){let w=x[y];if(Array.isArray(w)){const S=u?w.length-1:0;w=w[S]}w!==null&&(i[y]=w)}for(const y in p)i[y]=p[y]}}}return i}const x_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),RV=()=>({...x_(),attrs:{}}),LV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ihe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Fhe=z0.length;function Bhe(e,t,s){let n="",i=!0;for(let a=0;a<Fhe;a++){const o=z0[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=LV(l,Qk[o]);if(!c){i=!1;const u=Ihe[o]||o;n+=`${u}(${d}) `}s&&(t[o]=d)}}return n=n.trim(),s?n=s(t,i?"":n):i&&(n="none"),n}function v_(e,t,s){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(Bh.has(c)){o=!0;continue}else if(kz(c)){i[c]=d;continue}else{const u=LV(d,Qk[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||s?n.transform=Bhe(t,e.transform,s):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}function e8(e,t,s){return typeof e=="string"?e:zt.transform(t+s*e)}function zhe(e,t,s){const n=e8(t,e.x,e.width),i=e8(s,e.y,e.height);return`${n} ${i}`}const Vhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},$he={offset:"strokeDashoffset",array:"strokeDasharray"};function Uhe(e,t,s=1,n=0,i=!0){e.pathLength=1;const a=i?Vhe:$he;e[a.offset]=zt.transform(-n);const o=zt.transform(t),l=zt.transform(s);e[a.array]=`${o} ${l}`}function y_(e,{attrX:t,attrY:s,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(v_(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f,dimensions:g}=e;m.transform&&(g&&(f.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||f.transform)&&(f.transformOrigin=zhe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),n!==void 0&&(m.scale=n),o!==void 0&&Uhe(m,o,l,c,!1)}const b_=e=>typeof e=="string"&&e.toLowerCase()==="svg",Hhe={useVisualState:MV({scrapeMotionValuesFromProps:TV,createRenderState:RV,onMount:(e,t,{renderState:s,latestValues:n})=>{qs.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),qs.render(()=>{y_(s,n,b_(t.tagName),e.transformTemplate),AV(t,s)})}})},qhe={useVisualState:MV({scrapeMotionValuesFromProps:p_,createRenderState:x_})};function DV(e,t,s){for(const n in t)!ni(t[n])&&!EV(n,s)&&(e[n]=t[n])}function Whe({transformTemplate:e},t){return j.useMemo(()=>{const s=x_();return v_(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Yhe(e,t){const s=e.style||{},n={};return DV(n,s,e),Object.assign(n,Whe(e,t)),n}function Ghe(e,t){const s={},n=Yhe(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const Khe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Khe.has(e)}let OV=e=>!kb(e);function Zhe(e){e&&(OV=t=>t.startsWith("on")?!kb(t):e(t))}try{Zhe(require("@emotion/is-prop-valid").default)}catch{}function Xhe(e,t,s){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(OV(i)||s===!0&&kb(i)||!t&&!kb(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function Qhe(e,t,s,n){const i=j.useMemo(()=>{const a=RV();return y_(a,t,b_(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};DV(a,e.style,e),i.style={...a,...i.style}}return i}function Jhe(e=!1){return(s,n,i,{latestValues:a},o)=>{const c=(m_(s)?Qhe:Ghe)(n,a,o,s),d=Xhe(n,typeof s=="string",e),u=s!==j.Fragment?{...d,...c,ref:i}:{},{children:h}=n,m=j.useMemo(()=>ni(h)?h.get():h,[h]);return j.createElement(s,{...u,children:m})}}function efe(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...m_(n)?Hhe:qhe,preloadedFeatures:e,useRender:Jhe(i),createVisualElement:t,Component:n};return Ehe(o)}}const s4={current:null},IV={current:!1};function tfe(){if(IV.current=!0,!!f_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>s4.current=e.matches;e.addListener(t),t()}else s4.current=!1}function sfe(e,t,s){for(const n in t){const i=t[n],a=s[n];if(ni(i))e.addValue(n,i);else if(ni(a))e.addValue(n,t0(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,t0(o!==void 0?o:i,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const t8=new WeakMap,nfe=[...Az,ti,su],rfe=e=>nfe.find(Pz(e)),s8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ife{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Kk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=wl.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qs.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=X2(s),this.isVariantNode=kV(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(s,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&ni(f)&&f.set(c[m],!1)}}mount(t){this.current=t,t8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),IV.current||tfe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:s4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){t8.delete(this.current),this.projection&&this.projection.unmount(),tu(this.notifyUpdate),tu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Bh.has(t),i=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&qs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qm){const s=qm[t];if(!s)continue;const{isEnabled:n,Feature:i}=s;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<s8.length;n++){const i=s8[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=sfe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=t0(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Sz(i)||Nz(i))?i=parseFloat(i):!rfe(i)&&su.test(s)&&(i=Iz(t,s)),this.setBaseTarget(t,ni(i)?i.get():i)),ni(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=$k(this.props,n,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ni(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new l_),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class FV extends ife{constructor(){super(...arguments),this.KeyframeResolver=Fz}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function afe(e){return window.getComputedStyle(e)}class ofe extends FV{constructor(){super(...arguments),this.type="html",this.renderInstance=_V}readValueFromInstance(t,s){if(Bh.has(s)){const n=Jk(s);return n&&n.default||0}else{const n=afe(t),i=(kz(s)?n.getPropertyValue(s):n[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return dV(t,s)}build(t,s,n){v_(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return p_(t,s,n)}}class lfe extends FV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Bh.has(s)){const n=Jk(s);return n&&n.default||0}return s=PV.has(s)?s:c_(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return TV(t,s,n)}build(t,s,n){y_(t,s,this.isSVGTag,n.transformTemplate)}renderInstance(t,s,n,i){AV(t,s,n,i)}mount(t){this.isSVGTag=b_(t.tagName),super.mount(t)}}const cfe=(e,t)=>m_(e)?new lfe(t):new ofe(t,{allowProjection:e!==j.Fragment}),dfe=efe({...Zde,...whe,...dhe,...jhe},cfe),ut=Gle(dfe);class ufe extends j.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hfe({children:e,isPresent:t}){const s=j.useId(),n=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=j.useContext(h_);return j.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),r.jsx(ufe,{isPresent:t,childRef:n,sizeRef:i,children:j.cloneElement(e,{ref:n})})}const ffe=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=g_(mfe),c=j.useId(),d=j.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;n&&n()},[l,n]),u=j.useMemo(()=>({id:c,initial:t,isPresent:s,custom:i,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),d]:[s,d]);return j.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[s]),j.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=r.jsx(hfe,{isPresent:s,children:e})),r.jsx(K2.Provider,{value:u,children:e})};function mfe(){return new Map}const hy=e=>e.key||"";function n8(e){const t=[];return j.Children.forEach(e,s=>{j.isValidElement(s)&&t.push(s)}),t}const BV=({children:e,exitBeforeEnter:t,custom:s,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync"})=>{const l=j.useMemo(()=>n8(e),[e]),c=l.map(hy),d=j.useRef(!0),u=j.useRef(l),h=g_(()=>new Map),[m,f]=j.useState(l),[g,p]=j.useState(l);NV(()=>{d.current=!1,u.current=l;for(let y=0;y<g.length;y++){const w=hy(g[y]);c.includes(w)?h.delete(w):h.get(w)!==!0&&h.set(w,!1)}},[g,c.length,c.join("-")]);const b=[];if(l!==m){let y=[...l];for(let w=0;w<g.length;w++){const S=g[w],C=hy(S);c.includes(C)||(y.splice(w,0,S),b.push(S))}o==="wait"&&b.length&&(y=b),p(n8(y)),f(l);return}const{forceRender:x}=j.useContext(d_);return r.jsx(r.Fragment,{children:g.map(y=>{const w=hy(y),S=l===g||c.includes(w),C=()=>{if(h.has(w))h.set(w,!0);else return;let L=!0;h.forEach(R=>{R||(L=!1)}),L&&(x==null||x(),p(u.current),i&&i())};return r.jsx(ffe,{isPresent:S,initial:!d.current||n?void 0:!1,custom:S?void 0:s,presenceAffectsLayout:a,mode:o,onExitComplete:S?void 0:C,children:y},w)})})};function pfe({onGetStarted:e}){const[t,s]=j.useState(""),[n,i]=j.useState(!1),a=()=>{if(t.trim()){const l=document.querySelector('[data-section="services"]');l&&l.scrollIntoView({behavior:"smooth"})}},o=l=>{s(l.target.value),i(!0),setTimeout(()=>i(!1),500)};return r.jsxs("section",{className:"relative bg-white pt-20 pb-16 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-muted/30 to-white"}),r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(6)].map((l,c)=>r.jsx(ut.div,{className:"absolute w-2 h-2 bg-primary/30 rounded-full",initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,opacity:0},animate:{y:[null,-50,-100],opacity:[0,.6,0]},transition:{duration:4+Math.random()*2,repeat:1/0,delay:c*.8,ease:"easeOut"}},c))}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center min-h-[600px]",children:[r.jsxs(ut.div,{className:"space-y-8",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:[r.jsxs(ut.div,{className:"inline-flex items-center space-x-2 bg-success/10 text-success px-4 py-2 rounded-full text-sm border border-success/20",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},whileHover:{scale:1.05,boxShadow:"0 4px 12px rgba(34, 197, 94, 0.2)",transition:{duration:.2}},children:[r.jsx(ut.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(Et,{className:"w-4 h-4 fill-current"})}),r.jsx("span",{className:"font-medium",children:"Trusted by 50,000+ South Africans"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ut.h1,{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[r.jsx(ut.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"Home Services"}),r.jsx(ut.span,{className:"block text-primary",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8,duration:.5},whileHover:{textShadow:"0 0 20px hsl(var(--primary) / 0.4)",transition:{duration:.3}},children:"Made Simple"})]}),r.jsx(ut.p,{className:"text-xl text-gray-600 leading-relaxed max-w-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.5},children:"Book trusted professionals for cleaning, repairs, and maintenance. Quality guaranteed, transparent pricing, same-day availability."})]}),r.jsxs(ut.div,{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100 max-w-md",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.5},whileHover:{boxShadow:"0 20px 40px rgba(0,0,0,0.1)",transition:{duration:.3}},children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs(ut.div,{className:"relative",whileFocus:{scale:1.02},children:[r.jsx(ut.div,{animate:{color:n?"hsl(var(--primary))":"#9ca3af",scale:n?1.1:1},transition:{duration:.2},children:r.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"})}),r.jsx(He,{type:"text",placeholder:"Enter your address",value:t,onChange:o,className:"pl-10 h-12 text-lg border-gray-200 focus:border-primary focus:ring-2 focus:ring-primary/20","data-testid":"address-input"}),r.jsx(BV,{children:n&&r.jsx(ut.div,{className:"absolute right-3 top-1/2 transform -translate-y-1/2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},children:r.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(l=>r.jsx(ut.div,{className:"w-1 h-1 bg-primary rounded-full",animate:{y:[0,-3,0]},transition:{duration:.6,repeat:1/0,delay:l*.1}},l))})})})]}),r.jsx(ut.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:r.jsxs(K,{onClick:a,className:"w-full h-12 bg-primary hover:bg-accent text-primary-foreground font-medium rounded-xl transition-all duration-300",disabled:!t.trim(),"data-testid":"quick-book-button",children:[r.jsx(ut.div,{animate:{rotate:t.trim()?0:[0,10,-10,0]},transition:{duration:.5},children:r.jsx($i,{className:"w-5 h-5 mr-2"})}),"Find Services",r.jsx(ut.div,{className:"absolute inset-0 bg-white/20 rounded-xl",initial:{scale:0,opacity:0},whileTap:{scale:1,opacity:1},transition:{duration:.1}})]})})]}),r.jsx(ut.p,{className:"text-sm text-gray-500 text-center mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},children:"Available today  No hidden fees"})]}),r.jsx(ut.div,{className:"grid grid-cols-3 gap-6 pt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6,duration:.5},children:[{value:"<2mins",label:"Average booking time"},{value:"4.9",label:"Customer rating"},{value:"24/7",label:"Support available"}].map((l,c)=>r.jsxs(ut.div,{className:"text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.8+c*.1,duration:.3},whileHover:{scale:1.05,transition:{duration:.2}},children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.value}),r.jsx("div",{className:"text-sm text-gray-600",children:l.label})]},c))})]}),r.jsx(ut.div,{className:"relative lg:pl-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.6,duration:.8},children:r.jsxs("div",{className:"relative",children:[r.jsxs(ut.div,{className:"aspect-[4/5] bg-gradient-to-br from-muted to-background rounded-3xl shadow-2xl overflow-hidden relative",whileHover:{scale:1.02,rotate:[0,1,-1,0],transition:{duration:.6}},children:[r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:[r.jsx(ut.img,{src:jc,alt:"Berry Events Logo",className:"w-full h-full object-contain opacity-30 rounded-2xl",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:.3},transition:{delay:1.2,duration:.8}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-muted/50 via-transparent to-muted/50 rounded-3xl"})]}),r.jsxs("div",{className:"relative z-10 text-center space-y-6 p-8 h-full flex flex-col justify-center",children:[r.jsx(ut.div,{className:"w-20 h-20 bg-primary rounded-2xl flex items-center justify-center mx-auto shadow-lg",animate:{boxShadow:["0 4px 20px hsl(var(--primary) / 0.3)","0 8px 30px hsl(var(--primary) / 0.5)","0 4px 20px hsl(var(--primary) / 0.3)"]},transition:{duration:2,repeat:1/0},children:r.jsx(ut.div,{animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},children:r.jsx(Et,{className:"w-10 h-10 text-primary-foreground fill-current"})})}),r.jsx(ut.h3,{className:"text-2xl font-bold text-foreground",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.4},children:"Quality Guaranteed"}),r.jsx(ut.p,{className:"text-muted-foreground text-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.6},children:"Professional services you can trust"}),r.jsxs(ut.div,{className:"flex justify-center space-x-4 mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.8},children:[r.jsx("div",{className:"bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-foreground",children:"Verified "}),r.jsx("div",{className:"bg-white/80 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-foreground",children:"Insured "})]})]}),r.jsx(ut.div,{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(45deg, transparent, hsl(var(--primary) / 0.1), transparent, hsl(var(--primary) / 0.1), transparent)",backgroundSize:"400% 400%"},animate:{backgroundPosition:["0% 0%","100% 100%","0% 0%"]},transition:{duration:6,repeat:1/0,ease:"linear"}})]}),r.jsx(ut.div,{className:"absolute -top-4 -left-4 bg-white p-4 rounded-xl shadow-lg border border-gray-100",initial:{opacity:0,scale:.8,rotate:-5},animate:{opacity:1,scale:1,rotate:0},transition:{delay:1.8,duration:.5},whileHover:{scale:1.05,rotate:2,transition:{duration:.2}},children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut.div,{className:"w-10 h-10 bg-success/10 rounded-full flex items-center justify-center",whileHover:{rotate:360,transition:{duration:.3}},children:r.jsx(Ws,{className:"w-5 h-5 text-success"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Same Day"}),r.jsx("div",{className:"text-xs text-gray-600",children:"Available today"})]})]})}),r.jsx(ut.div,{className:"absolute -bottom-4 -right-4 bg-white p-4 rounded-xl shadow-lg border border-gray-100",initial:{opacity:0,scale:.8,rotate:5},animate:{opacity:1,scale:1,rotate:0},transition:{delay:2,duration:.5},whileHover:{scale:1.05,rotate:-2,transition:{duration:.2}},children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ut.div,{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",whileHover:{rotate:360,transition:{duration:.3}},children:r.jsx(Et,{className:"w-5 h-5 text-primary fill-current"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Verified"}),r.jsx("div",{className:"text-xs text-gray-600",children:"All professionals"})]})]})})]})})]})})]})}const gfe=[{id:"cleaning",title:"House Cleaning",description:"Professional cleaning services for your home",price:"From R75/hour",duration:"2-4 hours",popular:!0,icon:eo,features:["Regular & deep cleaning","Eco-friendly products","Insured professionals"]},{id:"garden-care",title:"Garden Care",description:"Complete garden maintenance and landscaping",price:"From R180/hour",duration:"2-6 hours",icon:c2,features:["Lawn mowing","Garden cleanup","Plant care"]},{id:"plumbing",title:"Plumbing",description:"Quick plumbing repairs and installations",price:"From R350/hour",duration:"1-3 hours",urgent:!0,icon:_C,features:["24/7 emergency","Licensed plumbers","Fixed pricing"]},{id:"electrical",title:"Electrical",description:"Safe electrical repairs and installations",price:"From R280/hour",duration:"1-4 hours",urgent:!0,icon:so,features:["Certified electricians","Safety guaranteed","Transparent pricing"]},{id:"chef-catering",title:"Chef & Catering",description:"Authentic African cuisine for your events",price:"From R450/event",duration:"3-8 hours",icon:Tr,features:["Traditional recipes","Fresh ingredients","Event planning"]},{id:"waitering",title:"Waitering",description:"Professional event staff and waitering services",price:"From R85/hour",duration:"4-12 hours",icon:yn,features:["Event specialists","Bar service","Professional setup"]}];function xfe({onServiceSelect:e,bookedServices:t=[]}){const[s,n]=j.useState(null),[i,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(null),u=gfe.filter(f=>!t.includes(f.id)),h=f=>{d(f),setTimeout(()=>{n(f),a(!0),e(f),d(null)},150)},m=()=>{a(!1),n(null)};return r.jsxs("section",{className:"py-16 bg-white",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Professional Home Services"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Book trusted, verified professionals for all your home service needs. Quality guaranteed, transparent pricing."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:r.jsx(BV,{children:u.map((f,g)=>r.jsx(ut.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:g*.1,ease:[.22,1,.36,1]},whileHover:{y:-8,transition:{duration:.3,ease:"easeOut"}},whileTap:{scale:.98,transition:{duration:.1}},onHoverStart:()=>l(f.id),onHoverEnd:()=>l(null),children:r.jsxs(oe,{className:"group relative overflow-hidden border-0 shadow-sm hover:shadow-2xl transition-all duration-500 cursor-pointer bg-white h-full",onClick:()=>h(f.id),"data-testid":`service-card-${f.id}`,style:{transform:c===f.id?"scale(0.95)":"scale(1)",transition:"transform 0.15s ease-out"},children:[r.jsx(ut.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-50/0 to-blue-100/0 group-hover:from-blue-50/50 group-hover:to-blue-100/30",initial:!1,animate:{opacity:o===f.id?1:0},transition:{duration:.3}}),r.jsx(ut.div,{className:"absolute inset-0 rounded-xl",style:{background:o===f.id?"linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.1), transparent)":"transparent",transition:"all 0.3s ease"}}),r.jsxs(le,{className:"relative p-8 h-full flex flex-col",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(ut.div,{className:"w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.1,rotate:[0,-10,10,-5,0],transition:{duration:.6}},style:{background:o===f.id?"linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(147, 197, 253, 0.15))":void 0},children:[r.jsx(ut.div,{animate:{rotate:o===f.id?360:0},transition:{duration:.8,ease:"easeInOut"},children:r.jsx(f.icon,{className:"w-8 h-8 text-blue-600"})}),r.jsx(ut.div,{className:"absolute inset-0 rounded-2xl border-2 border-blue-300",initial:{scale:1,opacity:0},animate:{scale:o===f.id?1.3:1,opacity:o===f.id?[0,.5,0]:0},transition:{duration:1.5,repeat:o===f.id?1/0:0}})]})}),r.jsxs(ut.div,{className:"flex flex-wrap gap-2 mb-4",initial:!1,children:[f.popular&&r.jsx(ut.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:g*.1+.2},whileHover:{scale:1.05},children:r.jsxs(Ke,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200",children:[r.jsx(ut.div,{animate:{rotate:o===f.id?360:0},transition:{duration:.5},children:r.jsx(Et,{className:"w-3 h-3 mr-1"})}),"Popular"]})}),f.urgent&&r.jsx(ut.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:g*.1+.3},whileHover:{scale:1.05},children:r.jsxs(Ke,{variant:"secondary",className:"bg-orange-100 text-orange-700 border-orange-200",children:[r.jsx(ut.div,{animate:{rotate:o===f.id?[0,15,-15,0]:0},transition:{duration:.6,repeat:o===f.id?1/0:0},children:r.jsx(Ts,{className:"w-3 h-3 mr-1"})}),"24/7 Available"]})})]}),r.jsx(ut.h3,{className:"text-2xl font-bold text-gray-900 mb-3",whileHover:{scale:1.02,transition:{duration:.2}},children:f.title}),r.jsx(ut.p,{className:"text-gray-600 mb-4 leading-relaxed",initial:{opacity:.8},animate:{opacity:o===f.id?1:.8},transition:{duration:.3},children:f.description}),r.jsx(ut.ul,{className:"space-y-2 mb-6 flex-1",children:f.features.map((p,b)=>r.jsxs(ut.li,{className:"flex items-center text-sm text-gray-600",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:g*.1+b*.05+.4},whileHover:{x:5,transition:{duration:.2}},children:[r.jsx(ut.div,{whileHover:{scale:1.2,rotate:360,transition:{duration:.3}},children:r.jsx(bs,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"})}),p]},b))}),r.jsxs(ut.div,{className:"flex items-center justify-between",whileHover:{scale:1.02},transition:{duration:.2},children:[r.jsxs("div",{children:[r.jsx(ut.p,{className:"text-2xl font-bold text-blue-600",whileHover:{scale:1.1,transition:{duration:.2}},children:f.price}),r.jsx(ut.p,{className:"text-sm text-gray-500",animate:{opacity:o===f.id?1:.7},children:f.duration})]}),r.jsxs(ut.div,{className:"flex items-center text-blue-600",whileHover:{scale:1.05},animate:{color:o===f.id?"#1d4ed8":"#2563eb"},children:[r.jsx("span",{className:"text-sm font-medium mr-2",children:"Book Now"}),r.jsx(ut.div,{animate:{x:o===f.id?5:0,scale:o===f.id?1.1:1},transition:{duration:.3,ease:"easeOut"},children:r.jsx(ul,{className:"w-4 h-4"})})]})]})]})]})},f.id))})}),r.jsx(ut.div,{className:"bg-gray-50 rounded-3xl p-8 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{number:"50,000+",label:"Happy Customers"},{number:"1,500+",label:"Verified Professionals"},{number:"4.9",label:"Average Rating"}].map((f,g)=>r.jsxs(ut.div,{initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:g*.1,duration:.5},viewport:{once:!0},whileHover:{scale:1.05,transition:{duration:.2}},children:[r.jsx(ut.div,{className:"text-3xl font-bold text-blue-600 mb-2",whileInView:{textShadow:"0 0 8px rgba(59, 130, 246, 0.3)"},transition:{delay:g*.1+.3},children:f.number}),r.jsx(ut.div,{className:"text-gray-600",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:g*.1+.4},children:f.label})]},g))})}),r.jsxs(ut.div,{className:"mt-16 text-center",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:[r.jsx(ut.h3,{className:"text-2xl font-bold text-gray-900 mb-8",initial:{y:-20,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.5},children:"How It Works"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{step:"1",title:"Select Service",description:"Choose from our professional home services"},{step:"2",title:"Book & Pay",description:"Schedule your service and pay securely"},{step:"3",title:"Enjoy Results",description:"Relax while professionals handle the work"}].map((f,g)=>r.jsxs(ut.div,{className:"space-y-4 group cursor-pointer",initial:{y:30,opacity:0},whileInView:{y:0,opacity:1},transition:{delay:g*.2,duration:.5},viewport:{once:!0},whileHover:{y:-5,transition:{duration:.2}},children:[r.jsxs(ut.div,{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto relative overflow-hidden",whileHover:{scale:1.1,backgroundColor:"#dbeafe",transition:{duration:.3}},children:[r.jsx(ut.span,{className:"text-blue-600 font-bold text-lg",whileHover:{scale:1.2,transition:{duration:.2}},children:f.step}),r.jsx(ut.div,{className:"absolute inset-0 rounded-full border-2 border-blue-300",initial:{scale:1,opacity:0},whileHover:{scale:1.4,opacity:[0,.5,0],transition:{duration:1,repeat:1/0}}})]}),r.jsx(ut.h4,{className:"font-semibold text-gray-900",whileHover:{color:"#2563eb",transition:{duration:.2}},children:f.title}),r.jsx(ut.p,{className:"text-gray-600",initial:{opacity:.8},whileHover:{opacity:1,transition:{duration:.2}},children:f.description})]},g))}),r.jsx("div",{className:"hidden md:block relative -mt-16 mb-16",children:r.jsx(ut.div,{className:"absolute top-6 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-2xl",initial:{pathLength:0,opacity:0},whileInView:{pathLength:1,opacity:1},transition:{duration:2,delay:.5},viewport:{once:!0},children:r.jsx("svg",{className:"w-full h-4",viewBox:"0 0 400 20",children:r.jsx(ut.path,{d:"M50 10 Q200 10 350 10",stroke:"#e5e7eb",strokeWidth:"2",fill:"none",strokeDasharray:"5,5",initial:{pathLength:0},whileInView:{pathLength:1},transition:{duration:2,delay:.8}})})})})]})]}),s&&r.jsx(du,{isOpen:i,onClose:m,serviceId:s,onBookingComplete:f=>{console.log("Booking completed:",f)}})]})}const r8=[{id:1,title:"Search & Select",description:"Browse services or describe what you need. Our smart matching finds the perfect professionals in your area.",icon:$i,color:"from-blue-500 to-cyan-500",features:["Smart search","Location matching","Real-time availability"]},{id:2,title:"Choose Provider",description:"Review verified professionals with ratings, reviews, and transparent pricing. Pick your preferred expert.",icon:yc,color:"from-green-500 to-emerald-500",features:["Verified professionals","Customer reviews","Transparent pricing"]},{id:3,title:"Schedule Service",description:"Pick your convenient date and time. Flexible scheduling with same-day and emergency options available.",icon:Ws,color:"from-purple-500 to-pink-500",features:["Flexible timing","Same-day service","Emergency bookings"]},{id:4,title:"Secure Payment",description:"Pay safely through our platform. Funds held securely until service completion guarantees quality.",icon:Cr,color:"from-orange-500 to-red-500",features:["Secure payments","Escrow protection","Multiple payment methods"]},{id:5,title:"Service Delivered",description:"Enjoy professional service with real-time updates. Rate your experience when complete.",icon:ur,color:"from-indigo-500 to-purple-500",features:["Real-time tracking","Quality guarantee","Easy reviews"]}],vfe=[{id:"cleaning",category:"Indoor Services",title:"House Cleaning",description:"Complete cleaning services from regular maintenance to deep cleaning",price:"From R75/hour",duration:"2-6 hours",popular:!0,icon:eo,gradient:"from-blue-500 to-cyan-500"},{id:"plumbing",category:"Indoor Services",title:"Plumbing Services",description:"Professional plumbing solutions from emergency repairs to installations",price:"From R120/hour",duration:"1-4 hours",urgent:!0,icon:_C,gradient:"from-cyan-500 to-blue-600"},{id:"electrical",category:"Indoor Services",title:"Electrical Services",description:"Safe and certified electrical work including installations and repairs",price:"From R150/hour",duration:"1-8 hours",urgent:!0,icon:so,gradient:"from-yellow-500 to-orange-500"},{id:"garden-care",category:"Outdoor Services",title:"Garden Care",description:"Complete garden maintenance from landscaping to regular upkeep",price:"From R85/hour",duration:"2-8 hours",popular:!0,icon:PC,gradient:"from-green-500 to-emerald-600"},{id:"chef-catering",category:"Specialized Services",title:"Chef & Catering",description:"Professional cooking services specializing in African cuisine",price:"From R200/hour",duration:"2-8 hours",popular:!0,icon:Tr,gradient:"from-orange-500 to-red-500"},{id:"waitering",category:"Specialized Services",title:"Waitering Services",description:"Professional waitering staff for events and special occasions",price:"From R90/hour",duration:"4-12 hours",icon:yn,gradient:"from-purple-500 to-pink-500"},{id:"moving",category:"Specialized Services",title:"Moving Services",description:"Reliable moving and relocation services for homes and offices",price:"From R150/hour",duration:"4-8 hours",icon:Mm,gradient:"from-indigo-500 to-purple-600"},{id:"au-pair",category:"Specialized Services",title:"Au Pair Services",description:"Trusted childcare and family support services",price:"From R60/hour",duration:"4-12 hours",icon:ap,gradient:"from-pink-500 to-rose-500"}];function yfe({onBookNowClick:e}){const[t,s]=j.useState(!1),n=i=>{s(!1),e==null||e(i)};return r.jsx("section",{className:"py-16 lg:py-24 bg-white",id:"how-it-works",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsxs(Ke,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 text-sm font-semibold border-0 mb-4",children:[r.jsx(Em,{className:"h-4 w-4 mr-2"}),"Simple Process"]}),r.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:["How Berry Events",r.jsx("span",{className:"block bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"works for you"})]}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"From booking to completion, we've streamlined every step to ensure you get exceptional service with complete peace of mind."})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 mb-16",children:r8.map((i,a)=>r.jsxs("div",{className:"relative group",children:[a<r8.length-1&&r.jsx("div",{className:"hidden lg:block absolute top-12 left-full w-full h-0.5 bg-gradient-to-r from-gray-200 to-gray-300 z-0",children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 opacity-30 group-hover:opacity-60 transition-opacity duration-300"})}),r.jsxs("div",{className:"relative bg-white rounded-xl border-2 border-gray-100 p-4 hover:border-gray-200 hover:shadow-lg transition-all duration-300 group-hover:scale-105 z-10",children:[r.jsx("div",{className:"absolute -top-3 left-4",children:r.jsx("div",{className:`w-6 h-6 bg-gradient-to-r ${i.color} rounded-full flex items-center justify-center text-white font-bold text-xs shadow-lg`,children:i.id})}),r.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-lg flex items-center justify-center mb-4 mx-auto shadow-md`,children:r.jsx(i.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:i.title}),r.jsx("p",{className:"text-gray-600 text-xs leading-relaxed mb-3",children:i.description}),r.jsx("div",{className:"space-y-1",children:i.features.map((o,l)=>r.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[r.jsx(ur,{className:"h-3 w-3 text-green-500 mr-1 flex-shrink-0"}),o]},l))})]})]})]},i.id))}),r.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-3xl p-8 lg:p-12 border border-gray-100",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsxs(Ke,{className:"bg-green-100 text-green-700 px-4 py-2 text-sm font-semibold border-0 mb-4",children:[r.jsx(Et,{className:"h-4 w-4 mr-2"}),"Try It Now"]}),r.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"See it in action"}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-8",children:"Experience our streamlined booking process. From finding the right professional to scheduling and payment - everything happens in under 2 minutes."}),r.jsxs("div",{className:"space-y-4 mb-8",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Ts,{className:"h-4 w-4 text-green-600"})}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Average booking time: 2 minutes"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{className:"h-4 w-4 text-blue-600"})}),r.jsx("span",{className:"text-gray-700 font-medium",children:"100% secure payment processing"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Et,{className:"h-4 w-4 text-purple-600"})}),r.jsx("span",{className:"text-gray-700 font-medium",children:"4.9/5 average customer satisfaction"})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(K,{onClick:()=>s(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200","data-testid":"button-book-now-demo",children:[r.jsx(Ws,{className:"mr-2 h-5 w-5"}),"Book Your First Service"]}),r.jsxs(K,{variant:"outline",className:"border-2 border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 font-semibold px-8 py-3 rounded-xl transition-all duration-200",onClick:()=>{const i=document.getElementById("demo-video");i&&i.scrollIntoView({behavior:"smooth"})},"data-testid":"button-watch-demo-video",children:[r.jsx(Em,{className:"mr-2 h-5 w-5"}),"Watch Demo Video"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"relative mx-auto w-80 h-96 bg-gray-900 rounded-3xl p-2 shadow-2xl",children:r.jsxs("div",{className:"w-full h-full bg-white rounded-2xl overflow-hidden relative",children:[r.jsxs("div",{className:"h-8 bg-gray-50 flex items-center justify-between px-4 text-xs text-gray-600",children:[r.jsx("span",{children:"9:41"}),r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-4 h-2 bg-green-500 rounded-sm"}),r.jsx("div",{className:"w-4 h-2 bg-green-500 rounded-sm"}),r.jsx("div",{className:"w-4 h-2 bg-green-500 rounded-sm"})]})]}),r.jsxs("div",{className:"p-4 h-full bg-gradient-to-b from-blue-50 to-white",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Berry Events"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Book your service"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx($i,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"House Cleaning"}),r.jsx("p",{className:"text-xs text-gray-500",children:"R280/hour"})]}),r.jsx(ul,{className:"h-4 w-4 text-gray-400"})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(yc,{className:"h-5 w-5 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Garden Care"}),r.jsx("p",{className:"text-xs text-gray-500",children:"R350/hour"})]}),r.jsx(ul,{className:"h-4 w-4 text-gray-400"})]})}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-100",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(ur,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Plumbing"}),r.jsx("p",{className:"text-xs text-gray-500",children:"R400/hour"})]}),r.jsx(ul,{className:"h-4 w-4 text-gray-400"})]})})]}),r.jsx("div",{className:"absolute bottom-6 left-4 right-4",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg p-3 text-center text-sm font-semibold shadow-lg",children:"Book Selected Service"})})]})]})}),r.jsx("div",{className:"absolute -top-4 -right-4 bg-green-500 text-white rounded-full p-3 shadow-lg animate-bounce",children:r.jsx(ur,{className:"h-6 w-6"})}),r.jsx("div",{className:"absolute -bottom-4 -left-4 bg-blue-500 text-white rounded-full p-3 shadow-lg animate-pulse",children:r.jsx(Et,{className:"h-6 w-6"})})]})]})}),r.jsx(er,{open:t,onOpenChange:s,children:r.jsxs(Fn,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(_n,{className:"text-2xl font-bold",children:"Choose Your Service"}),r.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(!1),className:"h-8 w-8",children:r.jsx(to,{className:"h-4 w-4"})})]}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Select from our complete range of professional home services"})]}),r.jsx("div",{className:"mt-6 space-y-8",children:["Indoor Services","Outdoor Services","Specialized Services"].map(i=>{const a=vfe.filter(c=>c.category===i),l={"Indoor Services":{icon:eo,color:"from-blue-500 to-cyan-500"},"Outdoor Services":{icon:PC,color:"from-green-500 to-emerald-500"},"Specialized Services":{icon:Et,color:"from-purple-500 to-pink-500"}}[i];return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${l.color} rounded-lg flex items-center justify-center mr-3`,children:r.jsx(l.icon,{className:"h-5 w-5 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i}),r.jsxs(Ke,{className:"ml-3 bg-gray-100 text-gray-700",children:[a.length," services"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(c=>r.jsxs("div",{onClick:()=>n(c.id),className:"bg-white border border-gray-200 rounded-xl p-4 hover:border-primary/30 hover:shadow-lg transition-all duration-200 cursor-pointer group","data-testid":`service-selector-${c.id}`,children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${c.gradient} rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:r.jsx(c.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-primary transition-colors",children:c.title}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"text-sm font-medium text-primary",children:c.price}),r.jsx("span",{className:"text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-xs text-gray-500",children:c.duration})]})]}),(c.popular||c.urgent)&&r.jsxs("div",{className:"flex flex-col space-y-1",children:[c.popular&&r.jsx(Ke,{className:"bg-green-100 text-green-700 text-xs px-2 py-1",children:"Popular"}),c.urgent&&r.jsx(Ke,{className:"bg-red-100 text-red-700 text-xs px-2 py-1",children:"24/7"})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),r.jsxs(K,{size:"sm",className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",onClick:d=>{d.stopPropagation(),n(c.id)},children:["Book Now",r.jsx(ul,{className:"h-4 w-4 ml-2"})]})]},c.id))})]},i)})})]})})]})})}function bfe(){const{addToCart:e,itemCount:t}=up(),[s,n]=j.useState(!1),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[c,d]=j.useState(""),[u,h]=j.useState(null),[m,f]=j.useState(!1),[g,p]=j.useState([]);j.useState(null),j.useState({firstName:"John",lastName:"Doe",profileImage:"",isProvider:!1}),j.useState(!0),j.useState(3),j.useState(1);const b=C=>{C&&d(C),n(!0)},x=C=>{d(C),n(!0)},y=()=>{a(!1),u!=null&&u.serviceId&&d(u.serviceId),n(!0)},w=C=>{if(g.length>=3)return;const L={serviceId:C.serviceId,serviceName:C.serviceName,pricing:C.pricing,selectedProvider:C.selectedProvider,preferredDate:C.preferredDate,timePreference:C.timePreference,selectedAddOns:C.selectedAddOns||[]};p(R=>[...R,L]),n(!1),d("")},S=g.map(C=>C.serviceId);return r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsxs("header",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-50",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"text-2xl font-bold text-primary",children:"Berry Events"})}),r.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[r.jsx(yb,{}),r.jsx(K,{variant:"outline",className:"border-primary text-primary hover:bg-muted",children:"Sign In"}),r.jsx(K,{className:"bg-primary hover:bg-accent text-primary-foreground",children:"Get Started"})]}),r.jsx("button",{className:"md:hidden",onClick:()=>f(!m),children:m?r.jsx(to,{className:"w-6 h-6"}):r.jsx(EC,{className:"w-6 h-6"})})]})}),m&&r.jsx("div",{className:"md:hidden bg-white border-t border-gray-100",children:r.jsxs("div",{className:"px-4 py-3 space-y-3",children:[r.jsx("div",{className:"flex justify-center pb-2",children:r.jsx(yb,{})}),r.jsx(K,{variant:"outline",className:"w-full",children:"Sign In"}),r.jsx(K,{className:"w-full bg-primary text-primary-foreground hover:bg-accent",children:"Get Started"})]})})]}),r.jsxs("main",{className:"pt-16",children:[r.jsx(pfe,{onGetStarted:b}),r.jsx("div",{"data-section":"services",id:"services",children:r.jsx(xfe,{onServiceSelect:x,bookedServices:S})}),r.jsx(yfe,{onBookNowClick:b}),r.jsx(lk,{onBookService:x}),r.jsx(ok,{})]}),r.jsx(bh,{}),s&&r.jsx(du,{isOpen:s,onClose:()=>{n(!1),d("")},serviceId:c||"house-cleaning",editBookingData:u,bookedServices:S,pendingDrafts:g,onAddAnotherService:w,onBookingComplete:async C=>{var L,R,M,D;console.log("Booking completed:",C);try{const $={serviceId:C.serviceId||c,serviceName:C.serviceName||"Service",serviceType:C.serviceType||c||"general",scheduledDate:C.preferredDate||new Date().toISOString().split("T")[0],scheduledTime:C.timePreference||"09:00",duration:C.duration||null,basePrice:String(((L=C.pricing)==null?void 0:L.basePrice)||C.totalCost||0),addOnsPrice:String(((R=C.pricing)==null?void 0:R.addOnsPrice)||0),subtotal:String(((M=C.pricing)==null?void 0:M.totalPrice)||C.totalCost||0),serviceDetails:JSON.stringify({propertyType:C.propertyType,address:C.address,cleaningType:C.cleaningType,propertySize:C.propertySize,materials:C.materials,recurringSchedule:C.recurringSchedule,gardenSize:C.gardenSize,gardenCondition:C.gardenCondition,urgency:C.urgency,electricalIssue:C.electricalIssue,cuisineType:C.cuisineType,eventSize:C.eventSize}),selectedAddOns:C.selectedAddOns||[],comments:C.specialRequests||null,providerId:(D=C.selectedProvider)!=null&&D.id?String(C.selectedProvider.id):null};console.log("Adding to cart:",$),await e($),n(!1),d("")}catch($){console.error("Failed to add to cart:",$)}}}),i&&u&&r.jsx(uz,{isOpen:i,onClose:()=>{a(!1),h(null),d("")},bookingData:u,onEditBooking:y}),r.jsx(hz,{isOpen:o,onClose:()=>l(!1)})]})}const wfe=[{id:"google",name:"Google",icon:EB,color:"text-red-600",bgColor:"hover:bg-red-50",borderColor:"border-red-200"},{id:"apple",name:"Apple",icon:AB,color:"text-gray-900",bgColor:"hover:bg-gray-50",borderColor:"border-gray-200"},{id:"twitter",name:"Twitter",icon:MB,color:"text-blue-500",bgColor:"hover:bg-blue-50",borderColor:"border-blue-200"},{id:"instagram",name:"Instagram",icon:TB,color:"text-pink-600",bgColor:"hover:bg-pink-50",borderColor:"border-pink-200"}];function jfe({isOpen:e,onClose:t,onSuccess:s}){const{toast:n}=us(),[i,a]=j.useState(null),o=os({mutationFn:async c=>{a(c);const d=window.open(`/api/auth/${c}`,"socialLogin","width=500,height=600,scrollbars=yes,resizable=yes");if(!d)throw new Error("Please allow popups for social login to work properly");return new Promise((u,h)=>{const m=g=>{g.origin===window.location.origin&&(g.data.type==="SOCIAL_LOGIN_SUCCESS"?(window.removeEventListener("message",m),d.close(),u(g.data.payload)):g.data.type==="SOCIAL_LOGIN_ERROR"&&(window.removeEventListener("message",m),d.close(),h(new Error(g.data.error||"Social login failed"))))},f=setInterval(()=>{d.closed&&(clearInterval(f),window.removeEventListener("message",m),h(new Error("Authentication was cancelled")))},1e3);window.addEventListener("message",m)})},onSuccess:c=>{a(null),n({title:"Welcome to Berry Events!",description:"Successfully signed in. You can now access all our home services."}),localStorage.setItem("berryEventsUser",JSON.stringify(c.user)),c.accessToken&&localStorage.setItem("accessToken",c.accessToken),s&&s(c.user),t()},onError:c=>{a(null),n({title:"Login Failed",description:c.message||"Please try again or contact support if the issue persists.",variant:"destructive"})}}),l=c=>{o.mutate(c)};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-md","aria-describedby":"social-login-description","data-testid":"social-login-modal",children:[r.jsxs(Bn,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(_n,{className:"text-2xl font-bold",children:"Welcome to Berry Events"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:t,"data-testid":"close-social-login",children:r.jsx(to,{className:"h-4 w-4"})})]}),r.jsx("p",{id:"social-login-description",className:"text-gray-600 text-sm",children:"Sign in with your preferred social account to access our home services platform"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"space-y-3",children:wfe.map(c=>{const d=c.icon,u=i===c.id;return r.jsx(K,{variant:"outline",size:"lg",className:`w-full h-12 text-left justify-start space-x-3 ${c.bgColor} ${c.borderColor} transition-all duration-200`,onClick:()=>l(c.id),disabled:o.isPending,"data-testid":`social-login-${c.id}`,children:r.jsxs("div",{className:"flex items-center space-x-3",children:[u?r.jsx("div",{className:"h-5 w-5 animate-spin border-2 border-gray-300 border-t-gray-600 rounded-full"}):r.jsx(d,{className:`h-5 w-5 ${c.color}`}),r.jsx("span",{className:"font-medium",children:u?"Connecting...":`Continue with ${c.name}`})]})},c.id)})}),r.jsx(Pn,{}),r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Why use social login?"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" Quick and secure authentication"}),r.jsx("li",{children:" No need to remember another password"}),r.jsx("li",{children:" Instant access to book home services"}),r.jsx("li",{children:" Your data is protected and secure"})]})]}),r.jsx("div",{className:"text-xs text-gray-500 text-center",children:"By signing in, you agree to our Terms of Service and Privacy Policy. Your social account information is used only for authentication."})]})]})})}function Nfe(){const[,e]=nr(),{toast:t}=us(),{login:s,register:n,refreshUser:i}=S0(),[a,o]=j.useState(!1),[l,c]=j.useState(!1),[d,u]=j.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:""}),[h,m]=j.useState({email:"",password:""}),f=async b=>{var x,y,w;if(b.preventDefault(),d.password!==d.confirmPassword){t({title:"Password Mismatch",description:"Passwords do not match. Please try again.",variant:"destructive"});return}try{c(!0),await n({firstName:d.firstName,lastName:d.lastName,email:d.email,phone:d.phone||void 0,password:d.password}),t({title:"Welcome to Berry Events!",description:"Your account has been created successfully."}),setTimeout(()=>{e("/")},1e3)}catch(S){console.error("Registration error:",S);let C=S.message||"Failed to create account. Please try again.";(x=S.message)!=null&&x.includes("Email already registered")?C="This email is already registered. Please try signing in instead.":(y=S.message)!=null&&y.includes("Invalid input data")?C="Please check your information and try again.":(w=S.message)!=null&&w.includes("password")&&(C="Password must be at least 6 characters long."),t({title:"Registration Failed",description:C,variant:"destructive"})}finally{c(!1)}},g=async b=>{var x,y;b.preventDefault();try{c(!0),await s(h.email,h.password),t({title:"Welcome back!",description:"You have been signed in successfully."}),setTimeout(()=>{e("/")},1e3)}catch(w){console.error("Login error:",w);let S=w.message||"Login failed. Please try again.";(x=w.message)!=null&&x.includes("Invalid email or password")?S="Invalid email or password. Please check your credentials and try again.":(y=w.message)!=null&&y.includes("User not found")&&(S="No account found with this email. Please check your email or sign up instead."),t({title:"Login Failed",description:S,variant:"destructive"})}finally{c(!1)}},p=b=>{t({title:"Welcome!",description:"You have been signed in successfully."}),i(),o(!1),setTimeout(()=>{e("/")},1e3)};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:[r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Berry Events"}),r.jsx("p",{className:"text-gray-600",children:"Your trusted home services platform"})]}),r.jsxs(le,{children:[r.jsxs(kc,{defaultValue:"signin",className:"w-full",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-2",children:[r.jsxs(hs,{value:"signin","data-testid":"tab-signin",children:[r.jsx(iZ,{className:"h-4 w-4 mr-2"}),"Sign In"]}),r.jsxs(hs,{value:"signup","data-testid":"tab-signup",children:[r.jsx(pZ,{className:"h-4 w-4 mr-2"}),"Sign Up"]})]}),r.jsxs(fs,{value:"signin",children:[r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"signin-email",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"signin-email",type:"email",placeholder:"your.email@example.com",className:"pl-10",value:h.email,onChange:b=>m({...h,email:b.target.value}),required:!0,"data-testid":"input-signin-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"signin-password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"signin-password",type:"password",placeholder:"Enter your password",className:"pl-10",value:h.password,onChange:b=>m({...h,password:b.target.value}),required:!0,"data-testid":"input-signin-password"})]})]}),r.jsx(K,{type:"submit",className:"w-full bg-primary hover:bg-accent text-primary-foreground",disabled:l,"data-testid":"button-signin",children:l?"Signing In...":"Sign In"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"Or continue with"})})]}),r.jsx(K,{type:"button",variant:"outline",className:"w-full mt-3",onClick:()=>o(!0),"data-testid":"button-social-login",children:"Social Login"})]})]}),r.jsxs(fs,{value:"signup",children:[r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"firstName",children:"First Name"}),r.jsxs("div",{className:"relative",children:[r.jsx(vn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"firstName",placeholder:"John",className:"pl-10",value:d.firstName,onChange:b=>u({...d,firstName:b.target.value}),required:!0,"data-testid":"input-first-name"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),r.jsx(He,{id:"lastName",placeholder:"Doe",value:d.lastName,onChange:b=>u({...d,lastName:b.target.value}),required:!0,"data-testid":"input-last-name"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"email",type:"email",placeholder:"john.doe@example.com",className:"pl-10",value:d.email,onChange:b=>u({...d,email:b.target.value}),required:!0,"data-testid":"input-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"phone",type:"tel",placeholder:"+27 123 456 7890 (Optional)",className:"pl-10",value:d.phone,onChange:b=>u({...d,phone:b.target.value}),"data-testid":"input-signup-phone"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"password",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"password",type:"password",placeholder:"Create a strong password",className:"pl-10",value:d.password,onChange:b=>u({...d,password:b.target.value}),required:!0,"data-testid":"input-password"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"confirmPassword",children:"Confirm Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",className:"pl-10",value:d.confirmPassword,onChange:b=>u({...d,confirmPassword:b.target.value}),required:!0,"data-testid":"input-confirm-password"})]})]}),r.jsx(K,{type:"submit",className:"w-full bg-primary hover:bg-accent text-primary-foreground",disabled:l,"data-testid":"button-signup",children:l?"Creating Account...":"Create Account"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("span",{className:"w-full border-t"})}),r.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:r.jsx("span",{className:"bg-white px-2 text-muted-foreground",children:"Or sign up with"})})]}),r.jsx(K,{type:"button",variant:"outline",className:"w-full mt-3",onClick:()=>o(!0),"data-testid":"button-social-signup",children:"Social Login"})]})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(K,{variant:"ghost",onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:" Back to Home"})})]})]}),r.jsx(jfe,{isOpen:a,onClose:()=>o(!1),onSuccess:p})]})}function _b({onBookingClick:e}){const[,t]=nr(),{toast:s}=us(),{data:n,isLoading:i}=Ds({queryKey:["/api/auth/user"],queryFn:async()=>{try{return await Ha.getCurrentUser()}catch{return null}},retry:!1}),a=os({mutationFn:async()=>{await Ha.logout()},onSuccess:()=>{s({title:"Signed Out",description:"You have been successfully signed out."}),t("/"),window.location.reload()},onError:()=>{s({title:"Logout Error",description:"There was an error signing out. Please try again.",variant:"destructive"})}}),o=()=>{a.mutate()};return r.jsx("header",{className:"bg-card shadow-sm sticky top-0 z-50 border-b border-border",children:r.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-20",children:[r.jsxs(fn,{href:"/",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-transparent",children:r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"hidden sm:block",children:[r.jsx("div",{className:"text-2xl font-bold text-foreground",children:"Berry Events"}),r.jsx("div",{className:"text-xs text-foreground/60",children:"All your Home Services In One"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsxs("div",{className:"ml-10 flex items-baseline space-x-8",children:[r.jsx(fn,{href:"/providers",className:"text-foreground/70 hover:text-foreground transition-colors duration-200 text-sm font-medium","data-testid":"link-providers",children:"Our Experts"}),r.jsx("a",{href:"#pricing",className:"text-foreground/70 hover:text-foreground transition-colors duration-200 text-sm font-medium","data-testid":"link-pricing",children:"Pricing"})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(fn,{href:"/provider-onboarding",className:"text-foreground/80 hover:text-foreground transition-colors duration-200 text-sm font-medium","data-testid":"link-become-provider",children:"Become a Provider"}),!i&&(n?r.jsxs(nk,{children:[r.jsx(rk,{asChild:!0,children:r.jsxs(K,{variant:"ghost",className:"text-foreground/70 hover:text-foreground","data-testid":"button-user-menu",children:[r.jsxs("span",{className:"hidden sm:inline mr-2",children:["Hello, ",n.firstName||"User"]}),r.jsx(vn,{className:"h-4 w-4"})]})}),r.jsxs(P2,{align:"end",className:"w-56",children:[r.jsxs(bo,{children:[r.jsx(op,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile Settings"})]}),r.jsx(Dm,{}),r.jsxs(bo,{onClick:o,className:"text-destructive","data-testid":"button-logout",children:[r.jsx($1,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Sign Out"})]})]})]}):r.jsx(fn,{href:"/auth",children:r.jsxs(K,{variant:"ghost",className:"text-foreground/70 hover:text-foreground","data-testid":"button-signin",children:[r.jsx("span",{className:"hidden sm:inline",children:"Sign In"}),r.jsx(vn,{className:"h-4 w-4 sm:hidden"})]})})),r.jsxs(K,{onClick:e,className:"bg-accent hover:bg-accent/90 text-accent-foreground rounded-xl shadow-sm","data-testid":"button-book-now",children:[r.jsx("span",{className:"hidden sm:inline",children:"Book Now"}),r.jsx(o2,{className:"h-4 w-4 sm:hidden"})]})]})]})})})}function Sfe(){const[e,t]=j.useState(!1),[s,n]=j.useState(""),i=o=>{o&&n(o),t(!0)},a=[{id:"chef-catering",name:"Chef & Catering",icon:r.jsx(Tr,{className:"h-8 w-8"}),description:"Professional chef services for any occasion",price:"R550",priceUnit:"starting from",badge:"Premium Service",badgeVariant:"secondary",color:"border-orange-500 hover:bg-orange-50",iconColor:"text-orange-500"},{id:"house-cleaning",name:"House Cleaning",icon:r.jsx(Ld,{className:"h-8 w-8"}),description:"Eco-friendly cleaning solutions",price:"R280",priceUnit:"per hour",badge:"Most Popular",badgeVariant:"default",color:"border-blue-500 hover:bg-blue-50",iconColor:"text-blue-500"},{id:"plumbing",name:"Plumbing",icon:r.jsx(d2,{className:"h-8 w-8"}),description:"Certified plumbers available 24/7",price:"R400",priceUnit:"per hour",badge:"Emergency",badgeVariant:"destructive",color:"border-green-500 hover:bg-green-50",iconColor:"text-green-500"},{id:"electrical",name:"Electrical",icon:r.jsx(so,{className:"h-8 w-8"}),description:"Safety-certified electrical repairs",price:"R450",priceUnit:"per hour",badge:"Licensed",badgeVariant:"secondary",color:"border-yellow-500 hover:bg-yellow-50",iconColor:"text-yellow-500"},{id:"gardening",name:"Garden Care",icon:r.jsx(U1,{className:"h-8 w-8"}),description:"Sustainable garden maintenance",price:"R540",priceUnit:"per hour",badge:"Eco-Friendly",badgeVariant:"secondary",color:"border-emerald-500 hover:bg-emerald-50",iconColor:"text-emerald-500"},{id:"home-moving",name:"Home Moving",icon:r.jsx(Mm,{className:"h-8 w-8"}),description:"Complete relocation solutions",price:"R450",priceUnit:"per hour",badge:"Full Service",badgeVariant:"secondary",color:"border-purple-500 hover:bg-purple-50",iconColor:"text-purple-500"}];return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(_b,{onBookingClick:i}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Book Your Service"}),r.jsx("p",{className:"text-lg text-neutral",children:"Complete your booking in just 2 minutes"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(oe,{className:"mb-8",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Ws,{className:"h-5 w-5 mr-2"}),"Choose Your Service"]})}),r.jsxs(le,{children:[r.jsx("p",{className:"text-neutral mb-6",children:"Select the service you need to get matched with verified professionals in your area."}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(o=>r.jsx(oe,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg transform hover:scale-[1.02] ${o.color}`,onClick:()=>i(o.id),"data-testid":`service-card-${o.id}`,children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[r.jsx("div",{className:o.iconColor,children:o.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:o.name}),r.jsx(Ke,{variant:o.badgeVariant,className:"text-xs",children:o.badge})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:o.description}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-2xl font-bold text-primary",children:o.price}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:o.priceUnit})]}),r.jsx(ul,{className:"h-5 w-5 text-gray-400"})]})]})},o.id))})]})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Sample Booking Summary"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Service:"}),r.jsx("span",{className:"font-medium",children:"House Cleaning"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Duration:"}),r.jsx("span",{className:"font-medium",children:"3 hours"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Rate:"}),r.jsx("span",{className:"font-medium",children:"R450/hour"})]}),r.jsxs("div",{className:"border-t pt-4 flex justify-between font-semibold",children:[r.jsx("span",{children:"Total:"}),r.jsx("span",{className:"text-primary",children:"R1,350"})]}),r.jsx(K,{onClick:()=>i(),className:"w-full","data-testid":"button-confirm-booking",children:"Start Booking"})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Why Choose Berry Events?"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx($t,{className:"h-4 w-4 text-secondary mr-2"}),"Background verified professionals"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx($t,{className:"h-4 w-4 text-secondary mr-2"}),"Full insurance coverage"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx($t,{className:"h-4 w-4 text-secondary mr-2"}),"Satisfaction guarantee"]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx($t,{className:"h-4 w-4 text-secondary mr-2"}),"Same-day booking available"]})]})]})]})]})]}),r.jsx(bh,{}),r.jsx(du,{isOpen:e,onClose:()=>t(!1),serviceId:s||"house-cleaning",onBookingComplete:o=>{console.log("Booking completed:",o),t(!1)}})]})}function Cfe(){const[,e]=nr(),{toast:t}=us(),s={bookingId:"BE-"+Date.now().toString().slice(-6),service:"House Cleaning",date:new Date(Date.now()+864e5).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),time:"10:00 AM",duration:"2 hours",address:"123 Main Street, Cape Town, 8001",amount:560,providerName:"Sarah Johnson",providerPhone:"+27 82 123 4567",customerEmail:"john.doe@example.com",customerPhone:"+27 123 456 7890"},n=()=>{const l=new bt,c=l.internal.pageSize.getWidth(),d=20;let u=20;const h=new Image;h.onload=function(){const m=document.createElement("canvas"),f=m.getContext("2d");m.width=h.width,m.height=h.height,f==null||f.drawImage(h,0,0);const g=m.toDataURL("image/jpeg",.8),p=30;l.addImage(g,"JPEG",(c-p)/2,u,p,p),u+=p+15,l.setFontSize(20),l.setTextColor(124,58,237),l.text("BERRY EVENTS",c/2,u,{align:"center"}),u+=12,l.setFontSize(16),l.setTextColor(0,0,0),l.text("Booking Receipt",c/2,u,{align:"center"}),u+=20,i(l,c,d,u)},h.src=jc},i=(l,c,d,u)=>{let h=u;l.setFontSize(14),l.setFont("helvetica","bold"),l.text(`Booking Reference: ${s.bookingId}`,c/2,h,{align:"center"}),h+=25,l.setFont("helvetica","bold"),l.setFontSize(12),l.text("Service Details",d,h),h+=10,l.setFont("helvetica","normal"),l.text(`Service: ${s.service}`,d,h),h+=8,l.text(`Date: ${s.date}`,d,h),h+=8,l.text(`Time: ${s.time} (${s.duration})`,d,h),h+=8,l.text(`Location: ${s.address}`,d,h),h+=20,l.setFont("helvetica","bold"),l.text("Service Provider",d,h),h+=10,l.setFont("helvetica","normal"),l.text(`Provider: ${s.providerName}`,d,h),h+=8,l.text(`Contact: ${s.providerPhone}`,d,h),h+=20,l.setFont("helvetica","bold"),l.text("Payment Summary",d,h),h+=15,l.setFontSize(16),l.setTextColor(5,150,105),l.text(`Total Paid: R${s.amount}`,c/2,h,{align:"center"}),h+=10,l.setFontSize(10),l.setTextColor(0,0,0),l.text(" Payment processed securely via Berry Events Bank",c/2,h,{align:"center"}),h=l.internal.pageSize.getHeight()-40,l.setFont("helvetica","bold"),l.setFontSize(12),l.text("Berry Events - Your trusted home services platform",c/2,h,{align:"center"}),h+=8,l.setFont("helvetica","normal"),l.setFontSize(10),l.text("Customer Service: customercare@berryevents.co.za | +27 61 279 6476",c/2,h,{align:"center"}),h+=8,l.text("Terms & Conditions apply. All services backed by Berry Events guarantee.",c/2,h,{align:"center"}),l.save(`berry-events-receipt-${s.bookingId}.pdf`),t({title:"PDF Receipt Downloaded!",description:"Your booking receipt has been saved as a PDF with logo."})},a=()=>{const l=` Berry Events Booking Confirmed!

 Reference: ${s.bookingId}
 Service: ${s.service}
 Date: ${s.date}
 Time: ${s.time}
 Location: ${s.address}
 Provider: ${s.providerName}
 Amount: R${s.amount}

 Booking confirmed and payment processed securely!`,c=`https://api.whatsapp.com/send?text=${encodeURIComponent(l)}`;window.open(c,"_blank"),t({title:"WhatsApp Opened!",description:"Share your booking details with friends and family."})},o=()=>{const l=`Berry Events Booking Confirmation - ${s.bookingId}`,c=`Dear Friend,

I wanted to share my Berry Events booking details with you:

Booking Reference: ${s.bookingId}
Service: ${s.service}
Date & Time: ${s.date} at ${s.time}
Location: ${s.address}
Provider: ${s.providerName}
Amount Paid: R${s.amount}

Berry Events made it so easy to book reliable home services!

Best regards`,d=`mailto:?subject=${encodeURIComponent(l)}&body=${encodeURIComponent(c)}`;window.location.href=d,t({title:"Email App Opened!",description:"Share your booking confirmation via email."})};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-lg",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx("div",{className:"mx-auto mb-4",children:r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"h-20 w-auto mx-auto rounded-lg","data-testid":"berry-logo"})}),r.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:r.jsx($t,{className:"h-10 w-10 text-green-600"})}),r.jsx($e,{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),r.jsx("p",{className:"text-gray-600",children:"Your service has been successfully booked and payment processed."})]}),r.jsxs(le,{className:"space-y-6",children:[r.jsxs("div",{className:"text-center bg-blue-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Booking Reference"}),r.jsx("p",{className:"text-xl font-bold text-blue-600","data-testid":"booking-id",children:s.bookingId})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ws,{className:"h-5 w-5 text-blue-600 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:s.service}),r.jsx("p",{className:"text-sm text-gray-600",children:s.date}),r.jsxs("p",{className:"text-sm text-gray-600",children:[s.time," (",s.duration,")"]})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ys,{className:"h-5 w-5 text-green-600 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),r.jsx("p",{className:"text-sm text-gray-600",children:s.address})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(xn,{className:"h-5 w-5 text-purple-600 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:s.providerName}),r.jsx("p",{className:"text-sm text-gray-600",children:s.providerPhone}),r.jsx("p",{className:"text-sm text-gray-500",children:" 4.8 rating  Your service provider"})]})]})]}),r.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Total Paid"}),r.jsx("p",{className:"text-xs text-green-700",children:" Secured by Berry Events Bank"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R",s.amount]})]})}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"What happens next?"}),r.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[r.jsxs("p",{children:["1. Confirmation email sent to ",s.customerEmail]}),r.jsx("p",{children:"2. Provider will contact you 24 hours before service"}),r.jsx("p",{children:"3. Rate your experience after completion"})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(K,{onClick:()=>e("/"),variant:"outline",className:"flex-1","data-testid":"button-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Home"]}),r.jsxs(K,{onClick:n,variant:"outline",className:"flex-1","data-testid":"button-download",children:[r.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Receipt"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(K,{onClick:a,className:"flex-1 bg-green-600 hover:bg-green-700 text-white","data-testid":"button-share-whatsapp",children:[r.jsx(TC,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),r.jsxs(K,{onClick:o,variant:"outline",className:"flex-1","data-testid":"button-share-email",children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),"Email"]})]})]}),r.jsx("div",{className:"text-center text-xs text-gray-500 pt-4 border-t",children:r.jsxs("p",{children:["Need help? ",r.jsx("strong",{children:"customercare@berryevents.co.za"}),"  ",r.jsx("strong",{children:"+27 61 279 6476"})]})})]})]})})}function zV({value:e,onChange:t,placeholder:s="Enter your address",className:n}){const[i,a]=j.useState([]),[o,l]=j.useState(!1),[c,d]=j.useState(!1),u=j.useRef(),{toast:h}=us(),m=async b=>{if(b.length<3){a([]),l(!1);return}try{const x=await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=8&countrycodes=za&q=${encodeURIComponent(b)}&accept-language=en`);if(x.ok){const y=await x.json();if(y.length===0){const w=await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=5&q=${encodeURIComponent(b)}&accept-language=en`);if(w.ok){const S=await w.json();a(S),l(S.length>0)}}else a(y),l(!0)}}catch(x){console.error("Address search error:",x),a([]),l(!1)}},f=b=>{const x=b.target.value;t(x),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{m(x)},300)},g=()=>{if(!navigator.geolocation){h({title:"Location Not Available",description:"Your browser doesn't support location services.",variant:"destructive"});return}d(!0),navigator.geolocation.getCurrentPosition(async b=>{const{latitude:x,longitude:y}=b.coords;try{let w="",S=!1;try{const C=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${x}&lon=${y}&addressdetails=1&accept-language=en`);if(C.ok){const L=await C.json();L.display_name&&(w=L.display_name,S=!0)}}catch{console.log("Nominatim failed, trying fallback...")}if(!S)try{const C=await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${x}&longitude=${y}&localityLanguage=en`);if(C.ok){const L=await C.json();L.locality&&L.principalSubdivision&&(w=`${L.locality}, ${L.principalSubdivision}, ${L.countryName||"South Africa"}`,S=!0)}}catch{console.log("Fallback geocoding also failed")}S||(w=`${x.toFixed(6)}, ${y.toFixed(6)}`),t(w),h({title:"Location Found",description:S?"Your address has been filled in.":"Your coordinates have been filled in."})}catch(w){console.error("Geocoding error:",w);const S=`${x.toFixed(6)}, ${y.toFixed(6)}`;t(S),h({title:"Location Found",description:"Your coordinates have been filled in."})}finally{d(!1)}},b=>{d(!1),console.warn("Location detection failed:",b.code),b.code===b.PERMISSION_DENIED&&h({title:"Location access needed",description:"Allow location access to find your address automatically",variant:"default"})},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e5})},p=b=>{t(b.display_name),a([]),l(!1)};return j.useEffect(()=>{const b=()=>{l(!1)};return document.addEventListener("click",b),()=>document.removeEventListener("click",b)},[]),j.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]),r.jsx(dI,{children:r.jsxs("div",{className:`relative ${n}`,children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(He,{type:"text",value:e,onChange:f,placeholder:s,className:"pr-10",autoComplete:"address-line1","data-testid":"input-address"}),r.jsx(ys,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),r.jsxs(SQ,{children:[r.jsx(CQ,{asChild:!0,children:r.jsx(K,{type:"button",variant:"outline",size:"icon",onClick:g,disabled:c,className:"shrink-0","data-testid":"button-get-location",children:r.jsx(Am,{className:`h-4 w-4 ${c?"animate-pulse":""}`})})}),r.jsx(uI,{children:r.jsx("p",{children:"Use my current location (optional)"})})]})]}),o&&i.length>0&&r.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto",children:i.map((b,x)=>r.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-100 dark:border-gray-700 last:border-b-0 transition-colors",onClick:()=>p(b),"data-testid":`suggestion-${x}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ys,{className:"h-4 w-4 text-gray-400 dark:text-gray-500 mt-0.5 flex-shrink-0"}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:b.display_name})})]})},b.place_id||x))})]})})}var w_="Radio",[kfe,VV]=hr(w_),[_fe,Pfe]=kfe(w_),$V=j.forwardRef((e,t)=>{const{__scopeRadio:s,name:n,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=j.useState(null),f=Gt(t,b=>m(b)),g=j.useRef(!1),p=h?d||!!h.closest("form"):!0;return r.jsxs(_fe,{scope:s,checked:i,disabled:o,children:[r.jsx(gt.button,{type:"button",role:"radio","aria-checked":i,"data-state":qV(i),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:Qe(e.onClick,b=>{i||c==null||c(),p&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),p&&r.jsx(Afe,{control:h,bubbles:!g.current,name:n,value:l,checked:i,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});$V.displayName=w_;var UV="RadioIndicator",HV=j.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:n,...i}=e,a=Pfe(UV,s);return r.jsx(fr,{present:n||a.checked,children:r.jsx(gt.span,{"data-state":qV(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});HV.displayName=UV;var Afe=e=>{const{control:t,checked:s,bubbles:n=!0,...i}=e,a=j.useRef(null),o=E2(s),l=m2(t);return j.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const m=new Event("click",{bubbles:n});h.call(c,s),c.dispatchEvent(m)}},[o,s,n]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qV(e){return e?"checked":"unchecked"}var Efe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j_="RadioGroup",[Tfe,kwe]=hr(j_,[fp,VV]),WV=fp(),YV=VV(),[Mfe,Rfe]=Tfe(j_),GV=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:n,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,f=WV(s),g=hp(d),[p,b]=Sa({prop:a,defaultProp:i,onChange:h});return r.jsx(Mfe,{scope:s,name:n,required:o,disabled:l,value:p,onValueChange:b,children:r.jsx(YC,{asChild:!0,...f,orientation:c,dir:g,loop:u,children:r.jsx(gt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...m,ref:t})})})});GV.displayName=j_;var KV="RadioGroupItem",ZV=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:n,...i}=e,a=Rfe(KV,s),o=a.disabled||n,l=WV(s),c=YV(s),d=j.useRef(null),u=Gt(t,d),h=a.value===i.value,m=j.useRef(!1);return j.useEffect(()=>{const f=p=>{Efe.includes(p.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),r.jsx(GC,{asChild:!0,...l,focusable:!o,active:h,children:r.jsx($V,{disabled:o,required:a.required,checked:h,...c,...i,name:a.name,ref:u,onCheck:()=>a.onValueChange(i.value),onKeyDown:Qe(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Qe(i.onFocus,()=>{var f;m.current&&((f=d.current)==null||f.click())})})})});ZV.displayName=KV;var Lfe="RadioGroupIndicator",XV=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...n}=e,i=YV(s);return r.jsx(HV,{...i,...n,ref:t})});XV.displayName=Lfe;var QV=GV,JV=ZV,Dfe=XV;const Q2=j.forwardRef(({className:e,...t},s)=>r.jsx(QV,{className:tt("grid gap-2",e),...t,ref:s}));Q2.displayName=QV.displayName;const s0=j.forwardRef(({className:e,...t},s)=>r.jsx(JV,{ref:s,className:tt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:r.jsx(Dfe,{className:"flex items-center justify-center",children:r.jsx(yO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));s0.displayName=JV.displayName;function Ofe(e){const t=Ife(e),s=j.forwardRef((n,i)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(Bfe);if(c){const d=c.props.children,u=l.map(h=>h===c?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:h);return r.jsx(t,{...o,ref:i,children:j.isValidElement(d)?j.cloneElement(d,void 0,u):null})}return r.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}function Ife(e){const t=j.forwardRef((s,n)=>{const{children:i,...a}=s;if(j.isValidElement(i)){const o=Vfe(i),l=zfe(a,i.props);return i.type!==j.Fragment&&(l.ref=n?np(n,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ffe=Symbol("radix.slottable");function Bfe(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ffe}function zfe(e,t){const s={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?s[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(s[n]=i):n==="style"?s[n]={...i,...a}:n==="className"&&(s[n]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function Vfe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var $fe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],e$=$fe.reduce((e,t)=>{const s=Ofe(`Primitive.${t}`),n=j.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),N_="Progress",S_=100,[Ufe,_we]=hr(N_),[Hfe,qfe]=Ufe(N_),t$=j.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:i,getValueLabel:a=Wfe,...o}=e;(i||i===0)&&!i8(i)&&console.error(Yfe(`${i}`,"Progress"));const l=i8(i)?i:S_;n!==null&&!a8(n,l)&&console.error(Gfe(`${n}`,"Progress"));const c=a8(n,l)?n:null,d=Pb(c)?a(c,l):void 0;return r.jsx(Hfe,{scope:s,value:c,max:l,children:r.jsx(e$.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Pb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":r$(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});t$.displayName=N_;var s$="ProgressIndicator",n$=j.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,i=qfe(s$,s);return r.jsx(e$.div,{"data-state":r$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});n$.displayName=s$;function Wfe(e,t){return`${Math.round(e/t*100)}%`}function r$(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Pb(e){return typeof e=="number"}function i8(e){return Pb(e)&&!isNaN(e)&&e>0}function a8(e,t){return Pb(e)&&!isNaN(e)&&e<=t&&e>=0}function Yfe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${S_}\`.`}function Gfe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${S_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var i$=t$,Kfe=n$;const ca=j.forwardRef(({className:e,value:t,...s},n)=>r.jsx(i$,{ref:n,className:tt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(Kfe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ca.displayName=i$.displayName;const Zfe=rt.object({serviceId:rt.string().min(1,"Please select a service"),propertySize:rt.string().min(1,"Please select property size"),bathrooms:rt.string().min(1,"Please select number of bathrooms"),address:rt.string().min(1,"Please enter your address"),scheduledDate:rt.string().min(1,"Please select a date"),scheduledTime:rt.string().min(1,"Please select a time"),specialInstructions:rt.string().optional(),providerId:rt.string().min(1,"Please select a provider")});function Xfe({isOpen:e,onClose:t,selectedService:s,selectedProvider:n}){const[i,a]=j.useState(1),[o,l]=j.useState(""),{toast:c}=us(),{data:d}=Ds({queryKey:["/api/services"],enabled:e}),{data:u}=Ds({queryKey:["/api/providers"],enabled:e&&i===4}),h=z2({resolver:V2(Zfe),defaultValues:{serviceId:s||"",propertySize:"",bathrooms:"",address:"",scheduledDate:"",scheduledTime:"",specialInstructions:"",providerId:n||""}}),m=os({mutationFn:async w=>(await pn("POST","/api/bookings",w)).json(),onSuccess:()=>{c({title:"Booking Confirmed!",description:"You will receive a confirmation email shortly."}),ha.invalidateQueries({queryKey:["/api/bookings"]}),t(),f()},onError:w=>{c({title:"Booking Failed",description:w.message,variant:"destructive"})}}),f=()=>{a(1),l(""),h.reset({serviceId:s||"",propertySize:"",bathrooms:"",address:"",scheduledDate:"",scheduledTime:"",specialInstructions:"",providerId:n||""})},g=()=>{i<4&&a(i+1)},p=()=>{i>1&&a(i-1)},b=w=>{const S={...w,customerId:"temp-customer-id",bathrooms:parseInt(w.bathrooms),duration:3,totalPrice:x?(parseFloat(x.basePrice)*3).toFixed(2):"1350.00",status:"pending"};m.mutate(S)},x=d==null?void 0:d.find(w=>w.id===h.watch("serviceId")),y=i/4*100;return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","data-testid":"modal-booking",children:[r.jsx(Bn,{children:r.jsxs(_n,{className:"flex items-center justify-between",children:[r.jsx("span",{children:"Book Your Service"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:t,"data-testid":"button-close-modal",children:r.jsx(to,{className:"h-4 w-4"})})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-primary",children:["Step ",i," of 4"]}),r.jsx("span",{className:"text-sm text-neutral",children:"Estimated completion: 2 minutes"})]}),r.jsx(ca,{value:y,className:"h-2"})]}),r.jsxs("form",{onSubmit:h.handleSubmit(b),children:[i===1&&r.jsxs("div",{className:"space-y-6","data-testid":"step-service-selection",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Select Your Service"}),r.jsx(Q2,{value:h.watch("serviceId"),onValueChange:w=>h.setValue("serviceId",w),className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:d==null?void 0:d.map(w=>r.jsxs("div",{children:[r.jsx(s0,{value:w.id,id:w.id,className:"sr-only"}),r.jsx(pe,{htmlFor:w.id,className:"cursor-pointer block border-2 border-gray-200 rounded-xl p-6 hover:border-primary has-[:checked]:border-primary has-[:checked]:bg-blue-50 transition-all duration-200","data-testid":`radio-service-${w.id}`,children:r.jsxs("div",{className:"flex items-center",children:[w.category==="house-cleaning"&&r.jsx(eo,{className:"text-primary h-6 w-6 mr-4"}),w.category==="deep-cleaning"&&r.jsx(Ld,{className:"text-primary h-6 w-6 mr-4"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),r.jsx("p",{className:"text-sm text-neutral",children:w.description})]})]})})]},w.id))}),r.jsx(K,{type:"button",onClick:g,disabled:!h.watch("serviceId"),"data-testid":"button-step1-continue",children:"Continue"})]}),i===2&&r.jsxs("div",{className:"space-y-6","data-testid":"step-property-details",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Property Details"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"propertySize",children:"Property Size"}),r.jsxs(Dt,{onValueChange:w=>h.setValue("propertySize",w),children:[r.jsx(Mt,{"data-testid":"select-property-size",children:r.jsx(Ot,{placeholder:"Select property size"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"1-2-bedrooms",children:"1-2 Bedrooms"}),r.jsx(Ee,{value:"3-4-bedrooms",children:"3-4 Bedrooms"}),r.jsx(Ee,{value:"5+-bedrooms",children:"5+ Bedrooms"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bathrooms",children:"Number of Bathrooms"}),r.jsxs(Dt,{onValueChange:w=>h.setValue("bathrooms",w),children:[r.jsx(Mt,{"data-testid":"select-bathrooms",children:r.jsx(Ot,{placeholder:"Select bathrooms"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"1",children:"1 Bathroom"}),r.jsx(Ee,{value:"2",children:"2 Bathrooms"}),r.jsx(Ee,{value:"3",children:"3+ Bathrooms"})]})]})]}),r.jsxs("div",{className:"sm:col-span-2",children:[r.jsx(pe,{htmlFor:"address",children:"Location"}),r.jsx(zV,{value:h.watch("address")||"",onChange:w=>h.setValue("address",w),placeholder:"Enter your address"}),h.formState.errors.address&&r.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.formState.errors.address.message})]})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:p,"data-testid":"button-step2-back",children:"Back"}),r.jsx(K,{type:"button",onClick:g,disabled:!h.watch("propertySize")||!h.watch("bathrooms")||!h.watch("address"),"data-testid":"button-step2-continue",children:"Continue"})]})]}),i===3&&r.jsxs("div",{className:"space-y-6","data-testid":"step-schedule",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Select Date & Time"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"scheduledDate",children:"Preferred Date"}),r.jsx(He,{...h.register("scheduledDate"),type:"date",min:new Date().toISOString().split("T")[0],"data-testid":"input-date"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"scheduledTime",children:"Preferred Time"}),r.jsxs(Dt,{onValueChange:w=>h.setValue("scheduledTime",w),children:[r.jsx(Mt,{"data-testid":"select-time",children:r.jsx(Ot,{placeholder:"Select time"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"8:00-11:00",children:"8:00 AM - 11:00 AM"}),r.jsx(Ee,{value:"11:00-14:00",children:"11:00 AM - 2:00 PM"}),r.jsx(Ee,{value:"14:00-17:00",children:"2:00 PM - 5:00 PM"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"specialInstructions",children:"Special Instructions (Optional)"}),r.jsx(Ca,{...h.register("specialInstructions"),placeholder:"Any specific requirements or areas of focus...","data-testid":"textarea-instructions"})]}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:p,"data-testid":"button-step3-back",children:"Back"}),r.jsx(K,{type:"button",onClick:g,disabled:!h.watch("scheduledDate")||!h.watch("scheduledTime"),"data-testid":"button-step3-continue",children:"Find Professionals"})]})]}),i===4&&r.jsxs("div",{className:"space-y-6","data-testid":"step-provider-selection",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Choose Your Professional"}),r.jsx("div",{className:"space-y-4",children:u==null?void 0:u.slice(0,3).map(w=>r.jsx(oe,{className:`cursor-pointer transition-colors duration-200 ${o===w.id?"border-primary bg-blue-50":"border-gray-200 hover:border-primary"}`,onClick:()=>{l(w.id),h.setValue("providerId",w.id)},"data-testid":`card-provider-${w.id}`,children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("img",{src:w.profileImage||"https://images.unsplash.com/photo-1494790108755-2616b612b588?w=300",alt:"Professional service provider",className:"w-12 h-12 rounded-full object-cover mr-4"}),r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:["Provider ",w.id.slice(-1)]}),r.jsxs("div",{className:"flex items-center text-sm text-neutral",children:[r.jsx(Et,{className:"h-3 w-3 text-accent fill-current mr-1"}),r.jsxs("span",{children:[w.rating," (",w.totalReviews," reviews)"]})]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-lg font-semibold text-primary",children:["R",w.hourlyRate,"/hour"]}),r.jsx("div",{className:"text-sm text-secondary",children:"Available today"})]})]})})},w.id))}),r.jsx(oe,{className:"bg-gray-50",children:r.jsxs(le,{className:"p-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Booking Summary"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Service:"}),r.jsx("span",{className:"font-medium",children:x==null?void 0:x.name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Estimated Duration:"}),r.jsx("span",{className:"font-medium",children:"3 hours"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral",children:"Rate:"}),r.jsxs("span",{className:"font-medium",children:["R",x==null?void 0:x.basePrice,"/hour"]})]}),r.jsxs("div",{className:"flex justify-between border-t pt-2 font-semibold",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{className:"text-primary",children:["R",x?(parseFloat(x.basePrice)*3).toLocaleString():"1,350"]})]})]})]})}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:p,"data-testid":"button-step4-back",children:"Back"}),r.jsx(K,{type:"submit",disabled:!o||m.isPending,className:"bg-secondary hover:bg-green-700","data-testid":"button-confirm-booking",children:m.isPending?"Confirming...":"Confirm Booking"})]})]})]})]})})}function Qfe(){const[e,t]=j.useState(!1),[s,n]=j.useState(""),{data:i,isLoading:a}=Ds({queryKey:["/api/providers"]}),o=l=>{l&&n(l),t(!0)};return a?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(_b,{}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),r.jsx("p",{className:"mt-4 text-neutral",children:"Loading providers..."})]})}),r.jsx(bh,{})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(_b,{onBookingClick:()=>o()}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Verified Professionals"}),r.jsx("p",{className:"text-lg text-neutral",children:"Background-checked, insured, and highly-rated service providers"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i==null?void 0:i.map(l=>r.jsxs(oe,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300","data-testid":`card-provider-${l.id}`,children:[r.jsx("div",{className:"aspect-w-16 aspect-h-9",children:r.jsx("img",{src:l.profileImage||"https://images.unsplash.com/photo-1494790108755-2616b612b588?w=300",alt:"Professional service provider",className:"w-full h-48 object-cover"})}),r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[l.firstName," ",l.lastName]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-4 w-4 text-accent fill-current"}),r.jsx("span",{className:"ml-1 text-sm font-medium",children:l.rating})]})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:l.servicesOffered.map(c=>r.jsx(Ke,{variant:"secondary",className:"text-xs",children:c.replace("-"," ")},c))}),r.jsxs("div",{className:"flex items-center text-xs text-neutral mb-3",children:[r.jsx(ys,{className:"h-3 w-3 mr-1"}),r.jsxs("span",{children:["Available in ",l.location]})]}),r.jsxs("div",{className:"flex items-center text-xs text-secondary mb-3",children:[r.jsx($t,{className:"h-3 w-3 mr-1"}),r.jsx("span",{children:"Background Verified"}),l.insuranceVerified&&r.jsxs(r.Fragment,{children:[r.jsx(bs,{className:"h-3 w-3 ml-2 mr-1"}),r.jsx("span",{children:"Insured"})]})]}),r.jsx("p",{className:"text-xs text-neutral mb-4",children:l.bio}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"text-lg font-semibold text-primary",children:["R",l.hourlyRate,"/hour"]}),r.jsx(K,{size:"sm",onClick:()=>o(l.id),"data-testid":`button-book-${l.id}`,children:"Book Now"})]})]})]},l.id))})]}),r.jsx(bh,{}),r.jsx(Xfe,{isOpen:e,onClose:()=>t(!1),selectedProvider:s})]})}const Jfe=j.createContext(void 0);function H0(){const e=j.useContext(Jfe);return e===void 0?eme():e}function eme(){const[e,t]=j.useState(null),[s,n]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{n(!0);const c=await Ha.getCurrentUser();t(c)}catch(c){console.error("Error loading user:",c),t(null)}finally{n(!1)}})()},[]),{user:e,isLoading:s,isAuthenticated:!!e,login:async(l,c,d=!1)=>{const u=await Ha.login({email:l,password:c,rememberMe:d});t(u.user)},logout:async()=>{await Ha.logout(),t(null)},refetchUser:async()=>{try{const l=await Ha.getCurrentUser();t(l)}catch(l){console.error("Error refetching user:",l),t(null)}}}}function tme({rating:e,onRatingChange:t,maxRating:s=5,size:n="md",readonly:i=!1,showLabel:a=!0,label:o}){const[l,c]=j.useState(0),d={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},u=p=>{!i&&t&&t(p)},h=p=>{i||c(p)},m=()=>{i||c(0)},f=p=>p<=(l||e),g=p=>p===0?"No rating":p===1?"Poor":p===2?"Fair":p===3?"Good":p===4?"Very Good":p===5?"Excellent":`${p}/5`;return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex space-x-1",onMouseLeave:m,"data-testid":"star-rating",children:Array.from({length:s},(p,b)=>{const x=b+1,y=f(x);return r.jsx("button",{type:"button",className:`
                ${i?"cursor-default":"cursor-pointer hover:scale-110"}
                transition-all duration-150
                ${i?"":"hover:drop-shadow-sm"}
              `,onClick:()=>u(x),onMouseEnter:()=>h(x),disabled:i,"data-testid":`star-${x}`,"aria-label":`${x} star${x!==1?"s":""}`,children:r.jsx(Et,{className:`
                  ${d[n]}
                  transition-colors duration-150
                  ${y?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-300"}
                  ${!i&&l>=x?"drop-shadow-sm":""}
                `})},x)})}),a&&r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o||g(l||e),e>0&&!o&&r.jsxs("span",{className:"ml-1 text-gray-500",children:["(",e,"/5)"]})]})]})}function sme({rating:e,reviewCount:t,size:s="md"}){return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(tme,{rating:e,size:s,readonly:!0,showLabel:!1}),r.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.toFixed(1)," (",t," review",t!==1?"s":"",")"]})]})}function nme({isOpen:e,onClose:t,onProceedToBooking:s}){const[n,i]=j.useState([]),[a,o]=j.useState(null),[l,c]=j.useState(1),{toast:d}=us(),u=[{id:"packing",name:"Professional Packing",description:"Complete packing service with quality materials",basePrice:180,icon:TP},{id:"furniture-assembly",name:"Furniture Disassembly/Assembly",description:"Safe disassembly and reassembly of furniture",basePrice:220,icon:d2},{id:"loading-unloading",name:"Loading & Unloading",description:"Professional loading and unloading services",basePrice:150,icon:mO},{id:"transportation",name:"Transportation",description:"Secure transportation with insured vehicles",basePrice:350,icon:Mm},{id:"unpacking",name:"Unpacking Service",description:"Careful unpacking and item placement",basePrice:160,icon:TP},{id:"storage",name:"Temporary Storage",description:"Short-term storage solutions (per day)",basePrice:50,icon:HK}],{data:h=[],isLoading:m}=Ds({queryKey:["/api/providers/service","home-moving"],enabled:l===2,queryFn:async()=>{const x=await fetch("/api/providers/service/home-moving");if(!x.ok)throw new Error("Failed to fetch moving providers");return x.json()}}),f=x=>{i(y=>y.includes(x)?y.filter(w=>w!==x):[...y,x])},g=()=>n.reduce((x,y)=>{const w=u.find(S=>S.id===y);return x+((w==null?void 0:w.basePrice)||0)},0),p=()=>{if(l===1){if(n.length===0){d({title:"Select Services",description:"Please select at least one moving service.",variant:"destructive"});return}c(2)}},b=()=>{if(!a){d({title:"Select Provider",description:"Please select a moving provider.",variant:"destructive"});return}const x={selectedServices:n,totalPrice:g(),serviceCategory:"home-moving"};s(x,a)};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[r.jsx(Bn,{children:r.jsxs(_n,{className:"flex items-center space-x-2",children:[r.jsx(Mm,{className:"h-5 w-5"}),r.jsx("span",{children:"Home Moving Services"})]})}),r.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[[1,2].map(x=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-sm font-medium ${l>=x?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"}`,children:x}),x<2&&r.jsx("div",{className:`h-1 w-12 mx-2 ${l>x?"bg-indigo-600":"bg-gray-200"}`})]},x)),r.jsx("span",{className:"ml-4 text-sm text-gray-600",children:l===1?"Service Details":"Select Provider"})]}),l===1&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Available Moving Services"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Select the services you need for your move"}),r.jsx("div",{className:"grid gap-4",children:u.map(x=>{const y=x.icon,w=n.includes(x.id);return r.jsx(oe,{className:`cursor-pointer transition-all duration-200 ${w?"ring-2 ring-indigo-500 bg-indigo-50":"hover:shadow-md"}`,onClick:()=>f(x.id),"data-testid":`moving-service-${x.id}`,children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(Bi,{checked:w,onChange:()=>f(x.id),className:"mt-1"}),r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center",children:r.jsx(y,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold",children:x.name}),r.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]})}),r.jsx("div",{className:"text-right",children:r.jsxs(Ke,{variant:"secondary",children:["R",x.basePrice,"/service"]})})]})})},x.id)})})]}),n.length>0&&r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-lg",children:"Service Summary"})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-2",children:[n.map(x=>{const y=u.find(w=>w.id===x);return r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:y==null?void 0:y.name}),r.jsxs("span",{children:["R",y==null?void 0:y.basePrice]})]},x)}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total Estimate:"}),r.jsxs("span",{children:["R",g()]})]})]})})]})]}),l===2&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Available Moving Providers"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a verified moving professional"})]}),m?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{children:"Finding moving providers..."})]}):h.length===0?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"No moving providers available at the moment."})}):r.jsx(Q2,{value:(a==null?void 0:a.id)||"",onValueChange:x=>{const y=h.find(w=>w.id===x);o(y||null)},children:r.jsx("div",{className:"space-y-3",children:h.map(x=>r.jsx(oe,{className:`cursor-pointer transition-all hover:shadow-md ${(a==null?void 0:a.id)===x.id?"ring-2 ring-indigo-500 bg-indigo-50":""}`,onClick:()=>o(x),"data-testid":`provider-card-${x.id}`,children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(s0,{value:x.id,className:"mt-2"}),r.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:x.profileImage?r.jsx("img",{src:x.profileImage,alt:`${x.firstName} ${x.lastName}`,className:"h-16 w-16 rounded-full object-cover"}):r.jsx(vn,{className:"h-8 w-8 text-gray-400"})}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-lg",children:[x.firstName," ",x.lastName]}),r.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:x.bio}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[r.jsx(sme,{rating:Number(x.rating)||0,reviewCount:x.totalReviews||0,size:"sm"}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(ys,{className:"h-3 w-3 mr-1"}),x.location]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Ts,{className:"h-3 w-3 mr-1"}),x.experience]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"font-semibold text-lg",children:["R",x.hourlyRate,"/hour"]}),x.isVerified&&r.jsx(Ke,{variant:"secondary",className:"text-xs mt-1",children:"Verified"})]})]})})]})})},x.id))})})]}),r.jsxs("div",{className:"flex space-x-3 pt-4",children:[l>1&&r.jsx(K,{variant:"outline",onClick:()=>c(l-1),"data-testid":"button-back",children:"Back"}),r.jsx(K,{variant:"outline",onClick:t,"data-testid":"button-cancel",children:"Cancel"}),l<2?r.jsx(K,{onClick:p,className:"flex-1 bg-indigo-600 hover:bg-indigo-700",disabled:n.length===0,"data-testid":"button-next",children:"Continue to Providers"}):r.jsx(K,{onClick:b,disabled:!a,className:"flex-1 bg-indigo-600 hover:bg-indigo-700","data-testid":"button-proceed-booking",children:"Proceed to Booking"})]})]})})}const rme={"south-african":{name:"South African",region:"African",description:"Authentic braai culture and traditional flavors",flavors:["Smoky BBQ","Spicy Peri-Peri","Rich & Hearty","Traditional Spices"],popularMenus:{"heritage-feast":{name:"Heritage Feast",price:520,items:["Bobotie","Potjiekos","Boerewors & Pap","Malva Pudding"]},"braai-experience":{name:"Authentic Braai Experience",price:580,items:["Boerewors","Lamb Chops","Sosaties","Roosterkoek","Chakalaka"]},"cape-malay":{name:"Cape Malay Delights",price:550,items:["Cape Malay Curry","Samoosas","Koeksisters","Milk Tart"]}},customOptions:["Boerewors","Sosaties","Lamb Chops","Chicken Braai","Pap & Gravy","Chakalaka","Roosterkoek","Melktert","Koeksisters","Biltong","Drowors"]},"east-african":{name:"East African",region:"African Regional",description:"Rich spices and traditional cooking methods",flavors:["Berbere Spiced","Tangy Injera","Complex Spices","Coffee Culture"],popularMenus:{"ethiopian-feast":{name:"Ethiopian Feast",price:580,items:["Doro Wat","Kitfo","Injera Bread","Tibs","Ethiopian Coffee"]},"kenyan-classics":{name:"Kenyan Classics",price:520,items:["Nyama Choma","Ugali","Sukuma Wiki","Chapati","Masala Chai"]}},customOptions:["Doro Wat","Injera","Kitfo","Shiro","Tibs","Ugali","Nyama Choma","Sukuma Wiki","Ethiopian Coffee","Chapati"]},"west-african":{name:"West African",region:"African Regional",description:"Bold flavors and aromatic spices from West Africa",flavors:["Spicy & Bold","Aromatic Herbs","Palm Oil Rich","Peppery Heat"],popularMenus:{"nigerian-delights":{name:"Nigerian Delights",price:560,items:["Jollof Rice","Suya","Egusi Soup","Pounded Yam","Chin Chin"]},"ghanaian-feast":{name:"Ghanaian Feast",price:540,items:["Banku & Tilapia","Kelewele","Waakye","Red Red","Bofrot"]}},customOptions:["Jollof Rice","Suya","Plantain","Pepper Soup","Pounded Yam","Egusi","Banku","Kelewele","Waakye","Chin Chin"]},italian:{name:"Italian",region:"European",description:"Traditional pasta, risotto, and authentic Italian flavors",flavors:["Herb Infused","Tomato Rich","Olive Oil Based","Wine Paired"],popularMenus:{"classic-italian":{name:"Classic Italian Feast",price:650,items:["Antipasto Platter","Spaghetti Carbonara","Chicken Parmigiana","Tiramisu"]},"gourmet-italian":{name:"Gourmet Italian Experience",price:850,items:["Burrata with Truffle Oil","Osso Buco","Seafood Risotto","Panna Cotta"]}},customOptions:["Pasta","Risotto","Pizza","Antipasto","Tiramisu","Panna Cotta","Bruschetta","Lasagna","Minestrone","Gelato"]},asian:{name:"Asian Fusion",region:"Asian",description:"Fresh herbs, spices and traditional cooking methods",flavors:["Umami Rich","Sweet & Sour","Spicy Heat","Fresh Herbs"],popularMenus:{"thai-delight":{name:"Thai Delight",price:580,items:["Thai Green Curry","Pad Thai","Tom Yum Soup","Mango Sticky Rice"]},"japanese-zen":{name:"Japanese Zen",price:720,items:["Miso Soup","Chicken Teriyaki","Sushi Platter","Mochi Ice Cream"]}},customOptions:["Pad Thai","Green Curry","Sushi","Teriyaki","Tom Yum","Fried Rice","Spring Rolls","Mango Sticky Rice","Miso Soup","Ramen"]}};function ime({form:e,onNext:t,onBack:s}){const[n,i]=j.useState(""),[a,o]=j.useState("popular"),[l,c]=j.useState(""),[d,u]=j.useState([]),[h,m]=j.useState([]),f=n?rme[n]:null,g=w=>{m(S=>S.includes(w)?S.filter(C=>C!==w):[...S,w])},p=w=>{u(S=>S.includes(w)?S.filter(C=>C!==w):[...S,w])},b=w=>{i(w),c(""),u([]),m([]),e.setValue("cuisineType",w),e.setValue("selectedMenu",""),e.setValue("customMenuItems",[])},x=l&&f?f.popularMenus[l]:null,y=()=>{if(!n||!e.watch("numberOfPeople"))return 0;const w=parseInt(e.watch("numberOfPeople")||"1");let S=450;return a==="popular"&&x&&(S=x.price||450),S*w};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Chef & Catering Experience"}),r.jsx("p",{className:"text-gray-600",children:"Choose your preferred cuisine and customize your perfect menu"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"eventType",children:"Event Type"}),r.jsxs(Dt,{value:e.watch("eventType"),onValueChange:w=>e.setValue("eventType",w),children:[r.jsx(Mt,{"data-testid":"select-event-type",children:r.jsx(Ot,{placeholder:"Select event type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"birthday",children:"Birthday Party"}),r.jsx(Ee,{value:"anniversary",children:"Anniversary"}),r.jsx(Ee,{value:"dinner-party",children:"Dinner Party"}),r.jsx(Ee,{value:"family-gathering",children:"Family Gathering"}),r.jsx(Ee,{value:"corporate",children:"Corporate Event"}),r.jsx(Ee,{value:"holiday",children:"Holiday Celebration"}),r.jsx(Ee,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"numberOfPeople",children:"Number of People"}),r.jsx(He,{type:"number",placeholder:"e.g. 8",...e.register("numberOfPeople"),"data-testid":"input-number-people"})]})]}),n&&e.watch("numberOfPeople")&&r.jsxs("div",{className:"text-center bg-primary/5 rounded-lg p-4",children:[r.jsxs("p",{className:"text-2xl font-bold text-primary",children:["R",y()]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Total estimate for ",e.watch("numberOfPeople")," people"]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-base font-medium",children:"Select Your Cuisine Experience"}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Choose from African cuisines featuring South African specialties, regional African dishes, and international options"}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center space-x-2 mb-3",children:r.jsx("h5",{className:"text-sm font-semibold text-gray-600",children:" African Cuisine"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg border-2 ${n==="south-african"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>b("south-african"),"data-testid":"cuisine-card-south-african",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Tr,{className:`h-6 w-6 ${n==="south-african"?"text-primary":"text-gray-400"}`}),r.jsx("h4",{className:"font-semibold",children:"South African"}),n==="south-african"&&r.jsx(al,{className:"h-5 w-5 text-primary ml-auto"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Authentic braai culture and traditional flavors"}),r.jsx("div",{className:"text-xs text-primary",children:"Bobotie  Braai  Cape Malay"})]})})})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"flex items-center space-x-2 mb-3",children:r.jsx("h5",{className:"text-sm font-semibold text-gray-600",children:" Regional African"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg border-2 ${n==="east-african"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>b("east-african"),"data-testid":"cuisine-card-east-african",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Tr,{className:`h-6 w-6 ${n==="east-african"?"text-primary":"text-gray-400"}`}),r.jsx("h4",{className:"font-semibold",children:"East African"}),n==="east-african"&&r.jsx(al,{className:"h-5 w-5 text-primary ml-auto"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ethiopian, Kenyan traditional dishes"}),r.jsx("div",{className:"text-xs text-primary",children:"Doro Wat  Injera  Nyama Choma"})]})}),r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg border-2 ${n==="west-african"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>b("west-african"),"data-testid":"cuisine-card-west-african",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Tr,{className:`h-6 w-6 ${n==="west-african"?"text-primary":"text-gray-400"}`}),r.jsx("h4",{className:"font-semibold",children:"West African"}),n==="west-african"&&r.jsx(al,{className:"h-5 w-5 text-primary ml-auto"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Nigerian, Ghanaian bold flavors"}),r.jsx("div",{className:"text-xs text-primary",children:"Jollof Rice  Suya  Kelewele"})]})})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center space-x-2 mb-3",children:r.jsx("h5",{className:"text-sm font-semibold text-gray-600",children:" International"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg border-2 ${n==="italian"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>b("italian"),"data-testid":"cuisine-card-italian",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Tr,{className:`h-6 w-6 ${n==="italian"?"text-primary":"text-gray-400"}`}),r.jsx("h4",{className:"font-semibold",children:"Italian"}),n==="italian"&&r.jsx(al,{className:"h-5 w-5 text-primary ml-auto"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Traditional pasta, risotto, and authentic flavors"}),r.jsx("div",{className:"text-xs text-primary",children:"Pasta  Risotto  Tiramisu"})]})}),r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg border-2 ${n==="asian"?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>b("asian"),"data-testid":"cuisine-card-asian",children:r.jsxs(le,{className:"p-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx(Tr,{className:`h-6 w-6 ${n==="asian"?"text-primary":"text-gray-400"}`}),r.jsx("h4",{className:"font-semibold",children:"Asian Fusion"}),n==="asian"&&r.jsx(al,{className:"h-5 w-5 text-primary ml-auto"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Fresh herbs, spices and traditional methods"}),r.jsx("div",{className:"text-xs text-primary",children:"Pad Thai  Sushi  Teriyaki"})]})})]})]})]}),n&&f&&r.jsxs("div",{children:[r.jsx(pe,{className:"text-base font-medium",children:"Preferred Flavors & Style"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:f.flavors.map(w=>r.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg border cursor-pointer transition-all ${h.includes(w)?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>g(w),"data-testid":`flavor-option-${w.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsx(Bi,{checked:h.includes(w),onChange:()=>g(w)}),r.jsx("span",{className:"text-sm font-medium",children:w})]},w))})]}),n&&f&&r.jsxs("div",{children:[r.jsx(pe,{className:"text-base font-medium",children:"Menu Options"}),r.jsxs("div",{className:"flex space-x-4 mt-3 mb-4",children:[r.jsx(K,{type:"button",variant:a==="popular"?"default":"outline",onClick:()=>o("popular"),className:"flex-1","data-testid":"menu-type-popular",children:"Popular Menus"}),r.jsx(K,{type:"button",variant:a==="custom"?"default":"outline",onClick:()=>o("custom"),className:"flex-1","data-testid":"menu-type-custom",children:"Custom Menu"})]}),a==="popular"&&r.jsx("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(f.popularMenus).map(([w,S])=>r.jsx(oe,{className:`cursor-pointer transition-all duration-300 hover:shadow-md border-2 ${l===w?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>{c(w),e.setValue("selectedMenu",w),e.setValue("menuType","popular")},"data-testid":`menu-card-${w}`,children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-lg",children:S.name}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:S.items.map((C,L)=>r.jsx(Ke,{variant:"secondary",className:"text-xs",children:C},L))})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsxs("p",{className:"font-bold text-primary",children:["R",S.price]}),r.jsx("p",{className:"text-xs text-gray-500",children:"per person"}),l===w&&r.jsx(al,{className:"h-5 w-5 text-primary mt-1"})]})]})})},w))}),a==="custom"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(pe,{children:"Select items for your custom menu:"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f.customOptions.map(w=>r.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg border cursor-pointer transition-all ${d.includes(w)?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"}`,onClick:()=>p(w),"data-testid":`custom-item-${w.toLowerCase().replace(/\s+/g,"-")}`,children:[r.jsx(Bi,{checked:d.includes(w),onChange:()=>p(w)}),r.jsx("span",{className:"text-sm font-medium",children:w})]},w))}),d.length>0&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"font-medium text-sm mb-2",children:"Selected items:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:d.map(w=>r.jsx(Ke,{variant:"default",className:"text-xs",children:w},w))})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"specialRequests",children:"Special Requests or Dietary Requirements"}),r.jsx(Ca,{placeholder:"Any special dietary requirements, allergies, or specific requests...",...e.register("specialRequests"),"data-testid":"textarea-special-requests"})]}),r.jsxs("div",{className:"flex justify-between pt-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:s,"data-testid":"button-back",children:"Back"}),r.jsx(K,{type:"button",onClick:()=>{e.setValue("selectedFlavors",h),e.setValue("menuType",a),e.setValue("customMenuItems",d),e.setValue("totalEstimate",y()),t()},disabled:!n||a==="popular"&&!l||a==="custom"&&d.length===0,"data-testid":"button-next",children:"Continue"})]})]})}const o8=rt.object({serviceId:rt.string(),propertySize:rt.string().min(1,"Please select property size"),bathrooms:rt.string().min(1,"Please select number of bathrooms"),cleaningType:rt.string().min(1,"Please select cleaning type"),address:rt.string().min(1,"Please enter your address"),scheduledDate:rt.string().min(1,"Please select a date"),scheduledTime:rt.string().min(1,"Please select a time"),specialInstructions:rt.string().optional(),providerId:rt.string().min(1,"Please select a provider")}),ame=rt.object({serviceId:rt.string(),problemDescription:rt.string().min(1,"Please describe the problem"),urgency:rt.string().min(1,"Please select urgency level"),propertyType:rt.string().min(1,"Please select property type"),address:rt.string().min(1,"Please enter your address"),scheduledDate:rt.string().min(1,"Please select a date"),scheduledTime:rt.string().min(1,"Please select a time"),specialInstructions:rt.string().optional(),providerId:rt.string().min(1,"Please select a provider")}),ome=rt.object({serviceId:rt.string(),eventType:rt.string().min(1,"Please select event type"),guests:rt.string().min(1,"Please enter number of guests"),cuisineType:rt.string().optional(),selectedMenu:rt.string().optional(),address:rt.string().min(1,"Please enter your address"),scheduledDate:rt.string().min(1,"Please select a date"),scheduledTime:rt.string().min(1,"Please select a time"),specialInstructions:rt.string().optional(),providerId:rt.string().min(1,"Please select a provider")}),lme=rt.object({serviceId:rt.string(),gardenSize:rt.string().min(1,"Please select garden size"),serviceType:rt.string().min(1,"Please select service type"),address:rt.string().min(1,"Please enter your address"),scheduledDate:rt.string().min(1,"Please select a date"),scheduledTime:rt.string().min(1,"Please select a time"),specialInstructions:rt.string().optional(),providerId:rt.string().min(1,"Please select a provider")});function cme({isOpen:e,onClose:t,serviceId:s}){var xe;const[n,i]=j.useState(""),[a,o]=j.useState(null),[l,c]=j.useState(null),[d,u]=j.useState(!1),[h,m]=j.useState(!1),[f,g]=j.useState(""),[p,b]=j.useState("popular"),[x,y]=j.useState([""]),[w,S]=j.useState({paymentMethod:"card",cardNumber:"",cardholderName:"",expiryDate:"",cvv:""}),{toast:C}=us();j.useEffect(()=>{e&&(i(""),o(null),c(null),g(""),b("popular"),y([""]),S({paymentMethod:"card",cardNumber:"",cardholderName:"",expiryDate:"",cvv:""}))},[s,e]);const L=()=>{switch(s){case"house-cleaning":return o8;case"plumbing":case"electrical":return ame;case"chef-catering":return ome;case"garden-care":return lme;default:return o8}},{data:R}=Ds({queryKey:["/api/services"],enabled:e}),{data:M}=Ds({queryKey:["/api/providers"],enabled:e}),D=R==null?void 0:R.find(X=>X.id===s),$=M==null?void 0:M.filter(X=>X.servicesOffered.includes(s)||X.servicesOffered.includes((D==null?void 0:D.name)||"")),E=$||[],T=z2({resolver:V2(L()),defaultValues:{serviceId:s||"",address:"",scheduledDate:"",scheduledTime:"",specialInstructions:"",providerId:""}}),q=os({mutationFn:async X=>{if(w.paymentMethod==="card"&&(!w.cardNumber||!w.cardholderName||!w.expiryDate||!w.cvv))throw new Error("Please complete all card details");const O={...X,providerId:n==="hold"?null:n,paymentMethod:w.paymentMethod,totalAmount:parseFloat(G())+15,status:n==="hold"?"pending_assignment":"confirmed"};return(await pn("POST","/api/bookings",O)).json()},onSuccess:()=>{C({title:"Booking Confirmed!",description:n==="hold"?"We'll find the best provider for you within 24 hours.":"You will receive a confirmation email shortly."}),ha.invalidateQueries({queryKey:["/api/bookings"]}),t(),B()},onError:X=>{C({title:"Booking Failed",description:X.message,variant:"destructive"})}}),B=()=>{T.reset(),i(""),o(null),c(null),g(""),b("popular"),y([""]),S({paymentMethod:"card",cardNumber:"",cardholderName:"",expiryDate:"",cvv:""})},te=X=>{ie(X)},ie=X=>{a||E.find(W=>W.id===n)||E[0];const O=new URLSearchParams({service:(D==null?void 0:D.name)||"Service",category:s||"",date:X.scheduledDate||"",time:X.scheduledTime||"",location:X.address||"",customerName:X.customerName||"",customerEmail:X.customerEmail||"",customerPhone:X.customerPhone||"",baseRate:G(),duration:s==="waitering"?`${X.duration||4} hours`:"2-3 hours",propertySize:X.propertySize||"",specialRequests:X.specialInstructions||"",frequency:X.frequency||"One-time",guestCount:X.guestCount||X.guests||"",eventType:X.eventType||"",cuisineType:f||"",menuType:p||""});t(),window.location.href=`/quote?${O.toString()}`},G=()=>{if(l)return l.totalPrice;switch(s){case"house-cleaning":const X=T.getValues(),O=X.propertySize||"100",W=X.bathrooms||"1";return(parseInt(O)*50+parseInt(W)*25).toString();case"chef-catering":const ce=T.getValues().guests||"1";return(parseInt(ce)*150).toString();case"waitering":const ae=T.getValues(),ne=parseInt(ae.guestCount||"10"),Ne=parseInt(ae.duration||"4"),be=ae.eventType||"private-dinner";let _e=180;const Te={"private-dinner":1,"cocktail-party":1.2,birthday:1.1,anniversary:1.1,corporate:1.4,wedding:1.6};let Ie=1;ne>50?Ie=1.5:ne>30?Ie=1.3:ne>20?Ie=1.2:ne>10&&(Ie=1.1);let ye=1;Ne>=8?ye=.9:Ne>=6&&(ye=.95);const ge=_e*(Te[be]||1)*Ie*ye*Ne;return Math.round(ge).toString();case"plumbing":case"electrical":return"200";case"garden-care":return"150";default:return"100"}},P=(X,O)=>{c(X),o(O),u(!1)};if(s==="home-moving"&&d)return r.jsx(nme,{isOpen:d,onClose:()=>u(!1),onProceedToBooking:P});if(s==="chef-catering"&&h)return r.jsx(ime,{form:T,onNext:()=>m(!1),onBack:()=>m(!1)});const U={"south-african":{name:"South African",description:"Traditional SA cuisine"},"east-african":{name:"East African",description:"Ethiopian, Kenyan flavors"},"west-african":{name:"West African",description:"Nigerian, Ghanaian dishes"},italian:{name:"Italian",description:"Classic Italian cuisine"},mediterranean:{name:"Mediterranean",description:"Fresh Mediterranean flavors"},asian:{name:"Asian Fusion",description:"Modern Asian dishes"},indian:{name:"Indian",description:"Authentic Indian spices"}};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(Bn,{children:[r.jsxs(_n,{className:"flex items-center gap-2",children:[s==="chef-catering"&&r.jsx(Tr,{className:"h-5 w-5"}),s==="house-cleaning"&&r.jsx("div",{className:"h-5 w-5",children:""}),s==="plumbing"&&r.jsx("div",{className:"h-5 w-5",children:""}),s==="electrical"&&r.jsx("div",{className:"h-5 w-5",children:""}),s==="garden-care"&&r.jsx("div",{className:"h-5 w-5",children:""}),"Book ",(D==null?void 0:D.name)||"Service"]}),r.jsx(_o,{children:"Fill in the details below to book your service"})]}),s==="chef-catering"&&r.jsx("div",{className:"mb-4",children:r.jsxs(K,{onClick:()=>m(!0),variant:"outline",className:"w-full",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Use Enhanced Chef Booking Experience"]})}),s==="home-moving"&&!l&&r.jsx("div",{className:"mb-4",children:r.jsx(K,{onClick:()=>u(!0),className:"w-full",children:"Configure Moving Services"})}),(s!=="home-moving"||l)&&r.jsx("div",{className:"space-y-6",children:r.jsxs("form",{onSubmit:T.handleSubmit(te),className:"space-y-6",children:[r.jsx(oe,{children:r.jsxs(le,{className:"p-6",children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Service Details"}),s==="house-cleaning"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"propertySize",children:"Property Size (sqm)"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("propertySize",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select size"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"50",children:"50-100 sqm"}),r.jsx(Ee,{value:"100",children:"100-200 sqm"}),r.jsx(Ee,{value:"200",children:"200-300 sqm"}),r.jsx(Ee,{value:"300",children:"300+ sqm"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bathrooms",children:"Number of Bathrooms"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("bathrooms",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select bathrooms"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"1",children:"1 Bathroom"}),r.jsx(Ee,{value:"2",children:"2 Bathrooms"}),r.jsx(Ee,{value:"3",children:"3 Bathrooms"}),r.jsx(Ee,{value:"4",children:"4+ Bathrooms"})]})]})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx(pe,{htmlFor:"cleaningType",children:"Cleaning Type"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("cleaningType",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select cleaning type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"regular",children:"Regular Cleaning"}),r.jsx(Ee,{value:"deep",children:"Deep Cleaning"}),r.jsx(Ee,{value:"move-out",children:"Move-out Cleaning"})]})]})]})]}),(s==="plumbing"||s==="electrical")&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"problemDescription",children:"Problem Description"}),r.jsx(Ca,{placeholder:"Describe the issue you're experiencing...",...T.register("problemDescription")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"urgency",children:"Urgency Level"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("urgency",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select urgency"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"low",children:"Low - Can wait a few days"}),r.jsx(Ee,{value:"medium",children:"Medium - Within 24 hours"}),r.jsx(Ee,{value:"high",children:"High - Same day needed"}),r.jsx(Ee,{value:"emergency",children:"Emergency - Immediate attention"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"propertyType",children:"Property Type"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("propertyType",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select property type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"apartment",children:"Apartment"}),r.jsx(Ee,{value:"house",children:"House"}),r.jsx(Ee,{value:"townhouse",children:"Townhouse"}),r.jsx(Ee,{value:"commercial",children:"Commercial"})]})]})]})]})]}),s==="chef-catering"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"eventType",children:"Event Type"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("eventType",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select event type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"dinner",children:"Dinner Party"}),r.jsx(Ee,{value:"birthday",children:"Birthday Party"}),r.jsx(Ee,{value:"corporate",children:"Corporate Event"}),r.jsx(Ee,{value:"wedding",children:"Wedding"}),r.jsx(Ee,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"guests",children:"Number of Guests"}),r.jsx(He,{type:"number",placeholder:"e.g., 10",...T.register("guests")})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cuisineType",children:"Cuisine Preference (Optional)"}),r.jsxs(Dt,{onValueChange:X=>{g(X),T.setValue("cuisineType",X)},children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select cuisine preference"})}),r.jsx(Rt,{children:Object.entries(U).map(([X,O])=>r.jsx(Ee,{value:X,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tr,{className:"h-4 w-4 mr-2"}),O.name]})},X))})]})]})]}),s==="waitering"&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"eventType",children:"Event Type"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("eventType",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select event type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"private-dinner",children:"Private Dinner (1-10 guests)"}),r.jsx(Ee,{value:"cocktail-party",children:"Cocktail Party (10-30 guests)"}),r.jsx(Ee,{value:"wedding",children:"Wedding (50+ guests)"}),r.jsx(Ee,{value:"corporate",children:"Corporate Event (20-100 guests)"}),r.jsx(Ee,{value:"birthday",children:"Birthday Party (10-50 guests)"}),r.jsx(Ee,{value:"anniversary",children:"Anniversary (10-30 guests)"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"guestCount",children:"Number of Guests"}),r.jsx(He,{type:"number",placeholder:"e.g., 20",...T.register("guestCount")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"duration",children:"Event Duration (Hours)"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("duration",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select duration"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"2",children:"2 Hours"}),r.jsx(Ee,{value:"3",children:"3 Hours"}),r.jsx(Ee,{value:"4",children:"4 Hours"}),r.jsx(Ee,{value:"5",children:"5 Hours"}),r.jsx(Ee,{value:"6",children:"6 Hours"}),r.jsx(Ee,{value:"8",children:"8 Hours (Full Day)"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"serviceStyle",children:"Service Style"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("serviceStyle",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select service style"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"casual",children:"Casual Service"}),r.jsx(Ee,{value:"formal",children:"Formal Table Service"}),r.jsx(Ee,{value:"buffet",children:"Buffet Service"}),r.jsx(Ee,{value:"cocktail",children:"Cocktail Service & Bar"}),r.jsx(Ee,{value:"fine-dining",children:"Fine Dining Experience"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"additionalServices",children:"Additional Services (Optional)"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Bar Service & Mixology"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Event Setup & Breakdown"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Wine Pairing Expertise"})]}),r.jsxs("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Table Coordination"})]})]})]})]}),s==="garden-care"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"gardenSize",children:"Garden Size"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("gardenSize",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select garden size"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"small",children:"Small (0-100 sqm)"}),r.jsx(Ee,{value:"medium",children:"Medium (100-500 sqm)"}),r.jsx(Ee,{value:"large",children:"Large (500+ sqm)"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"serviceType",children:"Service Type"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("serviceType",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select service"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"maintenance",children:"Garden Maintenance"}),r.jsx(Ee,{value:"landscaping",children:"Landscaping"}),r.jsx(Ee,{value:"lawn",children:"Lawn Care"}),r.jsx(Ee,{value:"trimming",children:"Tree Trimming"})]})]})]})]})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-6",children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Address & Schedule"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"address",children:"Service Address"}),r.jsx(zV,{value:T.watch("address"),onChange:X=>T.setValue("address",X),placeholder:"Enter your address"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"scheduledDate",children:"Preferred Date"}),r.jsx(He,{type:"date",...T.register("scheduledDate")})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"scheduledTime",children:"Preferred Time"}),r.jsxs(Dt,{onValueChange:X=>T.setValue("scheduledTime",X),children:[r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select time"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"08:00",children:"8:00 AM"}),r.jsx(Ee,{value:"09:00",children:"9:00 AM"}),r.jsx(Ee,{value:"10:00",children:"10:00 AM"}),r.jsx(Ee,{value:"11:00",children:"11:00 AM"}),r.jsx(Ee,{value:"12:00",children:"12:00 PM"}),r.jsx(Ee,{value:"13:00",children:"1:00 PM"}),r.jsx(Ee,{value:"14:00",children:"2:00 PM"}),r.jsx(Ee,{value:"15:00",children:"3:00 PM"}),r.jsx(Ee,{value:"16:00",children:"4:00 PM"}),r.jsx(Ee,{value:"17:00",children:"5:00 PM"})]})]})]})]})]})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"font-semibold text-lg",children:"Select Your Provider"}),s==="chef-catering"&&f&&r.jsxs(Ke,{variant:"secondary",className:"ml-2",children:[r.jsx(Tr,{className:"h-3 w-3 mr-1"}),(xe=U[f])==null?void 0:xe.name," Specialists"]})]}),l&&a?r.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[r.jsx("h5",{className:"font-medium text-green-800",children:"Selected Moving Provider:"}),r.jsxs("p",{className:"text-green-700",children:[a.firstName," ",a.lastName]}),r.jsxs("p",{className:"text-sm text-green-600",children:["Total Services: ",l.selectedServices.join(", ")]}),r.jsxs("p",{className:"text-sm text-green-600",children:["Total Cost: R",l.totalPrice]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsx(oe,{className:`cursor-pointer transition-all ${n==="hold"?"ring-2 ring-orange-500 bg-orange-50":"hover:shadow-lg border-orange-200"}`,onClick:()=>i("hold"),children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center",children:r.jsx(Ts,{className:"h-8 w-8 text-orange-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h5",{className:"font-semibold text-orange-800",children:"Please hold while we find providers"}),r.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"We'll match you with the best available provider in your area within 24 hours."}),r.jsx(Ke,{variant:"secondary",className:"mt-2 bg-orange-100 text-orange-800",children:"Auto-Assignment Available"})]})]})})}),$&&$.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center",children:r.jsx("span",{className:"text-sm text-gray-500",children:"Or choose from available providers now:"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$==null?void 0:$.map(X=>r.jsx(oe,{className:`cursor-pointer transition-all ${n===X.id?"ring-2 ring-primary bg-primary/5":"hover:shadow-lg"}`,onClick:()=>i(X.id),children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:X.profileImage||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",alt:`${X.firstName} ${X.lastName}`,className:"w-16 h-16 rounded-full object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h5",{className:"font-semibold",children:[X.firstName," ",X.lastName]}),r.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-400 fill-current"}),r.jsx("span",{className:"text-sm",children:X.rating}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",X.totalReviews," reviews)"]})]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:X.bio}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("p",{className:"text-sm font-medium text-primary",children:["R",X.hourlyRate,"/hour"]}),r.jsxs(Ke,{variant:"outline",className:"text-xs",children:[r.jsx(ys,{className:"h-3 w-3 mr-1"}),"Nearby"]})]})]})]})})},X.id))})]})]})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-6",children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Additional Information"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"specialInstructions",children:"Special Instructions (Optional)"}),r.jsx(Ca,{placeholder:"Any special requests or additional information...",...T.register("specialInstructions")})]})]})}),(n||a)&&r.jsx(oe,{children:r.jsxs(le,{className:"p-6",children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Payment Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Choose Payment Method"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[r.jsx("button",{type:"button",className:`p-4 border rounded-lg transition-all ${w.paymentMethod==="card"?"border-primary bg-primary/5 text-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>S(X=>({...X,paymentMethod:"card"})),children:r.jsxs("div",{className:"text-center",children:[r.jsx(Cr,{className:"h-6 w-6 mx-auto mb-1"}),r.jsx("span",{className:"text-sm",children:"Credit Card"})]})}),r.jsx("button",{type:"button",className:`p-4 border rounded-lg transition-all ${w.paymentMethod==="bank_transfer"?"border-primary bg-primary/5 text-primary":"border-gray-200 hover:border-gray-300"}`,onClick:()=>S(X=>({...X,paymentMethod:"bank_transfer"})),children:r.jsxs("div",{className:"text-center",children:[r.jsx(a2,{className:"h-6 w-6 mx-auto mb-1"}),r.jsx("span",{className:"text-sm",children:"Bank Transfer"})]})})]}),r.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsxs("p",{className:"text-xs text-blue-800",children:[r.jsx("strong",{children:"Secure Payment:"})," All payments go through Berry Events for your protection. Funds are distributed to service providers after successful completion."]})})]}),w.paymentMethod==="card"&&r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardNumber",children:"Card Number *"}),r.jsx(He,{placeholder:"1234 5678 9012 3456",value:w.cardNumber,onChange:X=>S(O=>({...O,cardNumber:X.target.value.replace(/\s/g,"").replace(/(\d{4})/g,"$1 ").trim()})),maxLength:19,required:!0})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardholderName",children:"Cardholder Name *"}),r.jsx(He,{placeholder:"John Doe",value:w.cardholderName,onChange:X=>S(O=>({...O,cardholderName:X.target.value})),required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"expiryDate",children:"Expiry Date *"}),r.jsx(He,{placeholder:"MM/YY",value:w.expiryDate,onChange:X=>{let O=X.target.value.replace(/\D/g,"");O.length>=2&&(O=O.substring(0,2)+"/"+O.substring(2,4)),S(W=>({...W,expiryDate:O}))},maxLength:5,required:!0})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cvv",children:"CVV *"}),r.jsx(He,{placeholder:"123",type:"password",value:w.cvv,onChange:X=>S(O=>({...O,cvv:X.target.value.replace(/\D/g,"").substring(0,3)})),maxLength:3,required:!0})]})]})]}),w.paymentMethod==="bank_transfer"&&r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Bank Transfer Details"}),r.jsx("p",{className:"text-sm text-blue-800",children:"You will receive bank transfer details after booking confirmation. Service will begin once payment is verified."})]})}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Service Total:"}),r.jsxs("span",{children:["R",G()]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Platform Fee:"}),r.jsx("span",{children:"R15"})]}),r.jsx("div",{className:"border-t border-blue-300 mt-2 pt-2",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total Amount:"}),r.jsxs("span",{children:["R",(parseFloat(G())+15).toFixed(2)]})]})})]})]})]})]})}),E.length>0&&r.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[r.jsx(ys,{className:"h-4 w-4"}),r.jsx("span",{children:"Showing top providers near you"})]}),r.jsxs("div",{className:"flex justify-end space-x-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(K,{type:"submit",disabled:q.isPending||!n&&!a,className:"min-w-[120px]",children:q.isPending?"Generating Quote...":"Get Quote"})]})]})})]})})}const dme=Mae,a$=j.createContext({}),Au=({...e})=>r.jsx(a$.Provider,{value:{name:e.name},children:r.jsx(Oae,{...e})}),J2=()=>{const e=j.useContext(a$),t=j.useContext(o$),{getFieldState:s,formState:n}=B2(),i=s(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},o$=j.createContext({}),Qc=j.forwardRef(({className:e,...t},s)=>{const n=j.useId();return r.jsx(o$.Provider,{value:{id:n},children:r.jsx("div",{ref:s,className:tt("space-y-2",e),...t})})});Qc.displayName="FormItem";const Jc=j.forwardRef(({className:e,...t},s)=>{const{error:n,formItemId:i}=J2();return r.jsx(pe,{ref:s,className:tt(n&&"text-destructive",e),htmlFor:i,...t})});Jc.displayName="FormLabel";const ed=j.forwardRef(({...e},t)=>{const{error:s,formItemId:n,formDescriptionId:i,formMessageId:a}=J2();return r.jsx(zD,{ref:t,id:n,"aria-describedby":s?`${i} ${a}`:`${i}`,"aria-invalid":!!s,...e})});ed.displayName="FormControl";const ume=j.forwardRef(({className:e,...t},s)=>{const{formDescriptionId:n}=J2();return r.jsx("p",{ref:s,id:n,className:tt("text-sm text-muted-foreground",e),...t})});ume.displayName="FormDescription";const td=j.forwardRef(({className:e,children:t,...s},n)=>{const{error:i,formMessageId:a}=J2(),o=i?String((i==null?void 0:i.message)??""):t;return o?r.jsx("p",{ref:n,id:a,className:tt("text-sm font-medium text-destructive",e),...s,children:o}):null});td.displayName="FormMessage";const l8={"Western Cape":["Cape Town","Stellenbosch","Paarl","George","Mossel Bay","Hermanus","Knysna","Worcester","Oudtshoorn","Swellendam","Caledon","Robertson"],Gauteng:["Johannesburg","Pretoria","Soweto","Sandton","Randburg","Centurion","Midrand","Roodepoort","Germiston","Benoni","Boksburg","Springs"],"KwaZulu-Natal":["Durban","Pietermaritzburg","Newcastle","Richards Bay","Ladysmith","Pinetown","Chatsworth","Umlazi","Port Shepstone","Empangeni","Scottburgh"],"Eastern Cape":["Port Elizabeth","East London","Uitenhage","King William's Town","Mthatha","Grahamstown","Queenstown","Jeffreys Bay","Port Alfred","Cradock"],Limpopo:["Polokwane","Tzaneen","Thohoyandou","Phalaborwa","Louis Trichardt","Musina","Giyani","Mokopane","Bela-Bela","Thabazimbi"],Mpumalanga:["Nelspruit","Witbank","Secunda","Standerton","Middelburg","Ermelo","Barberton","White River","Sabie","Hazyview"],"North West":["Rustenburg","Mahikeng","Potchefstroom","Klerksdorp","Brits","Vryburg","Lichtenburg","Zeerust","Stilfontein","Hartbeespoort"],"Free State":["Bloemfontein","Welkom","Kroonstad","Bethlehem","Sasolburg","Virginia","Phuthaditjhaba","Odendaalsrus","Parys","Heilbron"],"Northern Cape":["Kimberley","Upington","Kuruman","De Aar","Springbok","Alexander Bay","Calvinia","Carnarvon","Fraserburg","Sutherland"]},hme=rt.object({firstName:rt.string().min(2,"First name must be at least 2 characters"),lastName:rt.string().min(2,"Last name must be at least 2 characters"),email:rt.string().email("Please enter a valid email address"),phone:rt.string().min(10,"Please enter a valid phone number"),province:rt.string().min(1,"Please select a province"),city:rt.string().min(1,"Please select a city"),address:rt.string().min(5,"Please enter your full address")});function fme(){const[e,t]=j.useState(!1),[s,n]=j.useState(""),{toast:i}=us(),a=Ja(),{theme:o,setTheme:l}=EQ(),{user:c,isAuthenticated:d}=H0(),u=c==null?void 0:c.id,h=z2({resolver:V2(hme),defaultValues:{firstName:"",lastName:"",email:"",phone:"",province:"",city:"",address:""}}),{data:m,isLoading:f}=Ds({queryKey:[`/api/users/${u}`],retry:!1,enabled:!!u}),{data:g=[],isLoading:p}=Ds({queryKey:["/api/orders",u],queryFn:async()=>{const S=localStorage.getItem("accessToken"),C={};S&&(C.Authorization=`Bearer ${S}`);const L=await fetch("/api/orders",{headers:C,credentials:"include"});if(!L.ok){const R=await L.text()||L.statusText;throw new Error(`${L.status}: ${R}`)}return L.json()},enabled:!!u&&d});j.useEffect(()=>{m&&(h.reset({firstName:m.firstName||"",lastName:m.lastName||"",email:m.email||"",phone:m.phone||"",province:m.province||"",city:m.city||"",address:m.address||""}),m.province&&n(m.province))},[m,h]);const b=os({mutationFn:async S=>{const C=await fetch(`/api/users/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!C.ok){const L=await C.json();throw new Error(L.message||"Failed to update profile")}return C.json()},onSuccess:S=>{i({title:"Profile Updated!",description:"Your profile information has been saved successfully."}),a.invalidateQueries({queryKey:[`/api/users/${u}`]})},onError:S=>{i({title:"Update Failed",description:S.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),x=S=>{b.mutate(S)},y=()=>{t(!0)},w=S=>{n(S),h.setValue("province",S),h.setValue("city","")};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(_b,{onBookingClick:y}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"My Profile"}),r.jsx("p",{className:"text-lg text-neutral",children:"Manage your bookings and account settings"})]}),r.jsxs(kc,{defaultValue:"bookings",className:"space-y-8",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-4",children:[r.jsx(hs,{value:"bookings",children:"My Bookings"}),r.jsx(hs,{value:"profile",children:"Profile Preferences"}),r.jsx(hs,{value:"settings",children:"Settings"}),r.jsx(hs,{value:"reviews",children:"Reviews"})]}),r.jsx(fs,{value:"bookings",className:"space-y-6",children:p?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(AC,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs(r.Fragment,{children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Ws,{className:"h-5 w-5 mr-2"}),"Upcoming Bookings"]})}),r.jsx(le,{children:g.filter(S=>S.status==="confirmed"||S.status==="pending").length>0?r.jsx("div",{className:"space-y-4",children:g.filter(S=>S.status==="confirmed"||S.status==="pending").map(S=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow","data-testid":`order-${S.id}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order #",S.orderNumber]}),r.jsx("p",{className:"text-sm text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():"N/A"})]}),r.jsx(Ke,{className:"bg-primary/10 text-primary",children:S.status})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsx("span",{className:"font-semibold",children:Er(S.totalAmount)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),r.jsx(Ke,{variant:"outline",children:S.paymentStatus})]})]}),r.jsx(K,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.location.href=`/order-confirmation/${S.id}`,"data-testid":`button-view-order-${S.id}`,children:"View Details"})]},S.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ws,{className:"h-12 w-12 text-neutral mx-auto mb-4"}),r.jsx("p",{className:"text-neutral",children:"No upcoming bookings found."}),r.jsx(K,{onClick:y,className:"mt-4","data-testid":"button-book-service",children:"Book a Service"})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Booking History"})}),r.jsx(le,{children:g.filter(S=>S.status==="completed"||S.status==="cancelled").length>0?r.jsx("div",{className:"space-y-4",children:g.filter(S=>S.status==="completed"||S.status==="cancelled").map(S=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow","data-testid":`order-history-${S.id}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-semibold text-gray-900",children:["Order #",S.orderNumber]}),r.jsx("p",{className:"text-sm text-gray-500",children:S.createdAt?new Date(S.createdAt).toLocaleDateString():"N/A"})]}),r.jsxs(Ke,{className:S.status==="completed"?"bg-success/10 text-success":"bg-destructive/10 text-destructive",children:[S.status==="completed"&&r.jsx(ur,{className:"h-3 w-3 mr-1"}),S.status]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsx("span",{className:"font-semibold",children:Er(S.totalAmount)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),r.jsx(Ke,{variant:"outline",children:S.paymentStatus})]})]}),r.jsx(K,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.location.href=`/order-confirmation/${S.id}`,"data-testid":`button-view-order-history-${S.id}`,children:"View Details"})]},S.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ts,{className:"h-12 w-12 text-neutral mx-auto mb-4"}),r.jsx("p",{className:"text-neutral",children:"No previous bookings found."})]})})]})]})}),r.jsx(fs,{value:"profile",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(vn,{className:"h-5 w-5 mr-2"}),"Profile Information"]})}),r.jsx(le,{children:r.jsx(dme,{...h,children:r.jsxs("form",{onSubmit:h.handleSubmit(x),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Au,{control:h.control,name:"firstName",render:({field:S})=>r.jsxs(Qc,{children:[r.jsx(Jc,{children:"First Name"}),r.jsx(ed,{children:r.jsx(He,{placeholder:"Enter your first name",...S,"data-testid":"input-first-name"})}),r.jsx(td,{})]})}),r.jsx(Au,{control:h.control,name:"lastName",render:({field:S})=>r.jsxs(Qc,{children:[r.jsx(Jc,{children:"Last Name"}),r.jsx(ed,{children:r.jsx(He,{placeholder:"Enter your last name",...S,"data-testid":"input-last-name"})}),r.jsx(td,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Au,{control:h.control,name:"email",render:({field:S})=>r.jsxs(Qc,{children:[r.jsx(Jc,{children:"Email Address"}),r.jsx(ed,{children:r.jsx(He,{type:"email",placeholder:"your.email@example.com",...S,"data-testid":"input-email"})}),r.jsx(td,{})]})}),r.jsx(Au,{control:h.control,name:"phone",render:({field:S})=>r.jsxs(Qc,{children:[r.jsx(Jc,{children:"Phone Number"}),r.jsx(ed,{children:r.jsx(He,{placeholder:"+27 12 345 6789",...S,"data-testid":"input-phone"})}),r.jsx(td,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(Au,{control:h.control,name:"province",render:({field:S})=>r.jsxs(Qc,{children:[r.jsxs(Jc,{className:"flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),"Province"]}),r.jsxs(Dt,{onValueChange:w,value:S.value,"data-testid":"select-province",children:[r.jsx(ed,{children:r.jsx(Mt,{children:r.jsx(Ot,{placeholder:"Select your province"})})}),r.jsx(Rt,{children:Object.keys(l8).map(C=>r.jsx(Ee,{value:C,children:C},C))})]}),r.jsx(td,{})]})}),r.jsx(Au,{control:h.control,name:"city",render:({field:S})=>{var C;return r.jsxs(Qc,{children:[r.jsxs(Jc,{className:"flex items-center",children:[r.jsx(ys,{className:"h-4 w-4 mr-1"}),"City"]}),r.jsxs(Dt,{onValueChange:S.onChange,value:S.value,disabled:!s,"data-testid":"select-city",children:[r.jsx(ed,{children:r.jsx(Mt,{children:r.jsx(Ot,{placeholder:s?"Select your city":"Select province first"})})}),r.jsx(Rt,{children:s&&((C=l8[s])==null?void 0:C.map(L=>r.jsx(Ee,{value:L,children:L},L)))})]}),r.jsx(td,{})]})}})]}),r.jsx(Au,{control:h.control,name:"address",render:({field:S})=>r.jsxs(Qc,{children:[r.jsx(Jc,{children:"Full Address"}),r.jsx(ed,{children:r.jsx(He,{placeholder:"123 Main Street, Suburb, Postal Code",...S,"data-testid":"input-address"})}),r.jsx(td,{})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(K,{type:"button",variant:"outline",onClick:()=>h.reset(),disabled:b.isPending,"data-testid":"button-reset",children:"Reset"}),r.jsxs(K,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:b.isPending,"data-testid":"button-save-profile",children:[r.jsx(dZ,{className:"h-4 w-4 mr-2"}),b.isPending?"Saving...":"Save Profile"]})]})]})})})]})}),r.jsx(fs,{value:"settings",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(op,{className:"h-5 w-5 mr-2"}),"Application Settings"]})}),r.jsxs(le,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"font-medium",children:"Theme"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Choose your preferred color scheme"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(K,{variant:o==="light"?"default":"outline",size:"sm",className:"gap-2",onClick:()=>{l("light"),i({title:"Theme Changed",description:"Light theme activated"})},"data-testid":"button-theme-light",children:[r.jsx(uZ,{className:"h-4 w-4"}),"Light"]}),r.jsxs(K,{variant:o==="dark"?"default":"outline",size:"sm",className:"gap-2",onClick:()=>{l("dark"),i({title:"Theme Changed",description:"Dark theme activated"})},"data-testid":"button-theme-dark",children:[r.jsx(oZ,{className:"h-4 w-4"}),"Dark"]}),r.jsxs(K,{variant:o==="system"?"default":"outline",size:"sm",className:"gap-2",onClick:()=>{l("system"),i({title:"Theme Changed",description:"System theme will be used"})},"data-testid":"button-theme-system",children:[r.jsx(aZ,{className:"h-4 w-4"}),"System"]})]})]}),r.jsx("div",{className:"text-sm text-gray-500 italic",children:"Additional settings coming soon..."})]})]})}),r.jsx(fs,{value:"reviews",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Et,{className:"h-5 w-5 mr-2"}),"My Reviews"]})}),r.jsx(le,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Et,{className:"h-12 w-12 text-neutral mx-auto mb-4"}),r.jsx("p",{className:"text-neutral",children:"No reviews yet. Book a service to leave your first review!"})]})})]})})]})]}),r.jsx(bh,{}),r.jsx(cme,{isOpen:e,onClose:()=>t(!1),serviceId:""})]})}function mme(){const[,e]=nr(),{toast:t}=us(),[s,n]=j.useState(1),[i,a]=j.useState(!1),o={idDocument:j.useRef(null),proofOfAddress:j.useRef(null),businessRegistration:j.useRef(null),bankStatement:j.useRef(null),certificates:j.useRef(null)},[l,c]=j.useState({applicationType:"individual",firstName:"",lastName:"",companyName:"",email:"",phone:"",idNumber:"",companyRegistration:"",address:"",city:"",province:"",postalCode:"",services:[],experience:"",description:"",bankName:"",accountHolder:"",accountNumber:"",branchCode:"",accountType:"checking",idDocument:null,proofOfAddress:null,businessRegistration:null,bankStatement:null,certificates:[],kycStatus:"pending",kybStatus:"pending"}),d=["House Cleaning","Plumbing Services","Electrical Work","Chef & Catering","Waitering Services","Garden Care"],u=["ABSA Bank","Standard Bank","FirstNational Bank (FNB)","Nedbank","Capitec Bank","African Bank","Bidvest Bank","Discovery Bank","Investec","Sasfin Bank"],h=(y,w)=>{c(y==="certificates"&&w?{...l,certificates:[...l.certificates,w]}:{...l,[y]:w})},m=async y=>{try{const w=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),S=document.createElement("video");S.srcObject=w,S.play(),t({title:"Camera Access",description:"Camera opened. Use file picker for document upload."}),w.getTracks().forEach(C=>C.stop())}catch{t({title:"Camera Error",description:"Could not access camera. Please use file upload instead.",variant:"destructive"})}},f=y=>{const w=l.services.includes(y)?l.services.filter(S=>S!==y):[...l.services,y];c({...l,services:w})},g=()=>{s<4&&n(s+1)},p=()=>{s>1&&n(s-1)},b=async()=>{a(!0);try{t({title:"Verifying Documents",description:"Please wait while we verify your documents..."}),await new Promise(y=>setTimeout(y,2e3)),t({title:"Identity Verification",description:"Verifying your identity through our KYC partner..."}),await new Promise(y=>setTimeout(y,1500)),t({title:"Banking Verification",description:"Verifying your banking details..."}),await new Promise(y=>setTimeout(y,1e3)),t({title:"Application Submitted Successfully!",description:"Your application is under review. You'll receive an email within 24-48 hours with the verification status."}),setTimeout(()=>{e("/provider-dashboard")},2e3)}catch{t({title:"Verification Failed",description:"There was an issue with the verification process. Please try again.",variant:"destructive"})}finally{a(!1)}},x=()=>{switch(s){case 1:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Basic Information"}),r.jsx("p",{className:"text-gray-600",children:"Tell us about yourself or your business"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(pe,{children:"Application Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{className:`cursor-pointer border-2 transition-all ${l.applicationType==="individual"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>c({...l,applicationType:"individual"}),children:r.jsxs(le,{className:"flex flex-col items-center p-4",children:[r.jsx(vn,{className:"h-8 w-8 text-blue-600 mb-2"}),r.jsx("span",{className:"font-medium",children:"Individual"}),r.jsx("span",{className:"text-sm text-gray-600 text-center",children:"Personal service provider"})]})}),r.jsx(oe,{className:`cursor-pointer border-2 transition-all ${l.applicationType==="company"?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>c({...l,applicationType:"company"}),children:r.jsxs(le,{className:"flex flex-col items-center p-4",children:[r.jsx(YK,{className:"h-8 w-8 text-blue-600 mb-2"}),r.jsx("span",{className:"font-medium",children:"Company"}),r.jsx("span",{className:"text-sm text-gray-600 text-center",children:"Business service provider"})]})})]})]}),l.applicationType==="individual"?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"firstName",children:"First Name"}),r.jsx(He,{id:"firstName",placeholder:"John",value:l.firstName,onChange:y=>c({...l,firstName:y.target.value}),required:!0,"data-testid":"input-first-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"lastName",children:"Last Name"}),r.jsx(He,{id:"lastName",placeholder:"Doe",value:l.lastName,onChange:y=>c({...l,lastName:y.target.value}),required:!0,"data-testid":"input-last-name"})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"companyName",children:"Company Name"}),r.jsx(He,{id:"companyName",placeholder:"Your Company Ltd",value:l.companyName,onChange:y=>c({...l,companyName:y.target.value}),required:!0,"data-testid":"input-company-name"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"email",type:"email",placeholder:"your.email@example.com",className:"pl-10",value:l.email,onChange:y=>c({...l,email:y.target.value}),required:!0,"data-testid":"input-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),r.jsxs("div",{className:"relative",children:[r.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"phone",type:"tel",placeholder:"+27 123 456 7890",className:"pl-10",value:l.phone,onChange:y=>c({...l,phone:y.target.value}),required:!0,"data-testid":"input-phone"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"idNumber",children:l.applicationType==="individual"?"ID Number":"Company Registration Number"}),r.jsx(He,{id:"idNumber",placeholder:l.applicationType==="individual"?"0000000000000":"2000/000000/00",value:l.applicationType==="individual"?l.idNumber:l.companyRegistration,onChange:y=>c({...l,[l.applicationType==="individual"?"idNumber":"companyRegistration"]:y.target.value}),required:!0,"data-testid":"input-id-number"})]})})]});case 2:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Address & Services"}),r.jsx("p",{className:"text-gray-600",children:"Where are you located and what services do you offer?"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"address",children:"Street Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"address",placeholder:"123 Main Street",className:"pl-10",value:l.address,onChange:y=>c({...l,address:y.target.value}),required:!0,"data-testid":"input-address"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"city",children:"City"}),r.jsx(He,{id:"city",placeholder:"Cape Town",value:l.city,onChange:y=>c({...l,city:y.target.value}),required:!0,"data-testid":"input-city"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"province",children:"Province"}),r.jsxs(Dt,{value:l.province,onValueChange:y=>c({...l,province:y}),children:[r.jsx(Mt,{"data-testid":"select-province",children:r.jsx(Ot,{placeholder:"Select province"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"western-cape",children:"Western Cape"}),r.jsx(Ee,{value:"eastern-cape",children:"Eastern Cape"}),r.jsx(Ee,{value:"northern-cape",children:"Northern Cape"}),r.jsx(Ee,{value:"free-state",children:"Free State"}),r.jsx(Ee,{value:"kwazulu-natal",children:"KwaZulu-Natal"}),r.jsx(Ee,{value:"north-west",children:"North West"}),r.jsx(Ee,{value:"gauteng",children:"Gauteng"}),r.jsx(Ee,{value:"mpumalanga",children:"Mpumalanga"}),r.jsx(Ee,{value:"limpopo",children:"Limpopo"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"postalCode",children:"Postal Code"}),r.jsx(He,{id:"postalCode",placeholder:"8001",value:l.postalCode,onChange:y=>c({...l,postalCode:y.target.value}),required:!0,"data-testid":"input-postal-code"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(pe,{children:"Services You Offer"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:d.map(y=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Bi,{id:y,checked:l.services.includes(y),onCheckedChange:()=>f(y),"data-testid":`checkbox-service-${y.toLowerCase().replace(/ /g,"-")}`}),r.jsx(pe,{htmlFor:y,className:"text-sm font-medium cursor-pointer",children:y})]},y))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"experience",children:"Years of Experience"}),r.jsxs(Dt,{value:l.experience,onValueChange:y=>c({...l,experience:y}),children:[r.jsx(Mt,{"data-testid":"select-experience",children:r.jsx(Ot,{placeholder:"Select experience level"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"0-1",children:"0-1 years"}),r.jsx(Ee,{value:"2-5",children:"2-5 years"}),r.jsx(Ee,{value:"6-10",children:"6-10 years"}),r.jsx(Ee,{value:"10+",children:"10+ years"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"description",children:"Service Description"}),r.jsx(Ca,{id:"description",placeholder:"Describe your services and what makes you unique...",value:l.description,onChange:y=>c({...l,description:y.target.value}),rows:4,"data-testid":"textarea-description"})]})]});case 3:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Document Upload"}),r.jsx("p",{className:"text-gray-600",children:"Upload required documents for verification"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(oe,{className:"border-2 border-dashed border-gray-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pm,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h4",{className:"mt-2 font-medium text-gray-900",children:l.applicationType==="individual"?"ID Document":"Company Registration"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:l.applicationType==="individual"?"South African ID or Passport":"CK/CIPC Registration Certificate"}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs(K,{onClick:()=>{var y;return(y=o.idDocument.current)==null?void 0:y.click()},variant:"outline",className:"w-full","data-testid":"button-upload-id",children:[r.jsx(yd,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),r.jsxs(K,{onClick:()=>m(),variant:"outline",className:"w-full","data-testid":"button-camera-id",children:[r.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]}),r.jsx("input",{ref:o.idDocument,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:y=>{var w;return h("idDocument",((w=y.target.files)==null?void 0:w[0])||null)}}),l.idDocument&&r.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center justify-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),l.idDocument.name]})]})})}),r.jsx(oe,{className:"border-2 border-dashed border-gray-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Pm,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h4",{className:"mt-2 font-medium text-gray-900",children:"Proof of Address"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Utility bill or bank statement (last 3 months)"}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs(K,{onClick:()=>{var y;return(y=o.proofOfAddress.current)==null?void 0:y.click()},variant:"outline",className:"w-full","data-testid":"button-upload-address",children:[r.jsx(yd,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),r.jsxs(K,{onClick:()=>m(),variant:"outline",className:"w-full","data-testid":"button-camera-address",children:[r.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Take Photo"]})]}),r.jsx("input",{ref:o.proofOfAddress,type:"file",accept:"image/*,.pdf",className:"hidden",onChange:y=>{var w;return h("proofOfAddress",((w=y.target.files)==null?void 0:w[0])||null)}}),l.proofOfAddress&&r.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center justify-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),l.proofOfAddress.name]})]})})}),r.jsx(oe,{className:"border-2 border-dashed border-gray-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Cr,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h4",{className:"mt-2 font-medium text-gray-900",children:"Bank Statement"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Latest 3 months bank statement"}),r.jsx("div",{className:"flex flex-col space-y-2",children:r.jsxs(K,{onClick:()=>{var y;return(y=o.bankStatement.current)==null?void 0:y.click()},variant:"outline",className:"w-full","data-testid":"button-upload-bank-statement",children:[r.jsx(yd,{className:"h-4 w-4 mr-2"}),"Upload Statement"]})}),r.jsx("input",{ref:o.bankStatement,type:"file",accept:".pdf",className:"hidden",onChange:y=>{var w;return h("bankStatement",((w=y.target.files)==null?void 0:w[0])||null)}}),l.bankStatement&&r.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center justify-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),l.bankStatement.name]})]})})}),r.jsx(oe,{className:"border-2 border-dashed border-gray-300",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(bs,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h4",{className:"mt-2 font-medium text-gray-900",children:"Certificates (Optional)"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Professional certificates or qualifications"}),r.jsx("div",{className:"flex flex-col space-y-2",children:r.jsxs(K,{onClick:()=>{var y;return(y=o.certificates.current)==null?void 0:y.click()},variant:"outline",className:"w-full","data-testid":"button-upload-certificates",children:[r.jsx(yd,{className:"h-4 w-4 mr-2"}),"Upload Certificates"]})}),r.jsx("input",{ref:o.certificates,type:"file",accept:"image/*,.pdf",multiple:!0,className:"hidden",onChange:y=>{Array.from(y.target.files||[]).forEach(S=>h("certificates",S))}}),l.certificates.length>0&&r.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center justify-center",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),l.certificates.length," file(s) uploaded"]})]})})})]})]});case 4:return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Banking Details"}),r.jsx("p",{className:"text-gray-600",children:"Required for payment processing"})]}),r.jsx(oe,{className:"bg-yellow-50 border-yellow-200",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Tm,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Important Payment Information"}),r.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Berry Events processes all payments through our secure platform. Payments are released to providers 2-3 business days after service completion. A 15% platform commission is deducted from each payment."})]})]})})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"bankName",children:"Bank Name"}),r.jsxs(Dt,{value:l.bankName,onValueChange:y=>c({...l,bankName:y}),children:[r.jsx(Mt,{"data-testid":"select-bank",children:r.jsx(Ot,{placeholder:"Select your bank"})}),r.jsx(Rt,{children:u.map(y=>r.jsx(Ee,{value:y.toLowerCase().replace(/\s+/g,"-"),children:y},y))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"accountType",children:"Account Type"}),r.jsxs(Dt,{value:l.accountType,onValueChange:y=>c({...l,accountType:y}),children:[r.jsx(Mt,{"data-testid":"select-account-type",children:r.jsx(Ot,{placeholder:"Select account type"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"checking",children:"Checking Account"}),r.jsx(Ee,{value:"savings",children:"Savings Account"}),r.jsx(Ee,{value:"business",children:"Business Account"})]})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"accountHolder",children:"Account Holder Name"}),r.jsx(He,{id:"accountHolder",placeholder:"Full name as shown on bank account",value:l.accountHolder,onChange:y=>c({...l,accountHolder:y.target.value}),required:!0,"data-testid":"input-account-holder"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"accountNumber",children:"Account Number"}),r.jsx(He,{id:"accountNumber",placeholder:"1234567890",value:l.accountNumber,onChange:y=>c({...l,accountNumber:y.target.value}),required:!0,"data-testid":"input-account-number"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"branchCode",children:"Branch Code"}),r.jsx(He,{id:"branchCode",placeholder:"123456",value:l.branchCode,onChange:y=>c({...l,branchCode:y.target.value}),required:!0,"data-testid":"input-branch-code"})]})]})]});default:return null}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsxs(oe,{children:[r.jsxs(Ve,{className:"text-center border-b",children:[r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Service Provider Application"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Join Berry Events as a verified service provider"}),r.jsx("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[1,2,3,4].map(y=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${s>=y?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:s>y?r.jsx($t,{className:"h-5 w-5"}):y}),y<4&&r.jsx("div",{className:`w-12 h-1 ${s>y?"bg-blue-600":"bg-gray-200"}`})]},y))}),r.jsx("div",{className:"flex justify-center mt-2",children:r.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",s," of 4"]})})]}),r.jsxs(le,{className:"p-6",children:[x(),r.jsxs("div",{className:"flex justify-between pt-6 border-t mt-6",children:[r.jsx("div",{children:s>1&&r.jsx(K,{onClick:p,variant:"outline",disabled:i,"data-testid":"button-previous",children:"Previous"})}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(K,{onClick:()=>e("/"),variant:"ghost",disabled:i,"data-testid":"button-cancel",children:"Cancel"}),s<4?r.jsx(K,{onClick:g,className:"bg-blue-600 hover:bg-blue-700",disabled:i,"data-testid":"button-next",children:"Next"}):r.jsx(K,{onClick:b,className:"bg-green-600 hover:bg-green-700",disabled:i,"data-testid":"button-submit",children:i?"Submitting...":"Submit Application"})]})]})]})]})})})}const pme=[{id:"module-chef-001",title:"Food Safety & Hygiene Fundamentals",description:"Essential food safety principles, HACCP guidelines, and personal hygiene standards for professional chefs.",category:"safety",serviceType:"chef-catering",difficulty:"beginner",estimatedDuration:45,content:{},prerequisites:[],isRequired:!0,isActive:!0},{id:"module-chef-002",title:"Knife Skills & Basic Techniques",description:"Master fundamental knife skills, cutting techniques, and kitchen safety practices.",category:"technical",serviceType:"chef-catering",difficulty:"beginner",estimatedDuration:60,content:{},prerequisites:["module-chef-001"],isRequired:!0,isActive:!0},{id:"module-chef-003",title:"African Cuisine Traditions",description:"Explore traditional African cooking methods, spices, and authentic dish preparation.",category:"specialized",serviceType:"chef-catering",difficulty:"intermediate",estimatedDuration:75,content:{},prerequisites:["module-chef-001","module-chef-002"],isRequired:!1,isActive:!0},{id:"module-chef-004",title:"Customer Service Excellence",description:"Deliver exceptional customer service, handle dietary requirements, and manage client expectations.",category:"customer-service",serviceType:"chef-catering",difficulty:"intermediate",estimatedDuration:50,content:{},prerequisites:["module-chef-001"],isRequired:!0,isActive:!0},{id:"module-chef-005",title:"Advanced Plating & Presentation",description:"Master professional plating techniques and create visually stunning dish presentations.",category:"technical",serviceType:"chef-catering",difficulty:"advanced",estimatedDuration:90,content:{},prerequisites:["module-chef-002","module-chef-004"],isRequired:!1,isActive:!0},{id:"module-chef-006",title:"Menu Planning & Costing",description:"Design balanced menus, calculate food costs, and optimize profitability while maintaining quality.",category:"business",serviceType:"chef-catering",difficulty:"advanced",estimatedDuration:80,content:{},prerequisites:["module-chef-004"],isRequired:!1,isActive:!0}],gme=[{id:"progress-1",providerId:"provider-demo",moduleId:"module-chef-001",status:"completed",progress:100,timeSpent:45,startedAt:new Date("2024-07-15"),completedAt:new Date("2024-07-16"),lastAccessedAt:new Date("2024-07-16")},{id:"progress-2",providerId:"provider-demo",moduleId:"module-chef-002",status:"completed",progress:100,timeSpent:58,startedAt:new Date("2024-07-17"),completedAt:new Date("2024-07-18"),lastAccessedAt:new Date("2024-07-18")},{id:"progress-3",providerId:"provider-demo",moduleId:"module-chef-003",status:"in_progress",progress:65,timeSpent:35,startedAt:new Date("2024-07-20"),lastAccessedAt:new Date("2024-08-20")},{id:"progress-4",providerId:"provider-demo",moduleId:"module-chef-004",status:"completed",progress:100,timeSpent:50,startedAt:new Date("2024-07-19"),completedAt:new Date("2024-07-19"),lastAccessedAt:new Date("2024-07-19")}],xme=[{id:"cert-chef-001",name:"Certified Professional Chef",description:"Complete certification covering all fundamental aspects of professional cooking and food safety.",serviceType:"chef-catering",level:"intermediate",requiredModules:["module-chef-001","module-chef-002","module-chef-004"],validityPeriod:24,badgeIcon:"chef-hat-gold"},{id:"cert-chef-002",name:"African Cuisine Specialist",description:"Specialized certification in traditional and modern African cooking techniques and flavors.",serviceType:"chef-catering",level:"advanced",requiredModules:["module-chef-001","module-chef-002","module-chef-003","module-chef-004"],validityPeriod:18,badgeIcon:"african-cuisine-badge"},{id:"cert-chef-003",name:"Master Culinary Artist",description:"Elite certification for master chefs with advanced plating, menu planning, and business skills.",serviceType:"chef-catering",level:"expert",requiredModules:["module-chef-001","module-chef-002","module-chef-004","module-chef-005","module-chef-006"],validityPeriod:36,badgeIcon:"master-chef-crown"}],vme=[{id:"provider-cert-1",providerId:"provider-demo",certificationId:"cert-chef-001",status:"earned",earnedAt:new Date("2024-07-19"),expiresAt:new Date("2026-07-19"),certificateNumber:"CERT_CPC_240719_001",verificationCode:"VER_240719"}];function yme(){const[e,t]=j.useState("modules");j.useState(null);const s=pme,n=gme,i=xme,a=vme,[o,l]=j.useState(n),c=f=>o.find(g=>g.moduleId===f),d=f=>{switch(f){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=f=>{switch(f){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"not_started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},h=f=>{const g={id:`progress-${Date.now()}`,providerId:"provider-demo",moduleId:f,status:"in_progress",progress:10,timeSpent:0,startedAt:new Date,lastAccessedAt:new Date};l(p=>p.find(x=>x.moduleId===f)?p.map(x=>x.moduleId===f?{...x,status:"in_progress",lastAccessedAt:new Date}:x):[...p,g])},m=f=>{l(g=>g.map(p=>p.id===f?{...p,status:"completed",progress:100,completedAt:new Date}:p))};return r.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8","data-testid":"provider-training-page",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4","data-testid":"page-title",children:"Provider Training & Certification"}),r.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto","data-testid":"page-description",children:"Enhance your skills and earn certifications to provide exceptional service to Berry Events customers."})]}),r.jsxs(kc,{value:e,onValueChange:t,className:"w-full","data-testid":"training-tabs",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-4 mb-8",children:[r.jsx(hs,{value:"modules","data-testid":"tab-modules",children:"Training Modules"}),r.jsx(hs,{value:"progress","data-testid":"tab-progress",children:"My Progress"}),r.jsx(hs,{value:"certifications","data-testid":"tab-certifications",children:"Certifications"}),r.jsx(hs,{value:"achievements","data-testid":"tab-achievements",children:"Achievements"})]}),r.jsx(fs,{value:"modules",className:"space-y-6","data-testid":"modules-content",children:r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(f=>{const g=c(f.id);return r.jsxs(oe,{className:"hover:shadow-lg transition-shadow","data-testid":`module-card-${f.id}`,children:[r.jsxs(Ve,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx($e,{className:"text-lg","data-testid":`module-title-${f.id}`,children:f.title}),r.jsx(Ke,{className:d(f.difficulty),"data-testid":`module-difficulty-${f.id}`,children:f.difficulty})]}),r.jsx(Dd,{className:"text-sm","data-testid":`module-description-${f.id}`,children:f.description})]}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(Ts,{className:"w-4 h-4"}),r.jsxs("span",{"data-testid":`module-duration-${f.id}`,children:[f.estimatedDuration," minutes"]})]}),g?r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Ke,{className:u(g.status),"data-testid":`module-status-${f.id}`,children:g.status.replace("_"," ")}),r.jsxs("span",{className:"text-sm text-gray-600","data-testid":`module-progress-${f.id}`,children:[g.progress,"% complete"]})]}),r.jsx(ca,{value:g.progress,className:"h-2","data-testid":`module-progress-bar-${f.id}`}),g.status==="completed"?r.jsxs(K,{disabled:!0,className:"w-full","data-testid":`module-completed-button-${f.id}`,children:[r.jsx($t,{className:"w-4 h-4 mr-2"}),"Completed"]}):g.status==="in_progress"?r.jsx(K,{onClick:()=>m(g.id),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":`module-complete-button-${f.id}`,children:"Mark Complete"}):r.jsx(K,{onClick:()=>h(f.id),variant:"outline",className:"w-full","data-testid":`module-continue-button-${f.id}`,children:"Continue"})]}):r.jsxs(K,{onClick:()=>h(f.id),className:"w-full","data-testid":`module-start-button-${f.id}`,children:[r.jsx(dc,{className:"w-4 h-4 mr-2"}),"Start Module"]}),f.isRequired&&r.jsx(Ke,{variant:"destructive",className:"text-xs","data-testid":`module-required-${f.id}`,children:"Required"})]})]},f.id)})})}),r.jsx(fs,{value:"progress",className:"space-y-6","data-testid":"progress-content",children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsxs(oe,{className:"md:col-span-2 lg:col-span-3","data-testid":"progress-overview",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(RC,{className:"w-5 h-5"}),"Training Progress Overview"]})}),r.jsx(le,{children:r.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-600","data-testid":"modules-completed-count",children:o.filter(f=>f.status==="completed").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Modules Completed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-600","data-testid":"modules-in-progress-count",children:o.filter(f=>f.status==="in_progress").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600","data-testid":"total-time-spent",children:[Math.floor(o.reduce((f,g)=>f+(g.timeSpent||0),0)/60),"h"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Hours Studied"})]})]})})]}),o.map(f=>{const g=s.find(p=>p.id===f.moduleId);return r.jsxs(oe,{"data-testid":`progress-card-${f.id}`,children:[r.jsxs(Ve,{children:[r.jsx($e,{className:"text-lg","data-testid":`progress-module-title-${f.id}`,children:(g==null?void 0:g.title)||"Unknown Module"}),r.jsx(Ke,{className:u(f.status),"data-testid":`progress-status-${f.id}`,children:f.status.replace("_"," ")})]}),r.jsxs(le,{children:[r.jsx(ca,{value:f.progress,className:"h-3 mb-2","data-testid":`progress-bar-${f.id}`}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[r.jsxs("span",{"data-testid":`progress-percentage-${f.id}`,children:[f.progress,"% complete"]}),r.jsxs("span",{"data-testid":`progress-time-spent-${f.id}`,children:[f.timeSpent||0,"min"]})]})]})]},f.id)})]})}),r.jsx(fs,{value:"certifications",className:"space-y-6","data-testid":"certifications-content",children:r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(f=>{const g=a.find(p=>p.certificationId===f.id);return r.jsxs(oe,{className:"hover:shadow-lg transition-shadow","data-testid":`cert-card-${f.id}`,children:[r.jsxs(Ve,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs($e,{className:"text-lg flex items-center gap-2","data-testid":`cert-title-${f.id}`,children:[r.jsx(Rr,{className:"w-5 h-5 text-yellow-500"}),f.name]}),r.jsx(Ke,{variant:"outline","data-testid":`cert-level-${f.id}`,children:f.level})]}),r.jsx(Dd,{"data-testid":`cert-description-${f.id}`,children:f.description})]}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ts,{className:"w-4 h-4"}),r.jsxs("span",{"data-testid":`cert-validity-${f.id}`,children:["Valid for ",f.validityPeriod," months"]})]}),r.jsxs("div",{"data-testid":`cert-modules-${f.id}`,children:["Requires ",f.requiredModules.length," modules"]})]}),g?r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{className:g.status==="earned"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800","data-testid":`cert-provider-status-${f.id}`,children:g.status==="earned"?"Earned":"In Progress"}),g.earnedAt&&r.jsxs("div",{className:"text-sm text-gray-600","data-testid":`cert-earned-date-${f.id}`,children:["Earned: ",new Date(g.earnedAt).toLocaleDateString()]}),g.verificationCode&&r.jsxs("div",{className:"text-xs font-mono bg-gray-100 p-2 rounded","data-testid":`cert-verification-${f.id}`,children:["Code: ",g.verificationCode]})]}):r.jsxs(K,{variant:"outline",className:"w-full","data-testid":`cert-start-button-${f.id}`,children:[r.jsx(Et,{className:"w-4 h-4 mr-2"}),"Start Certification"]})]})]},f.id)})})}),r.jsx(fs,{value:"achievements",className:"space-y-6","data-testid":"achievements-content",children:r.jsxs(oe,{"data-testid":"achievements-overview",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"w-5 h-5 text-yellow-500"}),"Your Achievements"]}),r.jsx(Dd,{children:"Track your milestones and accomplishments in the Berry Events training program."})]}),r.jsx(le,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg","data-testid":"achievement-modules",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(dc,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Module Master"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[o.filter(f=>f.status==="completed").length," modules completed"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-4 border rounded-lg","data-testid":"achievement-certifications",children:[r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Rr,{className:"w-6 h-6 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"font-semibold",children:"Certified Professional"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[a.filter(f=>f.status==="earned").length," certifications earned"]})]})]})]})})]})})]})]})})}function bme({providerId:e,providerType:t="individual",isAdmin:s=!1}){const[n,i]=j.useState("");j.useState(""),j.useState(0);const[a,o]=j.useState("modules"),l=Ja(),{data:c,isLoading:d}=Ds({queryKey:[`/api/training/provider/${e}`],retry:!1}),{data:u=[]}=Ds({queryKey:[`/api/training/certifications/${e}`],retry:!1}),{data:h={score:0,queueBonus:0,trainingBonus:0,tier:"Bronze"}}=Ds({queryKey:[`/api/providers/${e}/social-score`],retry:!1}),m=os({mutationFn:async({moduleId:w,progress:S,completed:C})=>pn("PUT",`/api/training/modules/${w}/progress`,{progress:S,completed:C,providerId:e}),onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/training/provider/${e}`]}),l.invalidateQueries({queryKey:[`/api/providers/${e}/social-score`]})}});os({mutationFn:async({exerciseId:w,moduleId:S})=>pn("POST",`/api/training/exercises/${w}/complete`,{moduleId:S,providerId:e}),onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/training/provider/${e}`]}),l.invalidateQueries({queryKey:[`/api/providers/${e}/social-score`]})}}),os({mutationFn:async({quizId:w,answers:S})=>pn("POST",`/api/training/quiz/${w}/submit`,{answers:S,providerId:e}),onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/training/provider/${e}`]}),l.invalidateQueries({queryKey:[`/api/providers/${e}/social-score`]})}});const f=(c==null?void 0:c.modules)||[],g=f.reduce((w,S)=>w+(S.status==="completed"?S.points:0),0),p=f.filter(w=>w.status==="completed").length,b=w=>{switch(w){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=w=>{switch(w.toLowerCase()){case"customer service":return yn;case"safety & compliance":return bs;case"technical skills":return so;case"business development":return vc;default:return dc}},y=w=>{i(w),m.mutate({moduleId:w,progress:1,completed:!1})};return d?r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wy,{className:"h-8 w-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Training Center"}),r.jsx("p",{className:"text-gray-600",children:s?"Admin Training Dashboard":"Enhance your skills and boost your social score"})]})]}),r.jsx(oe,{className:"bg-gradient-to-r from-purple-50 to-blue-50",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:r.jsx(wj,{className:"h-5 w-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Social Score"}),r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(h==null?void 0:h.score)||0}),r.jsxs("div",{className:"text-xs text-green-600",children:["+",g," from training"]})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dc,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Modules Completed"}),r.jsxs("div",{className:"text-xl font-bold",children:[p,"/",f.length]})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Et,{className:"h-5 w-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Points Earned"}),r.jsx("div",{className:"text-xl font-bold",children:g})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Rr,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Certifications"}),r.jsx("div",{className:"text-xl font-bold",children:(u==null?void 0:u.filter(w=>w.status==="earned").length)||0})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vc,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Queue Priority"}),r.jsxs("div",{className:"text-xl font-bold text-green-600",children:[(h==null?void 0:h.queueBonus)||0,"%"]})]})]})})})]}),r.jsxs(kc,{value:a,onValueChange:o,children:[r.jsxs(Pl,{className:"grid w-full grid-cols-4",children:[r.jsx(hs,{value:"modules",children:"Training Modules"}),r.jsx(hs,{value:"certifications",children:"Certifications"}),r.jsx(hs,{value:"progress",children:"Progress Tracking"}),r.jsx(hs,{value:"leaderboard",children:"Provider Rankings"})]}),r.jsx(fs,{value:"modules",className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:f.map((w,S)=>{const C=x(w.category);return r.jsx(ut.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},children:r.jsxs(oe,{className:`h-full hover:shadow-lg transition-all ${w.status==="completed"?"border-green-200 bg-green-50/50":""}`,children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(C,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx($e,{className:"text-lg",children:w.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Ke,{className:b(w.level),children:w.level}),r.jsxs(Ke,{variant:"outline",children:[r.jsx(Et,{className:"h-3 w-3 mr-1"}),w.points," pts"]})]})]})]}),w.status==="completed"&&r.jsx($t,{className:"h-6 w-6 text-green-600"})]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600 text-sm",children:w.description}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ts,{className:"h-3 w-3"}),w.duration]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(dc,{className:"h-3 w-3"}),w.exercises.length," exercises"]})]}),w.status!=="not_started"&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[w.progress,"%"]})]}),r.jsx(ca,{value:w.progress,className:"h-2"})]}),r.jsxs("div",{className:"flex gap-2",children:[w.status==="not_started"?r.jsxs(K,{onClick:()=>y(w.id),className:"flex-1",children:[r.jsx(Em,{className:"h-4 w-4 mr-2"}),"Start Module"]}):w.status==="in_progress"?r.jsx(K,{onClick:()=>i(w.id),variant:"outline",className:"flex-1",children:"Continue"}):r.jsxs(K,{onClick:()=>i(w.id),variant:"outline",className:"flex-1",children:[r.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Review"]}),w.status==="in_progress"&&r.jsx(K,{size:"sm",variant:"ghost",onClick:()=>m.mutate({moduleId:w.id,progress:0,completed:!1}),children:r.jsx(jO,{className:"h-4 w-4"})})]})]})]})},w.id)})})}),r.jsx(fs,{value:"certifications",className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u==null?void 0:u.map(w=>r.jsxs(oe,{className:`${w.status==="earned"?"border-gold bg-yellow-50/50":""}`,children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-5 w-5"}),w.name]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.serviceCategory})]}),w.status==="earned"&&r.jsxs(Ke,{className:"bg-yellow-100 text-yellow-800",children:[r.jsx(wj,{className:"h-3 w-3 mr-1"}),"Certified"]})]})}),r.jsxs(le,{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:w.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium text-sm",children:"Requirements:"}),r.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:w.requirements.map((S,C)=>r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"h-3 w-3 text-green-500"}),S]},C))})]}),w.status==="earned"&&w.verificationCode&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Verification Code:"}),r.jsx("div",{className:"font-mono text-sm font-bold",children:w.verificationCode})]})]})]},w.id))})}),r.jsx(fs,{value:"progress",className:"space-y-4",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(xO,{className:"h-5 w-5"}),"Training Analytics"]})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Monthly Progress"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"12"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Hours This Month"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"8"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Modules Completed"})]}),r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"95%"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Quiz Average"})]})]})]}),r.jsx(Pn,{}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-3",children:"Social Score Impact"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Base Provider Score"}),r.jsx("span",{className:"font-bold",children:"750"})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Training Bonus"}),r.jsxs("span",{className:"font-bold text-green-600",children:["+",g]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[r.jsx("span",{className:"text-sm",children:"Certification Bonus"}),r.jsx("span",{className:"font-bold text-yellow-600",children:"+150"})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[r.jsx("span",{className:"font-medium",children:"Total Social Score"}),r.jsx("span",{className:"text-xl font-bold text-blue-600",children:750+g+150})]})]})]})]})})]})}),r.jsx(fs,{value:"leaderboard",className:"space-y-4",children:r.jsxs(oe,{children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(wj,{className:"h-5 w-5"}),"Provider Training Rankings"]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Top providers by training completion and social scores"})]}),r.jsx(le,{children:r.jsx("div",{className:"space-y-3",children:[{rank:1,name:"Sarah Johnson",score:1250,modules:24,category:"House Cleaning"},{rank:2,name:"Michael Chen",score:1180,modules:22,category:"Plumbing"},{rank:3,name:"You",score:750+g+150,modules:p,category:"Multiple",highlight:!0}].map(w=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${w.highlight?"bg-blue-50 border-blue-200":"bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${w.rank===1?"bg-yellow-100 text-yellow-800":w.rank===2?"bg-gray-100 text-gray-800":w.rank===3?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:w.rank}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:w.name}),r.jsx("div",{className:"text-sm text-gray-600",children:w.category})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold",children:w.score}),r.jsxs("div",{className:"text-sm text-gray-600",children:[w.modules," modules"]})]})]},w.rank))})})]})})]})]})}var C_="Switch",[wme,Pwe]=hr(C_),[jme,Nme]=wme(C_),l$=j.forwardRef((e,t)=>{const{__scopeSwitch:s,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,f]=j.useState(null),g=Gt(t,w=>f(w)),p=j.useRef(!1),b=m?u||!!m.closest("form"):!0,[x=!1,y]=Sa({prop:i,defaultProp:a,onChange:d});return r.jsxs(jme,{scope:s,checked:x,disabled:l,children:[r.jsx(gt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":u$(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:Qe(e.onClick,w=>{y(S=>!S),b&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),b&&r.jsx(Sme,{control:m,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});l$.displayName=C_;var c$="SwitchThumb",d$=j.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,i=Nme(c$,s);return r.jsx(gt.span,{"data-state":u$(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});d$.displayName=c$;var Sme=e=>{const{control:t,checked:s,bubbles:n=!0,...i}=e,a=j.useRef(null),o=E2(s),l=m2(t);return j.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&h){const m=new Event("click",{bubbles:n});h.call(c,s),c.dispatchEvent(m)}},[o,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function u$(e){return e?"checked":"unchecked"}var h$=l$,Cme=d$;const ol=j.forwardRef(({className:e,...t},s)=>r.jsx(h$,{className:tt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(Cme,{className:tt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ol.displayName=h$.displayName;function kme({providerId:e}){const[t,s]=j.useState(!1),[n,i]=j.useState(null),[a,o]=j.useState(!1),{toast:l}=us(),c=Ja(),{data:d}=Ds({queryKey:[`/api/providers/${e}/location`],retry:!1}),{data:u=[]}=Ds({queryKey:[`/api/providers/${e}/bookings/active`],retry:!1}),h=os({mutationFn:async y=>{const w=await fetch(`/api/providers/${e}/location`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!w.ok)throw new Error("Failed to update location");return w.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/providers/${e}/location`]}),l({title:"Location Updated",description:"Your location has been shared successfully"})},onError:()=>{l({title:"Location Update Failed",description:"Could not update your location. Please try again.",variant:"destructive"})}}),m=os({mutationFn:async y=>{const w=await fetch(`/api/providers/${e}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isOnline:y})});if(!w.ok)throw new Error("Failed to update status");return w.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/providers/${e}/location`]})}}),f=os({mutationFn:async({bookingId:y,latitude:w,longitude:S})=>{const C=await fetch(`/api/bookings/${y}/enroute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({providerId:e,latitude:w,longitude:S})});if(!C.ok)throw new Error("Failed to set enroute status");return C.json()},onSuccess:()=>{l({title:"Enroute Status Set",description:"Customer has been notified that you're on your way!"}),c.invalidateQueries({queryKey:[`/api/providers/${e}/bookings/active`]})}}),g=()=>{if(!navigator.geolocation){l({title:"Geolocation Not Supported",description:"Your browser doesn't support location sharing",variant:"destructive"});return}navigator.geolocation.getCurrentPosition(y=>{const w={latitude:y.coords.latitude,longitude:y.coords.longitude,isOnline:t};i({...w,lastSeen:new Date().toISOString()}),h.mutate(w)},y=>{l({title:"Location Access Denied",description:"Please enable location access to share your position",variant:"destructive"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})},p=()=>{if(!navigator.geolocation)return;const y=navigator.geolocation.watchPosition(w=>{const S={latitude:w.coords.latitude,longitude:w.coords.longitude,isOnline:t};i({...S,lastSeen:new Date().toISOString()}),h.mutate(S)},w=>console.error("Location tracking error:",w),{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4});return o(!0),y},b=async y=>{s(y),y&&(g(),a||p()),await m.mutateAsync(y)},x=y=>{n?f.mutate({bookingId:y,latitude:n.latitude,longitude:n.longitude}):(g(),setTimeout(()=>{n&&f.mutate({bookingId:y,latitude:n.latitude,longitude:n.longitude})},1e3))};return j.useEffect(()=>{d&&(s(d.isOnline||!1),i(d))},[d]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(ys,{className:"h-5 w-5 mr-2 text-blue-600"}),"Live Location Tracking"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium",children:"Share Your Location"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Allow customers to track your arrival in real-time"})]}),r.jsx(ol,{checked:t,onCheckedChange:b,"data-testid":"location-toggle"})]}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Am,{className:"h-4 w-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Current Position"}),r.jsxs("p",{className:"text-xs text-gray-600",children:[n.latitude.toFixed(6),", ",n.longitude.toFixed(6)]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Last Updated"}),r.jsx("p",{className:"text-xs text-gray-600",children:new Date(n.lastSeen).toLocaleTimeString()})]})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(Ke,{variant:t?"default":"secondary",className:t?"bg-green-100 text-green-800":"",children:t?r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"h-3 w-3 mr-1"}),"Online & Trackable"]}):r.jsxs(r.Fragment,{children:[r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Offline"]})})})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(NO,{className:"h-5 w-5 mr-2 text-purple-600"}),"Active Bookings (",u.length,")"]})}),r.jsx(le,{children:u.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Calendar,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No active bookings at the moment"}),r.jsx("p",{className:"text-sm",children:"New bookings will appear here when assigned"})]}):r.jsx("div",{className:"space-y-4",children:u.map(y=>r.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vn,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"font-medium",children:y.customerName}),r.jsx(Ke,{variant:"outline",className:"text-xs",children:y.service})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(xn,{className:"h-4 w-4"}),r.jsx("span",{children:y.customerPhone})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(ys,{className:"h-4 w-4"}),r.jsx("span",{children:y.address})]}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(Ts,{className:"h-4 w-4"}),r.jsxs("span",{children:["Scheduled: ",new Date(y.scheduledTime).toLocaleString()]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ke,{variant:y.status==="enroute"?"default":"secondary",className:y.status==="enroute"?"bg-blue-100 text-blue-800":"",children:y.status==="enroute"?" En Route":y.status}),y.status!=="enroute"&&t&&r.jsxs(K,{size:"sm",onClick:()=>x(y.id),disabled:f.isPending,className:"w-full","data-testid":`enroute-${y.id}`,children:[r.jsx(so,{className:"h-4 w-4 mr-2"}),"Set En Route"]})]})]})},y.id))})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Quick Actions"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs(K,{variant:"outline",className:"w-full",onClick:g,disabled:h.isPending,"data-testid":"update-location",children:[r.jsx(Am,{className:"h-4 w-4 mr-2"}),"Update My Location Now"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(K,{variant:"outline",onClick:()=>b(!0),disabled:t,"data-testid":"go-online",children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Go Online"]}),r.jsxs(K,{variant:"outline",onClick:()=>b(!1),disabled:!t,"data-testid":"go-offline",children:[r.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Go Offline"]})]})]})]})]})}function _me({providerId:e,providerType:t="individual",isAdmin:s=!1}){const[n,i]=j.useState("dashboard"),{data:a,isLoading:o}=Ds({queryKey:[`/api/providers/${e}`],retry:!1});Ds({queryKey:[`/api/providers/${e}/bookings`],retry:!1}),Ds({queryKey:[`/api/providers/${e}/earnings`],retry:!1});const{data:l}=Ds({queryKey:[`/api/providers/${e}/social-score`],retry:!1}),c=a||{name:"Service Provider",firstName:"Service",lastName:"Provider"},d=l||{score:0,queueBonus:0,trainingBonus:0,tier:"Bronze"};return o?r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}):r.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(vn,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:s?"Admin Portal":"Provider Portal"}),r.jsxs("p",{className:"text-gray-600",children:[c.name||`${c.firstName||""} ${c.lastName||""}`.trim()||"Service Provider","  ",t==="company"?"Company":"Individual"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(oe,{className:"bg-gradient-to-r from-purple-50 to-blue-50",children:r.jsx(le,{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-4 w-4 text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-600",children:"Social Score"}),r.jsx("div",{className:"font-bold text-purple-600",children:d.score})]})]})})}),r.jsxs(K,{variant:"outline",size:"sm",children:[r.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Notifications"]})]})]}),r.jsxs(kc,{value:n,onValueChange:i,children:[r.jsxs(Pl,{className:"grid w-full grid-cols-7",children:[r.jsx(hs,{value:"dashboard",children:"Dashboard"}),r.jsx(hs,{value:"bookings",children:"Bookings"}),r.jsxs(hs,{value:"tracking",children:[r.jsx(Am,{className:"h-4 w-4 mr-2"}),"Live Tracking"]}),r.jsx(hs,{value:"earnings",children:"Earnings"}),r.jsxs(hs,{value:"training",children:[r.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Training Center"]}),r.jsx(hs,{value:"profile",children:"Profile"}),r.jsx(hs,{value:"settings",children:"Settings"})]}),r.jsxs(fs,{value:"dashboard",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ws,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"This Week"}),r.jsx("div",{className:"text-xl font-bold",children:"12 Bookings"})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Wd,{className:"h-5 w-5 text-green-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Earnings"}),r.jsx("div",{className:"text-xl font-bold",children:"R8,540"})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Et,{className:"h-5 w-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Rating"}),r.jsx("div",{className:"text-xl font-bold",children:"4.8"})]})]})})}),r.jsx(oe,{children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(vc,{className:"h-5 w-5 text-purple-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Queue Priority"}),r.jsxs("div",{className:"text-xl font-bold text-green-600",children:["+",d.queueBonus,"%"]})]})]})})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Wy,{className:"h-5 w-5"}),"Training Impact on Your Business"]})}),r.jsxs(le,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(bs,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["+",d.trainingBonus]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Social Score Bonus"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"From completed training"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(vc,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["+",d.queueBonus,"%"]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Queue Priority"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Higher booking chances"})]}),r.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[r.jsx(Rr,{className:"h-8 w-8 text-yellow-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.tier}),r.jsx("div",{className:"text-sm text-gray-600",children:"Provider Tier"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Based on training & performance"})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:"Continue Your Training Journey"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Complete more modules to boost your social score and earnings"})]}),r.jsxs(K,{onClick:()=>i("training"),children:[r.jsx(Wy,{className:"h-4 w-4 mr-2"}),"Open Training Center"]})]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Recent Bookings"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-3",children:[{id:1,service:"House Cleaning",client:"Sarah M.",time:"Today 2:00 PM",status:"confirmed"},{id:2,service:"Garden Care",client:"John D.",time:"Tomorrow 9:00 AM",status:"pending"},{id:3,service:"Plumbing",client:"Emma W.",time:"Dec 25 10:00 AM",status:"confirmed"}].map(u=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:u.service}),r.jsx("div",{className:"text-sm text-gray-600",children:u.client})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-sm",children:u.time}),r.jsx(Ke,{variant:u.status==="confirmed"?"default":"secondary",children:u.status})]})]},u.id))})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Training Progress"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-3",children:[{module:"Customer Service Excellence",progress:100,status:"completed"},{module:"Safety & Compliance",progress:75,status:"in_progress"},{module:"Advanced Technical Skills",progress:0,status:"not_started"}].map((u,h)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:u.module}),r.jsxs("span",{children:[u.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${u.status==="completed"?"bg-green-600":u.status==="in_progress"?"bg-blue-600":"bg-gray-400"}`,style:{width:`${u.progress}%`}})})]},h))})})]})]})]}),r.jsx(fs,{value:"tracking",className:"space-y-6",children:r.jsx(kme,{providerId:e})}),r.jsx(fs,{value:"training",children:r.jsx(bme,{providerId:e,providerType:t,isAdmin:s})}),r.jsx(fs,{value:"bookings",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Booking Management"})}),r.jsx(le,{children:r.jsx("p",{children:"Booking management interface will be implemented here."})})]})}),r.jsx(fs,{value:"earnings",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Earnings & Analytics"})}),r.jsx(le,{children:r.jsx("p",{children:"Earnings dashboard will be implemented here."})})]})}),r.jsx(fs,{value:"profile",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Profile Management"})}),r.jsx(le,{children:r.jsx("p",{children:"Profile management interface will be implemented here."})})]})}),r.jsx(fs,{value:"settings",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Settings"})}),r.jsx(le,{children:r.jsx("p",{children:"Settings interface will be implemented here."})})]})})]})]})}function Pme(){var c;const[,e]=nr(),{user:t,isLoading:s,isAuthenticated:n}=H0();if(!s&&!n)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsx(oe,{className:"w-full max-w-md",children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx(va,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in as a service provider to access this dashboard."}),r.jsx(K,{onClick:()=>e("/auth"),className:"w-full","data-testid":"button-login-redirect",children:"Go to Login"})]})})});if(s)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})});const i=(t==null?void 0:t.isProvider)||!1,a=(t==null?void 0:t.id)||"",o=(t==null?void 0:t.providerType)||"individual",l=((c=t==null?void 0:t.roles)==null?void 0:c.includes("admin"))||!1;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-blue-600 text-white p-3",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-3",children:[r.jsx(bs,{className:"h-5 w-5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{className:"font-medium",children:"Secure Provider Portal"}),r.jsxs("span",{className:"ml-2 text-blue-100",children:[l?"Admin Access":"Service Provider Access","  ",t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o==="company"?r.jsx(a2,{className:"h-4 w-4"}):r.jsx(vn,{className:"h-4 w-4"}),o]})]})}),i?r.jsx("div",{className:"max-w-7xl mx-auto p-4",children:r.jsx(oe,{className:"border-green-200 bg-green-50",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(bs,{className:"h-5 w-5 text-green-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-green-800",children:"Verified Provider Access"}),r.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Welcome back, ",t==null?void 0:t.firstName,"! You have full access to your provider dashboard. Complete training modules to increase your social score and improve your booking priority."]}),r.jsx("div",{className:"mt-3",children:r.jsxs("div",{className:"text-xs text-green-600 space-y-1",children:[r.jsx("div",{children:" Boost social scoring through training completion"}),r.jsx("div",{children:" Improve queue selection priority (up to 25% bonus)"}),r.jsx("div",{children:" Earn certifications for enhanced credibility"}),r.jsx("div",{children:" Access exclusive provider development resources"})]})})]})]})})})}):r.jsx("div",{className:"max-w-7xl mx-auto p-4",children:r.jsx(oe,{className:"border-red-200 bg-red-50",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Tm,{className:"h-5 w-5 text-red-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium text-red-800",children:"Provider Status Required"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:"You need to be registered as a service provider to access this dashboard. Complete the provider onboarding process to unlock provider features."}),r.jsx("div",{className:"mt-4",children:r.jsx(K,{onClick:()=>e("/provider-onboarding"),className:"bg-red-600 hover:bg-red-700","data-testid":"button-provider-onboarding",children:"Become a Provider"})})]})]})})})}),r.jsx(_me,{providerId:a,providerType:o,isAdmin:l})]})}function Ame(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(oe,{className:"w-full max-w-md mx-4",children:r.jsxs(le,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(Eo,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Eme(){const[,e]=nr(),t=()=>{window.location.reload()},s=()=>{e("/")};return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"max-w-md w-full",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(CO,{className:"h-8 w-8 text-gray-500"})}),r.jsx($e,{className:"text-xl text-gray-900",children:"You're Offline"})]}),r.jsxs(le,{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-600 mb-4",children:"No internet connection detected. Some features may be limited while offline."}),r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Available Offline:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[r.jsx("li",{children:" Browse cached services"}),r.jsx("li",{children:" View previous bookings"}),r.jsx("li",{children:" Save booking drafts"}),r.jsx("li",{children:" Access contact information"})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(K,{onClick:t,className:"w-full","data-testid":"button-retry-connection",children:[r.jsx(Yy,{className:"h-4 w-4 mr-2"}),"Try Again"]}),r.jsxs(K,{onClick:s,variant:"outline",className:"w-full","data-testid":"button-go-home",children:[r.jsx(eo,{className:"h-4 w-4 mr-2"}),"Go to Home"]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/bookings"),"data-testid":"button-view-bookings",children:[r.jsx(Ws,{className:"h-5 w-5 text-gray-600 mx-auto mb-1"}),r.jsx("span",{className:"text-xs text-gray-600",children:"My Bookings"})]}),r.jsxs("button",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>e("/providers"),"data-testid":"button-view-providers",children:[r.jsx(yn,{className:"h-5 w-5 text-gray-600 mx-auto mb-1"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Providers"})]})]})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"}),"Connection Status: Offline"]}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Your data will sync when you're back online"})]})]})]})})}function ps(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _a(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ni(e,t){const s=ps(e);return isNaN(t)?_a(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Do(e,t){const s=ps(e);if(isNaN(t))return _a(e,NaN);if(!t)return s;const n=s.getDate(),i=_a(e,s.getTime());i.setMonth(s.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(s.setFullYear(i.getFullYear(),i.getMonth(),n),s)}const k_=6048e5,Tme=864e5,Mme=36e5;let Rme={};function q0(){return Rme}function Cl(e,t){var l,c,d,u;const s=q0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=ps(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Ah(e){return Cl(e,{weekStartsOn:1})}function f$(e){const t=ps(e),s=t.getFullYear(),n=_a(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const i=Ah(n),a=_a(e,0);a.setFullYear(s,0,4),a.setHours(0,0,0,0);const o=Ah(a);return t.getTime()>=i.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function Wm(e){const t=ps(e);return t.setHours(0,0,0,0),t}function Ab(e){const t=ps(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function So(e,t){const s=Wm(e),n=Wm(t),i=+s-Ab(s),a=+n-Ab(n);return Math.round((i-a)/Tme)}function Lme(e){const t=f$(e),s=_a(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Ah(s)}function n4(e,t){const s=t*7;return Ni(e,s)}function Dme(e,t){return Do(e,t*12)}function Ome(e){let t;return e.forEach(function(s){const n=ps(s);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Ime(e){let t;return e.forEach(s=>{const n=ps(s);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Hi(e,t){const s=Wm(e),n=Wm(t);return+s==+n}function __(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Fme(e){if(!__(e)&&typeof e!="number")return!1;const t=ps(e);return!isNaN(Number(t))}function n0(e,t){const s=ps(e),n=ps(t),i=s.getFullYear()-n.getFullYear(),a=s.getMonth()-n.getMonth();return i*12+a}function Bme(e,t,s){const n=Cl(e,s),i=Cl(t,s),a=+n-Ab(n),o=+i-Ab(i);return Math.round((a-o)/k_)}function zme(e,t){const s=ps(e),n=ps(t),i=c8(s,n),a=Math.abs(So(s,n));s.setDate(s.getDate()-i*a);const o=+(c8(s,n)===-i),l=i*(a-o);return l===0?0:l}function c8(e,t){const s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function Vme(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function $me(e,t){return+ps(e)-+ps(t)}function Ume(e,t,s){const n=$me(e,t)/Mme;return Vme(s==null?void 0:s.roundingMethod)(n)}function P_(e){const t=ps(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Gi(e){const t=ps(e);return t.setDate(1),t.setHours(0,0,0,0),t}function m$(e){const t=ps(e),s=_a(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function A_(e,t){var l,c,d,u;const s=q0(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=ps(e),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function p$(e){return A_(e,{weekStartsOn:1})}const Hme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qme=(e,t,s)=>{let n;const i=Hme[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function CN(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const Wme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kme={date:CN({formats:Wme,defaultWidth:"full"}),time:CN({formats:Yme,defaultWidth:"full"}),dateTime:CN({formats:Gme,defaultWidth:"full"})},Zme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xme=(e,t,s,n)=>Zme[e];function dg(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Qme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},epe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},spe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},npe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rpe=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},ipe={ordinalNumber:rpe,era:dg({values:Qme,defaultWidth:"wide"}),quarter:dg({values:Jme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dg({values:epe,defaultWidth:"wide"}),day:dg({values:tpe,defaultWidth:"wide"}),dayPeriod:dg({values:spe,defaultWidth:"wide",formattingValues:npe,defaultFormattingWidth:"wide"})};function ug(e){return(t,s={})=>{const n=s.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?ope(l,h=>h.test(o)):ape(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function ape(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function ope(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function lpe(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const cpe=/^(\d+)(th|st|nd|rd)?/i,dpe=/\d+/i,upe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hpe={any:[/^b/i,/^(a|c)/i]},fpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mpe={any:[/1/i,/2/i,/3/i,/4/i]},ppe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ype={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wpe={ordinalNumber:lpe({matchPattern:cpe,parsePattern:dpe,valueCallback:e=>parseInt(e,10)}),era:ug({matchPatterns:upe,defaultMatchWidth:"wide",parsePatterns:hpe,defaultParseWidth:"any"}),quarter:ug({matchPatterns:fpe,defaultMatchWidth:"wide",parsePatterns:mpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ug({matchPatterns:ppe,defaultMatchWidth:"wide",parsePatterns:gpe,defaultParseWidth:"any"}),day:ug({matchPatterns:xpe,defaultMatchWidth:"wide",parsePatterns:vpe,defaultParseWidth:"any"}),dayPeriod:ug({matchPatterns:ype,defaultMatchWidth:"any",parsePatterns:bpe,defaultParseWidth:"any"})},g$={code:"en-US",formatDistance:qme,formatLong:Kme,formatRelative:Xme,localize:ipe,match:wpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jpe(e){const t=ps(e);return So(t,m$(t))+1}function x$(e){const t=ps(e),s=+Ah(t)-+Lme(t);return Math.round(s/k_)+1}function v$(e,t){var u,h,m,f;const s=ps(e),n=s.getFullYear(),i=q0(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=_a(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Cl(o,t),c=_a(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Cl(c,t);return s.getTime()>=l.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function Npe(e,t){var l,c,d,u;const s=q0(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=v$(e,t),a=_a(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Cl(a,t)}function y$(e,t){const s=ps(e),n=+Cl(s,t)-+Npe(s,t);return Math.round(n/k_)+1}function Bs(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Yc={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return Bs(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Bs(s+1,2)},d(e,t){return Bs(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Bs(e.getHours()%12||12,t.length)},H(e,t){return Bs(e.getHours(),t.length)},m(e,t){return Bs(e.getMinutes(),t.length)},s(e,t){return Bs(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return Bs(i,t.length)}},mf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},d8={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return Yc.y(e,t)},Y:function(e,t,s,n){const i=v$(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Bs(o,2)}return t==="Yo"?s.ordinalNumber(a,{unit:"year"}):Bs(a,t.length)},R:function(e,t){const s=f$(e);return Bs(s,t.length)},u:function(e,t){const s=e.getFullYear();return Bs(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Bs(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Bs(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Yc.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Bs(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const i=y$(e,n);return t==="wo"?s.ordinalNumber(i,{unit:"week"}):Bs(i,t.length)},I:function(e,t,s){const n=x$(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):Bs(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Yc.d(e,t)},D:function(e,t,s){const n=jpe(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):Bs(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Bs(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Bs(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return Bs(i,t.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let i;switch(n===12?i=mf.noon:n===0?i=mf.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let i;switch(n>=17?i=mf.evening:n>=12?i=mf.afternoon:n>=4?i=mf.morning:i=mf.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Yc.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Yc.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):Bs(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):Bs(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Yc.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Yc.s(e,t)},S:function(e,t){return Yc.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return h8(n);case"XXXX":case"XX":return Fu(n);case"XXXXX":case"XXX":default:return Fu(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return h8(n);case"xxxx":case"xx":return Fu(n);case"xxxxx":case"xxx":default:return Fu(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+u8(n,":");case"OOOO":default:return"GMT"+Fu(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+u8(n,":");case"zzzz":default:return"GMT"+Fu(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return Bs(n,t.length)},T:function(e,t,s){const n=e.getTime();return Bs(n,t.length)}};function u8(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+t+Bs(a,2)}function h8(e,t){return e%60===0?(e>0?"-":"+")+Bs(Math.abs(e)/60,2):Fu(e,t)}function Fu(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),i=Bs(Math.trunc(n/60),2),a=Bs(n%60,2);return s+i+t+a}const f8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},b$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Spe=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return f8(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",f8(n,t)).replace("{{time}}",b$(i,t))},Cpe={p:b$,P:Spe},kpe=/^D+$/,_pe=/^Y+$/,Ppe=["D","DD","YY","YYYY"];function Ape(e){return kpe.test(e)}function Epe(e){return _pe.test(e)}function Tpe(e,t,s){const n=Mpe(e,t,s);if(console.warn(n),Ppe.includes(e))throw new RangeError(n)}function Mpe(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dpe=/^'([^]*?)'?$/,Ope=/''/g,Ipe=/[a-zA-Z]/;function Ur(e,t,s){var u,h,m,f,g,p,b,x;const n=q0(),i=(s==null?void 0:s.locale)??n.locale??g$,a=(s==null?void 0:s.firstWeekContainsDate)??((h=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(m=n.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((p=(g=s==null?void 0:s.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(b=n.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=ps(e);if(!Fme(l))throw new RangeError("Invalid time value");let c=t.match(Lpe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const S=Cpe[w];return S(y,i.formatLong)}return y}).join("").match(Rpe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Fpe(y)};if(d8[w])return{isToken:!0,value:y};if(w.match(Ipe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&Epe(w)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&Ape(w))&&Tpe(w,t,String(e));const S=d8[w[0]];return S(l,w,i.localize,d)}).join("")}function Fpe(e){const t=e.match(Dpe);return t?t[1].replace(Ope,"'"):e}function Bpe(e){const t=ps(e),s=t.getFullYear(),n=t.getMonth(),i=_a(e,0);return i.setFullYear(s,n+1,0),i.setHours(0,0,0,0),i.getDate()}function zpe(e){return Math.trunc(+ps(e)/1e3)}function Vpe(e){const t=ps(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function $pe(e,t){return Bme(Vpe(e),Gi(e),t)+1}function r4(e,t){const s=ps(e),n=ps(t);return s.getTime()>n.getTime()}function w$(e,t){const s=ps(e),n=ps(t);return+s<+n}function E_(e,t){const s=ps(e),n=ps(t);return s.getFullYear()===n.getFullYear()&&s.getMonth()===n.getMonth()}function Upe(e,t){const s=ps(e),n=ps(t);return s.getFullYear()===n.getFullYear()}function kN(e,t){return Ni(e,-t)}function _N(e,t){const s=ps(e),n=s.getFullYear(),i=s.getDate(),a=_a(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=Bpe(a);return s.setMonth(t,Math.min(i,o)),s}function m8(e,t){const s=ps(e);return isNaN(+s)?_a(e,NaN):(s.setFullYear(t),s)}var Ht=function(){return Ht=Object.assign||function(t){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Ht.apply(this,arguments)};function Hpe(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s}function j$(e,t,s){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function W0(e){return e.mode==="multiple"}function Y0(e){return e.mode==="range"}function ew(e){return e.mode==="single"}var qpe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Wpe(e,t){return Ur(e,"LLLL y",t)}function Ype(e,t){return Ur(e,"d",t)}function Gpe(e,t){return Ur(e,"LLLL",t)}function Kpe(e){return"".concat(e)}function Zpe(e,t){return Ur(e,"cccccc",t)}function Xpe(e,t){return Ur(e,"yyyy",t)}var Qpe=Object.freeze({__proto__:null,formatCaption:Wpe,formatDay:Ype,formatMonthCaption:Gpe,formatWeekNumber:Kpe,formatWeekdayName:Zpe,formatYearCaption:Xpe}),Jpe=function(e,t,s){return Ur(e,"do MMMM (EEEE)",s)},ege=function(){return"Month: "},tge=function(){return"Go to next month"},sge=function(){return"Go to previous month"},nge=function(e,t){return Ur(e,"cccc",t)},rge=function(e){return"Week n. ".concat(e)},ige=function(){return"Year: "},age=Object.freeze({__proto__:null,labelDay:Jpe,labelMonthDropdown:ege,labelNext:tge,labelPrevious:sge,labelWeekNumber:rge,labelWeekday:nge,labelYearDropdown:ige});function oge(){var e="buttons",t=qpe,s=g$,n={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Qpe,labels:age,locale:s,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function lge(e){var t=e.fromYear,s=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=Gi(n):t&&(a=new Date(t,0,1)),i?o=P_(i):s&&(o=new Date(s,11,31)),{fromDate:a?Wm(a):void 0,toDate:o?Wm(o):void 0}}var N$=j.createContext(void 0);function cge(e){var t,s=e.initialProps,n=oge(),i=lge(s),a=i.fromDate,o=i.toDate,l=(t=s.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(ew(s)||W0(s)||Y0(s))&&(c=s.onSelect);var d=Ht(Ht(Ht({},n),s),{captionLayout:l,classNames:Ht(Ht({},n.classNames),s.classNames),components:Ht({},s.components),formatters:Ht(Ht({},n.formatters),s.formatters),fromDate:a,labels:Ht(Ht({},n.labels),s.labels),mode:s.mode||n.mode,modifiers:Ht(Ht({},n.modifiers),s.modifiers),modifiersClassNames:Ht(Ht({},n.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:Ht(Ht({},n.styles),s.styles),toDate:o});return r.jsx(N$.Provider,{value:d,children:e.children})}function tn(){var e=j.useContext(N$);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function S$(e){var t=tn(),s=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return r.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:s})})}function dge(e){return r.jsx("svg",Ht({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function C$(e){var t,s,n=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,d=tn(),u=(s=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:dge;return r.jsxs("div",{className:l,style:c,children:[r.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:n,children:a}),r.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,r.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function uge(e){var t,s=tn(),n=s.fromDate,i=s.toDate,a=s.styles,o=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!n)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var h=[];if(Upe(n,i))for(var m=Gi(n),f=n.getMonth();f<=i.getMonth();f++)h.push(_N(m,f));else for(var m=Gi(new Date),f=0;f<=11;f++)h.push(_N(m,f));var g=function(b){var x=Number(b.target.value),y=_N(Gi(e.displayMonth),x);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:C$;return r.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(b){return r.jsx("option",{value:b.getMonth(),children:l(b,{locale:o})},b.getMonth())})})}function hge(e){var t,s=e.displayMonth,n=tn(),i=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!i)return r.jsx(r.Fragment,{});if(!a)return r.jsx(r.Fragment,{});for(var f=i.getFullYear(),g=a.getFullYear(),p=f;p<=g;p++)m.push(m8(m$(new Date),p));var b=function(y){var w=m8(Gi(s),Number(y.target.value));e.onChange(w)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:C$;return r.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:s.getFullYear(),caption:u(s,{locale:o}),children:m.map(function(y){return r.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function fge(e,t){var s=j.useState(e),n=s[0],i=s[1],a=t===void 0?n:t;return[a,i]}function mge(e){var t=e.month,s=e.defaultMonth,n=e.today,i=t||s||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&n0(a,i)<0){var d=-1*(c-1);i=Do(a,d)}return o&&n0(i,o)<0&&(i=o),Gi(i)}function pge(){var e=tn(),t=mge(e),s=fge(t,e.month),n=s[0],i=s[1],a=function(o){var l;if(!e.disableNavigation){var c=Gi(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function gge(e,t){for(var s=t.reverseMonths,n=t.numberOfMonths,i=Gi(e),a=Gi(Do(i,n)),o=n0(a,i),l=[],c=0;c<o;c++){var d=Do(i,c);l.push(d)}return s&&(l=l.reverse()),l}function xge(e,t){if(!t.disableNavigation){var s=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Gi(e);if(!s)return Do(l,o);var c=n0(s,e);if(!(c<a))return Do(l,o)}}function vge(e,t){if(!t.disableNavigation){var s=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=Gi(e);if(!s)return Do(l,-o);var c=n0(l,s);if(!(c<=0))return Do(l,-o)}}var k$=j.createContext(void 0);function yge(e){var t=tn(),s=pge(),n=s[0],i=s[1],a=gge(n,t),o=xge(n,t),l=vge(n,t),c=function(h){return a.some(function(m){return E_(h,m)})},d=function(h,m){c(h)||(m&&w$(h,m)?i(Do(h,1+t.numberOfMonths*-1)):i(h))},u={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return r.jsx(k$.Provider,{value:u,children:e.children})}function G0(){var e=j.useContext(k$);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function p8(e){var t,s=tn(),n=s.classNames,i=s.styles,a=s.components,o=G0().goToMonth,l=function(u){o(Do(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:S$,d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:n.vhidden,children:d}),r.jsx(uge,{onChange:l,displayMonth:e.displayMonth}),r.jsx(hge,{onChange:l,displayMonth:e.displayMonth})]})}function bge(e){return r.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wge(e){return r.jsx("svg",Ht({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Eb=j.forwardRef(function(e,t){var s=tn(),n=s.classNames,i=s.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=Ht(Ht({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),r.jsx("button",Ht({},e,{ref:t,type:"button",className:o,style:l}))});function jge(e){var t,s,n=tn(),i=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var m=d(e.previousMonth,{locale:a}),f=[o.nav_button,o.nav_button_previous].join(" "),g=u(e.nextMonth,{locale:a}),p=[o.nav_button,o.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:wge,x=(s=h==null?void 0:h.IconLeft)!==null&&s!==void 0?s:bge;return r.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&r.jsx(Eb,{name:"previous-month","aria-label":m,className:f,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?r.jsx(b,{className:o.nav_icon,style:l.nav_icon}):r.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&r.jsx(Eb,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?r.jsx(x,{className:o.nav_icon,style:l.nav_icon}):r.jsx(b,{className:o.nav_icon,style:l.nav_icon})})]})}function g8(e){var t=tn().numberOfMonths,s=G0(),n=s.previousMonth,i=s.nextMonth,a=s.goToMonth,o=s.displayMonths,l=o.findIndex(function(g){return E_(e.displayMonth,g)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),m=function(){n&&a(n)},f=function(){i&&a(i)};return r.jsx(jge,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:m,onNextClick:f})}function Nge(e){var t,s=tn(),n=s.classNames,i=s.disableNavigation,a=s.styles,o=s.captionLayout,l=s.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:S$,d;return i?d=r.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=r.jsx(p8,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=r.jsxs(r.Fragment,{children:[r.jsx(p8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(g8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=r.jsxs(r.Fragment,{children:[r.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(g8,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:n.caption,style:a.caption,children:d})}function Sge(e){var t=tn(),s=t.footer,n=t.styles,i=t.classNames.tfoot;return s?r.jsx("tfoot",{className:i,style:n.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:s})})}):r.jsx(r.Fragment,{})}function Cge(e,t,s){for(var n=s?Ah(new Date):Cl(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=Ni(n,a);i.push(o)}return i}function kge(){var e=tn(),t=e.classNames,s=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Cge(i,a,o);return r.jsxs("tr",{style:s.head_row,className:t.head_row,children:[n&&r.jsx("td",{style:s.head_cell,className:t.head_cell}),d.map(function(u,h){return r.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":c(u,{locale:i}),children:l(u,{locale:i})},h)})]})}function _ge(){var e,t=tn(),s=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:kge;return r.jsx("thead",{style:n.head,className:s.head,children:r.jsx(a,{})})}function Pge(e){var t=tn(),s=t.locale,n=t.formatters.formatDay;return r.jsx(r.Fragment,{children:n(e.date,{locale:s})})}var T_=j.createContext(void 0);function Age(e){if(!W0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(T_.Provider,{value:t,children:e.children})}return r.jsx(Ege,{initialProps:e.initialProps,children:e.children})}function Ege(e){var t=e.initialProps,s=e.children,n=t.selected,i=t.min,a=t.max,o=function(d,u,h){var m,f;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var g=!!(u.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var p=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var b=n?j$([],n):[];if(u.selected){var x=b.findIndex(function(y){return Hi(d,y)});b.splice(x,1)}else b.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,b,d,u,h)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=a&&n.length>a-1,h=n.some(function(m){return Hi(m,d)});return!!(u&&!h)});var c={selected:n,onDayClick:o,modifiers:l};return r.jsx(T_.Provider,{value:c,children:s})}function M_(){var e=j.useContext(T_);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Tge(e,t){var s=t||{},n=s.from,i=s.to;return n&&i?Hi(i,e)&&Hi(n,e)?void 0:Hi(i,e)?{from:i,to:void 0}:Hi(n,e)?void 0:r4(n,e)?{from:e,to:i}:{from:n,to:e}:i?r4(e,i)?{from:i,to:e}:{from:e,to:i}:n?w$(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var R_=j.createContext(void 0);function Mge(e){if(!Y0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(R_.Provider,{value:t,children:e.children})}return r.jsx(Rge,{initialProps:e.initialProps,children:e.children})}function Rge(e){var t=e.initialProps,s=e.children,n=t.selected,i=n||{},a=i.from,o=i.to,l=t.min,c=t.max,d=function(f,g,p){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,f,g,p);var y=Tge(f,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,f,g,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],o?(u.range_end=[o],Hi(a,o)||(u.range_middle=[{after:a,before:o}])):u.range_end=[a]):o&&(u.range_start=[o],u.range_end=[o]),l&&(a&&!o&&u.disabled.push({after:kN(a,l-1),before:Ni(a,l-1)}),a&&o&&u.disabled.push({after:a,before:Ni(a,l-1)}),!a&&o&&u.disabled.push({after:kN(o,l-1),before:Ni(o,l-1)})),c){if(a&&!o&&(u.disabled.push({before:Ni(a,-c+1)}),u.disabled.push({after:Ni(a,c-1)})),a&&o){var h=So(o,a)+1,m=c-h;u.disabled.push({before:kN(a,m)}),u.disabled.push({after:Ni(o,m)})}!a&&o&&(u.disabled.push({before:Ni(o,-c+1)}),u.disabled.push({after:Ni(o,c-1)}))}return r.jsx(R_.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:s})}function L_(){var e=j.useContext(R_);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function l1(e){return Array.isArray(e)?j$([],e):e!==void 0?[e]:[]}function Lge(e){var t={};return Object.entries(e).forEach(function(s){var n=s[0],i=s[1];t[n]=l1(i)}),t}var Oo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Oo||(Oo={}));var Dge=Oo.Selected,ql=Oo.Disabled,Oge=Oo.Hidden,Ige=Oo.Today,PN=Oo.RangeEnd,AN=Oo.RangeMiddle,EN=Oo.RangeStart,Fge=Oo.Outside;function Bge(e,t,s){var n,i=(n={},n[Dge]=l1(e.selected),n[ql]=l1(e.disabled),n[Oge]=l1(e.hidden),n[Ige]=[e.today],n[PN]=[],n[AN]=[],n[EN]=[],n[Fge]=[],n);return e.fromDate&&i[ql].push({before:e.fromDate}),e.toDate&&i[ql].push({after:e.toDate}),W0(e)?i[ql]=i[ql].concat(t.modifiers[ql]):Y0(e)&&(i[ql]=i[ql].concat(s.modifiers[ql]),i[EN]=s.modifiers[EN],i[AN]=s.modifiers[AN],i[PN]=s.modifiers[PN]),i}var _$=j.createContext(void 0);function zge(e){var t=tn(),s=M_(),n=L_(),i=Bge(t,s,n),a=Lge(t.modifiers),o=Ht(Ht({},i),a);return r.jsx(_$.Provider,{value:o,children:e.children})}function P$(){var e=j.useContext(_$);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Vge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function $ge(e){return!!(e&&typeof e=="object"&&"from"in e)}function Uge(e){return!!(e&&typeof e=="object"&&"after"in e)}function Hge(e){return!!(e&&typeof e=="object"&&"before"in e)}function qge(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wge(e,t){var s,n=t.from,i=t.to;if(n&&i){var a=So(i,n)<0;a&&(s=[i,n],n=s[0],i=s[1]);var o=So(e,n)>=0&&So(i,e)>=0;return o}return i?Hi(i,e):n?Hi(n,e):!1}function Yge(e){return __(e)}function Gge(e){return Array.isArray(e)&&e.every(__)}function Kge(e,t){return t.some(function(s){if(typeof s=="boolean")return s;if(Yge(s))return Hi(e,s);if(Gge(s))return s.includes(e);if($ge(s))return Wge(e,s);if(qge(s))return s.dayOfWeek.includes(e.getDay());if(Vge(s)){var n=So(s.before,e),i=So(s.after,e),a=n>0,o=i<0,l=r4(s.before,s.after);return l?o&&a:a||o}return Uge(s)?So(e,s.after)>0:Hge(s)?So(s.before,e)>0:typeof s=="function"?s(e):!1})}function D_(e,t,s){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return Kge(e,l)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),s&&!E_(e,s)&&(i.outside=!0),i}function Zge(e,t){for(var s=Gi(e[0]),n=P_(e[e.length-1]),i,a,o=s;o<=n;){var l=D_(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ni(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=Ni(o,1)}return a||i}var Xge=365;function A$(e,t){var s=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,d=i.fromDate,u=i.toDate,h=i.locale,m={day:Ni,week:n4,month:Do,year:Dme,startOfWeek:function(b){return i.ISOWeek?Ah(b):Cl(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return i.ISOWeek?p$(b):A_(b,{locale:h,weekStartsOn:c})}},f=m[s](e,n==="after"?1:-1);n==="before"&&d?f=Ome([d,f]):n==="after"&&u&&(f=Ime([u,f]));var g=!0;if(a){var p=D_(f,a);g=!p.disabled&&!p.hidden}return g?f:l.count>Xge?l.lastFocused:A$(f,{moveBy:s,direction:n,context:i,modifiers:a,retry:Ht(Ht({},l),{count:l.count+1})})}var E$=j.createContext(void 0);function Qge(e){var t=G0(),s=P$(),n=j.useState(),i=n[0],a=n[1],o=j.useState(),l=o[0],c=o[1],d=Zge(t.displayMonths,s),u=i??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(i),a(void 0)},m=function(b){a(b)},f=tn(),g=function(b,x){if(i){var y=A$(i,{moveBy:b,direction:x,context:f,modifiers:s});Hi(i,y)||(t.goToDate(y,i),m(y))}},p={focusedDay:i,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return r.jsx(E$.Provider,{value:p,children:e.children})}function O_(){var e=j.useContext(E$);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Jge(e,t){var s=P$(),n=D_(e,s,t);return n}var I_=j.createContext(void 0);function exe(e){if(!ew(e.initialProps)){var t={selected:void 0};return r.jsx(I_.Provider,{value:t,children:e.children})}return r.jsx(txe,{initialProps:e.initialProps,children:e.children})}function txe(e){var t=e.initialProps,s=e.children,n=function(a,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:n};return r.jsx(I_.Provider,{value:i,children:s})}function T$(){var e=j.useContext(I_);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function sxe(e,t){var s=tn(),n=T$(),i=M_(),a=L_(),o=O_(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,f=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,b=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(G){var P,U,xe,X;ew(s)?(P=n.onDayClick)===null||P===void 0||P.call(n,e,t,G):W0(s)?(U=i.onDayClick)===null||U===void 0||U.call(i,e,t,G):Y0(s)?(xe=a.onDayClick)===null||xe===void 0||xe.call(a,e,t,G):(X=s.onDayClick)===null||X===void 0||X.call(s,e,t,G)},S=function(G){var P;m(e),(P=s.onDayFocus)===null||P===void 0||P.call(s,e,t,G)},C=function(G){var P;h(),(P=s.onDayBlur)===null||P===void 0||P.call(s,e,t,G)},L=function(G){var P;(P=s.onDayMouseEnter)===null||P===void 0||P.call(s,e,t,G)},R=function(G){var P;(P=s.onDayMouseLeave)===null||P===void 0||P.call(s,e,t,G)},M=function(G){var P;(P=s.onDayPointerEnter)===null||P===void 0||P.call(s,e,t,G)},D=function(G){var P;(P=s.onDayPointerLeave)===null||P===void 0||P.call(s,e,t,G)},$=function(G){var P;(P=s.onDayTouchCancel)===null||P===void 0||P.call(s,e,t,G)},E=function(G){var P;(P=s.onDayTouchEnd)===null||P===void 0||P.call(s,e,t,G)},T=function(G){var P;(P=s.onDayTouchMove)===null||P===void 0||P.call(s,e,t,G)},q=function(G){var P;(P=s.onDayTouchStart)===null||P===void 0||P.call(s,e,t,G)},B=function(G){var P;(P=s.onDayKeyUp)===null||P===void 0||P.call(s,e,t,G)},te=function(G){var P;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),s.dir==="rtl"?l():c();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),s.dir==="rtl"?c():l();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),d();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),u();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?p():f();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?b():g();break;case"Home":G.preventDefault(),G.stopPropagation(),x();break;case"End":G.preventDefault(),G.stopPropagation(),y();break}(P=s.onDayKeyDown)===null||P===void 0||P.call(s,e,t,G)},ie={onClick:w,onFocus:S,onBlur:C,onKeyDown:te,onKeyUp:B,onMouseEnter:L,onMouseLeave:R,onPointerEnter:M,onPointerLeave:D,onTouchCancel:$,onTouchEnd:E,onTouchMove:T,onTouchStart:q};return ie}function nxe(){var e=tn(),t=T$(),s=M_(),n=L_(),i=ew(e)?t.selected:W0(e)?s.selected:Y0(e)?n.selected:void 0;return i}function rxe(e){return Object.values(Oo).includes(e)}function ixe(e,t){var s=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)s.push(i);else if(rxe(n)){var a=e.classNames["day_".concat(n)];a&&s.push(a)}}),s}function axe(e,t){var s=Ht({},e.styles.day);return Object.keys(t).forEach(function(n){var i;s=Ht(Ht({},s),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),s}function oxe(e,t,s){var n,i,a,o=tn(),l=O_(),c=Jge(e,t),d=sxe(e,c),u=nxe(),h=!!(o.onDayClick||o.mode!=="default");j.useEffect(function(){var L;c.outside||l.focusedDay&&h&&Hi(l.focusedDay,e)&&((L=s.current)===null||L===void 0||L.focus())},[l.focusedDay,e,s,h,c.outside]);var m=ixe(o,c).join(" "),f=axe(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Pge,b=r.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:f,className:m,children:b,role:"gridcell"},y=l.focusTarget&&Hi(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Hi(l.focusedDay,e),S=Ht(Ht(Ht({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),d),C={isButton:h,isHidden:g,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:x};return C}function lxe(e){var t=j.useRef(null),s=oxe(e.date,e.displayMonth,t);return s.isHidden?r.jsx("div",{role:"gridcell"}):s.isButton?r.jsx(Eb,Ht({name:"day",ref:t},s.buttonProps)):r.jsx("div",Ht({},s.divProps))}function cxe(e){var t=e.number,s=e.dates,n=tn(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!i)return r.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:u});var h=c(Number(t),{locale:l}),m=function(f){i(t,s,f)};return r.jsx(Eb,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:m,children:u})}function dxe(e){var t,s,n=tn(),i=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:lxe,d=(s=l==null?void 0:l.WeekNumber)!==null&&s!==void 0?s:cxe,u;return o&&(u=r.jsx("td",{className:a.cell,style:i.cell,children:r.jsx(d,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:a.row,style:i.row,children:[u,e.dates.map(function(h){return r.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:r.jsx(c,{displayMonth:e.displayMonth,date:h})},zpe(h))})]})}function x8(e,t,s){for(var n=s!=null&&s.ISOWeek?p$(t):A_(t,s),i=s!=null&&s.ISOWeek?Ah(e):Cl(e,s),a=So(n,i),o=[],l=0;l<=a;l++)o.push(Ni(i,l));var c=o.reduce(function(d,u){var h=s!=null&&s.ISOWeek?x$(u):y$(u,s),m=d.find(function(f){return f.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function uxe(e,t){var s=x8(Gi(e),P_(e),t);if(t!=null&&t.useFixedWeeks){var n=$pe(e,t);if(n<6){var i=s[s.length-1],a=i.dates[i.dates.length-1],o=n4(a,6-n),l=x8(n4(a,1),o,t);s.push.apply(s,l)}}return s}function hxe(e){var t,s,n,i=tn(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,d=i.fixedWeeks,u=i.components,h=i.weekStartsOn,m=i.firstWeekContainsDate,f=i.ISOWeek,g=uxe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:a,weekStartsOn:h,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:_ge,b=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:dxe,x=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:Sge;return r.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&r.jsx(p,{}),r.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(y){return r.jsx(b,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),r.jsx(x,{displayMonth:e.displayMonth})]})}function fxe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mxe=fxe()?j.useLayoutEffect:j.useEffect,TN=!1,pxe=0;function v8(){return"react-day-picker-".concat(++pxe)}function gxe(e){var t,s=e??(TN?v8():null),n=j.useState(s),i=n[0],a=n[1];return mxe(function(){i===null&&a(v8())},[]),j.useEffect(function(){TN===!1&&(TN=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function xxe(e){var t,s,n=tn(),i=n.dir,a=n.classNames,o=n.styles,l=n.components,c=G0().displayMonths,d=gxe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],m=o.month,f=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!f&&!g;i==="rtl"&&(t=[f,g],g=t[0],f=t[1]),f&&(h.push(a.caption_start),m=Ht(Ht({},m),o.caption_start)),g&&(h.push(a.caption_end),m=Ht(Ht({},m),o.caption_end)),p&&(h.push(a.caption_between),m=Ht(Ht({},m),o.caption_between));var b=(s=l==null?void 0:l.Caption)!==null&&s!==void 0?s:Nge;return r.jsxs("div",{className:h.join(" "),style:m,children:[r.jsx(b,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(hxe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function vxe(e){var t=tn(),s=t.classNames,n=t.styles;return r.jsx("div",{className:s.months,style:n.months,children:e.children})}function yxe(e){var t,s,n=e.initialProps,i=tn(),a=O_(),o=G0(),l=j.useState(!1),c=l[0],d=l[1];j.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var h=Ht(Ht({},i.styles.root),i.style),m=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var b;return Ht(Ht({},g),(b={},b[p]=n[p],b))},{}),f=(s=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:vxe;return r.jsx("div",Ht({className:u.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:r.jsx(f,{children:o.displayMonths.map(function(g,p){return r.jsx(xxe,{displayIndex:p,displayMonth:g},p)})})}))}function bxe(e){var t=e.children,s=Hpe(e,["children"]);return r.jsx(cge,{initialProps:s,children:r.jsx(yge,{children:r.jsx(exe,{initialProps:s,children:r.jsx(Age,{initialProps:s,children:r.jsx(Mge,{initialProps:s,children:r.jsx(zge,{children:r.jsx(Qge,{children:t})})})})})})})}function wxe(e){return r.jsx(bxe,Ht({},e,{children:r.jsx(yxe,{initialProps:e})}))}function M$({className:e,classNames:t,showOutsideDays:s=!0,...n}){return r.jsx(wxe,{showOutsideDays:s,className:tt("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:tt(Px({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:tt(Px({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>r.jsx(XK,{className:tt("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>r.jsx(vO,{className:tt("h-4 w-4",i),...a})},...n})}M$.displayName="Calendar";var F_="Popover",[R$,Awe]=hr(F_,[ou]),K0=ou(),[jxe,hu]=R$(F_),L$=e=>{const{__scopePopover:t,children:s,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=K0(t),c=j.useRef(null),[d,u]=j.useState(!1),[h=!1,m]=Sa({prop:n,defaultProp:i,onChange:a});return r.jsx(p2,{...l,children:r.jsx(jxe,{scope:t,contentId:ba(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(f=>!f),[m]),hasCustomAnchor:d,onCustomAnchorAdd:j.useCallback(()=>u(!0),[]),onCustomAnchorRemove:j.useCallback(()=>u(!1),[]),modal:o,children:s})})};L$.displayName=F_;var D$="PopoverAnchor",Nxe=j.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,i=hu(D$,s),a=K0(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return j.useEffect(()=>(o(),()=>l()),[o,l]),r.jsx(N0,{...a,...n,ref:t})});Nxe.displayName=D$;var O$="PopoverTrigger",I$=j.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,i=hu(O$,s),a=K0(s),o=Gt(t,i.triggerRef),l=r.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$$(i.open),...n,ref:o,onClick:Qe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:r.jsx(N0,{asChild:!0,...a,children:l})});I$.displayName=O$;var B_="PopoverPortal",[Sxe,Cxe]=R$(B_,{forceMount:void 0}),F$=e=>{const{__scopePopover:t,forceMount:s,children:n,container:i}=e,a=hu(B_,t);return r.jsx(Sxe,{scope:t,forceMount:s,children:r.jsx(fr,{present:s||a.open,children:r.jsx(rp,{asChild:!0,container:i,children:n})})})};F$.displayName=B_;var Ym="PopoverContent",B$=j.forwardRef((e,t)=>{const s=Cxe(Ym,e.__scopePopover),{forceMount:n=s.forceMount,...i}=e,a=hu(Ym,e.__scopePopover);return r.jsx(fr,{present:n||a.open,children:a.modal?r.jsx(_xe,{...i,ref:t}):r.jsx(Pxe,{...i,ref:t})})});B$.displayName=Ym;var kxe=qd("PopoverContent.RemoveScroll"),_xe=j.forwardRef((e,t)=>{const s=hu(Ym,e.__scopePopover),n=j.useRef(null),i=Gt(t,n),a=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return S2(o)},[]),r.jsx(k0,{as:kxe,allowPinchZoom:!0,children:r.jsx(z$,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Pxe=j.forwardRef((e,t)=>{const s=hu(Ym,e.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return r.jsx(z$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=s.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=s.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),z$=j.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,m=hu(Ym,s),f=K0(s);return j2(),r.jsx(C0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:r.jsx(Lh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:r.jsx(g2,{"data-state":$$(m.open),role:"dialog",id:m.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),V$="PopoverClose",Axe=j.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,i=hu(V$,s);return r.jsx(gt.button,{type:"button",...n,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});Axe.displayName=V$;var Exe="PopoverArrow",Txe=j.forwardRef((e,t)=>{const{__scopePopover:s,...n}=e,i=K0(s);return r.jsx(x2,{...i,...n,ref:t})});Txe.displayName=Exe;function $$(e){return e?"open":"closed"}var Mxe=L$,Rxe=I$,Lxe=F$,U$=B$;const Dxe=Mxe,Oxe=Rxe,H$=j.forwardRef(({className:e,align:t="center",sideOffset:s=4,...n},i)=>r.jsx(Lxe,{children:r.jsx(U$,{ref:i,align:t,sideOffset:s,className:tt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));H$.displayName=U$.displayName;const Ixe=()=>{const e=[];for(let t=7;t<=20;t++)e.push(`${t.toString().padStart(2,"0")}:00`),t<20&&e.push(`${t.toString().padStart(2,"0")}:30`);return e},Fxe=Ixe();function Bxe({isOpen:e,onClose:t,booking:s}){const[n,i]=j.useState(new Date(s.date)),[a,o]=j.useState(s.time),{toast:l}=us(),c=os({mutationFn:async({bookingId:u,scheduledDate:h,scheduledTime:m})=>await(await pn("PATCH",`/api/bookings/${u}/reschedule`,{scheduledDate:h,scheduledTime:m})).json(),onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/bookings/customer"]}),l({title:"Booking rescheduled",description:"Your booking has been successfully rescheduled."}),t()},onError:u=>{l({title:"Error",description:u.message||"Failed to reschedule booking",variant:"destructive"})}}),d=()=>{if(!n||!a){l({title:"Missing information",description:"Please select both date and time",variant:"destructive"});return}c.mutate({bookingId:s.id,scheduledDate:Ur(n,"yyyy-MM-dd"),scheduledTime:a})};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-[500px]",children:[r.jsxs(Bn,{children:[r.jsx(_n,{children:"Reschedule Booking"}),r.jsxs(_o,{children:["Select a new date and time for your ",s.service," booking"]})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Schedule"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Ur(new Date(s.date),"MMMM d, yyyy")," at ",s.time]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"New Date"}),r.jsxs(Dxe,{children:[r.jsx(Oxe,{asChild:!0,children:r.jsxs(K,{variant:"outline",className:"w-full justify-start text-left font-normal","data-testid":"button-select-date",children:[r.jsx(Ws,{className:"mr-2 h-4 w-4"}),n?Ur(n,"PPP"):r.jsx("span",{children:"Pick a date"})]})}),r.jsx(H$,{className:"w-auto p-0",align:"start",children:r.jsx(M$,{mode:"single",selected:n,onSelect:i,disabled:u=>u<new Date,initialFocus:!0})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"New Time"}),r.jsxs(Dt,{value:a,onValueChange:o,children:[r.jsx(Mt,{className:"w-full","data-testid":"select-time",children:r.jsx(Ot,{placeholder:"Select time"})}),r.jsx(Rt,{children:Fxe.map(u=>r.jsx(Ee,{value:u,children:u},u))})]})]})]}),r.jsxs(J7,{children:[r.jsx(K,{variant:"outline",onClick:t,disabled:c.isPending,"data-testid":"button-cancel",children:"Cancel"}),r.jsx(K,{onClick:d,disabled:c.isPending||!n||!a,"data-testid":"button-confirm-reschedule",children:c.isPending?"Rescheduling...":"Confirm Reschedule"})]})]})})}var q$="AlertDialog",[zxe,Ewe]=hr(q$,[O7]),_c=O7(),W$=e=>{const{__scopeAlertDialog:t,...s}=e,n=_c(t);return r.jsx(fk,{...n,...s,modal:!0})};W$.displayName=q$;var Vxe="AlertDialogTrigger",$xe=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,i=_c(s);return r.jsx(mk,{...i,...n,ref:t})});$xe.displayName=Vxe;var Uxe="AlertDialogPortal",Y$=e=>{const{__scopeAlertDialog:t,...s}=e,n=_c(t);return r.jsx(pk,{...n,...s})};Y$.displayName=Uxe;var Hxe="AlertDialogOverlay",G$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,i=_c(s);return r.jsx(A0,{...i,...n,ref:t})});G$.displayName=Hxe;var nm="AlertDialogContent",[qxe,Wxe]=zxe(nm),Yxe=$D("AlertDialogContent"),K$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,children:n,...i}=e,a=_c(s),o=j.useRef(null),l=Gt(t,o),c=j.useRef(null);return r.jsx(Cte,{contentName:nm,titleName:Z$,docsSlug:"alert-dialog",children:r.jsx(qxe,{scope:s,cancelRef:c,children:r.jsxs(E0,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Qe(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(Yxe,{children:n}),r.jsx(Kxe,{contentRef:o})]})})})});K$.displayName=nm;var Z$="AlertDialogTitle",X$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,i=_c(s);return r.jsx(T0,{...i,...n,ref:t})});X$.displayName=Z$;var Q$="AlertDialogDescription",J$=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,i=_c(s);return r.jsx(M0,{...i,...n,ref:t})});J$.displayName=Q$;var Gxe="AlertDialogAction",eU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,i=_c(s);return r.jsx(A2,{...i,...n,ref:t})});eU.displayName=Gxe;var tU="AlertDialogCancel",sU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:s,...n}=e,{cancelRef:i}=Wxe(tU,s),a=_c(s),o=Gt(t,i);return r.jsx(A2,{...a,...n,ref:o})});sU.displayName=tU;var Kxe=({contentRef:e})=>{const t=`\`${nm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${nm}\` by passing a \`${Q$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${nm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Zxe=W$,Xxe=Y$,nU=G$,rU=K$,iU=eU,aU=sU,oU=X$,lU=J$;const Qxe=Zxe,Jxe=Xxe,cU=j.forwardRef(({className:e,...t},s)=>r.jsx(nU,{className:tt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));cU.displayName=nU.displayName;const dU=j.forwardRef(({className:e,...t},s)=>r.jsxs(Jxe,{children:[r.jsx(cU,{}),r.jsx(rU,{ref:s,className:tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));dU.displayName=rU.displayName;const uU=({className:e,...t})=>r.jsx("div",{className:tt("flex flex-col space-y-2 text-center sm:text-left",e),...t});uU.displayName="AlertDialogHeader";const hU=({className:e,...t})=>r.jsx("div",{className:tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});hU.displayName="AlertDialogFooter";const fU=j.forwardRef(({className:e,...t},s)=>r.jsx(oU,{ref:s,className:tt("text-lg font-semibold",e),...t}));fU.displayName=oU.displayName;const mU=j.forwardRef(({className:e,...t},s)=>r.jsx(lU,{ref:s,className:tt("text-sm text-muted-foreground",e),...t}));mU.displayName=lU.displayName;const e0e=j.forwardRef(({className:e,...t},s)=>r.jsx(iU,{ref:s,className:tt(Px(),e),...t}));e0e.displayName=iU.displayName;const pU=j.forwardRef(({className:e,...t},s)=>r.jsx(aU,{ref:s,className:tt(Px({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));pU.displayName=aU.displayName;function t0e({isOpen:e,onClose:t,booking:s}){const[n,i]=j.useState(""),[a,o]=j.useState(!1),{toast:l}=us(),d=(()=>{const f=new Date(`${s.date}T${s.time}`),g=new Date,p=Ume(f,g),b=zme(f,g),x=parseFloat(s.price.replace(/[^0-9.]/g,""));if(p<=24)return{refundAmount:0,deductionAmount:x,deductionPercentage:100,message:"No refund will be issued (cancellation within 24 hours)"};if(b<=4){const y=x*.5;return{refundAmount:x-y,deductionAmount:y,deductionPercentage:50,message:"50% will be deducted (cancellation 4 days or less before booking)"}}else{const y=x*.1;return{refundAmount:x-y,deductionAmount:y,deductionPercentage:10,message:"10% will be deducted and paid to the service provider"}}})(),u=os({mutationFn:async({orderId:f,cancelReason:g})=>{const p=s.orderId?`/api/orders/${f}/cancel`:`/api/bookings/${f}/cancel`,b=await pn("PATCH",p,{reason:g,refundAmount:d.refundAmount,deductionAmount:d.deductionAmount});if(!b.ok){const x=await b.json().catch(()=>({message:"Failed to cancel booking"}));throw new Error(x.message||`Cancellation failed: ${b.status}`)}return await b.json()},onSuccess:()=>{ha.invalidateQueries({queryKey:["/api/orders"]}),ha.invalidateQueries({queryKey:["/api/bookings/customer"]});const f=d.refundAmount>0?`Refund of R${d.refundAmount.toFixed(2)} will be processed within 5-7 business days.`:"No refund will be issued as per the cancellation policy.";l({title:"Booking cancelled",description:f}),t(),i(""),o(!1)},onError:f=>{l({title:"Error",description:f.message||"Failed to cancel booking",variant:"destructive"})}}),h=()=>{if(!n.trim()){l({title:"Reason required",description:"Please provide a reason for cancellation",variant:"destructive"});return}if(!a){l({title:"Consent required",description:"Please agree to the cancellation terms to proceed",variant:"destructive"});return}u.mutate({orderId:s.orderId||s.id,cancelReason:n.trim()})},m=!n.trim()||!a||u.isPending;return r.jsx(Qxe,{open:e,onOpenChange:t,children:r.jsxs(dU,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[r.jsxs(uU,{children:[r.jsxs(fU,{className:"flex items-center gap-2",children:[r.jsx(Tm,{className:"h-5 w-5 text-destructive"}),"Cancel Booking?"]}),r.jsx(mU,{children:"Please read the refund policy carefully before proceeding with cancellation."})]}),r.jsxs("div",{className:"space-y-4 py-4",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),r.jsx("p",{className:"text-sm text-gray-600",children:s.service}),r.jsxs("p",{className:"text-sm text-gray-600",children:[Ur(new Date(s.date),"MMMM d, yyyy")," at ",s.time]}),r.jsx("p",{className:"text-sm font-semibold text-green-600 mt-1",children:s.price})]}),r.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[r.jsx(Tm,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-sm font-bold text-red-600 uppercase",children:"Cancellation & Refund Policy"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-red-700",children:[r.jsx("p",{className:"font-bold",children:" Any cancellation: 10% will be deducted from the amount paid and will be paid to the service provider"}),r.jsx("p",{className:"font-bold",children:" Cancellations made 4 days or less before the booking: 50% will be deducted from the amount paid"}),r.jsx("p",{className:"font-bold",children:" Cancellations made 24 hours or less before the booking: No refund will be issued"})]}),r.jsxs("div",{className:"mt-4 pt-3 border-t border-red-300",children:[r.jsxs("p",{className:"text-sm font-bold text-red-800",children:["Your refund: R",d.refundAmount.toFixed(2)]}),r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["(",d.message,")"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(pe,{htmlFor:"reason",className:"text-sm font-medium",children:["Reason for cancellation ",r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsx(Ca,{id:"reason",placeholder:"Please provide a reason for cancelling this booking (required)",value:n,onChange:f=>i(f.target.value),className:"min-h-[100px]",disabled:u.isPending,"data-testid":"textarea-cancel-reason",required:!0}),!n.trim()&&r.jsx("p",{className:"text-xs text-red-600",children:"This field is required"})]}),r.jsxs("div",{className:"flex items-start space-x-3 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[r.jsx(Bi,{id:"agree-terms",checked:a,onCheckedChange:f=>o(f),disabled:u.isPending,"data-testid":"checkbox-agree-terms",className:"mt-1"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs(pe,{htmlFor:"agree-terms",className:"text-sm font-medium leading-relaxed cursor-pointer",children:["I agree to the cancellation terms and refund policy",r.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You must accept the terms to proceed with cancellation"})]})]})]}),r.jsxs(hU,{children:[r.jsx(pU,{disabled:u.isPending,"data-testid":"button-keep-booking",children:"Keep Booking"}),r.jsx(K,{variant:"destructive",onClick:h,disabled:m,"data-testid":"button-confirm-cancel",children:u.isPending?"Processing Cancellation...":"Confirm Cancellation"})]})]})})}function s0e({isOpen:e,onClose:t,booking:s}){const[n,i]=j.useState(!1),{toast:a}=us(),o=`${window.location.origin}/booking/${s.id}`,l=`
Berry Events Booking Confirmation

Booking Number: ${s.bookingNumber}
Service: ${s.service}
Date: ${Ur(new Date(s.date),"MMMM d, yyyy")}
Time: ${s.time}
Location: ${s.address}
Total: ${s.price}

View full details: ${o}
  `.trim(),c=async()=>{try{await navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3),a({title:"Link copied!",description:"Booking link has been copied to clipboard"})}catch{a({title:"Copy failed",description:"Unable to copy link. Please try manually selecting and copying.",variant:"destructive"})}},d=async()=>{try{await navigator.clipboard.writeText(l),a({title:"Details copied!",description:"Booking details have been copied to clipboard"})}catch{a({title:"Copy failed",description:"Unable to copy details. Please try manually selecting and copying.",variant:"destructive"})}},u=()=>{const h=encodeURIComponent(`Berry Events Booking - ${s.service}`),m=encodeURIComponent(l);window.location.href=`mailto:?subject=${h}&body=${m}`};return r.jsx(er,{open:e,onOpenChange:t,children:r.jsxs(Fn,{className:"sm:max-w-[500px]",children:[r.jsxs(Bn,{children:[r.jsxs(_n,{className:"flex items-center gap-2",children:[r.jsx(l2,{className:"h-5 w-5 text-purple-600"}),"Share Booking"]}),r.jsx(_o,{children:"Share your booking details with others"})]}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 p-4 rounded-lg border border-purple-100",children:[r.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Booking #",s.bookingNumber]}),r.jsx("p",{className:"text-base font-semibold text-gray-900",children:s.service}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ur(new Date(s.date),"MMMM d, yyyy")," at ",s.time]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium mb-2 block",children:"Shareable Link"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(He,{value:o,readOnly:!0,className:"flex-1","data-testid":"input-shareable-link"}),r.jsx(K,{variant:"outline",size:"icon",onClick:c,"data-testid":"button-copy-link",children:n?r.jsx(al,{className:"h-4 w-4 text-green-600"}):r.jsx(PP,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[r.jsxs(K,{variant:"outline",className:"w-full",onClick:d,"data-testid":"button-copy-details",children:[r.jsx(PP,{className:"h-4 w-4 mr-2"}),"Copy Details"]}),r.jsxs(K,{variant:"outline",className:"w-full",onClick:u,"data-testid":"button-email-share",children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),"Email"]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-xs text-blue-800",children:[" ",r.jsx("strong",{children:"Tip:"})," Recipients can view booking details using the shared link. Sensitive information like payment details is not included."]})})]})]})})}const n0e=e=>{switch(e){case"confirmed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r0e=e=>{switch(e){case"confirmed":return r.jsx(ur,{className:"h-4 w-4"});case"pending":return r.jsx(Ts,{className:"h-4 w-4"});case"completed":return r.jsx(ur,{className:"h-4 w-4"});case"cancelled":return r.jsx(Eo,{className:"h-4 w-4"});default:return r.jsx(Ts,{className:"h-4 w-4"})}};function i0e(){const[e,t]=j.useState("upcoming"),[s,n]=j.useState(null),[i,a]=j.useState(null),[o,l]=j.useState(null),[c,d]=j.useState(null),{user:u,isAuthenticated:h}=H0(),{toast:m}=us(),{data:f=[],isLoading:g}=Ds({queryKey:["/api/orders",u==null?void 0:u.id],queryFn:async()=>{const w=localStorage.getItem("accessToken"),S={};w&&(S.Authorization=`Bearer ${w}`);const C=await fetch("/api/orders",{headers:S,credentials:"include"});if(!C.ok)throw new Error(`Failed to fetch orders: ${C.statusText}`);return C.json()},enabled:!!(u!=null&&u.id)&&h}),p=f.flatMap(w=>!w.items||w.items.length===0?[]:w.items.map(S=>{var C,L;return{id:S.id,bookingNumber:w.orderNumber,serviceType:S.serviceName||S.serviceType,scheduledDate:S.scheduledDate,scheduledTime:S.scheduledTime,duration:S.duration||2,status:w.status,address:((C=S.serviceDetails)==null?void 0:C.address)||"Address not provided",totalPrice:S.subtotal,specialInstructions:S.comments||((L=S.serviceDetails)==null?void 0:L.specialRequests)||"",paymentStatus:w.paymentStatus,createdAt:w.createdAt,orderId:w.id}})),b=p.filter(w=>w.status==="confirmed"||w.status==="pending"),x=p.filter(w=>w.status==="completed"||w.status==="cancelled"),y=w=>{const S=Ur(new Date(w.scheduledDate),"yyyy-MM-dd");return r.jsx(oe,{className:"mb-4 hover:shadow-md transition-shadow",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w.serviceType}),r.jsxs(Ke,{className:`${n0e(w.status)} capitalize`,children:[r0e(w.status),r.jsx("span",{className:"ml-1",children:w.status})]})]}),r.jsxs("p",{className:"text-gray-600 mb-1",children:["Booking #",w.bookingNumber]})]}),r.jsx(K,{variant:"ghost",size:"sm",children:r.jsx(eZ,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"text-sm",children:[Ur(new Date(w.scheduledDate),"MMMM d, yyyy")," at ",w.scheduledTime]})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"text-sm",children:[w.duration," hour",w.duration>1?"s":""]})]}),r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(ys,{className:"h-4 w-4 mr-2"}),r.jsx("span",{className:"text-sm",children:w.address})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-600",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["R",parseFloat(w.totalPrice).toFixed(2)]})]}),w.specialInstructions&&r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Notes:"})," ",w.specialInstructions]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[r.jsxs("div",{className:"flex space-x-2",children:[w.status==="confirmed"&&r.jsxs(r.Fragment,{children:[r.jsxs(K,{variant:"outline",size:"sm",children:[r.jsx(xn,{className:"h-4 w-4 mr-1"}),"Contact"]}),r.jsx(K,{variant:"outline",size:"sm",onClick:()=>n({id:w.id,service:w.serviceType,date:S,time:w.scheduledTime}),"data-testid":`button-reschedule-${w.id}`,children:"Reschedule"})]}),w.status==="completed"&&r.jsxs(r.Fragment,{children:[r.jsxs(K,{variant:"outline",size:"sm",children:[r.jsx(Et,{className:"h-4 w-4 mr-1"}),"Rate Service"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"text-purple-600 hover:text-purple-700",onClick:()=>l({serviceId:w.serviceType,bookingData:w}),"data-testid":`button-book-again-${w.id}`,children:[r.jsx(cZ,{className:"h-4 w-4 mr-1"}),"Book Again"]})]}),r.jsxs(K,{variant:"outline",size:"sm",onClick:()=>d({id:w.id,bookingNumber:w.bookingNumber,service:w.serviceType,date:S,time:w.scheduledTime,address:w.address,price:`R${parseFloat(w.totalPrice).toFixed(2)}`}),"data-testid":`button-share-${w.id}`,children:[r.jsx(l2,{className:"h-4 w-4 mr-1"}),"Share"]})]}),r.jsx(K,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{if(w.status==="completed")try{const C=yae(w);wae(C),m({title:"Receipt Downloaded",description:"Your booking receipt has been downloaded successfully."})}catch(C){console.error("Error generating receipt:",C),m({title:"Error",description:"Failed to generate receipt. Please try again.",variant:"destructive"})}else a({id:w.id,service:w.serviceType,date:S,time:w.scheduledTime,price:`R${parseFloat(w.totalPrice).toFixed(2)}`})},"data-testid":`button-cancel-${w.id}`,children:w.status==="completed"?"View Receipt":"Cancel Booking"})]})]})},w.id)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(sm,{onBookingClick:()=>{},isAuthenticated:h,user:u||void 0}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),r.jsx("p",{className:"text-gray-600",children:"Manage your service bookings and appointments"})]}),!g&&p.length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:b.length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:x.filter(w=>w.status==="completed").length}),r.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:["R",p.reduce((w,S)=>w+parseFloat(S.totalPrice||0),0).toFixed(2)]}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Spent"})]})}),r.jsx(oe,{children:r.jsxs(le,{className:"p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:p.filter(w=>w.customerRating).length>0?(p.reduce((w,S)=>w+(S.customerRating||0),0)/p.filter(w=>w.customerRating).length).toFixed(1):"N/A"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Avg Rating"})]})})]}),g?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(AC,{className:"h-8 w-8 animate-spin text-primary"})}):r.jsxs(kc,{value:e,onValueChange:t,children:[r.jsxs(Pl,{className:"grid w-full grid-cols-2",children:[r.jsx(hs,{value:"upcoming",children:"Upcoming Bookings"}),r.jsx(hs,{value:"past",children:"Past Bookings"})]}),r.jsx(fs,{value:"upcoming",className:"mt-6",children:b.length>0?r.jsx("div",{children:b.map(y)}):r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx(Ws,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No upcoming bookings"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Ready to book your next service? Browse our available services."}),r.jsx(K,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 text-white",children:"Browse Services"})]})})}),r.jsx(fs,{value:"past",className:"mt-6",children:x.length>0?r.jsx("div",{children:x.map(y)}):r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx(ur,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No past bookings"}),r.jsx("p",{className:"text-gray-600",children:"Your completed bookings will appear here."})]})})})]})]}),s&&r.jsx(Bxe,{isOpen:!0,onClose:()=>n(null),booking:s}),i&&r.jsx(t0e,{isOpen:!0,onClose:()=>a(null),booking:i}),o&&r.jsx(du,{isOpen:!0,onClose:()=>l(null),serviceId:o.serviceId,onBookingComplete:w=>{ha.invalidateQueries({queryKey:["/api/bookings/customer"]}),l(null)},editBookingData:{propertyType:o.bookingData.propertyType,address:o.bookingData.address,gateCode:o.bookingData.gateCode,preferredDate:o.bookingData.scheduledDate,timePreference:o.bookingData.scheduledTime,recurringSchedule:o.bookingData.recurringSchedule||"one-time",specialRequests:o.bookingData.specialInstructions}}),c&&r.jsx(s0e,{isOpen:!0,onClose:()=>d(null),booking:c})]})}function gU(){const[e,t]=j.useState(!1),[s,n]=j.useState(null),[i,a]=j.useState(!1),{toast:o}=us();j.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(t(!0),l())},[]);const l=async()=>{try{const h=await navigator.serviceWorker.getRegistration();if(h){const m=await h.pushManager.getSubscription();m&&(n(m.toJSON()),a(!0))}}catch(h){console.error("Error checking existing subscription:",h)}};return{isSupported:e,isSubscribed:i,subscription:s,subscribeToPush:async()=>{try{const h=await navigator.serviceWorker.ready;if(await Notification.requestPermission()!=="granted")return o({title:"Notifications Blocked",description:"Please enable notifications to receive booking updates",variant:"destructive"}),!1;const f=await a0e(),p=(await h.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o0e(f)})).toJSON();return n(p),a(!0),await fetch("/api/push-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),o({title:"Notifications Enabled",description:"You'll receive updates about your bookings and services"}),!0}catch(h){return console.error("Error subscribing to push notifications:",h),o({title:"Subscription Failed",description:"Unable to enable notifications. Please try again.",variant:"destructive"}),!1}},unsubscribeFromPush:async()=>{try{const h=await navigator.serviceWorker.getRegistration();if(h){const m=await h.pushManager.getSubscription();m&&(await m.unsubscribe(),n(null),a(!1),await fetch("/api/push-subscription",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(m.toJSON())}),o({title:"Notifications Disabled",description:"You won't receive push notifications anymore"}))}}catch(h){console.error("Error unsubscribing from push notifications:",h)}},sendTestNotification:async()=>{if(!i||!s){o({title:"Not Subscribed",description:"Please enable notifications first",variant:"destructive"});return}try{await fetch("/api/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription:s,title:"Berry Events Test",body:"This is a test notification from your home services app!"})}),o({title:"Test Notification Sent",description:"Check your device for the notification"})}catch(h){console.error("Error sending test notification:",h),o({title:"Failed to Send",description:"Unable to send test notification",variant:"destructive"})}}}}async function a0e(){try{return(await(await fetch("/api/vapid-public-key")).json()).publicKey}catch(e){return console.error("Error getting VAPID public key:",e),"BEl62iUYgUivxIkv69yViEuiBIa40HI50P8uo26xpgcNdNBNMwFm5oUiXdcWpxZXTQB7GDu1RMPajRO9N8TOwUo"}}function o0e(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(s),i=new Uint8Array(n.length);for(let a=0;a<n.length;++a)i[a]=n.charCodeAt(a);return i}function l0e(){const[e,t]=j.useState({bookingConfirmations:!0,providerUpdates:!0,paymentAlerts:!0,reviewReminders:!0,promotions:!1,maintenanceUpdates:!1}),{isSupported:s,permission:n,isSubscribed:i,isLoading:a,requestPermission:o,subscribe:l,unsubscribe:c,sendTestNotification:d}=gU(),{toast:u}=us(),h=(g,p)=>{t(x=>({...x,[g]:p}));const b={...e,[g]:p};localStorage.setItem("notification-preferences",JSON.stringify(b)),u({title:"Preferences Updated",description:`${g.replace(/([A-Z])/g," $1").toLowerCase()} notifications ${p?"enabled":"disabled"}`})},f=s?n==="granted"?{text:"Enabled",color:"bg-green-500"}:n==="denied"?{text:"Blocked",color:"bg-red-500"}:{text:"Not Set",color:"bg-yellow-500"}:{text:"Not Supported",color:"bg-gray-500"};return r.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notification Settings"}),r.jsx("p",{className:"text-gray-600",children:"Manage how you receive updates about your Berry Events services"})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(vh,{className:"h-5 w-5 mr-2"}),"Push Notifications"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium",children:"Browser Notifications"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Receive real-time updates on your device"})]}),r.jsx(Ke,{className:`${f.color} text-white`,children:f.text})]}),!s&&r.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Your browser doesn't support push notifications. Please use a modern browser for the best experience."})}),s&&r.jsxs("div",{className:"flex flex-wrap gap-2",children:[n!=="granted"&&r.jsxs(K,{onClick:o,disabled:a,size:"sm","data-testid":"button-enable-notifications",children:[r.jsx(Fi,{className:"h-4 w-4 mr-2"}),a?"Requesting...":"Enable Notifications"]}),n==="granted"&&!i&&r.jsxs(K,{onClick:l,disabled:a,size:"sm","data-testid":"button-subscribe-push",children:[r.jsx(Fi,{className:"h-4 w-4 mr-2"}),a?"Subscribing...":"Subscribe to Push"]}),i&&r.jsxs(r.Fragment,{children:[r.jsxs(K,{onClick:d,disabled:a,size:"sm",variant:"outline","data-testid":"button-test-notification",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Send Test"]}),r.jsxs(K,{onClick:c,disabled:a,size:"sm",variant:"outline","data-testid":"button-unsubscribe-push",children:[r.jsx(gO,{className:"h-4 w-4 mr-2"}),"Unsubscribe"]})]})]})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Fi,{className:"h-5 w-5 mr-2"}),"Notification Types"]})}),r.jsx(le,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ws,{className:"h-4 w-4 text-blue-500"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"booking-confirmations",className:"text-sm font-medium",children:"Booking Confirmations"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Confirmations, cancellations, and schedule changes"})]})]}),r.jsx(ol,{id:"booking-confirmations",checked:e.bookingConfirmations,onCheckedChange:g=>h("bookingConfirmations",g),"data-testid":"switch-booking-confirmations"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Fi,{className:"h-4 w-4 text-green-500"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"provider-updates",className:"text-sm font-medium",children:"Provider Updates"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Provider arrivals, delays, and completion notices"})]})]}),r.jsx(ol,{id:"provider-updates",checked:e.providerUpdates,onCheckedChange:g=>h("providerUpdates",g),"data-testid":"switch-provider-updates"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-4 w-4 text-orange-500 font-bold text-sm",children:"R"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"payment-alerts",className:"text-sm font-medium",children:"Payment Alerts"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Payment confirmations and receipt notifications"})]})]}),r.jsx(ol,{id:"payment-alerts",checked:e.paymentAlerts,onCheckedChange:g=>h("paymentAlerts",g),"data-testid":"switch-payment-alerts"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"review-reminders",className:"text-sm font-medium",children:"Review Reminders"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Reminders to rate and review completed services"})]})]}),r.jsx(ol,{id:"review-reminders",checked:e.reviewReminders,onCheckedChange:g=>h("reviewReminders",g),"data-testid":"switch-review-reminders"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-4 w-4 text-purple-500 font-bold text-sm",children:"%"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"promotions",className:"text-sm font-medium",children:"Promotions & Offers"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Special deals, discounts, and seasonal promotions"})]})]}),r.jsx(ol,{id:"promotions",checked:e.promotions,onCheckedChange:g=>h("promotions",g),"data-testid":"switch-promotions"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"h-4 w-4 text-gray-500 font-bold text-sm",children:"i"}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"maintenance-updates",className:"text-sm font-medium",children:"System Updates"}),r.jsx("p",{className:"text-xs text-gray-500",children:"App updates, maintenance notices, and feature announcements"})]})]}),r.jsx(ol,{id:"maintenance-updates",checked:e.maintenanceUpdates,onCheckedChange:g=>h("maintenanceUpdates",g),"data-testid":"switch-maintenance-updates"})]})]})})]}),r.jsx(oe,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:r.jsx(le,{className:"pt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notification Stats"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-blue-600",children:Object.values(e).filter(Boolean).length}),r.jsx("div",{className:"text-gray-600",children:"Active Types"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-green-600",children:i?"Connected":"Disconnected"}),r.jsx("div",{className:"text-gray-600",children:"Push Status"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-purple-600",children:"Real-time"}),r.jsx("div",{className:"text-gray-600",children:"Delivery"})]})]})]})})})]})}const c0e=[{id:"cleaning",title:"House Cleaning",description:"Professional cleaning services for your home",price:"From R75/hour",rating:4.8,providers:45,icon:eo,category:"Indoor",tags:["Regular","Deep Clean","Eco-Friendly"]},{id:"plumbing",title:"Plumbing Services",description:"Expert plumbing repairs and installations",price:"From R120/hour",rating:4.7,providers:32,icon:d2,category:"Maintenance",tags:["Emergency","Repairs","Installation"]},{id:"electrical",title:"Electrical Services",description:"Certified electrical work and repairs",price:"From R150/hour",rating:4.9,providers:28,icon:so,category:"Maintenance",tags:["Certified","Installation","Repairs"]},{id:"chef-catering",title:"Chef & Catering",description:"Professional chefs for events and daily meals",price:"From R400/event",rating:4.8,providers:18,icon:Tr,category:"Specialized",tags:["African Cuisine","Events","Halaal"]},{id:"moving",title:"Moving Services",description:"Professional moving and relocation services",price:"From R600/day",rating:4.6,providers:15,icon:Mm,category:"Specialized",tags:["Local","Long Distance","Packing"]},{id:"au-pair",title:"Au Pair Services",description:"Trusted childcare and au pair services",price:"From R65/hour",rating:4.9,providers:22,icon:pO,category:"Specialized",tags:["Childcare","Live-in","Babysitting"]},{id:"garden-care",title:"Garden Care",description:"Professional garden maintenance and landscaping",price:"From R90/hour",rating:4.7,providers:20,icon:U1,category:"Outdoor",tags:["Landscaping","Maintenance","Design"]},{id:"waitering",title:"Waitering Services",description:"Professional event staff and waitering",price:"From R85/hour",rating:4.8,providers:25,icon:yn,category:"Specialized",tags:["Events","Corporate","Parties"]}],d0e=["All","Indoor","Outdoor","Maintenance","Specialized"];function u0e(){const[e,t]=j.useState(""),[s,n]=j.useState("All"),[i,a]=j.useState(!1),[o,l]=j.useState(""),{user:c,isAuthenticated:d}=H0(),u=c0e.filter(m=>{const f=m.title.toLowerCase().includes(e.toLowerCase())||m.description.toLowerCase().includes(e.toLowerCase()),g=s==="All"||m.category===s;return f&&g}),h=m=>{l(m),a(!0)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(sm,{onBookingClick:()=>a(!0),isAuthenticated:d,user:c||void 0}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Professional Home Services"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Browse our comprehensive range of home services provided by verified professionals"})]}),r.jsxs("div",{className:"mb-8 space-y-4 sm:space-y-0 sm:flex sm:items-center sm:space-x-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{placeholder:"Search services...",value:e,onChange:m=>t(m.target.value),className:"pl-10","data-testid":"search-services"})]}),r.jsx("div",{className:"flex space-x-2",children:d0e.map(m=>r.jsxs(K,{variant:s===m?"default":"outline",size:"sm",onClick:()=>n(m),"data-testid":`filter-${m.toLowerCase()}`,children:[r.jsx(wO,{className:"h-3 w-3 mr-1"}),m]},m))})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.map(m=>r.jsx(oe,{className:"hover:shadow-lg transition-shadow duration-300",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx(m.icon,{className:"h-6 w-6 text-white"})}),r.jsx(Ke,{variant:"secondary",children:m.category})]}),r.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:m.description}),r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center text-yellow-500",children:[r.jsx(Et,{className:"h-4 w-4 fill-current mr-1"}),r.jsx("span",{className:"font-medium",children:m.rating})]}),r.jsxs("div",{className:"text-gray-500",children:[m.providers," providers"]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:m.tags.map((f,g)=>r.jsx(Ke,{variant:"outline",className:"text-xs",children:f},g))})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"text-green-600 font-semibold",children:m.price}),r.jsx(K,{size:"sm",onClick:()=>h(m.id),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 text-white text-base font-semibold","data-testid":`book-${m.id}`,children:"Book Now"})]})]})},m.id))}),u.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No services found matching your criteria."})})]}),r.jsx(du,{isOpen:i,onClose:()=>a(!1),serviceId:o||"house-cleaning",onBookingComplete:m=>{console.log("Booking completed:",m),a(!1),l("")}})]})}function h0e(){const[,e]=nr(),[t,s]=j.useState(null),[n,i]=j.useState(!0),{user:a,isAuthenticated:o}=H0();return j.useEffect(()=>{(async()=>{i(!0);const c=new URLSearchParams(window.location.search);await new Promise(u=>setTimeout(u,2e3));const d={id:`BK${Date.now()}`,service:c.get("service")||"House Cleaning",provider:"Sarah Johnson",date:c.get("date")||"2025-01-15",time:c.get("time")||"09:00",duration:"3 hours",location:c.get("location")||"123 Oak Street, Cape Town",basePrice:parseInt(c.get("basePrice")||"225"),totalPrice:parseInt(c.get("total")||"225"),additionalCharges:c.get("ingredientSource")==="chef-brings"?[{description:"Chef-sourced ingredients",amount:150}]:[],status:"confirmed",paymentMethod:"Card ending in ****4567",customerName:"John Doe",customerEmail:"john.doe@example.com",customerPhone:"+27 82 123 4567"};s(d),i(!1)})()},[]),n?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(sm,{onBookingClick:()=>{},isAuthenticated:o,user:a||void 0}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Processing Payment"}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we confirm your booking..."})]})})})]}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(sm,{onBookingClick:()=>{},isAuthenticated:o,user:a||void 0}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"mx-auto mb-4",children:r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"h-20 w-auto mx-auto mb-3","data-testid":"berry-logo-payment"})}),r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:r.jsx(ur,{className:"h-8 w-8 text-green-600"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Your booking has been confirmed"}),r.jsxs(Ke,{className:"bg-green-100 text-green-800 mt-4",children:["Booking ID: ",t.id]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(eo,{className:"h-5 w-5 mr-2"}),"Service Details"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Service"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.service})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Provider"}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t.provider})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date & Time"}),r.jsxs("div",{className:"flex items-center text-gray-900",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),r.jsxs("span",{children:[t.date," at ",t.time]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Duration"}),r.jsxs("div",{className:"flex items-center text-gray-900",children:[r.jsx(Ts,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:t.duration})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),r.jsxs("div",{className:"flex items-center text-gray-900",children:[r.jsx(ys,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:t.location})]})]})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(vn,{className:"h-5 w-5 mr-2"}),"Customer Information"]})}),r.jsx(le,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),r.jsx("p",{className:"text-gray-900",children:t.customerName})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),r.jsxs("div",{className:"flex items-center text-gray-900",children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:t.customerEmail})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),r.jsxs("div",{className:"flex items-center text-gray-900",children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),r.jsx("span",{children:t.customerPhone})]})]})]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Cr,{className:"h-5 w-5 mr-2"}),"Payment Summary"]})}),r.jsx(le,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Base Service"}),r.jsxs("span",{className:"font-medium",children:["R",t.basePrice]})]}),t.additionalCharges.map((l,c)=>r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:l.description}),r.jsxs("span",{className:"font-medium",children:["R",l.amount]})]},c)),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[r.jsx("span",{children:"Total Paid"}),r.jsxs("span",{className:"text-green-600",children:["R",t.totalPrice]})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Payment method: ",t.paymentMethod]})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(K,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:opacity-90 text-white",onClick:()=>e("/bookings"),children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"View All Bookings",r.jsx(ul,{className:"h-4 w-4 ml-2"})]}),r.jsxs(K,{variant:"outline",className:"w-full",children:[r.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Download Receipt"]}),r.jsxs(K,{variant:"outline",className:"w-full",children:[r.jsx(l2,{className:"h-4 w-4 mr-2"}),"Share Booking Details"]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-sm",children:"What's Next?"})}),r.jsxs(le,{className:"text-sm text-gray-600 space-y-2",children:[r.jsx("p",{children:" You'll receive a confirmation email shortly"}),r.jsx("p",{children:" Your provider will contact you 24 hours before the appointment"}),r.jsx("p",{children:" You can reschedule or cancel up to 4 hours before the service"}),r.jsx("p",{children:" Rate your experience after completion"})]})]})]})]}),r.jsxs("div",{className:"text-center text-sm text-gray-500 pt-8 border-t mt-8",children:[r.jsx("p",{className:"mb-2 font-medium text-gray-700",children:"Berry Events Customer Service"}),r.jsxs("p",{children:["Need help? Contact us at ",r.jsx("strong",{children:"customerservice@berryevents.co.za"})," or ",r.jsx("strong",{children:"+27 61 279 6476"})]})]})]})]}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(sm,{onBookingClick:()=>{},isAuthenticated:o,user:a||void 0}),r.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Booking Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the booking details."}),r.jsx(K,{onClick:()=>e("/"),children:"Return Home"})]})})})]})}function f0e(){const[e,t]=j.useState(navigator.onLine),[s,n]=j.useState(null),[i,a]=j.useState(!1),{isSupported:o,isSubscribed:l,subscribeToPush:c,unsubscribeFromPush:d,sendTestNotification:u}=gU();j.useEffect(()=>{const f=()=>t(!0),g=()=>t(!1);window.addEventListener("online",f),window.addEventListener("offline",g);const p=x=>{x.preventDefault(),n(x)},b=()=>{a(!0),n(null)};return window.addEventListener("beforeinstallprompt",p),window.addEventListener("appinstalled",b),window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&a(!0),()=>{window.removeEventListener("online",f),window.removeEventListener("offline",g),window.removeEventListener("beforeinstallprompt",p),window.removeEventListener("appinstalled",b)}},[]);const h=async()=>{if(!s)return;(await s.prompt()).outcome==="accepted"&&n(null)},m=async()=>{if(navigator.share)try{await navigator.share({title:"Berry Events - Home Services",text:"All your Home Services In One - Premium domestic services marketplace",url:window.location.origin})}catch(f){console.error("Error sharing:",f)}else navigator.clipboard.writeText(window.location.origin)};return r.jsxs("div",{className:"space-y-6 max-w-md mx-auto",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(vh,{className:"h-5 w-5"}),"Mobile App Features"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[e?r.jsx(DC,{className:"h-4 w-4 text-green-500"}):r.jsx(CO,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Connection Status"})]}),r.jsx(Ke,{variant:e?"default":"destructive",children:e?"Online":"Offline"})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[l?r.jsx(Fi,{className:"h-4 w-4 text-blue-500"}):r.jsx(gO,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm font-medium",children:"Push Notifications"})]}),r.jsx(ol,{checked:l,onCheckedChange:l?d:c,disabled:!o})]}),!o&&r.jsx("p",{className:"text-xs text-gray-500",children:"Push notifications not supported on this browser"}),l&&r.jsxs(K,{variant:"outline",size:"sm",onClick:u,className:"w-full flex items-center gap-2",children:[r.jsx(hZ,{className:"h-4 w-4"}),"Send Test Notification"]})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4 text-purple-500"}),r.jsx("span",{className:"text-sm font-medium",children:"Install App"})]}),i&&r.jsx(Ke,{variant:"secondary",children:"Installed"})]}),s&&!i&&r.jsxs(K,{onClick:h,className:"w-full flex items-center gap-2",children:[r.jsx(Ya,{className:"h-4 w-4"}),"Install Berry Events App"]}),i&&r.jsx("p",{className:"text-xs text-green-600",children:"App is installed and running as PWA"})]}),r.jsx(Pn,{}),r.jsxs(K,{variant:"outline",onClick:m,className:"w-full flex items-center gap-2",children:[r.jsx(SO,{className:"h-4 w-4"}),"Share App"]})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-base",children:"Offline Features"})}),r.jsxs(le,{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Browse services and providers"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"View previous bookings"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Save bookings (sync when online)"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Real-time features require connection"]})]})]}),l&&r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-base",children:"Notification Types"})}),r.jsxs(le,{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Fi,{className:"h-3 w-3 text-blue-500"}),"Booking confirmations"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Fi,{className:"h-3 w-3 text-green-500"}),"Provider arrival updates"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Fi,{className:"h-3 w-3 text-orange-500"}),"Service completion alerts"]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Fi,{className:"h-3 w-3 text-purple-500"}),"Special offers & promotions"]})]})]})]})}function m0e(){const[e,t]=j.useState(null),[s,n]=j.useState(!1),[i,a]=j.useState(!1);j.useEffect(()=>{const c=u=>{u.preventDefault(),t(u),a(!0)},d=()=>{n(!0),t(null),a(!1)};return window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&n(!0),window.navigator&&window.navigator.standalone&&n(!0),window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const o=async()=>{if(!e)return;await e.prompt(),(await e.userChoice).outcome==="accepted"&&(t(null),a(!1))},l=()=>{a(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return s||!i||!e||sessionStorage.getItem("pwa-install-dismissed")?null:r.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-sm z-50",children:r.jsxs(oe,{className:"border-primary shadow-lg",children:[r.jsx(Ve,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r.jsx(vh,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{children:[r.jsx($e,{className:"text-sm",children:"Install Berry Events"}),r.jsx(Dd,{className:"text-xs",children:"Get the mobile app experience"})]})]}),r.jsx(K,{variant:"ghost",size:"sm",onClick:l,className:"h-6 w-6 p-0",children:r.jsx(to,{className:"h-4 w-4"})})]})}),r.jsxs(le,{className:"pt-0 space-y-3",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[r.jsx(DC,{className:"h-3 w-3 mr-1"}),"Works offline"]}),r.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[r.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Push notifications"]}),r.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[r.jsx($t,{className:"h-3 w-3 mr-1"}),"Faster loading"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(K,{onClick:o,className:"flex-1 h-8 text-xs",children:[r.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Install App"]}),r.jsx(K,{variant:"outline",onClick:l,className:"h-8 text-xs px-3",children:"Later"})]})]})]})})}function p0e(){const[e,t]=j.useState("features"),s=[{icon:Fi,title:"Push Notifications",description:"Get instant updates about your bookings, provider arrivals, and service completions",status:"active"},{icon:DC,title:"Offline Mode",description:"Browse services and view previous bookings even without internet connection",status:"active"},{icon:Ya,title:"Fast Installation",description:"Add to home screen for native app-like experience without app store",status:"active"},{icon:bs,title:"Secure Storage",description:"Your data and payment information are stored securely on your device",status:"active"}],n=[{title:"Home Dashboard",description:"Quick access to all services and recent bookings",features:["Service selection","Recent bookings","Provider ratings"]},{title:"Service Booking",description:"Streamlined booking process optimized for mobile",features:["Smart forms","Location picker","Instant quotes"]},{title:"Real-time Updates",description:"Live tracking and notifications during service",features:["Provider location","Service progress","Completion alerts"]}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[r.jsx(m0e,{}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-green-600 text-white py-16",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full text-sm font-medium mb-6",children:[r.jsx(vh,{className:"h-4 w-4"}),"Mobile App Companion"]}),r.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Berry Events",r.jsx("span",{className:"block text-2xl md:text-3xl font-normal opacity-90 mt-2",children:"Mobile Experience"})]}),r.jsx("p",{className:"text-xl md:text-2xl opacity-90 max-w-2xl mx-auto mb-8",children:"Get the full power of Berry Events in a fast, native mobile app. Install directly from your browser - no app store required."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",children:[r.jsx(Ya,{className:"h-5 w-5 mr-2"}),"Install Mobile App"]}),r.jsxs(K,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[r.jsx(SO,{className:"h-5 w-5 mr-2"}),"Share with Friends"]})]})]})}),r.jsx("div",{className:"py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose the Mobile App?"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Enhanced features and performance designed specifically for mobile users"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:s.map((i,a)=>r.jsxs(oe,{className:"text-center border-2 hover:border-primary transition-colors",children:[r.jsxs(Ve,{children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(i.icon,{className:"h-6 w-6 text-primary"})}),r.jsx($e,{className:"text-lg",children:i.title})]}),r.jsxs(le,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsxs(Ke,{variant:"outline",className:"text-green-600 border-green-600",children:[" ",i.status==="active"?"Available":"Coming Soon"]})]})]},a))})]})}),r.jsx("div",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"App Experience Preview"}),r.jsx("p",{className:"text-xl text-gray-600",children:"See what makes our mobile app special"})]}),r.jsxs(kc,{value:e,onValueChange:t,className:"max-w-4xl mx-auto",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-3 mb-8",children:[r.jsx(hs,{value:"features",className:"text-sm",children:"Live Features"}),r.jsx(hs,{value:"screenshots",className:"text-sm",children:"App Screens"}),r.jsx(hs,{value:"settings",className:"text-sm",children:"Settings"})]}),r.jsx(fs,{value:"features",className:"space-y-6",children:r.jsx(f0e,{})}),r.jsx(fs,{value:"screenshots",className:"space-y-6",children:r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map((i,a)=>r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:a+1})}),i.title]})}),r.jsxs(le,{children:[r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsx("div",{className:"space-y-2",children:i.features.map((o,l)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:o})]},l))})]})]},a))})}),r.jsx(fs,{value:"settings",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(op,{className:"h-5 w-5"}),"Mobile App Settings"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Installation Status"}),r.jsx("p",{className:"text-blue-700 text-sm",children:`The app can be installed directly from your browser without visiting any app store. Look for the install prompt or use your browser's "Add to Home Screen" option.`})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[r.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Permissions Required"}),r.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[r.jsx("li",{children:" Notifications - For booking updates and service alerts"}),r.jsx("li",{children:" Location - For finding nearby service providers (optional)"}),r.jsx("li",{children:" Storage - For offline functionality and faster loading"})]})]}),r.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[r.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Data Usage"}),r.jsx("p",{className:"text-purple-700 text-sm",children:"The app caches essential data for offline use. Initial download is ~2MB, with minimal ongoing data usage for updates only."})]})]})]})})]})]})}),r.jsx("div",{className:"py-16 bg-gradient-to-r from-primary to-green-600 text-white",children:r.jsxs("div",{className:"container mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Get Started?"}),r.jsx("p",{className:"text-xl opacity-90 mb-8 max-w-2xl mx-auto",children:"Install the Berry Events mobile app now and enjoy a faster, more convenient way to book your home services."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{size:"lg",className:"bg-white text-primary hover:bg-gray-100",children:[r.jsx(Ya,{className:"h-5 w-5 mr-2"}),"Install Now"]}),r.jsxs(K,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",children:[r.jsx(Ts,{className:"h-5 w-5 mr-2"}),"Learn More"]})]})]})})]})}function g0e({bookingId:e}){const[t,s]=j.useState(!0),[n,i]=j.useState(new Date),[a,o]=j.useState(!1),l=j.useRef(null),c=Ja(),{data:d,isLoading:u,refetch:h}=Ds({queryKey:[`/api/bookings/${e}/tracking`],refetchInterval:t?1e4:!1,retry:!1}),m=d==null?void 0:d.tracking,f=p=>{const b=new Date,x=new Date(p),y=Math.floor((b.getTime()-x.getTime())/(1e3*60));if(y<1)return"Just now";if(y===1)return"1 minute ago";if(y<60)return`${y} minutes ago`;const w=Math.floor(y/60);return w===1?"1 hour ago":`${w} hours ago`},g=()=>{i(new Date),h()};return j.useEffect(()=>{m&&i(new Date)},[m]),j.useEffect(()=>{if(!t)return;const b=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;return l.current=new WebSocket(b),l.current.onopen=()=>{var x;console.log("WebSocket connected for tracking"),o(!0),((x=l.current)==null?void 0:x.readyState)===WebSocket.OPEN&&l.current.send(JSON.stringify({type:"subscribe_tracking",bookingId:e}))},l.current.onmessage=x=>{try{const y=JSON.parse(x.data);y.type==="tracking_update"&&y.bookingId===e&&(console.log("Received real-time tracking update:",y.data),c.setQueryData([`/api/bookings/${e}/tracking`],{tracking:y.data}),i(new Date))}catch(y){console.error("WebSocket message parsing error:",y)}},l.current.onclose=()=>{console.log("WebSocket connection closed"),o(!1)},l.current.onerror=x=>{console.error("WebSocket error:",x),o(!1)},()=>{l.current&&l.current.close()}},[t,e,c]),u?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-48 bg-gray-200 rounded animate-pulse"}),r.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]}):m?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs($e,{className:"flex items-center",children:[r.jsx(Am,{className:"h-5 w-5 mr-2 text-blue-600"}),"Live Tracking"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ke,{variant:m.location.isOnline?"default":"secondary",className:m.location.isOnline?"bg-green-100 text-green-800":"",children:m.location.isOnline?r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"h-3 w-3 mr-1"}),"Live"]}):r.jsxs(r.Fragment,{children:[r.jsx(Eo,{className:"h-3 w-3 mr-1"}),"Offline"]})}),a&&r.jsx(Ke,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:" Real-time Connected"}),r.jsx(K,{variant:"ghost",size:"sm",onClick:g,"data-testid":"refresh-tracking",children:r.jsx(Yy,{className:"h-4 w-4"})})]})]})}),r.jsx(le,{children:r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[r.jsxs("span",{children:["Last updated: ",f(m.location.lastSeen)]}),r.jsxs("span",{children:["Booking Status:",r.jsx(Ke,{variant:"outline",className:"ml-1 text-xs",children:m.booking.status})]})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(vn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Your Service Provider"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("h3",{className:"font-medium text-lg",children:m.provider.name}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-400 fill-current"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[m.provider.rating.toFixed(1)," Rating"]})]})]}),r.jsx("div",{className:"space-y-2",children:r.jsx(Ke,{variant:m.booking.status==="enroute"?"default":"secondary",className:m.booking.status==="enroute"?"bg-blue-100 text-blue-800":"",children:m.booking.status==="enroute"?" En Route":m.booking.status})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(xn,{className:"h-4 w-4 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Contact Provider"}),r.jsx("p",{className:"text-xs text-gray-600",children:m.provider.phone})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ts,{className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Estimated Arrival"}),r.jsx("p",{className:"text-xs text-gray-600",children:m.estimatedArrival})]})]})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1","data-testid":"call-provider",children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),"Call Provider"]}),r.jsxs(K,{variant:"outline",size:"sm",className:"flex-1","data-testid":"message-provider",children:[r.jsx(TC,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(ys,{className:"h-5 w-5 mr-2 text-red-600"}),"Live Location"]})}),r.jsx(le,{children:r.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[r.jsx(ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Interactive Map"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Real-time map showing your provider's location will be displayed here"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[r.jsx("div",{className:"font-medium text-blue-600",children:"Provider Location"}),r.jsxs("div",{className:"text-gray-600",children:[m.location.latitude.toFixed(6),", ",m.location.longitude.toFixed(6)]})]}),r.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[r.jsx("div",{className:"font-medium text-green-600",children:"Your Address"}),r.jsx("div",{className:"text-gray-600",children:m.booking.customerAddress})]})]})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Tracking Settings"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Auto-refresh"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Automatically update provider location every 10 seconds"})]}),r.jsx(K,{variant:t?"default":"outline",size:"sm",onClick:()=>s(!t),"data-testid":"toggle-tracking",children:t?"Stop Tracking":"Start Tracking"})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs(K,{variant:"outline",size:"sm","data-testid":"share-location",children:[r.jsx(NO,{className:"h-4 w-4 mr-2"}),"Share Progress"]}),r.jsxs(K,{variant:"outline",size:"sm","data-testid":"get-directions",children:[r.jsx(Am,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),r.jsxs(K,{variant:"outline",size:"sm",onClick:g,"data-testid":"manual-refresh",children:[r.jsx(Yy,{className:"h-4 w-4 mr-2"}),"Refresh Now"]})]})})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Service Timeline"})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Booking Confirmed"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your service has been scheduled"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${m.booking.status==="enroute"?"bg-blue-600":"bg-gray-300"}`}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Provider En Route"}),r.jsx("p",{className:"text-sm text-gray-600",children:m.booking.status==="enroute"?"Your provider is on the way":"Waiting for provider to start journey"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Service in Progress"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Provider has arrived and started service"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-300 rounded-full"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Service Complete"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Service finished and payment processed"})]})]})]})})]})]}):r.jsx(oe,{children:r.jsxs(le,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Eo,{className:"h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tracking Available"}),r.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Your provider hasn't started location sharing yet, or no provider has been assigned to your booking."}),r.jsxs(K,{variant:"outline",onClick:g,"data-testid":"refresh-tracking",children:[r.jsx(Yy,{className:"h-4 w-4 mr-2"}),"Check Again"]})]})})}function y8(){const[,e]=SD("/tracking/:bookingId"),[t,s]=nr(),[n,i]=j.useState(""),a=e==null?void 0:e.bookingId,o=()=>{n.trim()&&s(`/tracking/${encodeURIComponent(n.trim())}`)},l=()=>{s("/")};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Tracking"}),r.jsxs("p",{className:"text-gray-600",children:["Booking ID: ",r.jsx("span",{className:"font-mono",children:a})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(K,{variant:"outline",size:"sm",onClick:l,"data-testid":"back-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Home"]}),r.jsxs(K,{variant:"outline",size:"sm",onClick:()=>s("/tracking"),"data-testid":"track-different",children:[r.jsx($i,{className:"h-4 w-4 mr-2"}),"Track Different Booking"]})]})]}),r.jsx(g0e,{bookingId:a})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-2xl mx-auto px-4 space-y-6",children:[r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Track Your Service Provider"}),r.jsx("p",{className:"text-gray-600",children:"Enter your booking ID to see your provider's live location and estimated arrival time"})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center",children:[r.jsx($i,{className:"h-5 w-5 mr-2 text-blue-600"}),"Find Your Booking"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"booking-id",children:"Booking ID"}),r.jsx(He,{id:"booking-id",placeholder:"Enter your booking ID (e.g., BK-12345)",value:n,onChange:c=>i(c.target.value),"data-testid":"booking-id-input"}),r.jsx("p",{className:"text-sm text-gray-600",children:"You can find your booking ID in your confirmation email or SMS"})]}),r.jsxs(K,{onClick:o,className:"w-full",disabled:!n.trim(),"data-testid":"track-booking",children:[r.jsx(ys,{className:"h-4 w-4 mr-2"}),"Track My Provider"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx(oe,{className:"bg-blue-50 border-blue-200",children:r.jsx(le,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx(ys,{className:"h-8 w-8 text-blue-600 mx-auto"}),r.jsx("h3",{className:"font-medium text-blue-900",children:"Real-Time Tracking"}),r.jsx("p",{className:"text-sm text-blue-700",children:"See your provider's live location and get accurate arrival estimates"})]})})}),r.jsx(oe,{className:"bg-green-50 border-green-200",children:r.jsx(le,{className:"pt-6",children:r.jsxs("div",{className:"text-center space-y-2",children:[r.jsx($i,{className:"h-8 w-8 text-green-600 mx-auto"}),r.jsx("h3",{className:"font-medium text-green-900",children:"Easy to Use"}),r.jsx("p",{className:"text-sm text-green-700",children:"Simply enter your booking ID to start tracking immediately"})]})})})]}),r.jsx("div",{className:"text-center",children:r.jsxs(K,{variant:"outline",onClick:l,"data-testid":"back-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})})}function x0e(){const{toast:e}=us(),[t,s]=j.useState({name:"",email:"",phone:"",category:"",subject:"",message:""}),n=os({mutationFn:async o=>{const l=await fetch("/api/support/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!l.ok){const c=await l.json();throw new Error(c.message||"Failed to send message")}return l.json()},onSuccess:()=>{e({title:"Message Sent Successfully",description:"Thank you for contacting us. We'll get back to you within 24 hours."}),s({name:"",email:"",phone:"",category:"",subject:"",message:""})},onError:o=>{e({title:"Failed to Send Message",description:o.message||"Please try again or call our support line.",variant:"destructive"})}}),i=o=>{if(o.preventDefault(),!t.name||!t.email||!t.category||!t.subject||!t.message){e({title:"Please fill in all required fields",description:"Name, email, category, subject, and message are required.",variant:"destructive"});return}n.mutate(t)},a=(o,l)=>{s(c=>({...c,[o]:l}))};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Berry Events"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"We're here to help! Get in touch with our support team for any questions, concerns, or feedback about our home services platform."})]}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-6 w-6 text-blue-600"}),"Send us a Message"]}),r.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll respond within 24 hours"})]}),r.jsx(le,{children:r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"name",children:"Full Name *"}),r.jsx(He,{id:"name",placeholder:"Your full name",value:t.name,onChange:o=>a("name",o.target.value),required:!0,"data-testid":"input-contact-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address *"}),r.jsx(He,{id:"email",type:"email",placeholder:"your.email@example.com",value:t.email,onChange:o=>a("email",o.target.value),required:!0,"data-testid":"input-contact-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"phone",children:"Phone Number (Optional)"}),r.jsx(He,{id:"phone",type:"tel",placeholder:"+27 XX XXX XXXX",value:t.phone,onChange:o=>a("phone",o.target.value),"data-testid":"input-contact-phone"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"category",children:"Category *"}),r.jsxs(Dt,{value:t.category,onValueChange:o=>a("category",o),children:[r.jsx(Mt,{"data-testid":"select-contact-category",children:r.jsx(Ot,{placeholder:"Select a category"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"general",children:"General Inquiry"}),r.jsx(Ee,{value:"booking",children:"Booking Support"}),r.jsx(Ee,{value:"payment",children:"Payment Issues"}),r.jsx(Ee,{value:"service_quality",children:"Service Quality"}),r.jsx(Ee,{value:"technical",children:"Technical Support"}),r.jsx(Ee,{value:"provider",children:"Provider Issues"}),r.jsx(Ee,{value:"safety",children:"Safety Concerns"}),r.jsx(Ee,{value:"feedback",children:"Feedback & Suggestions"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"subject",children:"Subject *"}),r.jsx(He,{id:"subject",placeholder:"Brief description of your inquiry",value:t.subject,onChange:o=>a("subject",o.target.value),required:!0,"data-testid":"input-contact-subject"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"message",children:"Message *"}),r.jsx(Ca,{id:"message",placeholder:"Please describe your inquiry in detail...",className:"min-h-[120px]",value:t.message,onChange:o=>a("message",o.target.value),required:!0,"data-testid":"textarea-contact-message"})]}),r.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n.isPending,"data-testid":"button-send-contact",children:n.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(MC,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-xl",children:"Quick Contact"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(xn,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Support Hotline"}),r.jsx("p",{className:"text-gray-600",children:"0800 237 779"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Available 24/7 for emergencies"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(li,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Email Support"}),r.jsx("p",{className:"text-gray-600",children:"support@berryevents.co.za"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Response within 24 hours"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ys,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Office Address"}),r.jsx("p",{className:"text-gray-600",children:"Cape Town, South Africa"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Visit by appointment only"})]})]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Ts,{className:"h-5 w-5"}),"Support Hours"]})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Monday - Friday"}),r.jsx("span",{className:"font-medium",children:"8:00 AM - 8:00 PM"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Saturday"}),r.jsx("span",{className:"font-medium",children:"9:00 AM - 5:00 PM"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Sunday"}),r.jsx("span",{className:"font-medium",children:"10:00 AM - 4:00 PM"})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 p-3 bg-orange-50 rounded-lg",children:[r.jsx(Eo,{className:"h-4 w-4 text-orange-600"}),r.jsx("p",{className:"text-sm text-orange-800",children:"Emergency plumbing & electrical services available 24/7"})]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{children:"Self-Help Resources"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("a",{href:"/help",className:"text-blue-600 hover:text-blue-800 font-medium","data-testid":"link-help-center",children:" Help Center"}),r.jsx("p",{className:"text-sm text-gray-600",children:"FAQs and how-to guides"})]}),r.jsxs("div",{children:[r.jsx("a",{href:"/support",className:"text-blue-600 hover:text-blue-800 font-medium","data-testid":"link-support-center",children:" Support Center"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Submit and track support tickets"})]}),r.jsxs("div",{children:[r.jsx("a",{href:"/safety",className:"text-blue-600 hover:text-blue-800 font-medium","data-testid":"link-safety-resources",children:" Safety Resources"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Trust & safety information"})]})]})]})]})]})]})})}var z_="Collapsible",[v0e,Twe]=hr(z_),[y0e,V_]=v0e(z_),xU=j.forwardRef((e,t)=>{const{__scopeCollapsible:s,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c=!1,d]=Sa({prop:n,defaultProp:i,onChange:o});return r.jsx(y0e,{scope:s,disabled:a,contentId:ba(),open:c,onOpenToggle:j.useCallback(()=>d(u=>!u),[d]),children:r.jsx(gt.div,{"data-state":U_(c),"data-disabled":a?"":void 0,...l,ref:t})})});xU.displayName=z_;var vU="CollapsibleTrigger",yU=j.forwardRef((e,t)=>{const{__scopeCollapsible:s,...n}=e,i=V_(vU,s);return r.jsx(gt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":U_(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Qe(e.onClick,i.onOpenToggle)})});yU.displayName=vU;var $_="CollapsibleContent",bU=j.forwardRef((e,t)=>{const{forceMount:s,...n}=e,i=V_($_,e.__scopeCollapsible);return r.jsx(fr,{present:s||i.open,children:({present:a})=>r.jsx(b0e,{...n,ref:t,present:a})})});bU.displayName=$_;var b0e=j.forwardRef((e,t)=>{const{__scopeCollapsible:s,present:n,children:i,...a}=e,o=V_($_,s),[l,c]=j.useState(n),d=j.useRef(null),u=Gt(t,d),h=j.useRef(0),m=h.current,f=j.useRef(0),g=f.current,p=o.open||l,b=j.useRef(p),x=j.useRef(void 0);return j.useEffect(()=>{const y=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(y)},[]),sr(()=>{const y=d.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();h.current=w.height,f.current=w.width,b.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(n)}},[o.open,n]),r.jsx(gt.div,{"data-state":U_(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...a,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&i})});function U_(e){return e?"open":"closed"}var w0e=xU;const j0e=w0e,N0e=yU,S0e=bU;function C0e(){us();const[e,t]=j.useState(""),[s,n]=j.useState(null),i=[{id:"booking",category:"Booking",question:"How do I book a service?",answer:"You can book a service by browsing our services page, selecting your desired service, filling in your details and location, and confirming your booking. Payment is processed securely through Berry Events Bank."},{id:"payment",category:"Payment",question:"What payment methods do you accept?",answer:"We accept all major credit cards, debit cards, and bank transfers through our secure Berry Events Bank payment system. All payments are protected with escrow-style security."},{id:"cancellation",category:"Booking",question:"Can I cancel or reschedule my booking?",answer:"Yes, you can cancel or reschedule your booking up to 24 hours before the scheduled time without any fees. Cancellations within 24 hours may incur a small cancellation fee."},{id:"providers",category:"Providers",question:"How are service providers verified?",answer:"All our providers go through a comprehensive verification process including ID verification, background checks, skill assessments, and customer reviews. We only work with trusted professionals."},{id:"pricing",category:"Pricing",question:"How is pricing determined?",answer:"Our pricing is competitive and transparent. Costs vary based on service type, duration, location, and any special requirements. You'll see the full price breakdown before confirming your booking."},{id:"emergency",category:"Emergency",question:"Do you offer emergency services?",answer:"Yes, we offer 24/7 emergency services for plumbing and electrical issues. Call our emergency hotline at 0800 237 779 for immediate assistance."},{id:"quality",category:"Service Quality",question:"What if I'm not satisfied with the service?",answer:"Your satisfaction is our priority. If you're not happy with the service, contact us within 24 hours and we'll work with you to resolve the issue, including potential refunds or re-service."},{id:"account",category:"Account",question:"How do I update my account information?",answer:"You can update your account information by going to your profile page after logging in. You can change your contact details, address, and payment methods there."}],a=i.filter(l=>l.question.toLowerCase().includes(e.toLowerCase())||l.answer.toLowerCase().includes(e.toLowerCase())||l.category.toLowerCase().includes(e.toLowerCase())),o=Array.from(new Set(i.map(l=>l.category)));return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Support Center"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Find answers to your questions, get help with your bookings, and connect with our support team."})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow cursor-pointer group",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors",children:r.jsx(ya,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Contact Support"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Get direct help from our support team"}),r.jsx(K,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href="/contact","data-testid":"button-contact-support",children:"Contact Us"})]})}),r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow cursor-pointer group",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-green-200 transition-colors",children:r.jsx(xn,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Emergency Line"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"24/7 emergency support available"}),r.jsx(K,{variant:"outline",className:"w-full border-green-600 text-green-600 hover:bg-green-50",onClick:()=>window.location.href="tel:0800237779","data-testid":"button-emergency-call",children:"Call 0800 237 779"})]})}),r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow cursor-pointer group",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-purple-200 transition-colors",children:r.jsx(dc,{className:"h-6 w-6 text-purple-600"})}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Help Center"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Browse guides and tutorials"}),r.jsx(K,{variant:"outline",className:"w-full border-purple-600 text-purple-600 hover:bg-purple-50",onClick:()=>window.location.href="/help","data-testid":"button-help-center",children:"Browse Help"})]})})]}),r.jsxs(oe,{className:"shadow-lg mb-8",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(V1,{className:"h-6 w-6 text-blue-600"}),"Frequently Asked Questions"]}),r.jsxs("div",{className:"relative mt-4",children:[r.jsx($i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{placeholder:"Search FAQs...",className:"pl-10",value:e,onChange:l=>t(l.target.value),"data-testid":"input-faq-search"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[r.jsx(Ke,{variant:e===""?"default":"outline",className:"cursor-pointer",onClick:()=>t(""),"data-testid":"filter-all",children:"All"}),o.map(l=>r.jsx(Ke,{variant:"outline",className:"cursor-pointer hover:bg-blue-50",onClick:()=>t(l),"data-testid":`filter-${l.toLowerCase()}`,children:l},l))]})]}),r.jsx(le,{children:a.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(V1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No FAQs found matching your search."}),r.jsx(K,{variant:"outline",className:"mt-4",onClick:()=>t(""),"data-testid":"button-clear-search",children:"Clear Search"})]}):r.jsx("div",{className:"space-y-4",children:a.map(l=>r.jsxs(j0e,{open:s===l.id,onOpenChange:c=>n(c?l.id:null),children:[r.jsx(N0e,{asChild:!0,children:r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors","data-testid":`faq-${l.id}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ke,{variant:"outline",className:"text-xs",children:l.category}),r.jsx("h3",{className:"font-medium text-left",children:l.question})]}),r.jsx(CC,{className:`h-4 w-4 transition-transform ${s===l.id?"rotate-180":""}`})]})}),r.jsx(S0e,{children:r.jsx("div",{className:"p-4 pt-0",children:r.jsx("p",{className:"text-gray-600 leading-relaxed",children:l.answer})})})]},l.id))})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(nZ,{className:"h-6 w-6 text-blue-600"}),"Still Need Help?"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600",children:"Can't find what you're looking for? Our support team is here to help you with any questions or issues."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Average response time: 2 hours"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"24/7 emergency support available"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Multiple contact methods"})]})]}),r.jsxs(K,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href="/contact","data-testid":"button-get-help",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Get Personal Help"]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(yn,{className:"h-6 w-6 text-green-600"}),"Community & Resources"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-600",children:"Explore our help resources and connect with the Berry Events community."}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("a",{href:"/help",className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors","data-testid":"link-help-guides",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dc,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{children:"Help Guides"})]}),r.jsx(Wf,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs("a",{href:"/safety",className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors","data-testid":"link-safety-info",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{children:"Safety Information"})]}),r.jsx(Wf,{className:"h-4 w-4 text-gray-400"})]}),r.jsxs("a",{href:"/feedback",className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors","data-testid":"link-feedback",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Eo,{className:"h-4 w-4 text-orange-600"}),r.jsx("span",{children:"Send Feedback"})]}),r.jsx(Wf,{className:"h-4 w-4 text-gray-400"})]})]})]})]})]})]})})}function k0e(){const[e,t]=j.useState("");j.useState(null);const s=[{id:"getting-started",title:"Getting Started",icon:r.jsx(so,{className:"h-5 w-5"}),articles:[{id:"create-account",title:"How to create your Berry Events account",content:"Learn how to sign up and get started with booking home services on our platform."},{id:"first-booking",title:"Making your first service booking",content:"Step-by-step guide to booking your first home service, from selecting a service to payment."},{id:"how-it-works",title:"How Berry Events works",content:"Understand our platform, how we connect you with verified service providers, and our quality guarantees."}]},{id:"booking-services",title:"Booking Services",icon:r.jsx(Ws,{className:"h-5 w-5"}),articles:[{id:"book-cleaning",title:"Booking house cleaning services",content:"Complete guide to booking professional cleaning services, pricing, and what to expect."},{id:"book-catering",title:"Booking chef and catering services",content:"How to book our specialized African cuisine catering services for events and daily meals."},{id:"emergency-services",title:"Emergency plumbing and electrical services",content:"Learn about our 24/7 emergency services for urgent plumbing and electrical issues."},{id:"modify-booking",title:"Modifying or canceling bookings",content:"How to reschedule, modify, or cancel your bookings and our cancellation policies."}]},{id:"payments",title:"Payments & Billing",icon:r.jsx(Cr,{className:"h-5 w-5"}),articles:[{id:"payment-methods",title:"Accepted payment methods",content:"Overview of payment options including credit cards, debit cards, and bank transfers through Berry Events Bank."},{id:"pricing",title:"Understanding pricing and fees",content:"How our pricing works, what factors affect cost, and our transparent fee structure."},{id:"refunds",title:"Refunds and payment protection",content:"Our refund policy, payment protection through Berry Events Bank, and how to request refunds."}]},{id:"safety",title:"Trust & Safety",icon:r.jsx(bs,{className:"h-5 w-5"}),articles:[{id:"provider-verification",title:"How we verify service providers",content:"Learn about our comprehensive verification process including background checks and skill assessments."},{id:"safety-tips",title:"Safety tips for home services",content:"Best practices for staying safe when having service providers in your home."},{id:"insurance-coverage",title:"Insurance and liability coverage",content:"Understanding what insurance coverage is provided for services and how to report issues."}]},{id:"providers",title:"For Service Providers",icon:r.jsx(yn,{className:"h-5 w-5"}),articles:[{id:"become-provider",title:"How to become a service provider",content:"Complete guide to joining Berry Events as a verified service provider."},{id:"provider-training",title:"Provider training and certification",content:"Overview of our training programs and certification requirements for different services."},{id:"earnings",title:"Understanding provider earnings",content:"How provider payments work, commission structure, and payment schedules."}]}],n=[{icon:r.jsx(ya,{className:"h-6 w-6 text-blue-600"}),title:"Contact Support",description:"Get help from our support team",action:"/contact",actionText:"Contact Us"},{icon:r.jsx(xn,{className:"h-6 w-6 text-green-600"}),title:"Emergency Line",description:"Call for urgent plumbing/electrical help",action:"tel:0800237779",actionText:"Call Now"},{icon:r.jsx(li,{className:"h-6 w-6 text-purple-600"}),title:"Email Support",description:"Email us your questions",action:"mailto:support@berryevents.co.za",actionText:"Send Email"}],i=s.flatMap(o=>o.articles.map(l=>({...l,categoryTitle:o.title}))),a=e?i.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())||o.content.toLowerCase().includes(e.toLowerCase())||o.categoryTitle.toLowerCase().includes(e.toLowerCase())):[];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Find answers to your questions, learn how to use Berry Events, and get the most out of our home services platform."})]}),r.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:r.jsxs("div",{className:"relative",children:[r.jsx($i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx(He,{placeholder:"Search help articles...",className:"pl-12 pr-4 py-4 text-lg border-2 border-gray-200 focus:border-blue-500 rounded-xl",value:e,onChange:o=>t(o.target.value),"data-testid":"input-help-search"})]})}),e&&r.jsxs("div",{className:"mb-12",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6",children:["Search Results (",a.length,")"]}),a.length===0?r.jsx(oe,{className:"text-center py-8",children:r.jsxs(le,{children:[r.jsx(V1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"No help articles found matching your search."}),r.jsx(K,{variant:"outline",onClick:()=>t(""),"data-testid":"button-clear-search",children:"Clear Search"})]})}):r.jsx("div",{className:"grid gap-4",children:a.map(o=>r.jsx(oe,{className:"hover:shadow-md transition-shadow",children:r.jsxs(le,{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-3 mb-2",children:r.jsx(Ke,{variant:"outline",children:o.categoryTitle})}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:o.title}),r.jsx("p",{className:"text-gray-600",children:o.content})]})},o.id))})]}),!e&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:n.map((o,l)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow cursor-pointer group",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-gray-200 transition-colors",children:o.icon}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:o.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:o.description}),r.jsx(K,{className:"w-full",onClick:()=>window.location.href=o.action,"data-testid":`button-${o.title.toLowerCase().replace(" ","-")}`,children:o.actionText})]})},l))}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900",children:"Browse Help Topics"}),s.map(o=>r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-3 text-xl",children:[o.icon,o.title]})}),r.jsx(le,{children:r.jsx("div",{className:"grid gap-3",children:o.articles.map(l=>r.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors","data-testid":`article-${l.id}`,children:[r.jsx("h4",{className:"font-medium text-lg mb-2",children:l.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:l.content})]},l.id))})})]},o.id))]}),r.jsx(oe,{className:"shadow-lg mt-12",children:r.jsxs(le,{className:"p-8 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Still Need Help?"}),r.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Can't find what you're looking for? Our support team is here to help you with any questions about Berry Events services."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href="/contact","data-testid":"button-contact-support",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Contact Support"]}),r.jsxs(K,{variant:"outline",onClick:()=>window.location.href="/support","data-testid":"button-support-center",children:[r.jsx(V1,{className:"h-4 w-4 mr-2"}),"Support Center"]})]})]})})]})]})})}function _0e(){const e=[{icon:r.jsx(yn,{className:"h-8 w-8"}),value:"10,000+",label:"Happy Customers"},{icon:r.jsx(Et,{className:"h-8 w-8"}),value:"500+",label:"Verified Providers"},{icon:r.jsx($t,{className:"h-8 w-8"}),value:"50,000+",label:"Services Completed"},{icon:r.jsx(Rr,{className:"h-8 w-8"}),value:"4.9/5",label:"Average Rating"}],t=[{icon:r.jsx(bs,{className:"h-12 w-12 text-blue-600"}),title:"Trust & Safety",description:"Every service provider is thoroughly vetted with background checks, skill assessments, and continuous monitoring to ensure your safety and peace of mind."},{icon:r.jsx(ap,{className:"h-12 w-12 text-red-500"}),title:"Quality First",description:"We're committed to delivering exceptional service quality. Our rigorous training programs and customer feedback systems ensure consistently high standards."},{icon:r.jsx(so,{className:"h-12 w-12 text-yellow-500"}),title:"Innovation",description:"We leverage cutting-edge technology to make home services more accessible, efficient, and convenient for both customers and service providers."},{icon:r.jsx(yn,{className:"h-12 w-12 text-green-600"}),title:"Community",description:"We believe in building strong communities by connecting neighbors with trusted local service providers and supporting local economic growth."}],s=[{name:"Sarah Johnson",role:"Chief Executive Officer",description:"Former operations director at leading South African service companies. Passionate about transforming home services through technology.",image:""},{name:"Michael Chen",role:"Chief Technology Officer",description:"Tech veteran with 15+ years building scalable platforms. Leads our mission to revolutionize the home services industry.",image:""},{name:"Nomsa Mthembu",role:"Head of Provider Relations",description:"Community leader focused on empowering service providers with training, certification, and sustainable income opportunities.",image:""},{name:"David Williams",role:"Head of Customer Experience",description:"Customer service expert dedicated to ensuring every Berry Events experience exceeds expectations and builds lasting trust.",image:""}],n=[{year:"2023",event:"Berry Events founded in Cape Town",description:"Started with a vision to transform home services in South Africa"},{year:"2023",event:"First 100 verified providers",description:"Built our initial network of trusted cleaning and maintenance professionals"},{year:"2024",event:"10,000 services completed",description:"Reached major milestone serving customers across major South African cities"},{year:"2024",event:"African cuisine specialization",description:"Launched specialized chef and catering services for authentic African cuisine"},{year:"2025",event:"50,000+ happy customers",description:"Expanded to become a leading home services platform across South Africa"}];return r.jsxs("div",{className:"min-h-screen",children:[r.jsx("section",{className:"bg-gradient-to-br from-blue-600 to-purple-700 text-white py-20",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[r.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About Berry Events"}),r.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-8",children:"We're revolutionizing home services in South Africa by connecting customers with verified, trusted professionals for all their domestic needs."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>window.location.href="/provider-onboarding","data-testid":"button-become-provider",children:"Become a Provider"}),r.jsx(K,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",onClick:()=>window.location.href="/contact","data-testid":"button-contact-us",children:"Contact Us"})]})]})}),r.jsx("section",{className:"py-16 bg-white",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((i,a)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center text-blue-600 mb-4",children:i.icon}),r.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:i.value}),r.jsx("div",{className:"text-gray-600",children:i.label})]},a))})})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4",children:r.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Mission"}),r.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"To make quality home services accessible, reliable, and affordable for every South African family while empowering service providers with sustainable income opportunities and professional growth."}),r.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We believe that everyone deserves a comfortable, well-maintained home, and every skilled professional deserves fair compensation and recognition for their expertise."}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($t,{className:"h-6 w-6 text-green-600"}),r.jsx("span",{className:"text-gray-700",children:"Rigorous provider verification and training"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($t,{className:"h-6 w-6 text-green-600"}),r.jsx("span",{className:"text-gray-700",children:"Secure payments through Berry Events Bank"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($t,{className:"h-6 w-6 text-green-600"}),r.jsx("span",{className:"text-gray-700",children:"24/7 emergency support for critical services"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx($t,{className:"h-6 w-6 text-green-600"}),r.jsx("span",{className:"text-gray-700",children:"Specialized African cuisine catering"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(oe,{className:"shadow-lg",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx(ys,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Local Focus"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Supporting South African communities and local service providers"})]})}),r.jsx(oe,{className:"shadow-lg",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx(vc,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Growth"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Helping providers build sustainable businesses and careers"})]})})]})]})})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Values"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"These core values guide everything we do and shape how we serve our customers and support our service providers."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((i,a)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:i.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:i.title}),r.jsx("p",{className:"text-gray-600",children:i.description})]})},a))})]})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Our Journey"}),r.jsx("p",{className:"text-xl text-gray-600",children:"From startup to South Africa's trusted home services platform"})]}),r.jsx("div",{className:"space-y-8",children:n.map((i,a)=>r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:i.year.slice(-2)})}),r.jsx(oe,{className:"flex-1 shadow-lg",children:r.jsxs(le,{className:"p-6",children:[r.jsx("div",{className:"flex items-center gap-3 mb-2",children:r.jsx(Ke,{className:"bg-blue-100 text-blue-800",children:i.year})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:i.event}),r.jsx("p",{className:"text-gray-600",children:i.description})]})})]},a))})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Meet Our Team"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Passionate professionals dedicated to transforming home services and empowering communities across South Africa."})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((i,a)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:i.image}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:i.name}),r.jsx("p",{className:"text-blue-600 font-medium mb-4",children:i.role}),r.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})},a))})]})}),r.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[r.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Experience Berry Events?"}),r.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of satisfied customers who trust Berry Events for all their home service needs."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsx(K,{size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>window.location.href="/services","data-testid":"button-book-service",children:"Book a Service"}),r.jsx(K,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",onClick:()=>window.location.href="/contact","data-testid":"button-get-in-touch",children:"Get in Touch"})]})]})})]})}const P0e=ip("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wU=j.forwardRef(({className:e,variant:t,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:tt(P0e({variant:t}),e),...s}));wU.displayName="Alert";const A0e=j.forwardRef(({className:e,...t},s)=>r.jsx("h5",{ref:s,className:tt("mb-1 font-medium leading-none tracking-tight",e),...t}));A0e.displayName="AlertTitle";const jU=j.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:tt("text-sm [&_p]:leading-relaxed",e),...t}));jU.displayName="AlertDescription";function E0e(){const e=[{icon:r.jsx(yc,{className:"h-12 w-12 text-blue-600"}),title:"Provider Verification",description:"All service providers undergo comprehensive background checks, ID verification, and skill assessments before joining our platform."},{icon:r.jsx(Et,{className:"h-12 w-12 text-yellow-500"}),title:"Ratings & Reviews",description:"Real customer reviews and ratings help you make informed decisions. All reviews are verified from actual service bookings."},{icon:r.jsx(Cr,{className:"h-12 w-12 text-green-600"}),title:"Secure Payments",description:"All payments are processed securely through Berry Events Bank with escrow protection and fraud monitoring."},{icon:r.jsx(bs,{className:"h-12 w-12 text-purple-600"}),title:"Insurance Coverage",description:"All services are covered by liability insurance to protect you and your property during service delivery."}],t=[{category:"Before Service",tips:["Verify the provider's identity when they arrive using our app","Ensure the provider has the correct booking details and service requirements","Secure valuable items and important documents","Inform someone you trust about the scheduled service"]},{category:"During Service",tips:["Stay home during the service when possible","Provide clear instructions and access to necessary areas only","Monitor the service progress through our live tracking feature","Ask questions if you're unsure about any procedures"]},{category:"After Service",tips:["Inspect the completed work before confirming completion","Leave honest feedback and ratings for future customers","Report any issues or concerns immediately through our app","Keep your receipt and service documentation"]}],s=[{type:"Emergency Services",description:"For urgent plumbing or electrical emergencies",contact:"0800 237 779",available:"24/7"},{type:"General Support",description:"For non-emergency questions or concerns",contact:"support@berryevents.co.za",available:"Mon-Sun 8AM-8PM"},{type:"Safety Concerns",description:"Report safety issues or suspicious activity",contact:"safety@berryevents.co.za",available:"Immediate response"}],n=[{step:"1",title:"Immediate Safety",description:"If you feel unsafe, contact local emergency services immediately (10111 for police, 10177 for ambulance)."},{step:"2",title:"Report to Berry Events",description:"Use our app or website to report the incident with details, photos, and any relevant information."},{step:"3",title:"Investigation",description:"Our safety team will investigate within 24 hours and take appropriate action including provider suspension if needed."},{step:"4",title:"Follow-up",description:"We'll keep you informed throughout the process and implement measures to prevent similar incidents."}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Trust & Safety"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your safety and security are our top priorities. Learn about our comprehensive safety measures and how we protect our community."})]}),r.jsxs(wU,{className:"mb-12 border-red-200 bg-red-50",children:[r.jsx(Tm,{className:"h-4 w-4 text-red-600"}),r.jsxs(jU,{className:"text-red-800",children:[r.jsx("strong",{children:"Emergency:"})," If you're in immediate danger, call local emergency services first (10111 for police, 10177 for ambulance), then contact our emergency hotline at ",r.jsx("strong",{children:"0800 237 779"}),"."]})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"How We Keep You Safe"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((i,a)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:i.icon}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:i.title}),r.jsx("p",{className:"text-gray-600",children:i.description})]})},a))})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Safety Tips for Home Services"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:t.map((i,a)=>r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx($t,{className:"h-6 w-6 text-green-600"}),i.category]})}),r.jsx(le,{children:r.jsx("ul",{className:"space-y-3",children:i.tips.map((o,l)=>r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),r.jsx("span",{className:"text-gray-600",children:o})]},l))})})]},a))})]}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2 text-center justify-center",children:[r.jsx(bs,{className:"h-6 w-6 text-blue-600"}),"Our Provider Verification Process"]})}),r.jsx(le,{children:r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Pm,{className:"h-8 w-8 text-blue-600"})}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Document Verification"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"ID verification, business registration, and professional certifications"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(yn,{className:"h-8 w-8 text-green-600"})}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Background Checks"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Criminal background screening and reference verification"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Et,{className:"h-8 w-8 text-purple-600"})}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Skill Assessment"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Practical skill tests and service quality evaluations"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Gg,{className:"h-8 w-8 text-yellow-600"})}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Ongoing Monitoring"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Continuous performance tracking and customer feedback review"})]})]})})]})}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Emergency Contacts"}),r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:s.map((i,a)=>r.jsx(oe,{className:"shadow-lg",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.type}),r.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"font-semibold text-lg text-blue-600",children:i.contact}),r.jsx(Ke,{variant:"outline",children:i.available})]}),i.contact.includes("@")?r.jsxs(K,{className:"mt-4 w-full",variant:"outline",onClick:()=>window.location.href=`mailto:${i.contact}`,"data-testid":`button-email-${i.type.toLowerCase().replace(" ","-")}`,children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Send Email"]}):r.jsxs(K,{className:"mt-4 w-full",variant:"outline",onClick:()=>window.location.href=`tel:${i.contact}`,"data-testid":`button-call-${i.type.toLowerCase().replace(" ","-")}`,children:[r.jsx(xn,{className:"h-4 w-4 mr-2"}),"Call Now"]})]})},a))})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"How to Report Safety Concerns"}),r.jsx("div",{className:"space-y-6",children:n.map((i,a)=>r.jsx(oe,{className:"shadow-lg",children:r.jsx(le,{className:"p-6",children:r.jsxs("div",{className:"flex gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-lg",children:i.step})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),r.jsx("p",{className:"text-gray-600",children:i.description})]})]})})},a))})]}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-center",children:"Additional Safety Resources"})}),r.jsx(le,{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Safety Guidelines"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsx("li",{children:r.jsxs("a",{href:"/help",className:"text-blue-600 hover:text-blue-800 flex items-center gap-2",children:[r.jsx(Wf,{className:"h-4 w-4"}),"Help Center - Safety Tips"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/contact",className:"text-blue-600 hover:text-blue-800 flex items-center gap-2",children:[r.jsx(Wf,{className:"h-4 w-4"}),"Report a Safety Issue"]})}),r.jsx("li",{children:r.jsxs("a",{href:"/support",className:"text-blue-600 hover:text-blue-800 flex items-center gap-2",children:[r.jsx(Wf,{className:"h-4 w-4"}),"Support Center"]})})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Emergency Services"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{children:["Police: ",r.jsx("strong",{children:"10111"})]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"h-4 w-4 text-red-600"}),r.jsxs("span",{children:["Ambulance: ",r.jsx("strong",{children:"10177"})]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"h-4 w-4 text-orange-600"}),r.jsxs("span",{children:["Fire: ",r.jsx("strong",{children:"10177"})]})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{children:["Berry Events Emergency: ",r.jsx("strong",{children:"0800 237 779"})]})]})]})]})]})})]})}),r.jsx("section",{className:"text-center",children:r.jsx(oe,{className:"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsxs(le,{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Your Safety Is Our Priority"}),r.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"We're committed to maintaining the highest safety standards. If you have questions or concerns, don't hesitate to contact us."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>window.location.href="/contact","data-testid":"button-contact-safety",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Contact Safety Team"]}),r.jsxs(K,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",onClick:()=>window.location.href="/help","data-testid":"button-safety-help",children:[r.jsx(bs,{className:"h-4 w-4 mr-2"}),"Safety Help Center"]})]})]})})})]})})}function T0e(){const{toast:e}=us(),[t,s]=j.useState({name:"",email:"",feedbackType:"",subject:"",message:"",rating:""}),n=os({mutationFn:async l=>{const c=await fetch("/api/support/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to send feedback")}return c.json()},onSuccess:()=>{e({title:"Thank You for Your Feedback!",description:"Your feedback helps us improve Berry Events. We appreciate you taking the time to share your thoughts."}),s({name:"",email:"",feedbackType:"",subject:"",message:"",rating:""})},onError:l=>{e({title:"Failed to Send Feedback",description:l.message||"Please try again or contact our support team.",variant:"destructive"})}}),i=l=>{if(l.preventDefault(),!t.name||!t.email||!t.feedbackType||!t.subject||!t.message){e({title:"Please fill in all required fields",description:"Name, email, feedback type, subject, and message are required.",variant:"destructive"});return}n.mutate(t)},a=(l,c)=>{s(d=>({...d,[l]:c}))},o=[{value:"general",label:"General Feedback",icon:""},{value:"service_quality",label:"Service Quality",icon:""},{value:"app_experience",label:"App Experience",icon:""},{value:"feature_request",label:"Feature Request",icon:""},{value:"complaint",label:"Complaint",icon:""},{value:"compliment",label:"Compliment",icon:""},{value:"suggestion",label:"Suggestion",icon:""}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"We Value Your Feedback"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Your feedback helps us improve Berry Events and provide better home services. Share your thoughts, suggestions, or experiences with us."})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"h-6 w-6 text-blue-600"}),"Share Your Feedback"]}),r.jsx("p",{className:"text-gray-600",children:"Tell us about your experience or suggest improvements"})]}),r.jsx(le,{children:r.jsxs("form",{onSubmit:i,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"name",children:"Full Name *"}),r.jsx(He,{id:"name",placeholder:"Your full name",value:t.name,onChange:l=>a("name",l.target.value),required:!0,"data-testid":"input-feedback-name"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email Address *"}),r.jsx(He,{id:"email",type:"email",placeholder:"your.email@example.com",value:t.email,onChange:l=>a("email",l.target.value),required:!0,"data-testid":"input-feedback-email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"feedbackType",children:"Feedback Type *"}),r.jsxs(Dt,{value:t.feedbackType,onValueChange:l=>a("feedbackType",l),children:[r.jsx(Mt,{"data-testid":"select-feedback-type",children:r.jsx(Ot,{placeholder:"Select feedback type"})}),r.jsx(Rt,{children:o.map(l=>r.jsxs(Ee,{value:l.value,children:[l.icon," ",l.label]},l.value))})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"rating",children:"Overall Rating (Optional)"}),r.jsxs(Dt,{value:t.rating,onValueChange:l=>a("rating",l),children:[r.jsx(Mt,{"data-testid":"select-feedback-rating",children:r.jsx(Ot,{placeholder:"Rate your experience"})}),r.jsxs(Rt,{children:[r.jsx(Ee,{value:"5",children:" Excellent"}),r.jsx(Ee,{value:"4",children:" Good"}),r.jsx(Ee,{value:"3",children:" Average"}),r.jsx(Ee,{value:"2",children:" Poor"}),r.jsx(Ee,{value:"1",children:" Terrible"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"subject",children:"Subject *"}),r.jsx(He,{id:"subject",placeholder:"Brief summary of your feedback",value:t.subject,onChange:l=>a("subject",l.target.value),required:!0,"data-testid":"input-feedback-subject"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"message",children:"Your Feedback *"}),r.jsx(Ca,{id:"message",placeholder:"Please share your detailed feedback, suggestions, or experiences...",className:"min-h-[120px]",value:t.message,onChange:l=>a("message",l.target.value),required:!0,"data-testid":"textarea-feedback-message"})]}),r.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:n.isPending,"data-testid":"button-submit-feedback",children:n.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(MC,{className:"h-4 w-4 mr-2"}),"Submit Feedback"]})})]})})]})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(fZ,{className:"h-5 w-5 text-green-600"}),"Why Your Feedback Matters"]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(EP,{className:"h-5 w-5 text-yellow-500 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Drive Innovation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your suggestions help us develop new features and services"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Et,{className:"h-5 w-5 text-blue-500 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Improve Quality"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your experiences help us maintain high service standards"})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Eo,{className:"h-5 w-5 text-purple-500 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Fix Issues"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your reports help us identify and resolve problems quickly"})]})]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsx($e,{children:"Recent Improvements"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Based on your feedback:"})]}),r.jsxs(le,{className:"space-y-3",children:[r.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[r.jsx("p",{className:"font-medium text-sm",children:"Improved Booking Flow"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Simplified the booking process based on user feedback"})]}),r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("p",{className:"font-medium text-sm",children:"Better Provider Matching"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Enhanced our recommendation algorithm"})]}),r.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[r.jsx("p",{className:"font-medium text-sm",children:"Mobile App Updates"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Added live tracking and push notifications"})]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{children:"Other Ways to Reach Us"})}),r.jsxs(le,{className:"space-y-3",children:[r.jsx("div",{children:r.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="/contact","data-testid":"button-contact-support",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Contact Support"]})}),r.jsx("div",{children:r.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="/help","data-testid":"button-help-center",children:[r.jsx(EP,{className:"h-4 w-4 mr-2"}),"Help Center"]})}),r.jsx("div",{children:r.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="tel:0800237779","data-testid":"button-call-support",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Call 0800 237 779"]})})]})]})]})]})]})})}function M0e(){const e=[{title:"Senior Software Engineer",department:"Technology",location:"Cape Town",type:"Full-time",description:"Lead development of our platform's core features and help scale our technology to serve millions of users across South Africa."},{title:"Customer Success Manager",department:"Customer Experience",location:"Johannesburg",type:"Full-time",description:"Ensure customers have exceptional experiences and help drive customer satisfaction and retention initiatives."},{title:"Provider Relations Specialist",department:"Operations",location:"Durban",type:"Full-time",description:"Build relationships with service providers, manage onboarding, and support provider success and growth."},{title:"Marketing Coordinator",department:"Marketing",location:"Remote",type:"Full-time",description:"Drive growth through digital marketing campaigns, content creation, and community engagement initiatives."}],t=["Competitive salary and equity package","Comprehensive medical aid and life insurance","Flexible working arrangements and remote options","Professional development and training opportunities","Annual leave and wellness days","Team building and company retreats"];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-careers",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Join Our Team"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Help us revolutionize home services in South Africa. Join a passionate team building technology that makes a real difference in people's lives."})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Why Work at Berry Events?"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(ap,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Make an Impact"}),r.jsx("p",{className:"text-gray-600",children:"Help millions of South Africans access quality home services while supporting local service providers."})]})}),r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(vc,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Grow Your Career"}),r.jsx("p",{className:"text-gray-600",children:"Join a fast-growing company with opportunities for professional development and career advancement."})]})}),r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(yn,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"font-bold text-xl mb-2",children:"Amazing Team"}),r.jsx("p",{className:"text-gray-600",children:"Work with passionate, talented professionals who are committed to excellence and innovation."})]})})]})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Current Openings"}),r.jsx("div",{className:"space-y-6",children:e.map((s,n)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s.title}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx(Ke,{variant:"outline",children:s.department}),r.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx(ys,{className:"h-3 w-3"}),s.location]}),r.jsxs(Ke,{variant:"outline",className:"flex items-center gap-1",children:[r.jsx(Ts,{className:"h-3 w-3"}),s.type]})]})]}),r.jsx(K,{"data-testid":`button-apply-${n}`,children:"Apply Now"})]}),r.jsx("p",{className:"text-gray-600",children:s.description})]})},n))})]}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{className:"text-center text-2xl",children:"Benefits & Perks"})}),r.jsx(le,{children:r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map((s,n)=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-gray-700",children:s})]},n))})})]})}),r.jsx("section",{className:"text-center",children:r.jsx(oe,{className:"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsxs(le,{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Join Berry Events?"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Send us your CV and let's discuss how you can help transform home services in South Africa."}),r.jsxs(K,{className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>window.location.href="mailto:careers@berryevents.co.za","data-testid":"button-apply-careers",children:[r.jsx(MC,{className:"h-4 w-4 mr-2"}),"Send Your CV"]})]})})})]})})}function R0e(){return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-press",children:r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Press & Media"}),r.jsx("p",{className:"text-xl text-gray-600 mb-12",children:"Media inquiries and press resources for Berry Events"}),r.jsx(oe,{className:"shadow-lg",children:r.jsxs(le,{className:"p-8",children:[r.jsx(lZ,{className:"h-16 w-16 text-blue-600 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Media Contact"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"For press inquiries, interviews, and media requests"}),r.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>window.location.href="mailto:press@berryevents.co.za","data-testid":"button-contact-press",children:[r.jsx(li,{className:"h-4 w-4 mr-2"}),"Contact Press Team"]})]})})]})})}function L0e(){const e=[{icon:r.jsx(dc,{className:"h-8 w-8 text-blue-600"}),title:"Training & Certification",description:"Access training materials, certification programs, and skill development resources",link:"/provider-training"},{icon:r.jsx(Wd,{className:"h-8 w-8 text-green-600"}),title:"Earnings & Payments",description:"Understand payment schedules, commission rates, and earnings optimization",link:"/provider-earnings"},{icon:r.jsx(Et,{className:"h-8 w-8 text-yellow-600"}),title:"Berry Stars Program",description:"Learn about our rewards program and how to earn bonuses and benefits",link:"/berry-stars"},{icon:r.jsx(bs,{className:"h-8 w-8 text-purple-600"}),title:"Safety & Guidelines",description:"Safety protocols, service standards, and professional guidelines",link:"/safety"}],t=[{title:"Provider Hotline",description:"Dedicated support line for service providers",contact:"0800 PROVIDER (0800 776 8433)",available:"Mon-Fri 7AM-9PM"},{title:"Provider Email Support",description:"Email support for non-urgent questions",contact:"providers@berryevents.co.za",available:"Response within 4 hours"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-provider-support",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Provider Support Center"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Dedicated support for Berry Events service providers. Get help with training, earnings, technical issues, and grow your business with us."})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:t.map((s,n)=>r.jsx(oe,{className:"shadow-lg",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx(xn,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"font-semibold text-xl mb-2",children:s.title}),r.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-semibold text-lg text-blue-600",children:s.contact}),r.jsx(Ke,{variant:"outline",children:s.available})]})]})},n))}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"How Can We Help You?"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((s,n)=>r.jsx(oe,{className:"shadow-lg hover:shadow-xl transition-shadow cursor-pointer group",children:r.jsxs(le,{className:"p-6 text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:s.icon}),r.jsx("h3",{className:"font-semibold text-lg mb-3",children:s.title}),r.jsx("p",{className:"text-gray-600 text-sm mb-4",children:s.description}),r.jsx(K,{variant:"outline",className:"w-full",onClick:()=>window.location.href=s.link,"data-testid":`button-${s.title.toLowerCase().replace(/\s+/g,"-")}`,children:"Learn More"})]})},n))})]}),r.jsxs("section",{children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Provider Resources"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{children:"Getting Started"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"1"})}),r.jsx("span",{children:"Complete your provider profile"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"2"})}),r.jsx("span",{children:"Complete training modules"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"3"})}),r.jsx("span",{children:"Get verified and start earning"})]})]})]}),r.jsxs(oe,{className:"shadow-lg",children:[r.jsx(Ve,{children:r.jsx($e,{children:"Need Help?"})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs(K,{className:"w-full justify-start",onClick:()=>window.location.href="/contact","data-testid":"button-contact-provider-support",children:[r.jsx(ya,{className:"h-4 w-4 mr-2"}),"Contact Provider Support"]}),r.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="/provider-training","data-testid":"button-provider-training",children:[r.jsx(dc,{className:"h-4 w-4 mr-2"}),"Training Center"]}),r.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="/provider-dashboard","data-testid":"button-provider-dashboard",children:[r.jsx(yn,{className:"h-4 w-4 mr-2"}),"Provider Dashboard"]})]})]})]})]})]})})}function D0e(){const e=[{name:"Rising Star",icon:r.jsx(Et,{className:"h-8 w-8 text-yellow-500"}),requirement:"Complete 10 services with 4.5+ rating",benefits:["5% bonus on completed services","Priority customer matching","Basic provider support"],color:"yellow"},{name:"Shining Star",icon:r.jsx(Rr,{className:"h-8 w-8 text-blue-600"}),requirement:"Complete 50 services with 4.7+ rating",benefits:["10% bonus on completed services","Featured provider listing","Premium customer matching","Dedicated account manager"],color:"blue"},{name:"Super Star",icon:r.jsx(JK,{className:"h-8 w-8 text-purple-600"}),requirement:"Complete 200 services with 4.8+ rating",benefits:["15% bonus on completed services","Top provider placement","VIP customer support","Berry Stars merchandise","Quarterly bonus opportunities"],color:"purple"}],t=[{icon:r.jsx(Wd,{className:"h-6 w-6 text-green-600"}),title:"Performance Bonuses",description:"Earn extra income based on your service quality and customer satisfaction ratings"},{icon:r.jsx(yn,{className:"h-6 w-6 text-blue-600"}),title:"Priority Matching",description:"Get priority access to high-value customers and premium service requests"},{icon:r.jsx(sZ,{className:"h-6 w-6 text-purple-600"}),title:"Exclusive Perks",description:"Access to provider events, training workshops, and special recognition programs"},{icon:r.jsx(RC,{className:"h-6 w-6 text-orange-600"}),title:"Growth Support",description:"Business development resources, marketing support, and expansion opportunities"}],s=[{name:"Perfect Week",description:"Complete 7 services in a week with 5-star ratings",points:500},{name:"Customer Favorite",description:"Receive 10 customer compliments in a month",points:300},{name:"Safety Champion",description:"Complete 100 services with zero safety incidents",points:750},{name:"Training Master",description:"Complete all advanced training modules",points:400},{name:"Speed Demon",description:"Complete services 20% faster than average",points:250},{name:"Reliability Star",description:"100% on-time completion rate for 30 days",points:600}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-berry-stars",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-purple-600 rounded-full flex items-center justify-center",children:r.jsx(Et,{className:"h-12 w-12 text-white"})})}),r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Berry Stars Program"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our exclusive rewards program for exceptional service providers. Earn bonuses, unlock benefits, and grow your business with Berry Events."})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Star Tiers"}),r.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:e.map((n,i)=>r.jsxs(oe,{className:`shadow-lg border-2 ${n.color==="yellow"?"border-yellow-200":n.color==="blue"?"border-blue-200":"border-purple-200"}`,children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:n.icon}),r.jsx($e,{className:"text-2xl",children:n.name}),r.jsx("p",{className:"text-gray-600",children:n.requirement})]}),r.jsx(le,{children:r.jsx("div",{className:"space-y-3",children:n.benefits.map((a,o)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:a})]},o))})})]},i))})]}),r.jsxs("section",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Program Benefits"}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,i)=>r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx("div",{className:"flex justify-center mb-4",children:n.icon}),r.jsx("h3",{className:"font-semibold text-lg mb-2",children:n.title}),r.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]})},i))})]}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2 justify-center",children:[r.jsx(Rr,{className:"h-6 w-6 text-yellow-600"}),"Achievement System"]}),r.jsx("p",{className:"text-gray-600 text-center",children:"Unlock special badges and earn bonus points"})]}),r.jsx(le,{children:r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map((n,i)=>r.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:n.name}),r.jsxs(Ke,{variant:"outline",children:[n.points," pts"]})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:n.description})]},i))})})]})}),r.jsx("section",{className:"text-center",children:r.jsx(oe,{className:"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:r.jsxs(le,{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Become a Berry Star?"}),r.jsx("p",{className:"text-blue-100 mb-6",children:"Join our rewards program and start earning bonuses for exceptional service."}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[r.jsxs(K,{className:"bg-white text-blue-600 hover:bg-gray-100",onClick:()=>window.location.href="/provider-onboarding","data-testid":"button-join-program",children:[r.jsx(Et,{className:"h-4 w-4 mr-2"}),"Join the Program"]}),r.jsxs(K,{variant:"outline",className:"border-white text-white hover:bg-white hover:text-blue-600",onClick:()=>window.location.href="/provider-dashboard","data-testid":"button-view-dashboard",children:[r.jsx(yn,{className:"h-4 w-4 mr-2"}),"View Dashboard"]})]})]})})})]})})}function O0e(){const e=[{service:"House Cleaning",rate:"R120-180/hour",commission:"15%",netRate:"R102-153/hour"},{service:"Garden Maintenance",rate:"R100-150/hour",commission:"15%",netRate:"R85-128/hour"},{service:"Plumbing Services",rate:"R200-300/hour",commission:"15%",netRate:"R170-255/hour"},{service:"Electrical Work",rate:"R250-350/hour",commission:"15%",netRate:"R213-298/hour"},{service:"Chef & Catering",rate:"R150-250/hour",commission:"15%",netRate:"R128-213/hour"},{service:"Elder Care",rate:"R80-120/hour",commission:"15%",netRate:"R68-102/hour"}],t=[{metric:"Perfect 5-Star Rating",bonus:"+10% for the month",requirement:"All services rated 5 stars"},{metric:"High Volume",bonus:"+5% on 20+ services",requirement:"Complete 20+ services per month"},{metric:"Emergency Response",bonus:"+R50 per call",requirement:"Accept emergency service calls"},{metric:"Customer Retention",bonus:"+15% on repeat customers",requirement:"Service returning customers"},{metric:"Peak Hours",bonus:"+20% during peak",requirement:"Work weekends and evenings"},{metric:"Berry Stars Program",bonus:"Up to +15%",requirement:"Maintain Berry Stars status"}],s=[{day:"Weekly",description:"Payments processed every Friday for services completed the previous week"},{day:"Monthly",description:"Bonuses and incentives paid on the first Friday of each month"},{day:"Instant",description:"Emergency services paid within 24 hours of completion"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-provider-earnings",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Provider Earnings"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Understand how much you can earn as a Berry Events service provider, our commission structure, bonus opportunities, and payment schedules."})]}),r.jsx("section",{className:"mb-16",children:r.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(Wd,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"R180/hour"}),r.jsx("div",{className:"text-gray-600",children:"Average Earnings"})]})}),r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(vc,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"15%"}),r.jsx("div",{className:"text-gray-600",children:"Platform Commission"})]})}),r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(Et,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"+15%"}),r.jsx("div",{className:"text-gray-600",children:"Max Bonus Rate"})]})}),r.jsx(oe,{className:"shadow-lg text-center",children:r.jsxs(le,{className:"p-6",children:[r.jsx(Ws,{className:"h-12 w-12 text-purple-600 mx-auto mb-4"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"Weekly"}),r.jsx("div",{className:"text-gray-600",children:"Payment Frequency"})]})})]})}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(GK,{className:"h-6 w-6 text-blue-600"}),"Service Rates & Earnings"]}),r.jsx("p",{className:"text-gray-600",children:"Competitive rates with transparent commission structure"})]}),r.jsx(le,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3",children:"Service Type"}),r.jsx("th",{className:"text-left py-3",children:"Customer Rate"}),r.jsx("th",{className:"text-left py-3",children:"Commission"}),r.jsx("th",{className:"text-left py-3",children:"Your Earnings"})]})}),r.jsx("tbody",{children:e.map((n,i)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 font-medium",children:n.service}),r.jsx("td",{className:"py-3",children:n.rate}),r.jsx("td",{className:"py-3",children:r.jsx(Ke,{variant:"outline",children:n.commission})}),r.jsx("td",{className:"py-3 font-semibold text-green-600",children:n.netRate})]},i))})]})})})]})}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Rr,{className:"h-6 w-6 text-yellow-600"}),"Bonus & Incentive Structure"]}),r.jsx("p",{className:"text-gray-600",children:"Earn extra income through our performance-based bonuses"})]}),r.jsx(le,{children:r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map((n,i)=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:n.metric}),r.jsx(Ke,{className:"bg-green-100 text-green-800",children:n.bonus})]}),r.jsx("p",{className:"text-gray-600 text-sm",children:n.requirement})]},i))})})]})}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Cr,{className:"h-6 w-6 text-green-600"}),"Payment Schedule"]}),r.jsx("p",{className:"text-gray-600",children:"Reliable, on-time payments you can count on"})]}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:s.map((n,i)=>r.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Ts,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:n.day}),r.jsx("p",{className:"text-gray-600",children:n.description})]})]},i))})})]})}),r.jsx("section",{className:"mb-16",children:r.jsxs(oe,{className:"shadow-lg",children:[r.jsxs(Ve,{children:[r.jsx($e,{className:"text-center",children:"Potential Monthly Earnings"}),r.jsx("p",{className:"text-gray-600 text-center",children:"Based on different activity levels"})]}),r.jsx(le,{children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"text-center p-6 border rounded-lg",children:[r.jsx("h4",{className:"font-bold text-lg mb-2",children:"Part-Time"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"10 hours/week"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"R6,800"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Base earnings per month"})]}),r.jsxs("div",{className:"text-center p-6 border-2 border-blue-500 rounded-lg bg-blue-50",children:[r.jsx("h4",{className:"font-bold text-lg mb-2",children:"Full-Time"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"40 hours/week"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"R27,200"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Base earnings per month"})]}),r.jsxs("div",{className:"text-center p-6 border rounded-lg",children:[r.jsx("h4",{className:"font-bold text-lg mb-2",children:"With Bonuses"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Full-time + bonuses"}),r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"R31,280"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Including 15% bonuses"})]})]})})]})}),r.jsx("section",{className:"text-center",children:r.jsx(oe,{className:"shadow-lg bg-gradient-to-r from-green-600 to-blue-600 text-white",children:r.jsxs(le,{className:"p-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Start Earning Today"}),r.jsx("p",{className:"text-green-100 mb-6",children:"Join thousands of service providers earning reliable income with Berry Events."}),r.jsxs(K,{className:"bg-white text-green-600 hover:bg-gray-100",onClick:()=>window.location.href="/provider-onboarding","data-testid":"button-start-earning",children:[r.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Start Earning"]})]})})})]})})}function I0e(){const[,e]=nr(),[t,s]=j.useState(null),[n,i]=j.useState(!0),[a,o]=j.useState(!1);j.useEffect(()=>{(async()=>{const u=new URLSearchParams(window.location.search);await new Promise(m=>setTimeout(m,1500));const h={quoteId:`QT-${Date.now()}-${Math.random().toString(36).substr(2,6).toUpperCase()}`,service:u.get("service")||"House Cleaning",category:u.get("category")||"cleaning",date:u.get("date")||new Date(Date.now()+864e5).toLocaleDateString(),time:u.get("time")||"10:00 AM",duration:u.get("duration")||"2-3 hours",location:u.get("location")||"123 Oak Street, Cape Town, 8001",customerName:u.get("customerName")||"John Doe",customerEmail:u.get("customerEmail")||"john.doe@example.com",customerPhone:u.get("customerPhone")||"+27 82 123 4567",providerName:"Sarah Johnson",providerRating:4.8,providerCompletedJobs:127,serviceDetails:{propertySize:u.get("propertySize")||"Medium (3-4 bedrooms)",specialRequests:u.get("specialRequests")||"Deep cleaning of kitchen and bathrooms",frequency:u.get("frequency")||"One-time"},pricing:{baseRate:parseInt(u.get("baseRate")||"200"),additionalCharges:[{description:"Deep cleaning surcharge",amount:50},{description:"Supply cleaning materials",amount:25}],platformFee:Math.round((parseInt(u.get("baseRate")||"200")+75)*.15),total:Math.round((parseInt(u.get("baseRate")||"200")+75)*1.15)},validUntil:new Date(Date.now()+48*60*60*1e3).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),estimatedDuration:"2-3 hours"};s(h),i(!1)})()},[]);const l=async()=>{if(!t)return;o(!0),await new Promise(u=>setTimeout(u,1e3));const d=new URLSearchParams({quoteId:t.quoteId,service:t.service,date:t.date,time:t.time,location:t.location,total:t.pricing.total.toString(),provider:t.providerName});e(`/payment?${d.toString()}`)},c=()=>{e("/booking")};return n?r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-6"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Generating Your Quote"}),r.jsx("p",{className:"text-gray-600",children:"Please wait while we calculate pricing and find the best provider..."})]})})})}):t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4","data-testid":"page-quote",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("img",{src:jc,alt:"Berry Events Logo",className:"h-16 w-auto mx-auto mb-4","data-testid":"berry-logo"}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Service Quote"}),r.jsx("p",{className:"text-gray-600",children:"Review the details and pricing for your service request"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Pm,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsxs($e,{className:"text-xl",children:["Quote #",t.quoteId]}),r.jsx("p",{className:"text-gray-600",children:t.service})]})]}),r.jsxs(Ke,{className:"bg-green-100 text-green-800","data-testid":"quote-status",children:[r.jsx($t,{className:"h-4 w-4 mr-1"}),"Ready for Review"]})]})}),r.jsx(le,{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ws,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Service Date"}),r.jsxs("p",{className:"text-gray-600",children:[t.date," at ",t.time]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ts,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Duration"}),r.jsx("p",{className:"text-gray-600",children:t.estimatedDuration})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ys,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Location"}),r.jsx("p",{className:"text-gray-600",children:t.location})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ts,{className:"h-4 w-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Valid Until"}),r.jsx("p",{className:"text-gray-600",children:t.validUntil})]})]})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Your Assigned Provider"})}),r.jsx(le,{children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(vn,{className:"h-8 w-8 text-purple-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-lg",children:t.providerName}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-500 fill-current"}),r.jsxs("span",{children:[t.providerRating," rating"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx($t,{className:"h-4 w-4 text-green-500"}),r.jsxs("span",{children:[t.providerCompletedJobs," jobs completed"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(bs,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{children:"Verified"})]})]})]})]})})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Service Requirements"})}),r.jsx(le,{className:"space-y-3",children:Object.entries(t.serviceDetails).map(([d,u])=>r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 last:border-b-0",children:[r.jsxs("span",{className:"font-medium capitalize",children:[d.replace(/([A-Z])/g," $1").trim(),":"]}),r.jsx("span",{className:"text-gray-600",children:u})]},d))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Wd,{className:"h-5 w-5 text-green-600"}),"Pricing Breakdown"]})}),r.jsx(le,{className:"space-y-4",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Base Rate"}),r.jsxs("span",{children:["R",t.pricing.baseRate]})]}),t.pricing.additionalCharges.map((d,u)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:d.description}),r.jsxs("span",{children:["R",d.amount]})]},u)),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Platform Fee (15%)"}),r.jsxs("span",{children:["R",t.pricing.platformFee]})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Total Amount"}),r.jsxs("span",{className:"text-green-600","data-testid":"quote-total",children:["R",t.pricing.total]})]})]})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(K,{className:"w-full bg-green-600 hover:bg-green-700",onClick:l,disabled:a,"data-testid":"button-accept-quote",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Accept Quote & Pay"]})}),r.jsx(K,{variant:"outline",className:"w-full",onClick:c,"data-testid":"button-request-changes",children:"Request Changes"})]}),r.jsx(oe,{className:"bg-blue-50 border-blue-200",children:r.jsxs(le,{className:"p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Berry Events Protection"}),r.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(bs,{className:"h-4 w-4"}),r.jsx("span",{children:"Money-back guarantee"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx($t,{className:"h-4 w-4"}),r.jsx("span",{children:"Verified providers only"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(xn,{className:"h-4 w-4"}),r.jsx("span",{children:"24/7 customer support"})]})]})]})})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(oe,{children:r.jsxs(le,{className:"p-12 text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Quote Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't generate a quote. Please try booking again."}),r.jsx(K,{onClick:()=>e("/"),"data-testid":"button-back-home",children:"Go Back Home"})]})})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Z0(e){return e+.5|0}const jd=(e,t,s)=>Math.max(Math.min(e,s),t);function Mg(e){return jd(Z0(e*2.55),0,255)}function $d(e){return jd(Z0(e*255),0,255)}function sc(e){return jd(Z0(e/2.55)/100,0,1)}function b8(e){return jd(Z0(e*100),0,100)}const Oa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i4=[..."0123456789ABCDEF"],F0e=e=>i4[e&15],B0e=e=>i4[(e&240)>>4]+i4[e&15],fy=e=>(e&240)>>4===(e&15),z0e=e=>fy(e.r)&&fy(e.g)&&fy(e.b)&&fy(e.a);function V0e(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Oa[e[1]]*17,g:255&Oa[e[2]]*17,b:255&Oa[e[3]]*17,a:t===5?Oa[e[4]]*17:255}:(t===7||t===9)&&(s={r:Oa[e[1]]<<4|Oa[e[2]],g:Oa[e[3]]<<4|Oa[e[4]],b:Oa[e[5]]<<4|Oa[e[6]],a:t===9?Oa[e[7]]<<4|Oa[e[8]]:255})),s}const $0e=(e,t)=>e<255?t(e):"";function U0e(e){var t=z0e(e)?F0e:B0e;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$0e(e.a,t):void 0}const H0e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NU(e,t,s){const n=t*Math.min(s,1-s),i=(a,o=(a+e/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function q0e(e,t,s){const n=(i,a=(i+e/60)%6)=>s-s*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function W0e(e,t,s){const n=NU(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function Y0e(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function H_(e){const s=e.r/255,n=e.g/255,i=e.b/255,a=Math.max(s,n,i),o=Math.min(s,n,i),l=(a+o)/2;let c,d,u;return a!==o&&(u=a-o,d=l>.5?u/(2-a-o):u/(a+o),c=Y0e(s,n,i,u,a),c=c*60+.5),[c|0,d||0,l]}function q_(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map($d)}function W_(e,t,s){return q_(NU,e,t,s)}function G0e(e,t,s){return q_(W0e,e,t,s)}function K0e(e,t,s){return q_(q0e,e,t,s)}function SU(e){return(e%360+360)%360}function Z0e(e){const t=H0e.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?Mg(+t[5]):$d(+t[5]));const i=SU(+t[2]),a=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?n=G0e(i,a,o):t[1]==="hsv"?n=K0e(i,a,o):n=W_(i,a,o),{r:n[0],g:n[1],b:n[2],a:s}}function X0e(e,t){var s=H_(e);s[0]=SU(s[0]+t),s=W_(s),e.r=s[0],e.g=s[1],e.b=s[2]}function Q0e(e){if(!e)return;const t=H_(e),s=t[0],n=b8(t[1]),i=b8(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${sc(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const w8={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},j8={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function J0e(){const e={},t=Object.keys(j8),s=Object.keys(w8);let n,i,a,o,l;for(n=0;n<t.length;n++){for(o=l=t[n],i=0;i<s.length;i++)a=s[i],l=l.replace(a,w8[a]);a=parseInt(j8[o],16),e[l]=[a>>16&255,a>>8&255,a&255]}return e}let my;function eve(e){my||(my=J0e(),my.transparent=[0,0,0,0]);const t=my[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const tve=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sve(e){const t=tve.exec(e);let s=255,n,i,a;if(t){if(t[7]!==n){const o=+t[7];s=t[8]?Mg(o):jd(o*255,0,255)}return n=+t[1],i=+t[3],a=+t[5],n=255&(t[2]?Mg(n):jd(n,0,255)),i=255&(t[4]?Mg(i):jd(i,0,255)),a=255&(t[6]?Mg(a):jd(a,0,255)),{r:n,g:i,b:a,a:s}}}function nve(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${sc(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const MN=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pf=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function rve(e,t,s){const n=pf(sc(e.r)),i=pf(sc(e.g)),a=pf(sc(e.b));return{r:$d(MN(n+s*(pf(sc(t.r))-n))),g:$d(MN(i+s*(pf(sc(t.g))-i))),b:$d(MN(a+s*(pf(sc(t.b))-a))),a:e.a+s*(t.a-e.a)}}function py(e,t,s){if(e){let n=H_(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=W_(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function CU(e,t){return e&&Object.assign(t||{},e)}function N8(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=$d(e[3]))):(t=CU(e,{r:0,g:0,b:0,a:1}),t.a=$d(t.a)),t}function ive(e){return e.charAt(0)==="r"?sve(e):Z0e(e)}class r0{constructor(t){if(t instanceof r0)return t;const s=typeof t;let n;s==="object"?n=N8(t):s==="string"&&(n=V0e(t)||eve(t)||ive(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=CU(this._rgb);return t&&(t.a=sc(t.a)),t}set rgb(t){this._rgb=N8(t)}rgbString(){return this._valid?nve(this._rgb):void 0}hexString(){return this._valid?U0e(this._rgb):void 0}hslString(){return this._valid?Q0e(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let a;const o=s===a?.5:s,l=2*o-1,c=n.a-i.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;a=1-d,n.r=255&d*n.r+a*i.r+.5,n.g=255&d*n.g+a*i.g+.5,n.b=255&d*n.b+a*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=rve(this._rgb,t._rgb,s)),this}clone(){return new r0(this.rgb)}alpha(t){return this._rgb.a=$d(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Z0(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return py(this._rgb,2,t),this}darken(t){return py(this._rgb,2,-t),this}saturate(t){return py(this._rgb,1,t),this}desaturate(t){return py(this._rgb,1,-t),this}rotate(t){return X0e(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Wl(){}const ave=(()=>{let e=0;return()=>e++})();function en(e){return e==null}function jr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function vs(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function di(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Xo(e,t){return di(e)?e:t}function ms(e,t){return typeof e>"u"?t:e}const ove=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,kU=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function cn(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function zs(e,t,s,n){let i,a,o;if(jr(e))for(a=e.length,i=0;i<a;i++)t.call(s,e[i],i);else if(vs(e))for(o=Object.keys(e),a=o.length,i=0;i<a;i++)t.call(s,e[o[i]],o[i])}function Tb(e,t){let s,n,i,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],a=t[s],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Mb(e){if(jr(e))return e.map(Mb);if(vs(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Mb(e[s[i]]);return t}return e}function _U(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function lve(e,t,s,n){if(!_U(e))return;const i=t[e],a=s[e];vs(i)&&vs(a)?i0(i,a,n):t[e]=Mb(a)}function i0(e,t,s){const n=jr(t)?t:[t],i=n.length;if(!vs(e))return e;s=s||{};const a=s.merger||lve;let o;for(let l=0;l<i;++l){if(o=n[l],!vs(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)a(c[d],e,o,s)}return e}function rx(e,t){return i0(e,t,{merger:cve})}function cve(e,t,s){if(!_U(e))return;const n=t[e],i=s[e];vs(n)&&vs(i)?rx(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Mb(i))}const S8={"":e=>e,x:e=>e.x,y:e=>e.y};function dve(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function uve(e){const t=dve(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function a0(e,t){return(S8[t]||(S8[t]=uve(t)))(e)}function Y_(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Rb=e=>typeof e<"u",nu=e=>typeof e=="function",C8=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function hve(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const $s=Math.PI,Cn=2*$s,fve=Cn+$s,Lb=Number.POSITIVE_INFINITY,mve=$s/180,Sr=$s/2,Eu=$s/4,k8=$s*2/3,a4=Math.log10,Gm=Math.sign;function ix(e,t,s){return Math.abs(e-t)<s}function _8(e){const t=Math.round(e);e=ix(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(a4(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function pve(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,a)=>i-a).pop(),t}function gve(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function o0(e){return!gve(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function xve(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function vve(e,t,s){let n,i,a;for(n=0,i=e.length;n<i;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function oc(e){return e*($s/180)}function yve(e){return e*(180/$s)}function P8(e){if(!di(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function PU(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*$s&&(a+=Cn),{angle:a,distance:i}}function o4(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function bve(e,t){return(e-t+fve)%Cn-$s}function ua(e){return(e%Cn+Cn)%Cn}function l0(e,t,s,n){const i=ua(e),a=ua(t),o=ua(s),l=ua(a-i),c=ua(o-i),d=ua(i-a),u=ua(i-o);return i===a||i===o||n&&a===o||l>c&&d<u}function ri(e,t,s){return Math.max(t,Math.min(s,e))}function wve(e){return ri(e,-32768,32767)}function lc(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function G_(e,t,s){s=s||(o=>e[o]<t);let n=e.length-1,i=0,a;for(;n-i>1;)a=i+n>>1,s(a)?i=a:n=a;return{lo:i,hi:n}}const Xu=(e,t,s,n)=>G_(e,s,n?i=>{const a=e[i][t];return a<s||a===s&&e[i+1][t]===s}:i=>e[i][t]<s),jve=(e,t,s)=>G_(e,s,n=>e[n][t]>=s);function Nve(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const AU=["push","pop","shift","splice","unshift"];function Sve(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),AU.forEach(s=>{const n="_onData"+Y_(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...a){const o=i.apply(this,a);return e._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...a)}),o}})})}function A8(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(AU.forEach(a=>{delete e[a]}),delete e._chartjs)}function Cve(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const EU=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function TU(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,EU.call(window,()=>{n=!1,e.apply(t,s)}))}}function kve(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const K_=e=>e==="start"?"left":e==="end"?"right":"center",ei=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,_ve=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function Pve(e,t,s){const n=t.length;let i=0,a=n;if(e._sorted){const{iScale:o,vScale:l,_parsed:c}=e,d=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=o.axis,{min:h,max:m,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(i=Math.min(Xu(c,u,h).lo,s?n:Xu(t,u,o.getPixelForValue(h)).lo),d){const p=c.slice(0,i+1).reverse().findIndex(b=>!en(b[l.axis]));i-=Math.max(0,p)}i=ri(i,0,n-1)}if(g){let p=Math.max(Xu(c,o.axis,m,!0).hi+1,s?0:Xu(t,u,o.getPixelForValue(m),!0).hi+1);if(d){const b=c.slice(p-1).findIndex(x=>!en(x[l.axis]));p+=Math.max(0,b)}a=ri(p,i,n)-i}else a=n-i}return{start:i,count:a}}function Ave(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),a}const gy=e=>e===0||e===1,E8=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Cn/s)),T8=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Cn/s)+1,ax={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Sr)+1,easeOutSine:e=>Math.sin(e*Sr),easeInOutSine:e=>-.5*(Math.cos($s*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>gy(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>gy(e)?e:E8(e,.075,.3),easeOutElastic:e=>gy(e)?e:T8(e,.075,.3),easeInOutElastic(e){return gy(e)?e:e<.5?.5*E8(e*2,.1125,.45):.5+.5*T8(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ax.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ax.easeInBounce(e*2)*.5:ax.easeOutBounce(e*2-1)*.5+.5};function Z_(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function M8(e){return Z_(e)?e:new r0(e)}function RN(e){return Z_(e)?e:new r0(e).saturate(.5).darken(.1).hexString()}const Eve=["x","y","borderWidth","radius","tension"],Tve=["color","borderColor","backgroundColor"];function Mve(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Tve},numbers:{type:"number",properties:Eve}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Rve(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const R8=new Map;function Lve(e,t){t=t||{};const s=e+JSON.stringify(t);let n=R8.get(s);return n||(n=new Intl.NumberFormat(e,t),R8.set(s,n)),n}function X_(e,t,s){return Lve(t,s).format(e)}const MU={values(e){return jr(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,a=e;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(i="scientific"),a=Dve(e,s)}const o=a4(Math.abs(a)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),X_(e,n,c)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(a4(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?MU.numeric.call(this,e,t,s):""}};function Dve(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var RU={formatters:MU};function Ove(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:RU.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Eh=Object.create(null),l4=Object.create(null);function ox(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const a=s[n];e=e[a]||(e[a]=Object.create(null))}return e}function LN(e,t,s){return typeof t=="string"?i0(ox(e,t),s):i0(ox(e,""),t)}class Ive{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>RN(i.backgroundColor),this.hoverBorderColor=(n,i)=>RN(i.borderColor),this.hoverColor=(n,i)=>RN(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return LN(this,t,s)}get(t){return ox(this,t)}describe(t,s){return LN(l4,t,s)}override(t,s){return LN(Eh,t,s)}route(t,s,n,i){const a=ox(this,t),o=ox(this,n),l="_"+s;Object.defineProperties(a,{[l]:{value:a[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[i];return vs(c)?Object.assign({},d,c):ms(c,d)},set(c){this[l]=c}}})}apply(t){t.forEach(s=>s(this))}}var Jn=new Ive({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Mve,Rve,Ove]);function Fve(e){return!e||en(e.size)||en(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function L8(e,t,s,n,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,s.push(i)),a>n&&(n=a),n}function Tu(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function D8(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function c4(e,t,s,n){LU(e,t,s,n,null)}function LU(e,t,s,n,i){let a,o,l,c,d,u,h,m;const f=t.pointStyle,g=t.rotation,p=t.radius;let b=(g||0)*mve;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(s,n,i/2,p,0,0,Cn):e.arc(s,n,p,0,Cn),e.closePath();break;case"triangle":u=i?i/2:p,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*p),b+=k8,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*p),b+=k8,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*p),e.closePath();break;case"rectRounded":d=p*.516,c=p-d,o=Math.cos(b+Eu)*c,h=Math.cos(b+Eu)*(i?i/2-d:c),l=Math.sin(b+Eu)*c,m=Math.sin(b+Eu)*(i?i/2-d:c),e.arc(s-h,n-l,d,b-$s,b-Sr),e.arc(s+m,n-o,d,b-Sr,b),e.arc(s+h,n+l,d,b,b+Sr),e.arc(s-m,n+o,d,b+Sr,b+$s),e.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*p,u=i?i/2:c,e.rect(s-u,n-c,2*u,2*c);break}b+=Eu;case"rectRot":h=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+m,n-o),e.lineTo(s+h,n+l),e.lineTo(s-m,n+o),e.closePath();break;case"crossRot":b+=Eu;case"cross":h=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o);break;case"star":h=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o),b+=Eu,h=Math.cos(b)*(i?i/2:p),o=Math.cos(b)*p,l=Math.sin(b)*p,m=Math.sin(b)*(i?i/2:p),e.moveTo(s-h,n-l),e.lineTo(s+h,n+l),e.moveTo(s+m,n-o),e.lineTo(s-m,n+o);break;case"line":o=i?i/2:Math.cos(b)*p,l=Math.sin(b)*p,e.moveTo(s-o,n-l),e.lineTo(s+o,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:p),n+Math.sin(b)*p);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function c0(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function tw(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sw(e){e.restore()}function Bve(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function zve(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Vve(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),en(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function $ve(e,t,s,n,i){if(i.strikethrough||i.underline){const a=e.measureText(n),o=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,c=s-a.actualBoundingBoxAscent,d=s+a.actualBoundingBoxDescent,u=i.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(l,u),e.stroke()}}function Uve(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function d0(e,t,s,n,i,a={}){const o=jr(t)?t:[t],l=a.strokeWidth>0&&a.strokeColor!=="";let c,d;for(e.save(),e.font=i.string,Vve(e,a),c=0;c<o.length;++c)d=o[c],a.backdrop&&Uve(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),en(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(d,s,n,a.maxWidth)),e.fillText(d,s,n,a.maxWidth),$ve(e,s,n,d,a),n+=Number(i.lineHeight);e.restore()}function Db(e,t){const{x:s,y:n,w:i,h:a,radius:o}=t;e.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*$s,$s,!0),e.lineTo(s,n+a-o.bottomLeft),e.arc(s+o.bottomLeft,n+a-o.bottomLeft,o.bottomLeft,$s,Sr,!0),e.lineTo(s+i-o.bottomRight,n+a),e.arc(s+i-o.bottomRight,n+a-o.bottomRight,o.bottomRight,Sr,0,!0),e.lineTo(s+i,n+o.topRight),e.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-Sr,!0),e.lineTo(s+o.topLeft,n)}const Hve=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qve=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wve(e,t){const s=(""+e).match(Hve);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const Yve=e=>+e||0;function Q_(e,t){const s={},n=vs(t),i=n?Object.keys(t):t,a=vs(e)?n?o=>ms(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)s[o]=Yve(a(o));return s}function DU(e){return Q_(e,{top:"y",right:"x",bottom:"y",left:"x"})}function rm(e){return Q_(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Qa(e){const t=DU(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ii(e,t){e=e||{},t=t||Jn.font;let s=ms(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ms(e.style,t.style);n&&!(""+n).match(qve)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ms(e.family,t.family),lineHeight:Wve(ms(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ms(e.weight,t.weight),string:""};return i.string=Fve(i),i}function xy(e,t,s,n){let i,a,o;for(i=0,a=e.length;i<a;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function Gve(e,t,s){const{min:n,max:i}=e,a=kU(t,(i-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(a)),max:o(i,a)}}function zh(e,t){return Object.assign(Object.create(e),t)}function J_(e,t=[""],s,n,i=()=>e[0]){const a=s||e;typeof n>"u"&&(n=BU("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:n,_getTarget:i,override:l=>J_([l,...e],t,a,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete e[0][c],!0},get(l,c){return IU(l,c,()=>sye(c,t,e,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(l,c){return I8(l).includes(c)},ownKeys(l){return I8(l)},set(l,c,d){const u=l._storage||(l._storage=i());return l[c]=u[c]=d,delete l._keys,!0}})}function Km(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:OU(e,n),setContext:a=>Km(e,a,s,n),override:a=>Km(e.override(a),t,s,n)};return new Proxy(i,{deleteProperty(a,o){return delete a[o],delete e[o],!0},get(a,o,l){return IU(a,o,()=>Zve(a,o,l))},getOwnPropertyDescriptor(a,o){return a._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(a,o,l){return e[o]=l,delete a[o],!0}})}function OU(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:nu(s)?s:()=>s,isIndexable:nu(n)?n:()=>n}}const Kve=(e,t)=>e?e+Y_(t):t,e3=(e,t)=>vs(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function IU(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function Zve(e,t,s){const{_proxy:n,_context:i,_subProxy:a,_descriptors:o}=e;let l=n[t];return nu(l)&&o.isScriptable(t)&&(l=Xve(t,l,e,s)),jr(l)&&l.length&&(l=Qve(t,l,e,o.isIndexable)),e3(t,l)&&(l=Km(l,i,a&&a[t],o)),l}function Xve(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let c=t(a,o||n);return l.delete(e),e3(e,c)&&(c=t3(i._scopes,i,e,c)),c}function Qve(e,t,s,n){const{_proxy:i,_context:a,_subProxy:o,_descriptors:l}=s;if(typeof a.index<"u"&&n(e))return t[a.index%t.length];if(vs(t[0])){const c=t,d=i._scopes.filter(u=>u!==c);t=[];for(const u of c){const h=t3(d,i,e,u);t.push(Km(h,a,o&&o[e],l))}}return t}function FU(e,t,s){return nu(e)?e(t,s):e}const Jve=(e,t)=>e===!0?t:typeof e=="string"?a0(t,e):void 0;function eye(e,t,s,n,i){for(const a of t){const o=Jve(s,a);if(o){e.add(o);const l=FU(o._fallback,s,i);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function t3(e,t,s,n){const i=t._rootScopes,a=FU(t._fallback,s,n),o=[...e,...i],l=new Set;l.add(n);let c=O8(l,o,s,a||s,n);return c===null||typeof a<"u"&&a!==s&&(c=O8(l,o,a,c,n),c===null)?!1:J_(Array.from(l),[""],i,a,()=>tye(t,s,n))}function O8(e,t,s,n,i){for(;s;)s=eye(e,t,s,n,i);return s}function tye(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return jr(i)&&vs(s)?s:i||{}}function sye(e,t,s,n){let i;for(const a of t)if(i=BU(Kve(a,e),s),typeof i<"u")return e3(e,i)?t3(s,n,e,i):i}function BU(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function I8(e){let t=e._keys;return t||(t=e._keys=nye(e._scopes)),t}function nye(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}const rye=Number.EPSILON||1e-14,Zm=(e,t)=>t<e.length&&!e[t].skip&&e[t],zU=e=>e==="x"?"y":"x";function iye(e,t,s,n){const i=e.skip?t:e,a=t,o=s.skip?t:s,l=o4(a,i),c=o4(o,a);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,m=n*u;return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+m*(o.x-i.x),y:a.y+m*(o.y-i.y)}}}function aye(e,t,s){const n=e.length;let i,a,o,l,c,d=Zm(e,0);for(let u=0;u<n-1;++u)if(c=d,d=Zm(e,u+1),!(!c||!d)){if(ix(t[u],0,rye)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],a=s[u+1]/t[u],l=Math.pow(i,2)+Math.pow(a,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=i*o*t[u],s[u+1]=a*o*t[u])}}function oye(e,t,s="x"){const n=zU(s),i=e.length;let a,o,l,c=Zm(e,0);for(let d=0;d<i;++d){if(o=l,l=c,c=Zm(e,d+1),!l)continue;const u=l[s],h=l[n];o&&(a=(u-o[s])/3,l[`cp1${s}`]=u-a,l[`cp1${n}`]=h-a*t[d]),c&&(a=(c[s]-u)/3,l[`cp2${s}`]=u+a,l[`cp2${n}`]=h+a*t[d])}}function lye(e,t="x"){const s=zU(t),n=e.length,i=Array(n).fill(0),a=Array(n);let o,l,c,d=Zm(e,0);for(o=0;o<n;++o)if(l=c,c=d,d=Zm(e,o+1),!!c){if(d){const u=d[t]-c[t];i[o]=u!==0?(d[s]-c[s])/u:0}a[o]=l?d?Gm(i[o-1])!==Gm(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}aye(e,i,a),oye(e,a,t)}function vy(e,t,s){return Math.max(Math.min(e,s),t)}function cye(e,t){let s,n,i,a,o,l=c0(e[0],t);for(s=0,n=e.length;s<n;++s)o=a,a=l,l=s<n-1&&c0(e[s+1],t),a&&(i=e[s],o&&(i.cp1x=vy(i.cp1x,t.left,t.right),i.cp1y=vy(i.cp1y,t.top,t.bottom)),l&&(i.cp2x=vy(i.cp2x,t.left,t.right),i.cp2y=vy(i.cp2y,t.top,t.bottom)))}function dye(e,t,s,n,i){let a,o,l,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")lye(e,i);else{let d=n?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)l=e[a],c=iye(d,l,e[Math.min(a+1,o-(n?0:1))%o],t.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}t.capBezierPoints&&cye(e,s)}function s3(){return typeof window<"u"&&typeof document<"u"}function n3(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ob(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const nw=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function uye(e,t){return nw(e).getPropertyValue(t)}const hye=["top","right","bottom","left"];function dh(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const a=hye[i];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const fye=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function mye(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:a}=n;let o=!1,l,c;if(fye(i,a,e.target))l=i,c=a;else{const d=t.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Bu(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=nw(s),a=i.boxSizing==="border-box",o=dh(i,"padding"),l=dh(i,"border","width"),{x:c,y:d,box:u}=mye(e,s),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:g}=t;return a&&(f-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-h)/f*s.width/n),y:Math.round((d-m)/g*s.height/n)}}function pye(e,t,s){let n,i;if(t===void 0||s===void 0){const a=e&&n3(e);if(!a)t=e.clientWidth,s=e.clientHeight;else{const o=a.getBoundingClientRect(),l=nw(a),c=dh(l,"border","width"),d=dh(l,"padding");t=o.width-d.width-c.width,s=o.height-d.height-c.height,n=Ob(l.maxWidth,a,"clientWidth"),i=Ob(l.maxHeight,a,"clientHeight")}}return{width:t,height:s,maxWidth:n||Lb,maxHeight:i||Lb}}const yy=e=>Math.round(e*10)/10;function gye(e,t,s,n){const i=nw(e),a=dh(i,"margin"),o=Ob(i.maxWidth,e,"clientWidth")||Lb,l=Ob(i.maxHeight,e,"clientHeight")||Lb,c=pye(e,t,s);let{width:d,height:u}=c;if(i.boxSizing==="content-box"){const m=dh(i,"border","width"),f=dh(i,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-a.width),u=Math.max(0,n?d/n:u-a.height),d=yy(Math.min(d,o,c.maxWidth)),u=yy(Math.min(u,l,c.maxHeight)),d&&!u&&(u=yy(d/2)),(t!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=yy(Math.floor(u*n))),{width:d,height:u}}function F8(e,t,s){const n=t||1,i=Math.floor(e.height*n),a=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||o.height!==i||o.width!==a?(e.currentDevicePixelRatio=n,o.height=i,o.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const xye=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};s3()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function B8(e,t){const s=uye(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zu(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function vye(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function yye(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=zu(e,i,s),l=zu(i,a,s),c=zu(a,t,s),d=zu(o,l,s),u=zu(l,c,s);return zu(d,u,s)}const bye=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},wye=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function im(e,t,s){return e?bye(t,s):wye()}function VU(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function $U(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function UU(e){return e==="angle"?{between:l0,compare:bve,normalize:ua}:{between:lc,compare:(t,s)=>t-s,normalize:t=>t}}function z8({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function jye(e,t,s){const{property:n,start:i,end:a}=s,{between:o,normalize:l}=UU(n),c=t.length;let{start:d,end:u,loop:h}=e,m,f;if(h){for(d+=c,u+=c,m=0,f=c;m<f&&o(l(t[d%c][n]),i,a);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:e.style}}function HU(e,t,s){if(!s)return[e];const{property:n,start:i,end:a}=s,o=t.length,{compare:l,between:c,normalize:d}=UU(n),{start:u,end:h,loop:m,style:f}=jye(e,t,s),g=[];let p=!1,b=null,x,y,w;const S=()=>c(i,w,x)&&l(i,w)!==0,C=()=>l(a,x)===0||c(a,w,x),L=()=>p||S(),R=()=>!p||C();for(let M=u,D=u;M<=h;++M)y=t[M%o],!y.skip&&(x=d(y[n]),x!==w&&(p=c(x,i,a),b===null&&L()&&(b=l(x,i)===0?M:D),b!==null&&R()&&(g.push(z8({start:b,end:M,loop:m,count:o,style:f})),b=null),D=M,w=x));return b!==null&&g.push(z8({start:b,end:h,loop:m,count:o,style:f})),g}function qU(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const a=HU(n[i],e.points,t);a.length&&s.push(...a)}return s}function Nye(e,t,s,n){let i=0,a=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function Sye(e,t,s,n){const i=e.length,a=[];let o=t,l=e[t],c;for(c=t+1;c<=s;++c){const d=e[c%i];d.skip||d.stop?l.skip||(n=!1,a.push({start:t%i,end:(c-1)%i,loop:n}),t=o=d.stop?c:null):(o=c,l.skip&&(t=c)),l=d}return o!==null&&a.push({start:t%i,end:o%i,loop:n}),a}function Cye(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const a=!!e._loop,{start:o,end:l}=Nye(s,i,a,n);if(n===!0)return V8(e,[{start:o,end:l,loop:a}],s,t);const c=l<o?l+i:l,d=!!e._fullLoop&&o===0&&l===i-1;return V8(e,Sye(s,o,c,d),s,t)}function V8(e,t,s,n){return!n||!n.setContext||!s?t:kye(e,t,s,n)}function kye(e,t,s,n){const i=e._chart.getContext(),a=$8(e.options),{_datasetIndex:o,options:{spanGaps:l}}=e,c=s.length,d=[];let u=a,h=t[0].start,m=h;function f(g,p,b,x){const y=l?-1:1;if(g!==p){for(g+=c;s[g%c].skip;)g-=y;for(;s[p%c].skip;)p+=y;g%c!==p%c&&(d.push({start:g%c,end:p%c,loop:b,style:x}),u=x,h=p%c)}}for(const g of t){h=l?h:g.start;let p=s[h%c],b;for(m=h+1;m<=g.end;m++){const x=s[m%c];b=$8(n.setContext(zh(i,{type:"segment",p0:p,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),_ye(b,u)&&f(h,m-1,g.loop,u),p=x,u=b}h<m-1&&f(h,m-1,g.loop,u)}return d}function $8(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function _ye(e,t){if(!t)return!1;const s=[],n=function(i,a){return Z_(a)?(s.includes(a)||s.push(a),s.indexOf(a)):a};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function by(e,t,s){return e.options.clip?e[s]:t[s]}function Pye(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:by(s,t,"left"),right:by(s,t,"right"),top:by(n,t,"top"),bottom:by(n,t,"bottom")}:t}function WU(e,t){const s=t._clip;if(s.disabled)return!1;const n=Pye(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Aye{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const a=s.listeners[i],o=s.duration;a.forEach(l=>l({chart:t,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=EU.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const a=n.items;let o=a.length-1,l=!1,c;for(;o>=0;--o)c=a[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),l=!0):(a[o]=a[a.length-1],a.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),a.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=a.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Kl=new Aye;const U8="transparent",Eye={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=M8(e||U8),i=n.valid&&M8(t||U8);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class Tye{constructor(t,s,n,i){const a=s[n];i=xy([t.to,i,a,t.from]);const o=xy([t.from,a,i]);this._active=!0,this._fn=t.fn||Eye[t.type||typeof o],this._easing=ax[t.easing]||ax.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],a=n-this._start,o=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=xy([t.to,s,i,t.from]),this._from=xy([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,a=this._from,o=this._loop,l=this._to;let c;if(this._active=a!==l&&(o||s<n),!this._active){this._target[i]=l,this._notify(!0);return}if(s<0){this._target[i]=a;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(a,l,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class YU{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!vs(t))return;const s=Object.keys(Jn.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!vs(a))return;const o={};for(const l of s)o[l]=a[l];(jr(a.properties)&&a.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,s){const n=s.options,i=Rye(t,n);if(!i)return[];const a=this._createAnimations(i,n);return n.$shared&&Mye(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,s){const n=this._properties,i=[],a=t.$animations||(t.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[d];let h=a[d];const m=n.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){t[d]=u;continue}a[d]=h=new Tye(m,t,d,u),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return Kl.add(this._chart,n),!0}}function Mye(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const a=e[n[i]];a&&a.active()&&s.push(a.wait())}return Promise.all(s)}function Rye(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function H8(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,a=s.max===void 0?t:0;return{start:n?a:i,end:n?i:a}}function Lye(e,t,s){if(s===!1)return!1;const n=H8(e,s),i=H8(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Dye(e){let t,s,n,i;return vs(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function GU(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=n.length;i<a;++i)s.push(n[i].index);return s}function q8(e,t,s,n={}){const i=e.keys,a=n.mode==="single";let o,l,c,d;if(t===null)return;let u=!1;for(o=0,l=i.length;o<l;++o){if(c=+i[o],c===s){if(u=!0,n.all)continue;break}d=e.values[c],di(d)&&(a||t===0||Gm(t)===Gm(d))&&(t+=d)}return!u&&!n.all?0:t}function Oye(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",o=Object.keys(e),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[i]:u,[a]:e[u]};return l}function DN(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function Iye(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Fye(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Bye(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function W8(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const a=e[i.index];if(s&&a>0||!s&&a<0)return i.index}return null}function Y8(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:a,vScale:o,index:l}=n,c=a.axis,d=o.axis,u=Iye(a,o,n),h=t.length;let m;for(let f=0;f<h;++f){const g=t[f],{[c]:p,[d]:b}=g,x=g._stacks||(g._stacks={});m=x[d]=Bye(i,u,p),m[l]=b,m._top=W8(m,o,!0,n.type),m._bottom=W8(m,o,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=b}}function ON(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function zye(e,t){return zh(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Vye(e,t,s){return zh(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function hg(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[n]===void 0||a[n][s]===void 0)return;delete a[n][s],a[n]._visualValues!==void 0&&a[n]._visualValues[s]!==void 0&&delete a[n]._visualValues[s]}}}const IN=e=>e==="reset"||e==="none",G8=(e,t)=>t?e:Object.assign({},e),$ye=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:GU(s,!0),values:null};class am{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=DN(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&hg(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,m,f,g)=>h==="x"?m:h==="r"?g:f,a=s.xAxisID=ms(n.xAxisID,ON(t,"x")),o=s.yAxisID=ms(n.yAxisID,ON(t,"y")),l=s.rAxisID=ms(n.rAxisID,ON(t,"r")),c=s.indexAxis,d=s.iAxisID=i(c,a,o,l),u=s.vAxisID=i(c,o,a,l);s.xScale=this.getScaleForId(a),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&A8(this._data,this),t._stacked&&hg(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(vs(s)){const i=this._cachedMeta;this._data=Oye(s,i)}else if(n!==s){if(n){A8(n,this);const i=this._cachedMeta;hg(i),i._parsed=[]}s&&Object.isExtensible(s)&&Sve(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const a=s._stacked;s._stacked=DN(s.vScale,s),s.stack!==n.stack&&(i=!0,hg(s),s.stack=n.stack),this._resyncElements(t),(i||a!==s._stacked)&&(Y8(this,s._parsed),s._stacked=DN(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:a,_stacked:o}=n,l=a.axis;let c=t===0&&s===i.length?!0:n._sorted,d=t>0&&n._parsed[t-1],u,h,m;if(this._parsing===!1)n._parsed=i,n._sorted=!0,m=i;else{jr(i[t])?m=this.parseArrayData(n,i,t,s):vs(i[t])?m=this.parseObjectData(n,i,t,s):m=this.parsePrimitiveData(n,i,t,s);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+t]=h=m[u],c&&(f()&&(c=!1),d=h);n._sorted=c}o&&Y8(this,m)}parsePrimitiveData(t,s,n,i){const{iScale:a,vScale:o}=t,l=a.axis,c=o.axis,d=a.getLabels(),u=a===o,h=new Array(i);let m,f,g;for(m=0,f=i;m<f;++m)g=m+n,h[m]={[l]:u||a.parse(d[g],g),[c]:o.parse(s[g],g)};return h}parseArrayData(t,s,n,i){const{xScale:a,yScale:o}=t,l=new Array(i);let c,d,u,h;for(c=0,d=i;c<d;++c)u=c+n,h=s[u],l[c]={x:a.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(t,s,n,i){const{xScale:a,yScale:o}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(i);let u,h,m,f;for(u=0,h=i;u<h;++u)m=u+n,f=s[m],d[u]={x:a.parse(a0(f,l),m),y:o.parse(a0(f,c),m)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,a=this._cachedMeta,o=s[t.axis],l={keys:GU(i,!0),values:s._stacks[t.axis]._visualValues};return q8(l,o,a.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const a=n[s.axis];let o=a===null?NaN:a;const l=i&&n._stacks[s.axis];i&&l&&(i.values=l,o=q8(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,a=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),c=$ye(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Fye(l);let m,f;function g(){f=i[m];const p=f[l.axis];return!di(f[t.axis])||u>p||h<p}for(m=0;m<o&&!(!g()&&(this.updateRangeFromParsed(d,t,f,c),a));++m);if(a){for(m=o-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(d,t,f,c);break}}return d}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,a,o;for(i=0,a=s.length;i<a;++i)o=s[i][t.axis],di(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Dye(ms(this.options.clip,Lye(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],a=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||i.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,a,l,c),u=l;u<l+c;++u){const h=i[u];h.hidden||(h.active&&d?o.push(h):h.draw(t,a))}for(u=0;u<o.length;++u)o[u].draw(t,a)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];a=o.$context||(o.$context=Vye(this.getContext(),t,o)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=zye(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!s,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",a=this._cachedDataOpts,o=t+"-"+s,l=a[o],c=this.enableOptionSharing&&Rb(n);if(l)return G8(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(Jn.elements[t]),g=()=>this.getContext(n,i,s),p=d.resolveNamedOptions(m,f,g,h);return p.$shared&&(p.$shared=c,a[o]=Object.freeze(G8(p,c))),p}_resolveAnimations(t,s,n){const i=this.chart,a=this._cachedDataOpts,o=`animation-${s}`,l=a[o];if(l)return l;let c;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(t,n,s))}const d=new YU(i,c&&c.animations);return c&&c._cacheable&&(a[o]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||IN(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,a=this.getSharedOptions(n),o=this.includeOptions(s,a)||a!==i;return this.updateSharedOptions(a,s,n),{sharedOptions:a,includeOptions:o}}updateElement(t,s,n,i){IN(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!IN(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const a=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const i=n.length,a=s.length,o=Math.min(a,i);o&&this.parse(0,o),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,s,n=!0){const i=this._cachedMeta,a=i.data,o=t+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(a),l=t;l<o;++l)a[l]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(t,s),n&&this.updateElements(a,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&hg(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}et(am,"defaults",{}),et(am,"datasetElementType",null),et(am,"dataElementType",null);function Uye(e,t,s){let n=1,i=1,a=0,o=0;if(t<Cn){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(w,S,C)=>l0(w,l,c,!0)?1:Math.max(S,S*s,C,C*s),g=(w,S,C)=>l0(w,l,c,!0)?-1:Math.min(S,S*s,C,C*s),p=f(0,d,h),b=f(Sr,u,m),x=g($s,d,h),y=g($s+Sr,u,m);n=(p-x)/2,i=(b-y)/2,a=-(p+x)/2,o=-(b+y)/2}return{ratioX:n,ratioY:i,offsetX:a,offsetY:o}}class Rg extends am{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let a=c=>+n[c];if(vs(n[t])){const{key:c="value"}=this._parsing;a=d=>+a0(n[d],c)}let o,l;for(o=t,l=t+s;o<l;++o)i._parsed[o]=a(o)}}_getRotation(){return oc(this.options.rotation-90)}_getCircumference(){return oc(this.options.circumference)}_getRotationExtents(){let t=Cn,s=-Cn;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,a=i._getRotation(),o=i._getCircumference();t=Math.min(t,a),s=Math.max(s,a+o)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(ove(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:g,offsetY:p}=Uye(h,u,c),b=(n.width-o)/m,x=(n.height-o)/f,y=Math.max(Math.min(b,x)/2,0),w=kU(this.options.radius,y),S=Math.max(w*c,0),C=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=p*w,i.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(a,0,a.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,a=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/Cn)}updateElements(t,s,n,i){const a=i==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=a&&d.animateScale,f=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(s,i);let x=this._getRotation(),y;for(y=0;y<s;++y)x+=this._circumference(y,a);for(y=s;y<s+n;++y){const w=this._circumference(y,a),S=t[y],C={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:g,innerRadius:f};b&&(C.options=p||this.resolveDataElementOptions(y,S.active?"active":i)),x+=w,this.updateElement(S,y,C,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Cn*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],a=X_(s._parsed[t],n.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,a,o,l,c;if(!t){for(i=0,a=n.data.datasets.length;i<a;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)c=l.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const a=this.resolveDataElementOptions(n);s=Math.max(s,a.offset||0,a.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ms(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}et(Rg,"id","doughnut"),et(Rg,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),et(Rg,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),et(Rg,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((a,o)=>{const c=t.getDatasetMeta(0).controller.getStyle(o);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class c1 extends am{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:a}=s,o=this.chart._animationsDisabled;let{start:l,count:c}=Pve(s,i,o);this._drawStart=l,this._drawCount=c,Ave(s)&&(l=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},t),this.updateElements(i,l,c,t)}updateElements(t,s,n,i){const a=i==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(s,i),m=o.axis,f=l.axis,{spanGaps:g,segment:p}=this.options,b=o0(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||a||i==="none",y=s+n,w=t.length;let S=s>0&&this.getParsed(s-1);for(let C=0;C<w;++C){const L=t[C],R=x?L:{};if(C<s||C>=y){R.skip=!0;continue}const M=this.getParsed(C),D=en(M[f]),$=R[m]=o.getPixelForValue(M[m],C),E=R[f]=a||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,M,c):M[f],C);R.skip=isNaN($)||isNaN(E)||D,R.stop=C>0&&Math.abs(M[m]-S[m])>b,p&&(R.parsed=M,R.raw=d.data[C]),h&&(R.options=u||this.resolveDataElementOptions(C,L.active?"active":i)),x||this.updateElement(L,C,R,i),S=M}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const a=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,a,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}et(c1,"id","line"),et(c1,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),et(c1,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Mu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class r3{constructor(t){et(this,"options");this.options=t||{}}static override(t){Object.assign(r3.prototype,t)}init(){}formats(){return Mu()}parse(){return Mu()}format(){return Mu()}add(){return Mu()}diff(){return Mu()}startOf(){return Mu()}endOf(){return Mu()}}var Hye={_date:r3};function qye(e,t,s,n){const{controller:i,data:a,_sorted:o}=e,l=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&t!=="r"&&o&&a.length){const d=l._reversePixels?jve:Xu;if(n){if(i._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const m=d(a,t,s-h),f=d(a,t,s+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(a,t,s);if(c){const{vScale:h}=i._cachedMeta,{_parsed:m}=e,f=m.slice(0,u.lo+1).reverse().findIndex(p=>!en(p[h.axis]));u.lo-=Math.max(0,f);const g=m.slice(u.hi).findIndex(p=>!en(p[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:a.length-1}}function X0(e,t,s,n,i){const a=e.getSortedVisibleDatasetMetas(),o=s[t];for(let l=0,c=a.length;l<c;++l){const{index:d,data:u}=a[l],{lo:h,hi:m}=qye(a[l],t,o,i);for(let f=h;f<=m;++f){const g=u[f];g.skip||n(g,d,f)}}}function Wye(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const a=t?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(o,2))}}function FN(e,t,s,n,i){const a=[];return!i&&!e.isPointInArea(t)||X0(e,s,t,function(l,c,d){!i&&!c0(l,e.chartArea,0)||l.inRange(t.x,t.y,n)&&a.push({element:l,datasetIndex:c,index:d})},!0),a}function Yye(e,t,s,n){let i=[];function a(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=PU(o,{x:t.x,y:t.y});l0(h,d,u)&&i.push({element:o,datasetIndex:l,index:c})}return X0(e,s,t,a),i}function Gye(e,t,s,n,i,a){let o=[];const l=Wye(s);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(t.x,t.y,i);if(n&&!f)return;const g=u.getCenterPoint(i);if(!(!!a||e.isPointInArea(g))&&!f)return;const b=l(t,g);b<c?(o=[{element:u,datasetIndex:h,index:m}],c=b):b===c&&o.push({element:u,datasetIndex:h,index:m})}return X0(e,s,t,d),o}function BN(e,t,s,n,i,a){return!a&&!e.isPointInArea(t)?[]:s==="r"&&!n?Yye(e,t,s,i):Gye(e,t,s,n,i,a)}function K8(e,t,s,n,i){const a=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return X0(e,s,t,(c,d,u)=>{c[o]&&c[o](t[s],i)&&(a.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(t.x,t.y,i))}),n&&!l?[]:a}var Kye={evaluateInteractionItems:X0,modes:{index(e,t,s,n){const i=Bu(t,e),a=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?FN(e,i,a,n,o):BN(e,i,a,!1,n,o),c=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(e,t,s,n){const i=Bu(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?FN(e,i,a,n,o):BN(e,i,a,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=e.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(e,t,s,n){const i=Bu(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return FN(e,i,a,n,o)},nearest(e,t,s,n){const i=Bu(t,e),a=s.axis||"xy",o=s.includeInvisible||!1;return BN(e,i,a,s.intersect,n,o)},x(e,t,s,n){const i=Bu(t,e);return K8(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Bu(t,e);return K8(e,i,"y",s.intersect,n)}}};const KU=["left","top","right","bottom"];function fg(e,t){return e.filter(s=>s.pos===t)}function Z8(e,t){return e.filter(s=>KU.indexOf(s.pos)===-1&&s.box.axis===t)}function mg(e,t){return e.sort((s,n)=>{const i=t?n:s,a=t?s:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function Zye(e){const t=[];let s,n,i,a,o,l;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:a,options:{stack:o,stackWeight:l=1}}=i,t.push({index:s,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&a+o,stackWeight:l});return t}function Xye(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:a}=s;if(!n||!KU.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=a}return t}function Qye(e,t){const s=Xye(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let a,o,l;for(a=0,o=e.length;a<o;++a){l=e[a];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&t.availableWidth,l.height=i):(l.width=n,l.height=u?u*i:c&&t.availableHeight)}return s}function Jye(e){const t=Zye(e),s=mg(t.filter(d=>d.box.fullSize),!0),n=mg(fg(t,"left"),!0),i=mg(fg(t,"right")),a=mg(fg(t,"top"),!0),o=mg(fg(t,"bottom")),l=Z8(t,"x"),c=Z8(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:i.concat(c).concat(o).concat(l),chartArea:fg(t,"chartArea"),vertical:n.concat(i).concat(c),horizontal:a.concat(o).concat(l)}}function X8(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function ZU(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function e1e(e,t,s,n){const{pos:i,box:a}=s,o=e.maxPadding;if(!vs(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?a.height:a.width),s.size=h.size/h.count,e[i]+=s.size}a.getPadding&&ZU(o,a.getPadding());const l=Math.max(0,t.outerWidth-X8(o,e,"left","right")),c=Math.max(0,t.outerHeight-X8(o,e,"top","bottom")),d=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function t1e(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function s1e(e,t){const s=t.maxPadding;function n(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{a[o]=Math.max(t[o],s[o])}),a}return n(e?["left","right"]:["top","bottom"])}function Lg(e,t,s,n){const i=[];let a,o,l,c,d,u;for(a=0,o=e.length,d=0;a<o;++a){l=e[a],c=l.box,c.update(l.width||t.w,l.height||t.h,s1e(l.horizontal,t));const{same:h,other:m}=e1e(t,s,l,n);d|=h&&i.length,u=u||m,c.fullSize||i.push(l)}return d&&Lg(i,t,s,n)||u}function wy(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Q8(e,t,s,n){const i=s.padding;let{x:a,y:o}=t;for(const l of e){const c=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=t.w*u,m=d.size||c.height;Rb(d.start)&&(o=d.start),c.fullSize?wy(c,i.left,o,s.outerWidth-i.right-i.left,m):wy(c,t.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=t.h*u,m=d.size||c.width;Rb(d.start)&&(a=d.start),c.fullSize?wy(c,a,i.top,m,s.outerHeight-i.bottom-i.top):wy(c,a,t.top+d.placed,m,h),d.start=a,d.placed+=h,a=c.right}}t.x=a,t.y=o}var qa={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=Qa(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(s-i.height,0),l=Jye(e.boxes),c=l.vertical,d=l.horizontal;zs(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const u=c.reduce((p,b)=>b.box.options&&b.box.options.display===!1?p:p+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},i);ZU(m,Qa(n));const f=Object.assign({maxPadding:m,w:a,h:o,x:i.left,y:i.top},i),g=Qye(c.concat(d),h);Lg(l.fullSize,f,h,g),Lg(c,f,h,g),Lg(d,f,h,g)&&Lg(c,f,h,g),t1e(f),Q8(l.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,Q8(l.rightAndBottom,f,h,g),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},zs(l.chartArea,p=>{const b=p.box;Object.assign(b,e.chartArea),b.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class XU{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class n1e extends XU{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const d1="$chartjs",r1e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J8=e=>e===null||e==="";function i1e(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[d1]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",J8(i)){const a=B8(e,"width");a!==void 0&&(e.width=a)}if(J8(n))if(e.style.height==="")e.height=e.width/(t||2);else{const a=B8(e,"height");a!==void 0&&(e.height=a)}return e}const QU=xye?{passive:!0}:!1;function a1e(e,t,s){e&&e.addEventListener(t,s,QU)}function o1e(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,QU)}function l1e(e,t){const s=r1e[e.type]||e.type,{x:n,y:i}=Bu(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Ib(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function c1e(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Ib(l.addedNodes,n),o=o&&!Ib(l.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function d1e(e,t,s){const n=e.canvas,i=new MutationObserver(a=>{let o=!1;for(const l of a)o=o||Ib(l.removedNodes,n),o=o&&!Ib(l.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const u0=new Map;let eM=0;function JU(){const e=window.devicePixelRatio;e!==eM&&(eM=e,u0.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function u1e(e,t){u0.size||window.addEventListener("resize",JU),u0.set(e,t)}function h1e(e){u0.delete(e),u0.size||window.removeEventListener("resize",JU)}function f1e(e,t,s){const n=e.canvas,i=n&&n3(n);if(!i)return;const a=TU((l,c)=>{const d=i.clientWidth;s(l,c),d<i.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||a(d,u)});return o.observe(i),u1e(e,a),o}function zN(e,t,s){s&&s.disconnect(),t==="resize"&&h1e(e)}function m1e(e,t,s){const n=e.canvas,i=TU(a=>{e.ctx!==null&&s(l1e(a,e))},e);return a1e(n,t,i),i}class p1e extends XU{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(i1e(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[d1])return!1;const n=s[d1].initial;["height","width"].forEach(a=>{const o=n[a];en(o)?s.removeAttribute(a):s.setAttribute(a,o)});const i=n.style||{};return Object.keys(i).forEach(a=>{s.style[a]=i[a]}),s.width=s.width,delete s[d1],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),o={attach:c1e,detach:d1e,resize:f1e}[s]||m1e;i[s]=o(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:zN,detach:zN,resize:zN}[s]||o1e)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return gye(t,s,n,i)}isAttached(t){const s=t&&n3(t);return!!(s&&s.isConnected)}}function g1e(e){return!s3()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?n1e:p1e}var Ay;let Pc=(Ay=class{constructor(){et(this,"x");et(this,"y");et(this,"active",!1);et(this,"options");et(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return o0(this.x)&&o0(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(a=>{i[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),i}},et(Ay,"defaults",{}),et(Ay,"defaultRoutes"),Ay);function x1e(e,t){const s=e.options.ticks,n=v1e(e),i=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?b1e(t):[],o=a.length,l=a[0],c=a[o-1],d=[];if(o>i)return w1e(t,d,a,o/i),d;const u=y1e(a,t,i);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(jy(t,d,u,en(f)?0:l-f,l),h=0,m=o-1;h<m;h++)jy(t,d,u,a[h],a[h+1]);return jy(t,d,u,c,en(f)?t.length:c+f),d}return jy(t,d,u),d}function v1e(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function y1e(e,t,s){const n=j1e(e),i=t.length/s;if(!n)return Math.max(i,1);const a=pve(n);for(let o=0,l=a.length-1;o<l;o++){const c=a[o];if(c>i)return c}return Math.max(i,1)}function b1e(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function w1e(e,t,s,n){let i=0,a=s[0],o;for(n=Math.ceil(n),o=0;o<e.length;o++)o===a&&(t.push(e[o]),i++,a=s[i*n])}function jy(e,t,s,n,i){const a=ms(n,0),o=Math.min(ms(i,e.length),e.length);let l=0,c,d,u;for(s=Math.ceil(s),i&&(c=i-n,s=c/Math.floor(c/s)),u=a;u<0;)l++,u=Math.round(a+l*s);for(d=Math.max(a,0);d<o;d++)d===u&&(t.push(e[d]),l++,u=Math.round(a+l*s))}function j1e(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const N1e=e=>e==="left"?"right":e==="right"?"left":e,tM=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,sM=(e,t)=>Math.min(t||e,e);function nM(e,t){const s=[],n=e.length/t,i=e.length;let a=0;for(;a<i;a+=n)s.push(e[Math.floor(a)]);return s}function S1e(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),a=e._startPixel,o=e._endPixel,l=1e-6;let c=e.getPixelForTick(i),d;if(!(s&&(n===1?d=Math.max(c-a,o-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(i-1))/2,c+=i<t?d:-d,c<a-l||c>o+l)))return c}function C1e(e,t){zs(e,s=>{const n=s.gc,i=n.length/2;let a;if(i>t){for(a=0;a<i;++a)delete s.data[n[a]];n.splice(0,i)}})}function pg(e){return e.drawTicks?e.tickLength:0}function rM(e,t){if(!e.display)return 0;const s=ii(e.font,t),n=Qa(e.padding);return(jr(e.text)?e.text.length:1)*s.lineHeight+n.height}function k1e(e,t){return zh(e,{scale:t,type:"scale"})}function _1e(e,t,s){return zh(e,{tick:s,index:t,type:"tick"})}function P1e(e,t,s){let n=K_(e);return(s&&t!=="right"||!s&&t==="right")&&(n=N1e(n)),n}function A1e(e,t,s,n){const{top:i,left:a,bottom:o,right:l,chart:c}=e,{chartArea:d,scales:u}=c;let h=0,m,f,g;const p=o-i,b=l-a;if(e.isHorizontal()){if(f=ei(n,a,l),vs(s)){const x=Object.keys(s)[0],y=s[x];g=u[x].getPixelForValue(y)+p-t}else s==="center"?g=(d.bottom+d.top)/2+p-t:g=tM(e,s,t);m=l-a}else{if(vs(s)){const x=Object.keys(s)[0],y=s[x];f=u[x].getPixelForValue(y)-b+t}else s==="center"?f=(d.left+d.right)/2-b+t:f=tM(e,s,t);g=ei(n,o,i),h=s==="left"?-Sr:Sr}return{titleX:f,titleY:g,maxWidth:m,rotation:h}}class yp extends Pc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=Xo(t,Number.POSITIVE_INFINITY),s=Xo(s,Number.NEGATIVE_INFINITY),n=Xo(n,Number.POSITIVE_INFINITY),i=Xo(i,Number.NEGATIVE_INFINITY),{min:Xo(t,n),max:Xo(s,i),minDefined:di(t),maxDefined:di(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:a}=this.getUserBounds(),o;if(i&&a)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,t),i||(s=Math.min(s,o.min)),a||(n=Math.max(n,o.max));return s=a&&s>n?n:s,n=i&&s>n?s:n,{min:Xo(s,Xo(n,s)),max:Xo(n,Xo(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){cn(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:a,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gve(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?nM(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=x1e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){cn(this.options.afterUpdate,[this])}beforeSetDimensions(){cn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){cn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),cn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){cn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,a;for(n=0,i=t.length;n<i;n++)a=t[n],a.label=cn(s.callback,[a.value,n,t],this)}afterTickToLabelConversion(){cn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){cn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=sM(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,a=s.maxRotation;let o=i,l,c,d;if(!this._isVisible()||!s.display||i>=a||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=ri(this.chart.width-h,0,this.maxWidth);l=t.offset?this.maxWidth/n:f/(n-1),h+6>l&&(l=f/(n-(t.offset?.5:1)),c=this.maxHeight-pg(t.grid)-s.padding-rM(t.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=yve(Math.min(Math.asin(ri((u.highest.height+6)/l,-1,1)),Math.asin(ri(c/d,-1,1))-Math.asin(ri(m/d,-1,1)))),o=Math.max(i,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){cn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){cn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:a}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=rM(i,s.options.font);if(l?(t.width=this.maxWidth,t.height=pg(a)+c):(t.height=this.maxHeight,t.width=pg(a)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=n.padding*2,g=oc(this.labelRotation),p=Math.cos(g),b=Math.sin(g);if(l){const x=n.mirror?0:b*h.width+p*m.height;t.height=Math.min(this.maxHeight,t.height+x+f)}else{const x=n.mirror?0:p*h.width+b*m.height;t.width=Math.min(this.maxWidth,t.width+x+f)}this._calculatePadding(d,u,b,p)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:a,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=i*t.width,f=n*s.height):(m=n*t.height,f=i*s.width):a==="start"?f=s.width:a==="end"?m=t.width:a!=="inner"&&(m=t.width/2,f=s.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=t.height/2;a==="start"?(u=0,h=t.height):a==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){cn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)en(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=nM(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:a}=this,o=[],l=[],c=Math.floor(s/sM(s,n));let d=0,u=0,h,m,f,g,p,b,x,y,w,S,C;for(h=0;h<s;h+=c){if(g=t[h].label,p=this._resolveTickFontOptions(h),i.font=b=p.string,x=a[b]=a[b]||{data:{},gc:[]},y=p.lineHeight,w=S=0,!en(g)&&!jr(g))w=L8(i,x.data,x.gc,w,g),S=y;else if(jr(g))for(m=0,f=g.length;m<f;++m)C=g[m],!en(C)&&!jr(C)&&(w=L8(i,x.data,x.gc,w,C),S+=y);o.push(w),l.push(S),d=Math.max(w,d),u=Math.max(S,u)}C1e(a,s);const L=o.indexOf(d),R=l.indexOf(u),M=D=>({width:o[D]||0,height:l[D]||0});return{first:M(0),last:M(s-1),widest:M(L),highest:M(R),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return wve(this._alignToPixels?Tu(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=_1e(this.getContext(),t,n))}return this.$context||(this.$context=k1e(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=oc(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),a=this._getLabelSizes(),o=t.autoSkipPadding||0,l=a?a.widest.width+o:0,c=a?a.highest.height+o:0;return this.isHorizontal()?c*n>l*i?l/n:c/i:c*i<l*n?c/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:a,position:o,border:l}=i,c=a.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=pg(a),f=[],g=l.setContext(this.getContext()),p=g.display?g.width:0,b=p/2,x=function(ie){return Tu(n,ie,p)};let y,w,S,C,L,R,M,D,$,E,T,q;if(o==="top")y=x(this.bottom),R=this.bottom-m,D=y-b,E=x(t.top)+b,q=t.bottom;else if(o==="bottom")y=x(this.top),E=t.top,q=x(t.bottom)-b,R=y+b,D=this.top+m;else if(o==="left")y=x(this.right),L=this.right-m,M=y-b,$=x(t.left)+b,T=t.right;else if(o==="right")y=x(this.left),$=t.left,T=x(t.right)-b,L=y+b,M=this.left+m;else if(s==="x"){if(o==="center")y=x((t.top+t.bottom)/2+.5);else if(vs(o)){const ie=Object.keys(o)[0],G=o[ie];y=x(this.chart.scales[ie].getPixelForValue(G))}E=t.top,q=t.bottom,R=y+b,D=R+m}else if(s==="y"){if(o==="center")y=x((t.left+t.right)/2);else if(vs(o)){const ie=Object.keys(o)[0],G=o[ie];y=x(this.chart.scales[ie].getPixelForValue(G))}L=y-b,M=L-m,$=t.left,T=t.right}const B=ms(i.ticks.maxTicksLimit,h),te=Math.max(1,Math.ceil(h/B));for(w=0;w<h;w+=te){const ie=this.getContext(w),G=a.setContext(ie),P=l.setContext(ie),U=G.lineWidth,xe=G.color,X=P.dash||[],O=P.dashOffset,W=G.tickWidth,Z=G.tickColor,ce=G.tickBorderDash||[],ae=G.tickBorderDashOffset;S=S1e(this,w,c),S!==void 0&&(C=Tu(n,S,U),d?L=M=$=T=C:R=D=E=q=C,f.push({tx1:L,ty1:R,tx2:M,ty2:D,x1:$,y1:E,x2:T,y2:q,width:U,color:xe,borderDash:X,borderDashOffset:O,tickWidth:W,tickColor:Z,tickBorderDash:ce,tickBorderDashOffset:ae}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:a}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=a,m=pg(n.grid),f=m+u,g=h?-u:f,p=-oc(this.labelRotation),b=[];let x,y,w,S,C,L,R,M,D,$,E,T,q="middle";if(i==="top")L=this.bottom-g,R=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+g,R=this._getXAxisLabelAlignment();else if(i==="left"){const te=this._getYAxisLabelAlignment(m);R=te.textAlign,C=te.x}else if(i==="right"){const te=this._getYAxisLabelAlignment(m);R=te.textAlign,C=te.x}else if(s==="x"){if(i==="center")L=(t.top+t.bottom)/2+f;else if(vs(i)){const te=Object.keys(i)[0],ie=i[te];L=this.chart.scales[te].getPixelForValue(ie)+f}R=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")C=(t.left+t.right)/2-f;else if(vs(i)){const te=Object.keys(i)[0],ie=i[te];C=this.chart.scales[te].getPixelForValue(ie)}R=this._getYAxisLabelAlignment(m).textAlign}s==="y"&&(c==="start"?q="top":c==="end"&&(q="bottom"));const B=this._getLabelSizes();for(x=0,y=l.length;x<y;++x){w=l[x],S=w.label;const te=a.setContext(this.getContext(x));M=this.getPixelForTick(x)+a.labelOffset,D=this._resolveTickFontOptions(x),$=D.lineHeight,E=jr(S)?S.length:1;const ie=E/2,G=te.color,P=te.textStrokeColor,U=te.textStrokeWidth;let xe=R;o?(C=M,R==="inner"&&(x===y-1?xe=this.options.reverse?"left":"right":x===0?xe=this.options.reverse?"right":"left":xe="center"),i==="top"?d==="near"||p!==0?T=-E*$+$/2:d==="center"?T=-B.highest.height/2-ie*$+$:T=-B.highest.height+$/2:d==="near"||p!==0?T=$/2:d==="center"?T=B.highest.height/2-ie*$:T=B.highest.height-E*$,h&&(T*=-1),p!==0&&!te.showLabelBackdrop&&(C+=$/2*Math.sin(p))):(L=M,T=(1-E)*$/2);let X;if(te.showLabelBackdrop){const O=Qa(te.backdropPadding),W=B.heights[x],Z=B.widths[x];let ce=T-O.top,ae=0-O.left;switch(q){case"middle":ce-=W/2;break;case"bottom":ce-=W;break}switch(R){case"center":ae-=Z/2;break;case"right":ae-=Z;break;case"inner":x===y-1?ae-=Z:x>0&&(ae-=Z/2);break}X={left:ae,top:ce,width:Z+O.width,height:W+O.height,color:te.backdropColor}}b.push({label:S,font:D,textOffset:T,options:{rotation:p,color:G,strokeColor:P,strokeWidth:U,textAlign:xe,textBaseline:q,translation:[C,L],backdrop:X}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-oc(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:a}}=this.options,o=this._getLabelSizes(),l=t+a,c=o.widest.width;let d,u;return s==="left"?i?(u=this.right+a,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?i?(u=this.left+a,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:a,height:o}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,a,o),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(a=0,o=i.length;a<o;++a){const c=i[a];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,a=n.setContext(this.getContext()),o=n.display?a.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=Tu(t,this.left,o)-o/2,u=Tu(t,this.right,l)+l/2,h=m=c):(h=Tu(t,this.top,o)-o/2,m=Tu(t,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,m),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&tw(n,i);const a=this.getLabelItems(t);for(const o of a){const l=o.options,c=o.font,d=o.label,u=o.textOffset;d0(n,d,0,u,c,l)}i&&sw(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const a=ii(n.font),o=Qa(n.padding),l=n.align;let c=a.lineHeight/2;s==="bottom"||s==="center"||vs(s)?(c+=o.bottom,jr(n.text)&&(c+=a.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=A1e(this,c,s,l);d0(t,n.text,0,0,a,{color:n.color,maxWidth:h,rotation:m,textAlign:P1e(l,s,i),textBaseline:"middle",translation:[d,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ms(t.grid&&t.grid.z,-1),i=ms(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yp.prototype.draw?[{z:s,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let a,o;for(a=0,o=s.length;a<o;++a){const l=s[a];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return ii(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ny{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;M1e(s)&&(n=this.register(s));const i=this.items,a=t.id,o=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,E1e(t,o,n),this.override&&Jn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Jn[i]&&(delete Jn[i][n],this.override&&delete Eh[n])}}function E1e(e,t,s){const n=i0(Object.create(null),[s?Jn.get(s):{},Jn.get(t),e.defaults]);Jn.set(t,n),e.defaultRoutes&&T1e(t,e.defaultRoutes),e.descriptors&&Jn.describe(t,e.descriptors)}function T1e(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),a=[e].concat(n).join("."),o=t[s].split("."),l=o.pop(),c=o.join(".");Jn.route(a,i,c,l)})}function M1e(e){return"id"in e&&"defaults"in e}class R1e{constructor(){this.controllers=new Ny(am,"datasets",!0),this.elements=new Ny(Pc,"elements"),this.plugins=new Ny(Object,"plugins"),this.scales=new Ny(yp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const a=n||this._getRegistryForType(i);n||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):zs(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,s,n){const i=Y_(t);cn(n["before"+i],[],n),s[t](n),cn(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var tl=new R1e;class L1e{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(a,t,s,n);return s==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,s,n,i){i=i||{};for(const a of t){const o=a.plugin,l=o[n],c=[s,i,a.options];if(cn(l,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){en(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ms(n.options&&n.options.plugins,{}),a=D1e(n);return i===!1&&!s?[]:I1e(t,a,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(a,o)=>a.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function D1e(e){const t={},s=[],n=Object.keys(tl.plugins.items);for(let a=0;a<n.length;a++)s.push(tl.getPlugin(n[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const o=i[a];s.indexOf(o)===-1&&(s.push(o),t[o.id]=!0)}return{plugins:s,localIds:t}}function O1e(e,t){return!t&&e===!1?null:e===!0?{}:e}function I1e(e,{plugins:t,localIds:s},n,i){const a=[],o=e.getContext();for(const l of t){const c=l.id,d=O1e(n[c],i);d!==null&&a.push({plugin:l,options:F1e(e.config,{plugin:l,local:s[c]},d,o)})}return a}function F1e(e,{plugin:t,local:s},n,i){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(n,a);return s&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function d4(e,t){const s=Jn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function B1e(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function z1e(e,t){return e===t?"_index_":"_value_"}function iM(e){if(e==="x"||e==="y"||e==="r")return e}function V1e(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function u4(e,...t){if(iM(e))return e;for(const s of t){const n=s.axis||V1e(s.position)||e.length>1&&iM(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function aM(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function $1e(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return aM(e,"x",s[0])||aM(e,"y",s[0])}return{}}function U1e(e,t){const s=Eh[e.type]||{scales:{}},n=t.scales||{},i=d4(e.type,t),a=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!vs(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=u4(o,l,$1e(o,e),Jn.scales[l.type]),d=z1e(c,i),u=s.scales||{};a[o]=rx(Object.create(null),[{axis:c},l,u[c],u[d]])}),e.data.datasets.forEach(o=>{const l=o.type||e.type,c=o.indexAxis||d4(l,t),u=(Eh[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=B1e(h,c),f=o[m+"AxisID"]||m;a[f]=a[f]||Object.create(null),rx(a[f],[{axis:m},n[f],u[h]])})}),Object.keys(a).forEach(o=>{const l=a[o];rx(l,[Jn.scales[l.type],Jn.scale])}),a}function eH(e){const t=e.options||(e.options={});t.plugins=ms(t.plugins,{}),t.scales=U1e(e,t)}function tH(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function H1e(e){return e=e||{},e.data=tH(e.data),eH(e),e}const oM=new Map,sH=new Set;function Sy(e,t){let s=oM.get(e);return s||(s=t(),oM.set(e,s),sH.add(s)),s}const gg=(e,t,s)=>{const n=a0(t,s);n!==void 0&&e.add(n)};class q1e{constructor(t){this._config=H1e(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=tH(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eH(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sy(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Sy(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Sy(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Sy(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:a}=this,o=this._cachedScopes(t,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{t&&(c.add(t),u.forEach(h=>gg(c,t,h))),u.forEach(h=>gg(c,i,h)),u.forEach(h=>gg(c,Eh[a]||{},h)),u.forEach(h=>gg(c,Jn,h)),u.forEach(h=>gg(c,l4,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),sH.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:t,type:s}=this;return[t,Eh[s]||{},Jn.datasets[s]||{},{type:s},Jn,l4]}resolveNamedOptions(t,s,n,i=[""]){const a={$shared:!0},{resolver:o,subPrefixes:l}=lM(this._resolverCache,t,i);let c=o;if(Y1e(o,s)){a.$shared=!1,n=nu(n)?n():n;const d=this.createResolver(t,n,l);c=Km(o,n,d)}for(const d of s)a[d]=c[d];return a}createResolver(t,s,n=[""],i){const{resolver:a}=lM(this._resolverCache,t,n);return vs(s)?Km(a,s,void 0,i):a}}function lM(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let a=n.get(i);return a||(a={resolver:J_(t,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,a)),a}const W1e=e=>vs(e)&&Object.getOwnPropertyNames(e).some(t=>nu(e[t]));function Y1e(e,t){const{isScriptable:s,isIndexable:n}=OU(e);for(const i of t){const a=s(i),o=n(i),l=(o||a)&&e[i];if(a&&(nu(l)||W1e(l))||o&&jr(l))return!0}return!1}var G1e="4.5.0";const K1e=["top","bottom","left","right","chartArea"];function cM(e,t){return e==="top"||e==="bottom"||K1e.indexOf(e)===-1&&t==="x"}function dM(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function uM(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),cn(s&&s.onComplete,[e],t)}function Z1e(e){const t=e.chart,s=t.options.animation;cn(s&&s.onProgress,[e],t)}function nH(e){return s3()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const u1={},hM=e=>{const t=nH(e);return Object.values(u1).filter(s=>s.canvas===t).pop()};function X1e(e,t,s){const n=Object.keys(e);for(const i of n){const a=+i;if(a>=t){const o=e[i];delete e[i],(s>0||a>t)&&(e[a+s]=o)}}}function Q1e(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}var Gc;let rw=(Gc=class{static register(...t){tl.add(...t),fM()}static unregister(...t){tl.remove(...t),fM()}constructor(t,s){const n=this.config=new q1e(s),i=nH(t),a=hM(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||g1e(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=ave(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new L1e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kve(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],u1[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Kl.listen(this,"complete",uM),Kl.listen(this,"progress",Z1e),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:a}=this;return en(t)?s&&a?a:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return tl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():F8(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return D8(this.canvas,this.ctx),this}stop(){return Kl.stop(this),this}resize(t,s){Kl.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,s,a),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,F8(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),cn(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};zs(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let a=[];s&&(a=a.concat(Object.keys(s).map(o=>{const l=s[o],c=u4(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),zs(a,o=>{const l=o.options,c=l.id,d=u4(c,l),u=ms(l.type,o.dtype);(l.position===void 0||cM(l.position,d)!==cM(o.dposition))&&(l.position=o.dposition),i[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const m=tl.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,t)}),zs(i,(o,l)=>{o||delete n[l]}),zs(n,o=>{qa.configure(this,o,o.options),qa.addBox(this,o)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,a)=>i.index-a.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(dM("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const a=s[n];let o=this.getDatasetMeta(n);const l=a.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=a.indexAxis||d4(l,this.options),o.order=a.order||0,o.index=n,o.label=""+a.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=tl.getController(l),{datasetElementType:d,dataElementType:u}=Jn.datasets[l];Object.assign(c,{dataElementType:tl.getElement(u),datasetElementType:d&&tl.getElement(d)}),o.controller=new c(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){zs(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!i&&a.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||zs(a,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dM("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){zs(this.scales,t=>{qa.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!C8(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:a}of s){const o=n==="_removeElements"?-a:a;X1e(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=a=>new Set(t.filter(o=>o[0]===a).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let a=1;a<s;a++)if(!C8(i,n(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qa.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],zs(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,nu(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kl.has(this)?this.attached&&!Kl.running(this)&&Kl.start(this):(this.draw(),uM({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,a;for(i=0,a=s.length;i<a;++i){const o=s[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=WU(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&tw(s,i),t.controller.draw(),i&&sw(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return c0(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const a=Kye.modes[s];return typeof a=="function"?a(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(a=>a&&a._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=zh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",a=this.getDatasetMeta(t),o=a.controller._resolveAnimations(void 0,i);Rb(s)?(a.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(a,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),Kl.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),D8(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete u1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(a,o)=>{s.addEventListener(this,a,o),t[a]=o},i=(a,o,l)=>{a.offsetX=o,a.offsetY=l,this._eventHandler(a)};zs(this.options.events,a=>n(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),t[c]=d},i=(c,d)=>{t[c]&&(s.removeEventListener(this,c,d),delete t[c])},a=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",a),n("detach",o)};o=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){zs(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},zs(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let a,o,l,c;for(s==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){o=t[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:a,index:o})=>{const l=this.getDatasetMeta(a);if(!l)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:l.data[o],index:o}});!Tb(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,a=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=a(s,t),l=n?t:a(t,s);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const a=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(a||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:a}=this,o=s,l=this._getActiveElements(t,i,n,o),c=hve(t),d=Q1e(t,this._lastEvent,n,c);n&&(this._lastEvent=null,cn(a.onHover,[t,l,this],this),c&&cn(a.onClick,[t,l,this],this));const u=!Tb(l,i);return(u||s)&&(this._active=l,this._updateHoverStyles(l,i,s)),this._lastEvent=d,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}},et(Gc,"defaults",Jn),et(Gc,"instances",u1),et(Gc,"overrides",Eh),et(Gc,"registry",tl),et(Gc,"version",G1e),et(Gc,"getChart",hM),Gc);function fM(){return zs(rw.instances,e=>e._plugins.invalidate())}function J1e(e,t,s){const{startAngle:n,x:i,y:a,outerRadius:o,innerRadius:l,options:c}=t,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,ua(n-s));if(e.beginPath(),e.arc(i,a,o-d/2,n+h/2,s-h/2),l>0){const m=Math.min(d/l,ua(n-s));e.arc(i,a,l+d/2,s-m/2,n+m/2,!0)}else{const m=Math.min(d/2,o*ua(n-s));if(u==="round")e.arc(i,a,m,s-$s/2,n+$s/2,!0);else if(u==="bevel"){const f=2*m*m,g=-f*Math.cos(s+$s/2)+i,p=-f*Math.sin(s+$s/2)+a,b=f*Math.cos(n+$s/2)+i,x=f*Math.sin(n+$s/2)+a;e.lineTo(g,p),e.lineTo(b,x)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function ebe(e,t,s){const{startAngle:n,pixelMargin:i,x:a,y:o,outerRadius:l,innerRadius:c}=t;let d=i/l;e.beginPath(),e.arc(a,o,l,n-d,s+d),c>i?(d=i/c,e.arc(a,o,c,s+d,n-d,!0)):e.arc(a,o,i,s+Sr,n-Sr),e.closePath(),e.clip()}function tbe(e){return Q_(e,["outerStart","outerEnd","innerStart","innerEnd"])}function sbe(e,t,s,n){const i=tbe(e.options.borderRadius),a=(s-t)/2,o=Math.min(a,n*t/2),l=c=>{const d=(s-Math.min(a,c))*n/2;return ri(c,0,Math.min(a,d))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:ri(i.innerStart,0,o),innerEnd:ri(i.innerEnd,0,o)}}function gf(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Fb(e,t,s,n,i,a){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=t,h=Math.max(t.outerRadius+n+s-d,0),m=u>0?u+n+s+d:0;let f=0;const g=i-c;if(n){const te=u>0?u-n:0,ie=h>0?h-n:0,G=(te+ie)/2,P=G!==0?g*G/(G+n):g;f=(g-P)/2}const p=Math.max(.001,g*h-s/$s)/h,b=(g-p)/2,x=c+b+f,y=i-b-f,{outerStart:w,outerEnd:S,innerStart:C,innerEnd:L}=sbe(t,m,h,y-x),R=h-w,M=h-S,D=x+w/R,$=y-S/M,E=m+C,T=m+L,q=x+C/E,B=y-L/T;if(e.beginPath(),a){const te=(D+$)/2;if(e.arc(o,l,h,D,te),e.arc(o,l,h,te,$),S>0){const U=gf(M,$,o,l);e.arc(U.x,U.y,S,$,y+Sr)}const ie=gf(T,y,o,l);if(e.lineTo(ie.x,ie.y),L>0){const U=gf(T,B,o,l);e.arc(U.x,U.y,L,y+Sr,B+Math.PI)}const G=(y-L/m+(x+C/m))/2;if(e.arc(o,l,m,y-L/m,G,!0),e.arc(o,l,m,G,x+C/m,!0),C>0){const U=gf(E,q,o,l);e.arc(U.x,U.y,C,q+Math.PI,x-Sr)}const P=gf(R,x,o,l);if(e.lineTo(P.x,P.y),w>0){const U=gf(R,D,o,l);e.arc(U.x,U.y,w,x-Sr,D)}}else{e.moveTo(o,l);const te=Math.cos(D)*h+o,ie=Math.sin(D)*h+l;e.lineTo(te,ie);const G=Math.cos($)*h+o,P=Math.sin($)*h+l;e.lineTo(G,P)}e.closePath()}function nbe(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l}=t;let c=t.endAngle;if(a){Fb(e,t,s,n,c,i);for(let d=0;d<a;++d)e.fill();isNaN(l)||(c=o+(l%Cn||Cn))}return Fb(e,t,s,n,c,i),e.fill(),c}function rbe(e,t,s,n,i){const{fullCircles:a,startAngle:o,circumference:l,options:c}=t,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,g=c.borderAlign==="inner";if(!d)return;e.setLineDash(h||[]),e.lineDashOffset=m,g?(e.lineWidth=d*2,e.lineJoin=u||"round"):(e.lineWidth=d,e.lineJoin=u||"bevel");let p=t.endAngle;if(a){Fb(e,t,s,n,p,i);for(let b=0;b<a;++b)e.stroke();isNaN(l)||(p=o+(l%Cn||Cn))}g&&ebe(e,t,p),c.selfJoin&&p-o>=$s&&f===0&&u!=="miter"&&J1e(e,t,p),a||(Fb(e,t,s,n,p,i),e.stroke())}class Dg extends Pc{constructor(s){super();et(this,"circumference");et(this,"endAngle");et(this,"fullCircles");et(this,"innerRadius");et(this,"outerRadius");et(this,"pixelMargin");et(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.getProps(["x","y"],i),{angle:o,distance:l}=PU(a,{x:s,y:n}),{startAngle:c,endAngle:d,innerRadius:u,outerRadius:h,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,g=ms(m,d-c),p=l0(o,c,d)&&c!==d,b=g>=Cn||p,x=lc(l,u+f,h+f);return b&&x}getCenterPoint(s){const{x:n,y:i,startAngle:a,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:d,spacing:u}=this.options,h=(a+o)/2,m=(l+c+u+d)/2;return{x:n+Math.cos(h)*m,y:i+Math.sin(h)*m}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,a=(n.offset||0)/4,o=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Cn?Math.floor(i/Cn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min($s,i||0)),u=a*d;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,nbe(s,this,u,o,l),rbe(s,this,u,o,l),s.restore()}}et(Dg,"id","arc"),et(Dg,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),et(Dg,"defaultRoutes",{backgroundColor:"backgroundColor"}),et(Dg,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function rH(e,t,s=t){e.lineCap=ms(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ms(s.borderDash,t.borderDash)),e.lineDashOffset=ms(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ms(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ms(s.borderWidth,t.borderWidth),e.strokeStyle=ms(s.borderColor,t.borderColor)}function ibe(e,t,s){e.lineTo(s.x,s.y)}function abe(e){return e.stepped?Bve:e.tension||e.cubicInterpolationMode==="monotone"?zve:ibe}function iH(e,t,s={}){const n=e.length,{start:i=0,end:a=n-1}=s,{start:o,end:l}=t,c=Math.max(i,o),d=Math.min(a,l),u=i<o&&a<o||i>l&&a>l;return{count:n,start:c,loop:t.loop,ilen:d<c&&!u?n+d-c:d-c}}function obe(e,t,s,n){const{points:i,options:a}=t,{count:o,start:l,loop:c,ilen:d}=iH(i,s,n),u=abe(a);let{move:h=!0,reverse:m}=n||{},f,g,p;for(f=0;f<=d;++f)g=i[(l+(m?d-f:f))%o],!g.skip&&(h?(e.moveTo(g.x,g.y),h=!1):u(e,p,g,m,a.stepped),p=g);return c&&(g=i[(l+(m?d:0))%o],u(e,p,g,m,a.stepped)),!!c}function lbe(e,t,s,n){const i=t.points,{count:a,start:o,ilen:l}=iH(i,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,m,f,g,p,b,x;const y=S=>(o+(d?l-S:S))%a,w=()=>{p!==b&&(e.lineTo(u,b),e.lineTo(u,p),e.lineTo(u,x))};for(c&&(f=i[y(0)],e.moveTo(f.x,f.y)),m=0;m<=l;++m){if(f=i[y(m)],f.skip)continue;const S=f.x,C=f.y,L=S|0;L===g?(C<p?p=C:C>b&&(b=C),u=(h*u+S)/++h):(w(),e.lineTo(S,C),g=L,h=0,p=b=C),x=C}w()}function h4(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?lbe:obe}function cbe(e){return e.stepped?vye:e.tension||e.cubicInterpolationMode==="monotone"?yye:zu}function dbe(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),rH(e,t.options),e.stroke(i)}function ube(e,t,s,n){const{segments:i,options:a}=t,o=h4(t);for(const l of i)rH(e,a,l.style),e.beginPath(),o(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const hbe=typeof Path2D=="function";function fbe(e,t,s,n){hbe&&!t.options.segment?dbe(e,t,s,n):ube(e,t,s,n)}class Nd extends Pc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;dye(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Cye(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],a=this.points,o=qU(this,{property:s,start:i,end:i});if(!o.length)return;const l=[],c=cbe(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:m}=o[d],f=a[h],g=a[m];if(f===g){l.push(f);continue}const p=Math.abs((i-f[s])/(g[s]-f[s])),b=c(f,g,p,n.stepped);b[s]=t[s],l.push(b)}return l.length===1?l[0]:l}pathSegment(t,s,n){return h4(this)(t,this,s,n)}path(t,s,n){const i=this.segments,a=h4(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of i)o&=a(t,this,l,{start:s,end:s+n-1});return!!o}draw(t,s,n,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),fbe(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}et(Nd,"id","line"),et(Nd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),et(Nd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),et(Nd,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function mM(e,t,s,n){const i=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<i.radius+i.hitRadius}class h1 extends Pc{constructor(s){super();et(this,"parsed");et(this,"skip");et(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const a=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(s-o,2)+Math.pow(n-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(s,n){return mM(this,s,"x",n)}inYRange(s,n){return mM(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!c0(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,c4(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}et(h1,"id","point"),et(h1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),et(h1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function aH(e,t){const{x:s,y:n,base:i,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let l,c,d,u,h;return e.horizontal?(h=o/2,l=Math.min(s,i),c=Math.max(s,i),d=n-h,u=n+h):(h=a/2,l=s-h,c=s+h,d=Math.min(n,i),u=Math.max(n,i)),{left:l,top:d,right:c,bottom:u}}function Sd(e,t,s,n){return e?0:ri(t,s,n)}function mbe(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,a=DU(n);return{t:Sd(i.top,a.top,0,s),r:Sd(i.right,a.right,0,t),b:Sd(i.bottom,a.bottom,0,s),l:Sd(i.left,a.left,0,t)}}function pbe(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=rm(i),o=Math.min(t,s),l=e.borderSkipped,c=n||vs(i);return{topLeft:Sd(!c||l.top||l.left,a.topLeft,0,o),topRight:Sd(!c||l.top||l.right,a.topRight,0,o),bottomLeft:Sd(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:Sd(!c||l.bottom||l.right,a.bottomRight,0,o)}}function gbe(e){const t=aH(e),s=t.right-t.left,n=t.bottom-t.top,i=mbe(e,s/2,n/2),a=pbe(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function VN(e,t,s,n){const i=t===null,a=s===null,l=e&&!(i&&a)&&aH(e,n);return l&&(i||lc(t,l.left,l.right))&&(a||lc(s,l.top,l.bottom))}function xbe(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function vbe(e,t){e.rect(t.x,t.y,t.w,t.h)}function $N(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,o=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}class f1 extends Pc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:a,outer:o}=gbe(this),l=xbe(o.radius)?Db:vbe;t.save(),(o.w!==a.w||o.h!==a.h)&&(t.beginPath(),l(t,$N(o,s,a)),t.clip(),l(t,$N(a,-s,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,$N(a,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return VN(this,t,s,n)}inXRange(t,s){return VN(this,t,null,s)}inYRange(t,s){return VN(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(s+i)/2:s,y:a?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}et(f1,"id","bar"),et(f1,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),et(f1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ybe(e,t,s){const n=e.segments,i=e.points,a=t.points,o=[];for(const l of n){let{start:c,end:d}=l;d=iw(c,d,i);const u=f4(s,i[c],i[d],l.loop);if(!t.segments){o.push({source:l,target:u,start:i[c],end:i[d]});continue}const h=qU(t,u);for(const m of h){const f=f4(s,a[m.start],a[m.end],m.loop),g=HU(l,i,f);for(const p of g)o.push({source:p,target:m,start:{[s]:pM(u,f,"start",Math.max)},end:{[s]:pM(u,f,"end",Math.min)}})}}return o}function f4(e,t,s,n){if(n)return;let i=t[e],a=s[e];return e==="angle"&&(i=ua(i),a=ua(a)),{property:e,start:i,end:a}}function bbe(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,a=[];return t.segments.forEach(({start:o,end:l})=>{l=iw(o,l,i);const c=i[o],d=i[l];n!==null?(a.push({x:c.x,y:n}),a.push({x:d.x,y:n})):s!==null&&(a.push({x:s,y:c.y}),a.push({x:s,y:d.y}))}),a}function iw(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function pM(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function oH(e,t){let s=[],n=!1;return jr(e)?(n=!0,s=e):s=bbe(e,t),s.length?new Nd({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function gM(e){return e&&e.fill!==!1}function wbe(e,t,s){let i=e[t].fill;const a=[t];let o;if(!s)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!di(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;a.push(i),i=o.fill}return!1}function jbe(e,t,s){const n=kbe(e);if(vs(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return di(i)&&Math.floor(i)===i?Nbe(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Nbe(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function Sbe(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:vs(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function Cbe(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:vs(e)?n=e.value:n=t.getBaseValue(),n}function kbe(e){const t=e.options,s=t.fill;let n=ms(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function _be(e){const{scale:t,index:s,line:n}=e,i=[],a=n.segments,o=n.points,l=Pbe(t,s);l.push(oH({x:null,y:t.bottom},n));for(let c=0;c<a.length;c++){const d=a[c];for(let u=d.start;u<=d.end;u++)Abe(i,o[u],l)}return new Nd({points:i,options:{}})}function Pbe(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const a=n[i];if(a.index===t)break;a.hidden||s.unshift(a.dataset)}return s}function Abe(e,t,s){const n=[];for(let i=0;i<s.length;i++){const a=s[i],{first:o,last:l,point:c}=Ebe(a,t,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(e.push(c),!l)break}}e.push(...n)}function Ebe(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],a=e.segments,o=e.points;let l=!1,c=!1;for(let d=0;d<a.length;d++){const u=a[d],h=o[u.start][s],m=o[u.end][s];if(lc(i,h,m)){l=i===h,c=i===m;break}}return{first:l,last:c,point:n}}class lH{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:a,radius:o}=this;return s=s||{start:0,end:Cn},t.arc(i,a,o,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,a=t.angle;return{x:s+Math.cos(a)*i,y:n+Math.sin(a)*i,angle:a}}}function Tbe(e){const{chart:t,fill:s,line:n}=e;if(di(s))return Mbe(t,s);if(s==="stack")return _be(e);if(s==="shape")return!0;const i=Rbe(e);return i instanceof lH?i:oH(i,n)}function Mbe(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function Rbe(e){return(e.scale||{}).getPointPositionForValue?Dbe(e):Lbe(e)}function Lbe(e){const{scale:t={},fill:s}=e,n=Sbe(s,t);if(di(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Dbe(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,a=n.reverse?t.max:t.min,o=Cbe(s,t,a),l=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,a);return new lH({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)l.push(t.getPointPositionForValue(c,o));return l}function UN(e,t,s){const n=Tbe(t),{chart:i,index:a,line:o,scale:l,axis:c}=t,d=o.options,u=d.fill,h=d.backgroundColor,{above:m=h,below:f=h}=u||{},g=i.getDatasetMeta(a),p=WU(i,g);n&&o.points.length&&(tw(e,s),Obe(e,{line:o,target:n,above:m,below:f,area:s,scale:l,axis:c,clip:p}),sw(e))}function Obe(e,t){const{line:s,target:n,above:i,below:a,area:o,scale:l,clip:c}=t,d=s._loop?"angle":t.axis;e.save();let u=a;a!==i&&(d==="x"?(xM(e,n,o.top),HN(e,{line:s,target:n,color:i,scale:l,property:d,clip:c}),e.restore(),e.save(),xM(e,n,o.bottom)):d==="y"&&(vM(e,n,o.left),HN(e,{line:s,target:n,color:a,scale:l,property:d,clip:c}),e.restore(),e.save(),vM(e,n,o.right),u=i)),HN(e,{line:s,target:n,color:u,scale:l,property:d,clip:c}),e.restore()}function xM(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[iw(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function vM(e,t,s){const{segments:n,points:i}=t;let a=!0,o=!1;e.beginPath();for(const l of n){const{start:c,end:d}=l,u=i[c],h=i[iw(c,d,i)];a?(e.moveTo(u.x,u.y),a=!1):(e.lineTo(s,u.y),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,l,{move:o}),o?e.closePath():e.lineTo(s,h.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function HN(e,t){const{line:s,target:n,property:i,color:a,scale:o,clip:l}=t,c=ybe(s,n,i);for(const{source:d,target:u,start:h,end:m}of c){const{style:{backgroundColor:f=a}={}}=d,g=n!==!0;e.save(),e.fillStyle=f,Ibe(e,o,l,g&&f4(i,h,m)),e.beginPath();const p=!!s.pathSegment(e,d);let b;if(g){p?e.closePath():yM(e,n,m,i);const x=!!n.pathSegment(e,u,{move:p,reverse:!0});b=p&&x,b||yM(e,n,h,i)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Ibe(e,t,s,n){const i=t.chart.chartArea,{property:a,start:o,end:l}=n||{};if(a==="x"||a==="y"){let c,d,u,h;a==="x"?(c=o,d=i.top,u=l,h=i.bottom):(c=i.left,d=o,u=i.right,h=l),e.beginPath(),s&&(c=Math.max(c,s.left),u=Math.min(u,s.right),d=Math.max(d,s.top),h=Math.min(h,s.bottom)),e.rect(c,d,u-c,h-d),e.clip()}}function yM(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var Fbe={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let a,o,l,c;for(o=0;o<n;++o)a=e.getDatasetMeta(o),l=a.dataset,c=null,l&&l.options&&l instanceof Nd&&(c={visible:e.isDatasetVisible(o),index:o,fill:jbe(l,o,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=c,i.push(c);for(o=0;o<n;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=wbe(i,o,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(a,l.axis),n&&l.fill&&UN(e.ctx,l,a))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const a=n[i].$filler;gM(a)&&UN(e.ctx,a,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!gM(n)||s.drawTime!=="beforeDatasetDraw"||UN(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const bM=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},Bbe=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wM extends Pc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=cn(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=ii(n.font),a=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=bM(n,a);let d,u;s.font=i.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,a,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,i,l,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:a,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=i+l;let h=t;a.textAlign="left",a.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((g,p)=>{const b=n+s/2+a.measureText(g.text).width;(p===0||d[d.length-1]+b+2*l>o)&&(h+=u,d[d.length-(p>0?0:1)]=0,f+=u,m++),c[p]={left:0,top:f,row:m,width:b,height:i},d[d.length-1]+=b+l}),h}_fitCols(t,s,n,i){const{ctx:a,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-t;let h=l,m=0,f=0,g=0,p=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:y,itemHeight:w}=zbe(n,s,a,b,i);x>0&&f+w+2*l>u&&(h+=m+l,d.push({width:m,height:f}),g+=m+l,p++,m=f=0),c[x]={left:g,top:f,col:p,width:y,height:w},m=Math.max(m,y),f+=w+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:a}}=this,o=im(a,this.left,this.width);if(this.isHorizontal()){let l=0,c=ei(n,this.left+i,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=ei(n,this.left+i,this.right-this.lineWidths[l])),d.top+=this.top+t+i,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+i}else{let l=0,c=ei(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=ei(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+i,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;tw(t,this),this._draw(),sw(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:a,labels:o}=t,l=Jn.color,c=im(t.rtl,this.left,this.width),d=ii(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=d.string;const{boxWidth:g,boxHeight:p,itemHeight:b}=bM(o,h),x=function(L,R,M){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;i.save();const D=ms(M.lineWidth,1);if(i.fillStyle=ms(M.fillStyle,l),i.lineCap=ms(M.lineCap,"butt"),i.lineDashOffset=ms(M.lineDashOffset,0),i.lineJoin=ms(M.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=ms(M.strokeStyle,l),i.setLineDash(ms(M.lineDash,[])),o.usePointStyle){const $={radius:p*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:D},E=c.xPlus(L,g/2),T=R+m;LU(i,$,E,T,o.pointStyleWidth&&g)}else{const $=R+Math.max((h-p)/2,0),E=c.leftForLtr(L,g),T=rm(M.borderRadius);i.beginPath(),Object.values(T).some(q=>q!==0)?Db(i,{x:E,y:$,w:g,h:p,radius:T}):i.rect(E,$,g,p),i.fill(),D!==0&&i.stroke()}i.restore()},y=function(L,R,M){d0(i,M.text,L,R+b/2,d,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?f={x:ei(a,this.left+u,this.right-n[0]),y:this.top+u+S,line:0}:f={x:this.left+u,y:ei(a,this.top+S+u,this.bottom-s[0].height),line:0},VU(this.ctx,t.textDirection);const C=b+u;this.legendItems.forEach((L,R)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const M=i.measureText(L.text).width,D=c.textAlign(L.textAlign||(L.textAlign=o.textAlign)),$=g+m+M;let E=f.x,T=f.y;c.setWidth(this.width),w?R>0&&E+$+u>this.right&&(T=f.y+=C,f.line++,E=f.x=ei(a,this.left+u,this.right-n[f.line])):R>0&&T+C>this.bottom&&(E=f.x=E+s[f.line].width+u,f.line++,T=f.y=ei(a,this.top+S+u,this.bottom-s[f.line].height));const q=c.x(E);if(x(q,T,L),E=_ve(D,E+g+m,w?E+$:this.right,t.rtl),y(c.x(E),T,L),w)f.x+=$+u;else if(typeof L.text!="string"){const B=d.lineHeight;f.y+=cH(L,B)+u}else f.y+=C}),$U(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=ii(s.font),i=Qa(s.padding);if(!s.display)return;const a=im(t.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=i.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=ei(t.align,h,this.right-m);else{const g=this.columnSizes.reduce((p,b)=>Math.max(p,b.height),0);u=d+ei(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=ei(l,h,h+m);o.textAlign=a.textAlign(K_(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,d0(o,s.text,f,u,n)}_computeTitleHeight(){const t=this.options.title,s=ii(t.font),n=Qa(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,a;if(lc(t,this.left,this.right)&&lc(s,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],lc(t,i.left,i.left+i.width)&&lc(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!Ube(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=Bbe(i,n);i&&!a&&cn(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!a&&cn(s.onHover,[t,n,this],this)}else n&&cn(s.onClick,[t,n,this],this)}}function zbe(e,t,s,n,i){const a=Vbe(n,e,t,s),o=$be(i,n,t.lineHeight);return{itemWidth:a,itemHeight:o}}function Vbe(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,o)=>a.length>o.length?a:o)),t+s.size/2+n.measureText(i).width}function $be(e,t,s){let n=e;return typeof t.text!="string"&&(n=cH(t,s)),n}function cH(e,t){const s=e.text?e.text.length:0;return t*s}function Ube(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Hbe={id:"legend",_element:wM,start(e,t,s){const n=e.legend=new wM({ctx:e.ctx,options:s,chart:e});qa.configure(e,n,s),qa.addBox(e,n)},stop(e){qa.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;qa.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:a,useBorderRadius:o,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=Qa(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:a,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:i||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class dH extends Pc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=jr(n.text)?n.text.length:1;this._padding=Qa(n.padding);const a=i*ii(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:a,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=ei(l,n,a),h=s+t,d=a-n):(o.position==="left"?(u=n+t,h=ei(l,i,s),c=$s*-.5):(u=a-t,h=ei(l,s,i),c=$s*.5),d=i-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=ii(s.font),a=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(a);d0(t,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:K_(s.align),textBaseline:"middle",translation:[o,l]})}}function qbe(e,t){const s=new dH({ctx:e.ctx,options:t,chart:e});qa.configure(e,s,t),qa.addBox(e,s),e.titleBlock=s}var Wbe={id:"title",_element:dH,start(e,t,s){qbe(e,s)},stop(e){const t=e.titleBlock;qa.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;qa.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Og={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,a=0;for(t=0,s=e.length;t<s;++t){const l=e[t].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),i+=c.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,a,o,l;for(a=0,o=e.length;a<o;++a){const c=e[a].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=o4(t,d);u<i&&(i=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Jo(e,t){return t&&(jr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Zl(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Ybe(e,t){const{element:s,datasetIndex:n,index:i}=t,a=e.getDatasetMeta(n).controller,{label:o,value:l}=a.getLabelAndValue(i);return{chart:e,label:o,parsed:a.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:l,dataset:a.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function jM(e,t){const s=e.chart.ctx,{body:n,footer:i,title:a}=e,{boxWidth:o,boxHeight:l}=t,c=ii(t.bodyFont),d=ii(t.titleFont),u=ii(t.footerFont),h=a.length,m=i.length,f=n.length,g=Qa(t.padding);let p=g.height,b=0,x=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(x+=e.beforeBody.length+e.afterBody.length,h&&(p+=h*d.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),x){const S=t.displayColors?Math.max(l,c.lineHeight):c.lineHeight;p+=f*S+(x-f)*c.lineHeight+(x-1)*t.bodySpacing}m&&(p+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let y=0;const w=function(S){b=Math.max(b,s.measureText(S).width+y)};return s.save(),s.font=d.string,zs(e.title,w),s.font=c.string,zs(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,zs(n,S=>{zs(S.before,w),zs(S.lines,w),zs(S.after,w)}),y=0,s.font=u.string,zs(e.footer,w),s.restore(),b+=g.width,{width:b,height:p}}function Gbe(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function Kbe(e,t,s,n){const{x:i,width:a}=n,o=s.caretSize+s.caretPadding;if(e==="left"&&i+a+o>t.width||e==="right"&&i-a-o<0)return!0}function Zbe(e,t,s,n){const{x:i,width:a}=s,{width:o,chartArea:{left:l,right:c}}=e;let d="center";return n==="center"?d=i<=(l+c)/2?"left":"right":i<=a/2?d="left":i>=o-a/2&&(d="right"),Kbe(d,e,t,s)&&(d="center"),d}function NM(e,t,s){const n=s.yAlign||t.yAlign||Gbe(e,s);return{xAlign:s.xAlign||t.xAlign||Zbe(e,t,s,n),yAlign:n}}function Xbe(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function Qbe(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function SM(e,t,s,n){const{caretSize:i,caretPadding:a,cornerRadius:o}=e,{xAlign:l,yAlign:c}=s,d=i+a,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=rm(o);let g=Xbe(t,l);const p=Qbe(t,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,m)+i:l==="right"&&(g+=Math.max(h,f)+i),{x:ri(g,0,n.width-t.width),y:ri(p,0,n.height-t.height)}}function Cy(e,t,s){const n=Qa(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function CM(e){return Jo([],Zl(e))}function Jbe(e,t,s){return zh(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function kM(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const uH={beforeTitle:Wl,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Wl,beforeBody:Wl,beforeLabel:Wl,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return en(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Wl,afterBody:Wl,beforeFooter:Wl,footer:Wl,afterFooter:Wl};function Li(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?uH[t].call(s,n):i}class m4 extends Pc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,a=new YU(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Jbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=Li(n,"beforeTitle",this,t),a=Li(n,"title",this,t),o=Li(n,"afterTitle",this,t);let l=[];return l=Jo(l,Zl(i)),l=Jo(l,Zl(a)),l=Jo(l,Zl(o)),l}getBeforeBody(t,s){return CM(Li(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return zs(t,a=>{const o={before:[],lines:[],after:[]},l=kM(n,a);Jo(o.before,Zl(Li(l,"beforeLabel",this,a))),Jo(o.lines,Li(l,"label",this,a)),Jo(o.after,Zl(Li(l,"afterLabel",this,a))),i.push(o)}),i}getAfterBody(t,s){return CM(Li(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=Li(n,"beforeFooter",this,t),a=Li(n,"footer",this,t),o=Li(n,"afterFooter",this,t);let l=[];return l=Jo(l,Zl(i)),l=Jo(l,Zl(a)),l=Jo(l,Zl(o)),l}_createItems(t){const s=this._active,n=this.chart.data,i=[],a=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(Ybe(this.chart,s[c]));return t.filter&&(l=l.filter((u,h,m)=>t.filter(u,h,m,n))),t.itemSort&&(l=l.sort((u,h)=>t.itemSort(u,h,n))),zs(l,u=>{const h=kM(t.callbacks,u);i.push(Li(h,"labelColor",this,u)),a.push(Li(h,"labelPointStyle",this,u)),o.push(Li(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=o,this.dataPoints=l,l}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let a,o=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const l=Og[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=jM(this,n),d=Object.assign({},l,c),u=NM(this.chart,n,d),h=SM(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,a={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const a=this.getCaretPosition(t,n,i);s.lineTo(a.x1,a.y1),s.lineTo(a.x2,a.y2),s.lineTo(a.x3,a.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:a}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=rm(l),{x:m,y:f}=t,{width:g,height:p}=s;let b,x,y,w,S,C;return a==="center"?(S=f+p/2,i==="left"?(b=m,x=b-o,w=S+o,C=S-o):(b=m+g,x=b+o,w=S-o,C=S+o),y=b):(i==="left"?x=m+Math.max(c,u)+o:i==="right"?x=m+g-Math.max(d,h)-o:x=this.caretX,a==="top"?(w=f,S=w-o,b=x-o,y=x+o):(w=f+p,S=w+o,b=x+o,y=x-o),C=w),{x1:b,x2:x,x3:y,y1:w,y2:S,y3:C}}drawTitle(t,s,n){const i=this.title,a=i.length;let o,l,c;if(a){const d=im(n.rtl,this.x,this.width);for(t.x=Cy(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=ii(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<a;++c)s.fillText(i[c],d.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,c+1===a&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,s,n,i,a){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=ii(a.bodyFont),h=Cy(this,"left",a),m=i.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,g=s.y+f;if(a.usePointStyle){const p={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=i.leftForLtr(m,d)+d/2,x=g+c/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,c4(t,p,b,x),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,c4(t,p,b,x)}else{t.lineWidth=vs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const p=i.leftForLtr(m,d),b=i.leftForLtr(i.xPlus(m,1),d-2),x=rm(o.borderRadius);Object.values(x).some(y=>y!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Db(t,{x:p,y:g,w:d,h:c,radius:x}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Db(t,{x:b,y:g+1,w:d-2,h:c-2,radius:x}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(p,g,d,c),t.strokeRect(p,g,d,c),t.fillStyle=o.backgroundColor,t.fillRect(b,g+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:a,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=ii(n.bodyFont);let m=h.lineHeight,f=0;const g=im(n.rtl,this.x,this.width),p=function(M){s.fillText(M,g.x(t.x+f),t.y+m/2),t.y+=m+a},b=g.textAlign(o);let x,y,w,S,C,L,R;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,t.x=Cy(this,b,n),s.fillStyle=n.bodyColor,zs(this.beforeBody,p),f=l&&b!=="right"?o==="center"?d/2+u:d+2+u:0,S=0,L=i.length;S<L;++S){for(x=i[S],y=this.labelTextColors[S],s.fillStyle=y,zs(x.before,p),w=x.lines,l&&w.length&&(this._drawColorBox(s,t,S,g,n),m=Math.max(h.lineHeight,c)),C=0,R=w.length;C<R;++C)p(w[C]),m=h.lineHeight;zs(x.after,p)}f=0,m=h.lineHeight,zs(this.afterBody,p),t.y-=a}drawFooter(t,s,n){const i=this.footer,a=i.length;let o,l;if(a){const c=im(n.rtl,this.x,this.width);for(t.x=Cy(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=ii(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<a;++l)s.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:a,yAlign:o}=this,{x:l,y:c}=t,{width:d,height:u}=n,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:g}=rm(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(t,s,n,i),s.lineTo(l+d-m,c),s.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&a==="right"&&this.drawCaret(t,s,n,i),s.lineTo(l+d,c+u-g),s.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(l+f,c+u),s.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&a==="left"&&this.drawCaret(t,s,n,i),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,a=n&&n.y;if(i||a){const o=Og[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=jM(this,t),c=Object.assign({},o,this._size),d=NM(s,t,c),u=SM(t,c,d,s);(i._to!==u.x||a._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Qa(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,i,s),VU(t,s.textDirection),a.y+=o.top,this.drawTitle(a,t,s),this.drawBody(a,t,s),this.drawFooter(a,t,s),$U(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),a=!Tb(n,i),o=this._positionChanged(i,s);(a||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],o=this._getActiveElements(t,a,s,n),l=this._positionChanged(o,t),c=s||!Tb(o,a)||l;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),c}_getActiveElements(t,s,n,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&o.reverse(),o}_positionChanged(t,s){const{caretX:n,caretY:i,options:a}=this,o=Og[a.position].call(this,t,s);return o!==!1&&(n!==o.x||i!==o.y)}}et(m4,"positioners",Og);var e2e={id:"tooltip",_element:m4,positioners:Og,afterInit(e,t,s){s&&(e.tooltip=new m4({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uH},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const t2e=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function s2e(e,t,s,n){const i=e.indexOf(t);if(i===-1)return t2e(e,t,s,n);const a=e.lastIndexOf(t);return i!==a?s:i}const n2e=(e,t)=>e===null?null:ri(Math.round(e),0,t);function _M(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class p4 extends yp{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:a}of s)n[i]===a&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(en(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:s2e(n,t,ms(s,t),this._addedLabels),n2e(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let a=this.getLabels();a=t===0&&s===a.length-1?a:a.slice(t,s+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=s;o++)i.push({value:o});return i}getLabelForValue(t){return _M.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}et(p4,"id","category"),et(p4,"defaults",{ticks:{callback:_M}});function r2e(e,t){const s=[],{bounds:i,step:a,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=e,f=a||1,g=u-1,{min:p,max:b}=t,x=!en(o),y=!en(l),w=!en(d),S=(b-p)/(h+1);let C=_8((b-p)/g/f)*f,L,R,M,D;if(C<1e-14&&!x&&!y)return[{value:p},{value:b}];D=Math.ceil(b/C)-Math.floor(p/C),D>g&&(C=_8(D*C/g/f)*f),en(c)||(L=Math.pow(10,c),C=Math.ceil(C*L)/L),i==="ticks"?(R=Math.floor(p/C)*C,M=Math.ceil(b/C)*C):(R=p,M=b),x&&y&&a&&xve((l-o)/a,C/1e3)?(D=Math.round(Math.min((l-o)/C,u)),C=(l-o)/D,R=o,M=l):w?(R=x?o:R,M=y?l:M,D=d-1,C=(M-R)/D):(D=(M-R)/C,ix(D,Math.round(D),C/1e3)?D=Math.round(D):D=Math.ceil(D));const $=Math.max(P8(C),P8(R));L=Math.pow(10,en(c)?$:c),R=Math.round(R*L)/L,M=Math.round(M*L)/L;let E=0;for(x&&(m&&R!==o?(s.push({value:o}),R<o&&E++,ix(Math.round((R+E*C)*L)/L,o,PM(o,S,e))&&E++):R<o&&E++);E<D;++E){const T=Math.round((R+E*C)*L)/L;if(y&&T>l)break;s.push({value:T})}return y&&m&&M!==l?s.length&&ix(s[s.length-1].value,l,PM(l,S,e))?s[s.length-1].value=l:s.push({value:l}):(!y||M===l)&&s.push({value:M}),s}function PM(e,t,{horizontal:s,minRotation:n}){const i=oc(n),a=(s?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}class i2e extends yp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return en(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:a}=this;const o=c=>i=s?i:c,l=c=>a=n?a:c;if(t){const c=Gm(i),d=Gm(a);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(i===a){let c=a===0?1:Math.abs(a*.05);l(a+c),t||o(i-c)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},a=this._range||this,o=r2e(i,a);return t.bounds==="ticks"&&vve(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return X_(t,this.chart.options.locale,this.options.ticks.format)}}class g4 extends i2e{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=di(t)?t:0,this.max=di(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=oc(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}et(g4,"id","linear"),et(g4,"defaults",{ticks:{callback:RU.formatters.numeric}});const aw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zi=Object.keys(aw);function AM(e,t){return e-t}function EM(e,t){if(en(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:a}=e._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),di(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(o0(a)||a===!0)?s.startOf(o,"isoWeek",a):s.startOf(o,i)),+o)}function TM(e,t,s,n){const i=zi.length;for(let a=zi.indexOf(e);a<i-1;++a){const o=aw[zi[a]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-t)/(l*o.size))<=n)return zi[a]}return zi[i-1]}function a2e(e,t,s,n,i){for(let a=zi.length-1;a>=zi.indexOf(s);a--){const o=zi[a];if(aw[o].common&&e._adapter.diff(i,n,o)>=t-1)return o}return zi[s?zi.indexOf(s):0]}function o2e(e){for(let t=zi.indexOf(e)+1,s=zi.length;t<s;++t)if(aw[zi[t]].common)return zi[t]}function MM(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=G_(s,t),a=s[n]>=t?s[n]:s[i];e[a]=!0}}function l2e(e,t,s,n){const i=e._adapter,a=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,c;for(l=a;l<=o;l=+i.add(l,1,n))c=s[l],c>=0&&(t[c].major=!0);return t}function RM(e,t,s){const n=[],i={},a=t.length;let o,l;for(o=0;o<a;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return a===0||!s?n:l2e(e,n,i,s)}class Bb extends yp{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new Hye._date(t.adapters.date);i.init(s),rx(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:EM(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:a,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(i=Math.min(i,d.min)),!l&&!isNaN(d.max)&&(a=Math.max(a,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=di(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),a=di(a)&&!isNaN(a)?a:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,o=this.max,l=Nve(i,a,o);return this._unit=s.unit||(n.autoSkip?TM(s.minUnit,this.min,this.max,this._getLabelCapacity(a)):a2e(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:o2e(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),RM(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=ri(s,0,o),n=ri(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,a=i.time,o=a.unit||TM(a.minUnit,s,n,this._getLabelCapacity(s)),l=ms(i.ticks.stepSize,1),c=o==="week"?a.isoWeekday:!1,d=o0(c)||c===!0,u={};let h=s,m,f;if(d&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,d?"day":o),t.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<n;m=+t.add(m,l,o),f++)MM(u,m,g);return(m===n||i.bounds==="ticks"||f===1)&&MM(u,m,g),Object.keys(u).sort(AM).map(p=>+p)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,a=this._unit,o=s||i[a];return this._adapter.format(t,o)}_tickFormatFunction(t,s,n,i){const a=this.options,o=a.ticks.callback;if(o)return cn(o,[t,s,n],this);const l=a.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=n[s],f=d&&h&&m&&m.major;return this._adapter.format(t,i||(f?h:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=oc(this.isHorizontal()?s.maxRotation:s.minRotation),a=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*a+l*o,h:n*o+l*a}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,a=this._tickFormatFunction(t,0,RM(this,[t],this._majorUnit),i),o=this._getLabelSize(a),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(EM(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Cve(t.sort(AM))}}et(Bb,"id","time"),et(Bb,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ky(e,t,s){let n=0,i=e.length-1,a,o,l,c;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=Xu(e,"pos",t)),{pos:a,time:l}=e[n],{pos:o,time:c}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=Xu(e,"time",t)),{time:a,pos:l}=e[n],{time:o,pos:c}=e[i]);const d=o-a;return d?l+(c-l)*(t-a)/d:l}class LM extends Bb{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=ky(s,this.min),this._tableRange=ky(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],a=[];let o,l,c,d,u;for(o=0,l=t.length;o<l;++o)d=t[o],d>=s&&d<=n&&i.push(d);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)u=i[o+1],c=i[o-1],d=i[o],Math.round((u+c)/2)!==d&&a.push({time:d,pos:o/(l-1)});return a}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ky(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return ky(this._table,n*this._tableRange+this._minPos,!0)}}et(LM,"id","timeseries"),et(LM,"defaults",Bb.defaults);const hH="label";function DM(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function c2e(e,t){const s=e.options;s&&t&&Object.assign(s,t)}function fH(e,t){e.labels=t}function mH(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hH;const n=[];e.datasets=t.map(i=>{const a=e.datasets.find(o=>o[s]===i[s]);return!a||!i.data||n.includes(a)?{...i}:(n.push(a),Object.assign(a,i),a)})}function d2e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hH;const s={labels:[],datasets:[]};return fH(s,e.labels),mH(s,e.datasets,t),s}function u2e(e,t){const{height:s=150,width:n=300,redraw:i=!1,datasetIdKey:a,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,f=j.useRef(null),g=j.useRef(null),p=()=>{f.current&&(g.current=new rw(f.current,{type:o,data:d2e(l,a),options:c&&{...c},plugins:d}),DM(t,g.current))},b=()=>{DM(t,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!i&&g.current&&c&&c2e(g.current,c)},[i,c]),j.useEffect(()=>{!i&&g.current&&fH(g.current.config.data,l.labels)},[i,l.labels]),j.useEffect(()=>{!i&&g.current&&l.datasets&&mH(g.current.config.data,l.datasets,a)},[i,l.datasets]),j.useEffect(()=>{g.current&&(i?(b(),setTimeout(p)):g.current.update(h))},[i,c,l.labels,l.datasets,h]),j.useEffect(()=>{g.current&&(b(),setTimeout(p))},[o]),j.useEffect(()=>(p(),()=>b()),[]),it.createElement("canvas",{ref:f,role:"img",height:s,width:n,...m},u)}const h2e=j.forwardRef(u2e);function pH(e,t){return rw.register(t),j.forwardRef((s,n)=>it.createElement(h2e,{...s,ref:n,type:e}))}const f2e=pH("line",c1),m2e=pH("doughnut",Rg);rw.register(p4,g4,h1,Nd,f1,Dg,Wbe,e2e,Hbe,Fbe);function OM(){const[,e]=nr(),{toast:t}=us(),s=Ja(),[n,i]=j.useState(!1);j.useState("30d");const[a,o]=j.useState(null),[l,c]=j.useState({email:"",password:""}),[d,u]=j.useState(null),[h,m]=j.useState({firstName:"",lastName:"",email:"",isVerified:!1});j.useEffect(()=>{if(n){const S=setInterval(()=>{s.invalidateQueries({queryKey:["/api/admin/stats"]}),s.invalidateQueries({queryKey:["/api/admin/users"]}),s.invalidateQueries({queryKey:["/api/admin/providers"]})},3e4);return o(S),()=>{S&&clearInterval(S)}}},[n,s]);const f=os({mutationFn:async S=>{const C=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!C.ok)throw new Error("Invalid credentials");return await C.json()},onSuccess:S=>{localStorage.setItem("adminToken",S.token),i(!0),t({title:"Welcome Admin!",description:"Successfully logged into Berry Events CRM Portal."})},onError:()=>{t({title:"Login Failed",description:"Invalid admin credentials. Please try again.",variant:"destructive"})}}),{data:g}=Ds({queryKey:["/api/admin/stats"],enabled:n,queryFn:async()=>{const S=await fetch("/api/admin/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(!S.ok)throw new Error("Failed to fetch stats");return S.json()}}),{data:p}=Ds({queryKey:["/api/admin/users"],enabled:n,queryFn:async()=>{const S=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(!S.ok)throw new Error("Failed to fetch users");return S.json()}}),{data:b}=Ds({queryKey:["/api/admin/providers"],enabled:n,queryFn:async()=>{const S=await fetch("/api/admin/providers",{headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(!S.ok)throw new Error("Failed to fetch providers");return S.json()}}),x=S=>{S.preventDefault(),f.mutate(l)},y=os({mutationFn:async S=>{const C=await fetch(`/api/admin/users/${S.userId}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify(S.updates)});if(!C.ok)throw new Error("Failed to update user");return C.json()},onSuccess:()=>{t({title:"User Updated",description:"User information has been updated successfully."}),s.invalidateQueries({queryKey:["/api/admin/users"]}),u(null)},onError:()=>{t({title:"Error",description:"Failed to update user. Please try again.",variant:"destructive"})}}),w=os({mutationFn:async({providerId:S,action:C})=>{const L=await fetch(`/api/admin/providers/${S}/${C}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}});if(!L.ok)throw new Error("Failed to process application");return await L.json()},onSuccess:(S,C)=>{t({title:"Application Processed",description:`Provider ${C.action==="approve"?"approved":"declined"} successfully.`}),s.invalidateQueries({queryKey:["/api/admin/providers"]}),s.invalidateQueries({queryKey:["/api/admin/stats"]})}});return n?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(bs,{className:"h-8 w-8 text-blue-600 mr-3"}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Berry Events CRM"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Admin Portal"}),r.jsx(K,{variant:"outline",onClick:()=>{localStorage.removeItem("adminToken"),i(!1)},"data-testid":"button-admin-logout",children:"Logout"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Executive Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Real-time insights and performance metrics"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Ke,{variant:"outline",className:"bg-green-50 text-green-700",children:[r.jsx(kP,{className:"h-3 w-3 mr-1"}),"Live Data"]}),r.jsxs(K,{variant:"outline",size:"sm",children:[r.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Last 30 days"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(oe,{"data-testid":"stat-mrr",className:"border-l-4 border-l-blue-500",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Recurring Revenue"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["R",((g==null?void 0:g.monthlyRecurringRevenue)||(g==null?void 0:g.totalRevenue)||0).toLocaleString()]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(bj,{className:"h-4 w-4 text-green-600 mr-1"}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["+",(g==null?void 0:g.revenueGrowth)||12,"%"]}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:r.jsx(Wd,{className:"h-8 w-8 text-blue-600"})})]}),r.jsx(ca,{value:((g==null?void 0:g.revenueGrowth)||12)+50,className:"mt-4"})]})}),r.jsx(oe,{"data-testid":"stat-cac",className:"border-l-4 border-l-green-500",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer Acquisition Cost"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["R",(g==null?void 0:g.customerAcquisitionCost)||45]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(qK,{className:"h-4 w-4 text-green-600 mr-1"}),r.jsx("span",{className:"text-sm text-green-600 font-medium",children:"-8%"}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"improvement"})]})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(RC,{className:"h-8 w-8 text-green-600"})})]}),r.jsx(ca,{value:75,className:"mt-4"})]})}),r.jsx(oe,{"data-testid":"stat-clv",className:"border-l-4 border-l-purple-500",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Customer Lifetime Value"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["R",(g==null?void 0:g.customerLifetimeValue)||1250]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(bj,{className:"h-4 w-4 text-purple-600 mr-1"}),r.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"+15%"}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"growth"})]})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:r.jsx(yn,{className:"h-8 w-8 text-purple-600"})})]}),r.jsx(ca,{value:85,className:"mt-4"})]})}),r.jsx(oe,{"data-testid":"stat-conversion",className:"border-l-4 border-l-orange-500",children:r.jsxs(le,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booking Conversion Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(g==null?void 0:g.conversionRate)||24,"%"]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(bj,{className:"h-4 w-4 text-orange-600 mr-1"}),r.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"+3%"}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"this month"})]})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:r.jsx(so,{className:"h-8 w-8 text-orange-600"})})]}),r.jsx(ca,{value:(g==null?void 0:g.conversionRate)||24,className:"mt-4"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-8",children:[r.jsx(oe,{"data-testid":"stat-total-users",className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(yn,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-blue-800",children:"Total Users"}),r.jsx("p",{className:"text-xl font-bold text-blue-900",children:(g==null?void 0:g.totalUsers)||0}),r.jsxs("p",{className:"text-xs text-blue-600",children:["+",(g==null?void 0:g.userGrowth)||8,"% growth"]})]})]})})}),r.jsx(oe,{"data-testid":"stat-active-providers",className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(bs,{className:"h-6 w-6 text-green-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-green-800",children:"Active Providers"}),r.jsx("p",{className:"text-xl font-bold text-green-900",children:(g==null?void 0:g.totalProviders)||0}),r.jsxs("p",{className:"text-xs text-green-600",children:[(g==null?void 0:g.providerUtilization)||78,"% utilization"]})]})]})})}),r.jsx(oe,{"data-testid":"stat-today-bookings",className:"bg-gradient-to-br from-orange-50 to-orange-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(_P,{className:"h-6 w-6 text-orange-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-orange-800",children:"Today's Bookings"}),r.jsx("p",{className:"text-xl font-bold text-orange-900",children:(g==null?void 0:g.todayBookings)||12}),r.jsxs("p",{className:"text-xs text-orange-600",children:["+",(g==null?void 0:g.bookingGrowth)||15,"% vs yesterday"]})]})]})})}),r.jsx(oe,{"data-testid":"stat-customer-satisfaction",className:"bg-gradient-to-br from-purple-50 to-purple-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Et,{className:"h-6 w-6 text-purple-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-purple-800",children:"Satisfaction Score"}),r.jsxs("p",{className:"text-xl font-bold text-purple-900",children:[(g==null?void 0:g.customerSatisfaction)||4.8,"/5.0"]}),r.jsx("p",{className:"text-xs text-purple-600",children:"Excellent rating"})]})]})})}),r.jsx(oe,{"data-testid":"stat-response-time",className:"bg-gradient-to-br from-teal-50 to-teal-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ts,{className:"h-6 w-6 text-teal-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-teal-800",children:"Avg Response Time"}),r.jsxs("p",{className:"text-xl font-bold text-teal-900",children:[(g==null?void 0:g.averageResponseTime)||2.3,"min"]}),r.jsx("p",{className:"text-xs text-teal-600",children:"Fast response"})]})]})})}),r.jsx(oe,{"data-testid":"stat-pending-applications",className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsx(le,{className:"p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tm,{className:"h-6 w-6 text-red-600"}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"text-xs font-medium text-red-800",children:"Pending Apps"}),r.jsx("p",{className:"text-xl font-bold text-red-900",children:(g==null?void 0:g.pendingApplications)||0}),r.jsx("p",{className:"text-xs text-red-600",children:"Requires attention"})]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[r.jsxs(oe,{className:"p-6",children:[r.jsx(Ve,{className:"pb-4",children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(xO,{className:"h-5 w-5 mr-2 text-blue-600"}),"Revenue Trend Analysis"]})}),r.jsx(le,{children:r.jsx("div",{className:"h-64",children:r.jsx(f2e,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Monthly Revenue",data:[15e3,18e3,22e3,19e3,26e3,31e3],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(S){return"R"+S.toLocaleString()}}}}}})})})]}),r.jsxs(oe,{className:"p-6",children:[r.jsx(Ve,{className:"pb-4",children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(ZK,{className:"h-5 w-5 mr-2 text-purple-600"}),"Service Performance Breakdown"]})}),r.jsx(le,{children:r.jsx("div",{className:"h-64",children:r.jsx(m2e,{data:{labels:["House Cleaning","Plumbing","Electrical","Garden Care","Chef Services"],datasets:[{data:[35,20,15,18,12],backgroundColor:["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[r.jsxs(oe,{className:"p-6",children:[r.jsx(Ve,{className:"pb-4",children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Rr,{className:"h-5 w-5 mr-2 text-green-600"}),"Top Performing Providers"]})}),r.jsx(le,{className:"space-y-4",children:[{name:"Sarah Johnson",rating:4.9,bookings:127,revenue:"R15,400"},{name:"Michael Chen",rating:4.8,bookings:98,revenue:"R12,800"},{name:"Emma Williams",rating:4.7,bookings:89,revenue:"R11,200"}].map((S,C)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:C+1}),r.jsxs("div",{className:"ml-3",children:[r.jsx("p",{className:"font-medium text-gray-900",children:S.name}),r.jsxs("p",{className:"text-sm text-gray-600",children:[S.bookings," bookings"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx(Et,{className:"h-4 w-4 text-yellow-400 mr-1"}),r.jsx("span",{className:"font-medium",children:S.rating})]}),r.jsx("p",{className:"text-sm font-medium text-green-600",children:S.revenue})]})]},C))})]}),r.jsxs(oe,{className:"p-6",children:[r.jsx(Ve,{className:"pb-4",children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(Et,{className:"h-5 w-5 mr-2 text-yellow-600"}),"Satisfaction Trends"]})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Overall Rating"}),r.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:"4.8/5"})]}),r.jsx(ca,{value:96,className:"h-2"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Service Quality"}),r.jsx("span",{children:"4.9"})]}),r.jsx(ca,{value:98,className:"h-1"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Punctuality"}),r.jsx("span",{children:"4.7"})]}),r.jsx(ca,{value:94,className:"h-1"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:"Communication"}),r.jsx("span",{children:"4.6"})]}),r.jsx(ca,{value:92,className:"h-1"})]})]})})]}),r.jsxs(oe,{className:"p-6",children:[r.jsx(Ve,{className:"pb-4",children:r.jsxs($e,{className:"flex items-center",children:[r.jsx(kP,{className:"h-5 w-5 mr-2 text-blue-600"}),"Live Activity Feed"]})}),r.jsx(le,{className:"space-y-3 max-h-64 overflow-y-auto",children:[{type:"booking",message:"New booking received - House Cleaning",time:"2 min ago",color:"green"},{type:"payment",message:"Payment processed - R450",time:"5 min ago",color:"blue"},{type:"provider",message:"New provider application",time:"8 min ago",color:"purple"},{type:"review",message:"5-star review received",time:"12 min ago",color:"yellow"},{type:"booking",message:"Booking completed - Garden Care",time:"15 min ago",color:"green"},{type:"user",message:"New user registration",time:"18 min ago",color:"blue"}].map((S,C)=>r.jsxs("div",{className:"flex items-center p-2 rounded-lg bg-gray-50",children:[r.jsx("div",{className:`w-2 h-2 rounded-full bg-${S.color}-500 mr-3`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.message}),r.jsx("p",{className:"text-xs text-gray-500",children:S.time})]})]},C))})]})]}),r.jsxs(kc,{defaultValue:"analytics",className:"w-full",children:[r.jsxs(Pl,{className:"grid w-full grid-cols-6",children:[r.jsx(hs,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),r.jsx(hs,{value:"users","data-testid":"tab-users",children:"Users"}),r.jsx(hs,{value:"providers","data-testid":"tab-providers",children:"Providers"}),r.jsx(hs,{value:"bookings","data-testid":"tab-bookings",children:"Bookings"}),r.jsx(hs,{value:"communications","data-testid":"tab-communications",children:"Communications"}),r.jsx(hs,{value:"settings","data-testid":"tab-settings",children:"Settings"})]}),r.jsx(fs,{value:"dashboard",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"System Overview"})}),r.jsx(le,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Welcome to the Berry Events Admin CRM Portal. Monitor platform activity, manage users and providers, and process applications."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:"Recent Activity"}),r.jsx("p",{className:"text-sm text-blue-700",children:"System is running smoothly"})]}),r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-green-900",children:"Platform Health"}),r.jsx("p",{className:"text-sm text-green-700",children:"All services operational"})]})]})]})})]})}),r.jsx(fs,{value:"users",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"User Management"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:p==null?void 0:p.map(S=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`user-${S.id}`,children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[S.firstName," ",S.lastName]}),r.jsx("p",{className:"text-sm text-gray-600",children:S.email}),r.jsxs("p",{className:"text-xs text-gray-500",children:[S.isProvider?"Provider":"Customer"," |",S.isVerified?" Verified":" Unverified"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(K,{size:"sm",variant:"outline",onClick:()=>{u(S),m({firstName:S.firstName,lastName:S.lastName,email:S.email,isVerified:S.isVerified})},"data-testid":`edit-user-${S.id}`,children:"Edit"}),S.isVerified?r.jsx($t,{className:"h-5 w-5 text-green-600"}):r.jsx(kC,{className:"h-5 w-5 text-red-600"})]})]},S.id))})})]})}),r.jsx(fs,{value:"providers",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Provider Management & Applications"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:b==null?void 0:b.map(S=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`provider-${S.id}`,children:[r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:[S.firstName," ",S.lastName]}),r.jsx("p",{className:"text-sm text-gray-600",children:S.email}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Status: ",S.verificationStatus," | Rating: ",S.rating,"/5 (",S.totalReviews," reviews)"]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[S.verificationStatus==="pending"&&r.jsxs(r.Fragment,{children:[r.jsx(K,{size:"sm",onClick:()=>w.mutate({providerId:S.id,action:"approve"}),className:"bg-green-600 hover:bg-green-700","data-testid":`approve-${S.id}`,children:"Approve"}),r.jsx(K,{size:"sm",variant:"destructive",onClick:()=>w.mutate({providerId:S.id,action:"decline"}),"data-testid":`decline-${S.id}`,children:"Decline"})]}),S.verificationStatus==="approved"&&r.jsx($t,{className:"h-5 w-5 text-green-600"})]})]},S.id))})})]})}),r.jsx(fs,{value:"bookings",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Booking Management"})}),r.jsx(le,{children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(_P,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Booking management interface coming soon"})]})})]})}),r.jsx(fs,{value:"communications",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"Communication Center"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(li,{className:"h-8 w-8 text-blue-600 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Email Campaigns"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send bulk emails to users and providers"}),r.jsx(K,{className:"mt-2",size:"sm","data-testid":"button-email-campaign",children:"Create Campaign"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(Pm,{className:"h-8 w-8 text-green-600 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"SMS Notifications"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send SMS updates and alerts"}),r.jsx(K,{className:"mt-2",size:"sm","data-testid":"button-sms-campaign",children:"Send SMS"})]})]})})})]})}),r.jsx(fs,{value:"settings",className:"space-y-6",children:r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsx($e,{children:"System Configuration"})}),r.jsx(le,{children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(op,{className:"h-8 w-8 text-purple-600 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Platform Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure commission rates and pricing"}),r.jsx(K,{className:"mt-2",size:"sm","data-testid":"button-platform-settings",children:"Configure"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx(vc,{className:"h-8 w-8 text-orange-600 mb-2"}),r.jsx("h3",{className:"font-semibold",children:"Analytics Export"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Export reports in PDF/Excel format"}),r.jsx(K,{className:"mt-2",size:"sm","data-testid":"button-export-analytics",children:"Export Data"})]})]})})})]})})]})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(oe,{className:"w-full max-w-md mx-4",children:[r.jsx(Ve,{children:r.jsxs($e,{children:["Edit User: ",d.firstName," ",d.lastName]})}),r.jsxs(le,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"edit-firstName",children:"First Name"}),r.jsx(He,{id:"edit-firstName",value:h.firstName,onChange:S=>m({...h,firstName:S.target.value}),"data-testid":"input-edit-firstName"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"edit-lastName",children:"Last Name"}),r.jsx(He,{id:"edit-lastName",value:h.lastName,onChange:S=>m({...h,lastName:S.target.value}),"data-testid":"input-edit-lastName"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"edit-email",children:"Email"}),r.jsx(He,{id:"edit-email",type:"email",value:h.email,onChange:S=>m({...h,email:S.target.value}),"data-testid":"input-edit-email"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:"edit-verified",checked:h.isVerified,onChange:S=>m({...h,isVerified:S.target.checked}),"data-testid":"checkbox-edit-verified"}),r.jsx(pe,{htmlFor:"edit-verified",children:"Verified User"})]}),r.jsxs("div",{className:"flex space-x-2 pt-4",children:[r.jsx(K,{onClick:()=>{y.mutate({userId:d.id,updates:h})},disabled:y.isPending,className:"flex-1","data-testid":"button-save-user",children:y.isPending?"Saving...":"Save Changes"}),r.jsx(K,{variant:"outline",onClick:()=>u(null),className:"flex-1","data-testid":"button-cancel-edit",children:"Cancel"})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx(bs,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Berry Events Admin Portal"}),r.jsx("p",{className:"text-gray-600",children:"Secure CRM Access"})]}),r.jsxs(le,{children:[r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"admin-email",children:"Admin Email"}),r.jsx(He,{id:"admin-email",type:"email",placeholder:"admin@berryevents.co.za",value:l.email,onChange:S=>c({...l,email:S.target.value}),required:!0,"data-testid":"input-admin-email"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"admin-password",children:"Password"}),r.jsx(He,{id:"admin-password",type:"password",placeholder:"Enter admin password",value:l.password,onChange:S=>c({...l,password:S.target.value}),required:!0,"data-testid":"input-admin-password"})]}),r.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:f.isPending,"data-testid":"button-admin-login",children:f.isPending?"Authenticating...":"Access Admin Portal"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsx(K,{variant:"ghost",onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:" Back to Homepage"})})]})]})})}function p2e(){const[,e]=nr(),{toast:t}=us(),[s,n]=j.useState("pending"),[i,a]=j.useState(""),l=new URLSearchParams(window.location.search).get("token"),c=os({mutationFn:async d=>{const u=await fetch("/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:d})});if(!u.ok){const h=await u.json();throw new Error(h.message)}return await u.json()},onSuccess:d=>{n("success"),a(d.message),t({title:"Email Verified!",description:"Your email has been successfully verified. You can now access all Berry Events features."})},onError:d=>{n("error"),a(d.message||"Email verification failed"),t({title:"Verification Failed",description:d.message||"Email verification failed. Please try again.",variant:"destructive"})}});return j.useEffect(()=>{l?c.mutate(l):(n("error"),a("Invalid verification link. No token provided."))},[l]),r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsxs("div",{className:"mx-auto mb-4",children:[s==="pending"&&r.jsx(li,{className:"h-16 w-16 text-blue-600 animate-pulse"}),s==="success"&&r.jsx($t,{className:"h-16 w-16 text-green-600"}),s==="error"&&r.jsx(kC,{className:"h-16 w-16 text-red-600"})]}),r.jsxs($e,{className:"text-2xl font-bold text-gray-900",children:[s==="pending"&&"Verifying Email...",s==="success"&&"Email Verified!",s==="error"&&"Verification Failed"]})]}),r.jsxs(le,{className:"text-center space-y-4",children:[r.jsxs("p",{className:"text-gray-600",children:[s==="pending"&&"Please wait while we verify your email address...",i&&r.jsx("span",{className:s==="success"?"text-green-700":"text-red-700",children:i})]}),s==="success"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-green-800",children:" Welcome to Berry Events! Your account is now fully activated and you can access all features."})}),r.jsx(K,{onClick:()=>e("/auth"),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-go-to-login",children:"Go to Login"})]}),s==="error"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-800",children:"The verification link may have expired or is invalid. Please try registering again or contact support."})}),r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsx(K,{onClick:()=>e("/auth"),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-try-again",children:"Try Registering Again"}),r.jsx(K,{variant:"outline",onClick:()=>e("/contact"),"data-testid":"button-contact-support",children:"Contact Support"})]})]}),r.jsx("div",{className:"pt-4 border-t",children:r.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})]})})}function g2e(){const[,e]=nr(),{toast:t}=us(),[s,n]=j.useState("form"),[i,a]=j.useState({newPassword:"",confirmPassword:""}),l=new URLSearchParams(window.location.search).get("token"),c=os({mutationFn:async u=>{const h=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!h.ok){const m=await h.json();throw new Error(m.message)}return await h.json()},onSuccess:u=>{n("success"),t({title:"Password Reset Successful!",description:"Your password has been reset. You can now sign in with your new password."})},onError:u=>{n("error"),t({title:"Password Reset Failed",description:u.message||"Failed to reset password. Please try again.",variant:"destructive"})}}),d=u=>{if(u.preventDefault(),!l){t({title:"Invalid Reset Link",description:"This password reset link is invalid or has expired.",variant:"destructive"});return}if(i.newPassword!==i.confirmPassword){t({title:"Password Mismatch",description:"Passwords do not match. Please try again.",variant:"destructive"});return}if(i.newPassword.length<6){t({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}c.mutate({token:l,newPassword:i.newPassword})};return j.useEffect(()=>{l||n("error")},[l]),s==="success"?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx($t,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Password Reset Successful!"})]}),r.jsxs(le,{className:"text-center space-y-4",children:[r.jsx("div",{className:"p-4 bg-green-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-green-800",children:" Your password has been successfully reset. You can now sign in with your new password."})}),r.jsx(K,{onClick:()=>e("/auth"),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-go-to-login",children:"Go to Login"}),r.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]})}):s==="error"||!l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx(kC,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Invalid Reset Link"})]}),r.jsxs(le,{className:"text-center space-y-4",children:[r.jsx("div",{className:"p-4 bg-red-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-800",children:"This password reset link is invalid or has expired. Please request a new password reset."})}),r.jsx(K,{onClick:()=>e("/auth"),className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-request-new-reset",children:"Request New Password Reset"}),r.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-home",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Home"]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:r.jsxs(oe,{className:"w-full max-w-md",children:[r.jsxs(Ve,{className:"text-center",children:[r.jsx(va,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),r.jsx($e,{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),r.jsx("p",{className:"text-gray-600",children:"Enter your new password below"})]}),r.jsxs(le,{children:[r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"new-password",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"new-password",type:"password",placeholder:"Enter new password",className:"pl-10",value:i.newPassword,onChange:u=>a({...i,newPassword:u.target.value}),required:!0,minLength:6,"data-testid":"input-new-password"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"confirm-password",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(va,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(He,{id:"confirm-password",type:"password",placeholder:"Confirm new password",className:"pl-10",value:i.confirmPassword,onChange:u=>a({...i,confirmPassword:u.target.value}),required:!0,minLength:6,"data-testid":"input-confirm-password"})]})]}),r.jsx(K,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:c.isPending,"data-testid":"button-reset-password",children:c.isPending?"Resetting Password...":"Reset Password"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs(K,{variant:"ghost",onClick:()=>e("/auth"),className:"text-gray-600 hover:text-gray-900","data-testid":"button-back-to-login",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Login"]})})]})]})})}var gH="basil",x2e=function(t){return t===3?"v3":t},xH="https://js.stripe.com",v2e="".concat(xH,"/").concat(gH,"/stripe.js"),y2e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,b2e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,IM="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",w2e=function(t){return y2e.test(t)||b2e.test(t)},j2e=function(){for(var t=document.querySelectorAll('script[src^="'.concat(xH,'"]')),s=0;s<t.length;s++){var n=t[s];if(w2e(n.src))return n}return null},FM=function(t){var s="",n=document.createElement("script");n.src="".concat(v2e).concat(s);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(n),n},N2e=function(t,s){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:s})},xg=null,_y=null,Py=null,S2e=function(t){return function(s){t(new Error("Failed to load Stripe.js",{cause:s}))}},C2e=function(t,s){return function(){window.Stripe?t(window.Stripe):s(new Error("Stripe.js not available"))}},k2e=function(t){return xg!==null?xg:(xg=new Promise(function(s,n){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&t&&console.warn(IM),window.Stripe){s(window.Stripe);return}try{var i=j2e();if(i&&t)console.warn(IM);else if(!i)i=FM(t);else if(i&&Py!==null&&_y!==null){var a;i.removeEventListener("load",Py),i.removeEventListener("error",_y),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=FM(t)}Py=C2e(s,n),_y=S2e(n),i.addEventListener("load",Py),i.addEventListener("error",_y)}catch(o){n(o);return}}),xg.catch(function(s){return xg=null,Promise.reject(s)}))},_2e=function(t,s,n){if(t===null)return null;var i=s[0],a=i.match(/^pk_test/),o=x2e(t.version),l=gH;a&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,s);return N2e(c,n),c},vg,vH=!1,yH=function(){return vg||(vg=k2e(null).catch(function(t){return vg=null,Promise.reject(t)}),vg)};Promise.resolve().then(function(){return yH()}).catch(function(e){vH||console.warn(e)});var P2e=function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];vH=!0;var i=Date.now();return yH().then(function(a){return _2e(a,s,i)})},bH={exports:{}},A2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E2e=A2e,T2e=E2e;function wH(){}function jH(){}jH.resetWarningCache=wH;var M2e=function(){function e(n,i,a,o,l,c){if(c!==T2e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jH,resetWarningCache:wH};return s.PropTypes=s,s};bH.exports=M2e();var R2e=bH.exports;const ln=y4(R2e);function BM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,n)}return s}function zM(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(s),!0).forEach(function(n){NH(e,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):BM(Object(s)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))})}return e}function m1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m1=function(t){return typeof t}:m1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function NH(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function L2e(e,t){if(e==null)return{};var s={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function D2e(e,t){if(e==null)return{};var s=L2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function SH(e,t){return O2e(e)||I2e(e,t)||F2e(e,t)||B2e()}function O2e(e){if(Array.isArray(e))return e}function I2e(e,t){var s=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(s!=null){var n=[],i=!0,a=!1,o,l;try{for(s=s.call(e);!(i=(o=s.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(c){a=!0,l=c}finally{try{!i&&s.return!=null&&s.return()}finally{if(a)throw l}}return n}}function F2e(e,t){if(e){if(typeof e=="string")return VM(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return VM(e,t)}}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function B2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xi=function(t,s,n){var i=!!n,a=it.useRef(n);it.useEffect(function(){a.current=n},[n]),it.useEffect(function(){if(!i||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(s,o),function(){t.off(s,o)}},[i,s,t,a])},x4=function(t){var s=it.useRef(t);return it.useEffect(function(){s.current=t},[t]),s.current},Xm=function(t){return t!==null&&m1(t)==="object"},z2e=function(t){return Xm(t)&&typeof t.then=="function"},V2e=function(t){return Xm(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},$M="[object Object]",$2e=function e(t,s){if(!Xm(t)||!Xm(s))return t===s;var n=Array.isArray(t),i=Array.isArray(s);if(n!==i)return!1;var a=Object.prototype.toString.call(t)===$M,o=Object.prototype.toString.call(s)===$M;if(a!==o)return!1;if(!a&&!n)return t===s;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var m=Object.keys(d);if(m.length!==l.length)return!1;var f=t,g=s,p=function(x){return e(f[x],g[x])};return m.every(p)},CH=function(t,s,n){return Xm(t)?Object.keys(t).reduce(function(i,a){var o=!Xm(s)||!$2e(t[a],s[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):o?zM(zM({},i||{}),{},NH({},a,t[a])):i},null):null},kH="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",UM=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kH;if(t===null||V2e(t))return t;throw new Error(s)},U2e=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kH;if(z2e(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return UM(i,s)})};var n=UM(t,s);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},H2e=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},ow=it.createContext(null);ow.displayName="ElementsContext";var _H=function(t,s){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return t},PH=function(t){var s=t.stripe,n=t.options,i=t.children,a=it.useMemo(function(){return U2e(s)},[s]),o=it.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),l=SH(o,2),c=l[0],d=l[1];it.useEffect(function(){var m=!0,f=function(p){d(function(b){return b.stripe?b:{stripe:p,elements:p.elements(n)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(g){g&&m&&f(g)}):a.tag==="sync"&&!c.stripe&&f(a.stripe),function(){m=!1}},[a,c,n]);var u=x4(s);it.useEffect(function(){u!==null&&u!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,s]);var h=x4(n);return it.useEffect(function(){if(c.elements){var m=CH(n,h,["clientSecret","fonts"]);m&&c.elements.update(m)}},[n,h,c.elements]),it.useEffect(function(){H2e(c.stripe)},[c.stripe]),it.createElement(ow.Provider,{value:c},i)};PH.propTypes={stripe:ln.any,options:ln.object};var q2e=function(t){var s=it.useContext(ow);return _H(s,t)},W2e=function(){var t=q2e("calls useElements()"),s=t.elements;return s};ln.func.isRequired;var AH=it.createContext(null);AH.displayName="CheckoutSdkContext";var Y2e=function(t,s){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CheckoutProvider> provider."));return t},G2e=it.createContext(null);G2e.displayName="CheckoutContext";ln.any,ln.shape({fetchClientSecret:ln.func.isRequired,elementsOptions:ln.object}).isRequired;var v4=function(t){var s=it.useContext(AH),n=it.useContext(ow);if(s&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return s?Y2e(s,t):_H(n,t)},K2e=["mode"],Z2e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},rr=function(t,s){var n="".concat(Z2e(t),"Element"),i=function(c){var d=c.id,u=c.className,h=c.options,m=h===void 0?{}:h,f=c.onBlur,g=c.onFocus,p=c.onReady,b=c.onChange,x=c.onEscape,y=c.onClick,w=c.onLoadError,S=c.onLoaderStart,C=c.onNetworksChange,L=c.onConfirm,R=c.onCancel,M=c.onShippingAddressChange,D=c.onShippingRateChange,$=c.onSavedPaymentMethodRemove,E=c.onSavedPaymentMethodUpdate,T=v4("mounts <".concat(n,">")),q="elements"in T?T.elements:null,B="checkoutSdk"in T?T.checkoutSdk:null,te=it.useState(null),ie=SH(te,2),G=ie[0],P=ie[1],U=it.useRef(null),xe=it.useRef(null);xi(G,"blur",f),xi(G,"focus",g),xi(G,"escape",x),xi(G,"click",y),xi(G,"loaderror",w),xi(G,"loaderstart",S),xi(G,"networkschange",C),xi(G,"confirm",L),xi(G,"cancel",R),xi(G,"shippingaddresschange",M),xi(G,"shippingratechange",D),xi(G,"savedpaymentmethodremove",$),xi(G,"savedpaymentmethodupdate",E),xi(G,"change",b);var X;p&&(t==="expressCheckout"?X=p:X=function(){p(G)}),xi(G,"ready",X),it.useLayoutEffect(function(){if(U.current===null&&xe.current!==null&&(q||B)){var W=null;if(B)switch(t){case"payment":W=B.createPaymentElement(m);break;case"address":if("mode"in m){var Z=m.mode,ce=D2e(m,K2e);if(Z==="shipping")W=B.createShippingAddressElement(ce);else if(Z==="billing")W=B.createBillingAddressElement(ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":W=B.createExpressCheckoutElement(m);break;case"currencySelector":W=B.createCurrencySelectorElement();break;case"taxId":W=B.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else q&&(W=q.create(t,m));U.current=W,P(W),W&&W.mount(xe.current)}},[q,B,m]);var O=x4(m);return it.useEffect(function(){if(U.current){var W=CH(m,O,["paymentRequest"]);W&&"update"in U.current&&U.current.update(W)}},[m,O]),it.useLayoutEffect(function(){return function(){if(U.current&&typeof U.current.destroy=="function")try{U.current.destroy(),U.current=null}catch{}}},[]),it.createElement("div",{id:d,className:u,ref:xe})},a=function(c){v4("mounts <".concat(n,">"));var d=c.id,u=c.className;return it.createElement("div",{id:d,className:u})},o=s?a:i;return o.propTypes={id:ln.string,className:ln.string,onChange:ln.func,onBlur:ln.func,onFocus:ln.func,onReady:ln.func,onEscape:ln.func,onClick:ln.func,onLoadError:ln.func,onLoaderStart:ln.func,onNetworksChange:ln.func,onConfirm:ln.func,onCancel:ln.func,onShippingAddressChange:ln.func,onShippingRateChange:ln.func,onSavedPaymentMethodRemove:ln.func,onSavedPaymentMethodUpdate:ln.func,options:ln.object},o.displayName=n,o.__elementType=t,o},ir=typeof window>"u",X2e=it.createContext(null);X2e.displayName="EmbeddedCheckoutProviderContext";var Q2e=function(){var t=v4("calls useStripe()"),s=t.stripe;return s};rr("auBankAccount",ir);rr("card",ir);rr("cardNumber",ir);rr("cardExpiry",ir);rr("cardCvc",ir);rr("fpxBank",ir);rr("iban",ir);rr("idealBank",ir);rr("p24Bank",ir);rr("epsBank",ir);var J2e=rr("payment",ir);rr("expressCheckout",ir);rr("currencySelector",ir);rr("paymentRequestButton",ir);rr("linkAuthentication",ir);rr("address",ir);rr("shippingAddress",ir);rr("paymentMethodMessaging",ir);rr("affirmMessage",ir);rr("afterpayClearpayMessage",ir);rr("taxId",ir);const ewe=P2e("123");function twe({onSuccess:e}){const[t,s]=j.useState(""),[n,i]=j.useState(""),[a,o]=j.useState(!1),l=Q2e(),c=W2e(),{toast:d}=us(),u=Ja(),h=os({mutationFn:p=>pn("POST","/api/wallet/create-payment-intent",{amount:p}),onSuccess:p=>{i(p.clientSecret)},onError:p=>{d({title:"Error",description:p.message||"Failed to create payment intent",variant:"destructive"})}}),m=os({mutationFn:({amount:p,paymentIntentId:b})=>pn("POST","/api/wallet/add-funds",{amount:p,paymentIntentId:b}),onSuccess:p=>{d({title:"Success",description:p.message}),u.invalidateQueries({queryKey:["/api/wallet/balance"]}),u.invalidateQueries({queryKey:["/api/wallet/transactions"]}),e()}}),f=p=>{s(p);const b=parseFloat(p);b>=.5&&h.mutate(b)},g=async p=>{if(p.preventDefault(),!l||!c||!n)return;o(!0);const{error:b,paymentIntent:x}=await l.confirmPayment({elements:c,confirmParams:{return_url:window.location.origin+"/wallet"},redirect:"if_required"});b?d({title:"Payment Failed",description:b.message,variant:"destructive"}):x&&x.status==="succeeded"&&m.mutate({amount:parseFloat(t),paymentIntentId:x.id}),o(!1)};return r.jsxs("form",{onSubmit:g,className:"space-y-4","data-testid":"form-add-funds",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"amount",children:"Amount (ZAR)"}),r.jsx(He,{id:"amount",type:"number",step:"0.01",min:"0.50",value:t,onChange:p=>f(p.target.value),placeholder:"Enter amount","data-testid":"input-amount"})]}),n&&r.jsxs(r.Fragment,{children:[r.jsx(J2e,{}),r.jsx(K,{type:"submit",className:"w-full",disabled:a||!l||!c,"data-testid":"button-add-funds",children:a?"Processing...":`Add R${t||"0"} to Wallet`})]})]})}function swe({walletData:e}){const[t,s]=j.useState(e.autoReload.enabled),[n,i]=j.useState(e.autoReload.threshold.toString()),[a,o]=j.useState(e.autoReload.amount.toString()),{toast:l}=us(),c=Ja(),d=os({mutationFn:h=>pn("PUT","/api/wallet/auto-reload",h),onSuccess:h=>{l({title:"Success",description:h.message}),c.invalidateQueries({queryKey:["/api/wallet/balance"]})},onError:h=>{l({title:"Error",description:h.message||"Failed to update auto-reload settings",variant:"destructive"})}}),u=()=>{d.mutate({enabled:t,threshold:parseFloat(n),amount:parseFloat(a)})};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{children:"Enable Auto-Reload"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically add funds when balance is low"})]}),r.jsx(ol,{checked:t,onCheckedChange:s,"data-testid":"switch-auto-reload"})]}),t&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"threshold",children:"Low Balance Threshold (ZAR)"}),r.jsx(He,{id:"threshold",type:"number",step:"0.01",min:"0",value:n,onChange:h=>i(h.target.value),placeholder:"e.g., 10.00","data-testid":"input-threshold"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"reload-amount",children:"Auto-Reload Amount (ZAR)"}),r.jsx(He,{id:"reload-amount",type:"number",step:"0.01",min:"0.50",value:a,onChange:h=>o(h.target.value),placeholder:"e.g., 50.00","data-testid":"input-reload-amount"})]})]}),r.jsx(K,{onClick:u,disabled:d.isPending,"data-testid":"button-save-settings",children:d.isPending?"Saving...":"Save Settings"})]})}function nwe(){var d,u;const[e,t]=j.useState(!1),[s,n]=j.useState(!1),[i,a]=j.useState(!1);us();const{data:o,isLoading:l}=Ds({queryKey:["/api/wallet/balance"]}),{data:c}=Ds({queryKey:["/api/wallet/transactions"]});return l?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsxs("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((h,m)=>r.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},m))})]})})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx("div",{className:"p-3 bg-blue-500 rounded-full",children:r.jsx(tS,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Wallet"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your Berry Events wallet"})]})]}),o&&r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:[r.jsxs(oe,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:[r.jsx(Ve,{children:r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(Wd,{className:"h-5 w-5"}),"Current Balance"]})}),r.jsxs(le,{children:[r.jsxs("p",{className:"text-3xl font-bold","data-testid":"text-balance",children:["R",o.balance.toFixed(2)]}),r.jsx("p",{className:"text-blue-100",children:"ZAR"})]})]}),r.jsxs(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(o2,{className:"h-5 w-5"}),"Add Funds"]}),r.jsx(Dd,{children:"Top up your wallet with Stripe"})]}),r.jsx(le,{children:r.jsxs(er,{open:e,onOpenChange:t,children:[r.jsx(Rj,{asChild:!0,children:r.jsxs(K,{className:"w-full","data-testid":"button-open-add-funds",children:[r.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Add Funds"]})}),r.jsxs(Fn,{className:"sm:max-w-md",children:[r.jsx(Bn,{children:r.jsx(_n,{children:"Add Funds to Wallet"})}),r.jsx(PH,{stripe:ewe,children:r.jsx(twe,{onSuccess:()=>t(!1)})})]})]})})]}),r.jsxs(oe,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:[r.jsxs(Ve,{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(mO,{className:"h-5 w-5"}),"Auto-Reload"]}),r.jsx(Dd,{children:"Automatic balance management"})]}),r.jsxs(le,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{children:"Status:"}),r.jsx(Ke,{variant:o.autoReload.enabled?"default":"secondary","data-testid":"badge-auto-reload-status",children:o.autoReload.enabled?"Enabled":"Disabled"})]}),r.jsxs(er,{open:s,onOpenChange:n,children:[r.jsx(Rj,{asChild:!0,children:r.jsxs(K,{variant:"outline",className:"w-full","data-testid":"button-open-settings",children:[r.jsx(op,{className:"h-4 w-4 mr-2"}),"Settings"]})}),r.jsxs(Fn,{children:[r.jsx(Bn,{children:r.jsx(_n,{children:"Auto-Reload Settings"})}),r.jsx(swe,{walletData:o})]})]})]})]})]}),r.jsxs(oe,{children:[r.jsx(Ve,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs($e,{className:"flex items-center gap-2",children:[r.jsx(AP,{className:"h-5 w-5"}),"Recent Transactions"]}),r.jsx(Dd,{children:"Your wallet transaction history"})]}),r.jsxs(er,{open:i,onOpenChange:a,children:[r.jsx(Rj,{asChild:!0,children:r.jsx(K,{variant:"outline",size:"sm","data-testid":"button-view-all-transactions",children:"View All"})}),r.jsxs(Fn,{className:"sm:max-w-2xl",children:[r.jsx(Bn,{children:r.jsx(_n,{children:"Transaction History"})}),r.jsx(Vk,{className:"h-96",children:(d=c==null?void 0:c.transactions)==null?void 0:d.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:h.description}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ur(new Date(h.createdAt),"PPp")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${h.type==="deposit"?"text-green-600":"text-red-600"}`,children:[h.type==="deposit"?"+":"-","$",Math.abs(parseFloat(h.amount)).toFixed(2)]}),r.jsx(Ke,{variant:h.status==="completed"?"default":"secondary",children:h.status})]})]},h.id))})]})]})]})}),r.jsx(le,{children:(u=c==null?void 0:c.transactions)!=null&&u.length?r.jsxs("div",{className:"space-y-4",children:[c.transactions.slice(0,5).map(h=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium","data-testid":`text-transaction-desc-${h.id}`,children:h.description}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Ur(new Date(h.createdAt),"PPp")})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:`font-medium ${h.type==="deposit"?"text-green-600":"text-red-600"}`,children:[h.type==="deposit"?"+":"-","$",Math.abs(parseFloat(h.amount)).toFixed(2)]}),r.jsx(Ke,{variant:h.status==="completed"?"default":"secondary",children:h.status})]})]},h.id)),r.jsx(Pn,{}),r.jsx("p",{className:"text-sm text-muted-foreground text-center",children:c.transactions.length>5&&`Showing 5 of ${c.transactions.length} transactions`})]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(AP,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Your wallet activity will appear here"})]})})]})]})})}function rwe(){const{cart:e,isLoading:t,checkout:s,isCheckingOut:n}=up(),[,i]=nr(),{toast:a}=us(),[o,l]=j.useState("card"),[c,d]=j.useState(!1),[u,h]=j.useState(""),[m,f]=j.useState(""),[g,p]=j.useState(""),[b,x]=j.useState(""),[y,w]=j.useState(""),[S,C]=j.useState(""),[L,R]=j.useState("");if(t)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading checkout..."})]})});if(!e||e.items.length===0)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs(oe,{className:"max-w-md w-full p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Your cart is empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Add services to your cart before checking out"}),r.jsx(K,{onClick:()=>i("/"),"data-testid":"button-back-to-home",children:"Browse Services"})]})});const M=e.items.reduce((B,te)=>B+Ln(te.subtotal),0),D=e.items.reduce((B,te)=>B+Ln(te.tipAmount||"0"),0),$=M*.15,E=M+D+$,T=B=>{const te=B.replace(/\s/g,"");return/^4/.test(te)?"Visa":/^5[1-5]/.test(te)?"Mastercard":/^3[47]/.test(te)?"American Express":/^6(?:011|5)/.test(te)?"Discover":"Unknown"},q=async()=>{if(o==="card"){if(!u||!m||!g||!b){a({title:"Missing information",description:"Please fill in all card details",variant:"destructive"});return}const B=u.replace(/\s/g,"");if(B.length<13||B.length>19){a({title:"Invalid card number",description:"Please enter a valid card number",variant:"destructive"});return}}else{if(!y||!S||!L){a({title:"Missing information",description:"Please fill in all bank account details",variant:"destructive"});return}if(S.length<8||S.length>12){a({title:"Invalid account number",description:"Account number must be 8-12 digits",variant:"destructive"});return}}d(!0);try{const B={paymentMethod:o,...o==="card"?{cardLast4:u.replace(/\s/g,"").slice(-4),cardBrand:T(u),cardholderName:b}:{bankName:y,accountLast4:S.slice(-4),accountHolder:L}},te=await s(B);te&&te.id&&(h(""),f(""),p(""),x(""),C(""),w(""),R(""),i(`/order-confirmation/${te.id}`))}catch(B){console.error("Checkout error:",B),a({title:"Checkout failed",description:"Please try again or contact support. If the issue persists, contact Berry Events support.",variant:"destructive"})}finally{d(!1)}};return r.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs(K,{variant:"ghost",onClick:()=>i("/"),className:"mb-4","data-testid":"button-back",children:[r.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Review your services and complete payment"})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(oe,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),r.jsx("div",{className:"space-y-6",children:e.items.map((B,te)=>{const ie=B.serviceDetails?typeof B.serviceDetails=="string"?JSON.parse(B.serviceDetails):B.serviceDetails:{},G=Ln(B.basePrice),P=Ln(B.addOnsPrice),U=Ln(B.subtotal);return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white","data-testid":`checkout-item-${te}`,children:[r.jsx("div",{className:"flex justify-between items-start mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg","data-testid":`checkout-item-name-${te}`,children:B.serviceName}),r.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ws,{className:"w-4 h-4 mr-2"}),r.jsx("span",{"data-testid":`checkout-item-date-${te}`,children:B.scheduledDate instanceof Date?B.scheduledDate.toLocaleDateString():new Date(B.scheduledDate).toLocaleDateString()}),r.jsx(Ts,{className:"w-4 h-4 ml-4 mr-2"}),r.jsx("span",{"data-testid":`checkout-item-time-${te}`,children:B.scheduledTime})]}),ie.address&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(ys,{className:"w-4 h-4 mr-2 mt-0.5"}),r.jsx("span",{className:"line-clamp-1",children:ie.address})]})]})]})}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Base Service Price"}),r.jsx("span",{children:Er(G)})]}),P>0&&r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Add-ons"}),r.jsx("span",{children:Er(P)})]}),B.selectedAddOns&&Array.isArray(B.selectedAddOns)&&B.selectedAddOns.length>0&&r.jsx("div",{className:"ml-4 space-y-1",children:B.selectedAddOns.map((xe,X)=>r.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"}),xe]},X))}),Ln(B.tipAmount||"0")>0&&r.jsxs("div",{className:"flex justify-between text-success text-sm",children:[r.jsx("span",{children:"Provider Tip"}),r.jsx("span",{"data-testid":`checkout-item-tip-${te}`,children:Er(Ln(B.tipAmount||"0"))})]}),r.jsx(Pn,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-semibold text-primary",children:[r.jsx("span",{children:"Service Subtotal"}),r.jsx("span",{"data-testid":`checkout-item-subtotal-${te}`,children:Er(U)})]})]})]},B.id)})})]}),r.jsxs(oe,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Method"}),r.jsx(Q2,{value:o,onValueChange:B=>l(B),children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer","data-testid":"radio-card-payment",children:[r.jsx(s0,{value:"card"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(Cr,{className:"w-5 h-5 mr-2 text-primary"}),r.jsx("span",{className:"font-medium",children:"Credit/Debit Card"})]})]}),r.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer","data-testid":"radio-bank-payment",children:[r.jsx(s0,{value:"bank"}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(a2,{className:"w-5 h-5 mr-2 text-primary"}),r.jsx("span",{className:"font-medium",children:"Bank Account"})]})]})]})}),o==="card"&&r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardName",children:"Cardholder Name"}),r.jsx(He,{id:"cardName",value:b,onChange:B=>x(B.target.value),placeholder:"John Doe","data-testid":"input-card-name"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardNumber",children:"Card Number"}),r.jsx(He,{id:"cardNumber",value:u,onChange:B=>h(B.target.value),placeholder:"1234 5678 9012 3456",maxLength:19,"data-testid":"input-card-number"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardExpiry",children:"Expiry Date"}),r.jsx(He,{id:"cardExpiry",value:m,onChange:B=>f(B.target.value),placeholder:"MM/YY",maxLength:5,"data-testid":"input-card-expiry"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardCVV",children:"CVV"}),r.jsx(He,{id:"cardCVV",type:"password",value:g,onChange:B=>p(B.target.value),placeholder:"123",maxLength:4,"data-testid":"input-card-cvv"})]})]})]}),o==="bank"&&r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"accountHolder",children:"Account Holder Name"}),r.jsx(He,{id:"accountHolder",value:L,onChange:B=>R(B.target.value),placeholder:"John Doe","data-testid":"input-account-holder"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"bankName",children:"Bank Name"}),r.jsx(He,{id:"bankName",value:y,onChange:B=>w(B.target.value),placeholder:"First National Bank","data-testid":"input-bank-name"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"accountNumber",children:"Account Number"}),r.jsx(He,{id:"accountNumber",value:S,onChange:B=>C(B.target.value),placeholder:"1234567890","data-testid":"input-account-number"})]})]})]})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(oe,{className:"p-6 sticky top-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Subtotal (",e.items.length," services)"]}),r.jsx("span",{className:"font-medium","data-testid":"summary-subtotal",children:Er(M)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Platform Fee (15%)"}),r.jsx("span",{className:"font-medium","data-testid":"summary-platform-fee",children:Er($)})]}),D>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Provider Tips"}),r.jsx("span",{className:"font-medium text-success","data-testid":"summary-tips",children:Er(D)})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Total"}),r.jsx("span",{className:"text-primary","data-testid":"summary-total",children:Er(E)})]})]}),r.jsx(K,{className:"w-full bg-primary hover:bg-accent text-primary-foreground mb-4",size:"lg",onClick:q,disabled:c||n,"data-testid":"button-complete-checkout",children:c||n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ur,{className:"h-4 w-4 mr-2"}),"Complete Payment"]})}),r.jsx("div",{className:"bg-muted rounded-lg p-4 text-sm",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(bs,{className:"w-5 h-5 text-primary mr-2 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-foreground mb-1",children:"Berry Events Bank Protection"}),r.jsx("p",{className:"text-muted-foreground text-xs",children:"Your payment is held securely until services are completed. Full refund if service is not delivered as promised."})]})]})})]})})]})]})})}function iwe(){const[,e]=SD("/order-confirmation/:orderId"),[,t]=nr(),{toast:s}=us(),n=e==null?void 0:e.orderId,{data:i,isLoading:a}=Ds({queryKey:["/api/orders",n],enabled:!!n}),o=j.useMemo(()=>i?i.orderNumber||`BE-${new Date().getFullYear()}-${String(Date.now()).slice(-6)}`:"",[i]),l=()=>{if(i)try{const c=new bt,d=c.internal.pageSize.getWidth(),u=c.internal.pageSize.getHeight();let h=20;c.setFillColor(123,44,191),c.rect(0,0,d,30,"F"),c.setTextColor(255,255,255),c.setFontSize(24),c.setFont("helvetica","bold"),c.text("Berry Events",20,20),c.setTextColor(0,0,0),h=50,c.setFontSize(18),c.setFont("helvetica","bold"),c.text("Booking Confirmation",20,h),h+=10,c.setFontSize(10),c.setFont("helvetica","normal"),c.setTextColor(100,100,100),c.text(`Booking Reference: ${o}`,20,h),h+=6;const m=i.createdAt?new Date(i.createdAt).toLocaleDateString():new Date().toLocaleDateString();c.text(`Order Date: ${m}`,20,h),h+=15,c.setFontSize(14),c.setFont("helvetica","bold"),c.setTextColor(0,0,0),c.text("Service Details",20,h),h+=8,i.items.forEach((b,x)=>{h>u-60&&(c.addPage(),h=20),c.setFontSize(11),c.setFont("helvetica","bold"),c.text(`${x+1}. ${b.serviceName}`,20,h),h+=6,c.setFontSize(9),c.setFont("helvetica","normal"),c.setTextColor(60,60,60),c.text(`Date: ${new Date(b.scheduledDate).toLocaleDateString()} at ${b.scheduledTime}`,25,h),h+=5,b.duration&&(c.text(`Duration: ${b.duration}`,25,h),h+=5);const y=b.serviceDetails?typeof b.serviceDetails=="string"?JSON.parse(b.serviceDetails):b.serviceDetails:{};if(y.address){const L=`Location: ${y.address}`,R=c.splitTextToSize(L,d-50);c.text(R,25,h),h+=R.length*5}h+=3,c.setDrawColor(220,220,220),c.line(25,h,d-20,h),h+=5;const w=Ln(b.basePrice),S=Ln(b.addOnsPrice),C=Ln(b.subtotal);c.setTextColor(0,0,0),c.text("Base Service Price:",25,h),c.text(`R${w.toFixed(2)}`,d-40,h,{align:"right"}),h+=5,S>0&&(c.text("Add-ons:",25,h),c.text(`R${S.toFixed(2)}`,d-40,h,{align:"right"}),h+=5,b.selectedAddOns&&Array.isArray(b.selectedAddOns)&&b.selectedAddOns.length>0&&(c.setFontSize(8),c.setTextColor(80,80,80),b.selectedAddOns.forEach(L=>{c.text(` ${L}`,30,h),h+=4}),c.setFontSize(9),c.setTextColor(0,0,0))),c.setDrawColor(220,220,220),c.line(25,h,d-20,h),h+=5,c.setFont("helvetica","bold"),c.setTextColor(123,44,191),c.text("Service Subtotal:",25,h),c.text(`R${C.toFixed(2)}`,d-40,h,{align:"right"}),h+=10,c.setFont("helvetica","normal"),c.setTextColor(0,0,0)}),h>u-60&&(c.addPage(),h=20),h+=5,c.setFontSize(14),c.setFont("helvetica","bold"),c.text("Payment Summary",20,h),h+=8,c.setFontSize(10),c.setFont("helvetica","normal"),c.text("Subtotal:",20,h),c.text(`R${Ln(i.subtotal).toFixed(2)}`,d-40,h,{align:"right"}),h+=6,c.text("Platform Fee (15%):",20,h),c.text(`R${Ln(i.platformFee).toFixed(2)}`,d-40,h,{align:"right"}),h+=6,c.setDrawColor(200,200,200),c.line(20,h,d-20,h),h+=6,c.setFont("helvetica","bold"),c.text("Total Amount:",20,h),c.text(`R${Ln(i.totalAmount).toFixed(2)}`,d-40,h,{align:"right"}),h+=12,c.setFontSize(9),c.setFont("helvetica","normal");const f=i.paymentMethod==="card"?`Card ending in ****${i.cardLast4||"XXXX"}`:`Bank account ending in ****${i.accountLast4||"XXXX"}`;c.text(`Payment Method: ${f}`,20,h),h+=5,c.text(`Payment Status: ${i.paymentStatus}`,20,h),h+=15,c.setFillColor(240,235,255),c.roundedRect(20,h,d-40,25,3,3,"F"),h+=7,c.setFontSize(9),c.setFont("helvetica","bold"),c.setTextColor(123,44,191),c.text("Berry Events Bank Protection",25,h),h+=5,c.setFont("helvetica","normal"),c.setTextColor(60,60,60);const p=c.splitTextToSize("Your payment is held securely until all services are completed. Full refund guaranteed if services are not delivered as promised.",d-50);c.text(p,25,h),h+=p.length*4+10,c.setFontSize(8),c.setTextColor(100,100,100),h=u-30,c.text("Berry Events - All Your Home Services In One",d/2,h,{align:"center"}),h+=4,c.text("Email: support@berryevents.co.za | Phone: +27 (0) 123 456 789",d/2,h,{align:"center"}),h+=4,c.text("www.berryevents.co.za",d/2,h,{align:"center"}),c.save(`Berry-Events-Booking-${o}.pdf`),s({title:"Receipt downloaded",description:"Your booking receipt has been saved"})}catch(c){console.error("PDF generation error:",c),s({title:"Download failed",description:"Failed to generate PDF receipt",variant:"destructive"})}};return a?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):i?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-muted to-white py-12",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-success/10 rounded-full mb-4",children:r.jsx(ur,{className:"w-10 h-10 text-success"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2","data-testid":"confirmation-title",children:"Booking Confirmed!"}),r.jsx("p",{className:"text-gray-600",children:"Your services have been successfully booked"}),r.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 bg-muted px-4 py-2 rounded-full",children:[r.jsx(Pm,{className:"w-4 h-4 text-primary"}),r.jsxs("span",{className:"text-sm font-medium text-foreground","data-testid":"booking-reference",children:["Ref: ",o]})]})]}),r.jsxs(oe,{className:"mb-6 p-6",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Booked Services (",i.items.length,")"]}),r.jsx("div",{className:"space-y-4",children:i.items.map((c,d)=>{const u=c.serviceDetails?typeof c.serviceDetails=="string"?JSON.parse(c.serviceDetails):c.serviceDetails:{},h=Ln(c.basePrice),m=Ln(c.addOnsPrice),f=Ln(c.subtotal);return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white","data-testid":`confirmed-service-${d}`,children:[r.jsx("div",{className:"flex justify-between items-start mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg","data-testid":`confirmed-service-name-${d}`,children:c.serviceName}),r.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ws,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:new Date(c.scheduledDate).toLocaleDateString()}),r.jsx(Ts,{className:"w-4 h-4 ml-4 mr-2"}),r.jsx("span",{children:c.scheduledTime})]}),u.address&&r.jsxs("div",{className:"flex items-start",children:[r.jsx(ys,{className:"w-4 h-4 mr-2 mt-0.5"}),r.jsx("span",{className:"line-clamp-2",children:u.address})]})]}),r.jsx("div",{className:"mt-2",children:r.jsx(Ke,{className:"bg-success/10 text-success hover:bg-success/10",children:c.status||"Confirmed"})})]})}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Base Service Price"}),r.jsxs("span",{children:["R",h.toFixed(2)]})]}),m>0&&r.jsxs("div",{className:"flex justify-between text-gray-700",children:[r.jsx("span",{children:"Add-ons"}),r.jsxs("span",{children:["R",m.toFixed(2)]})]}),c.selectedAddOns&&Array.isArray(c.selectedAddOns)&&c.selectedAddOns.length>0&&r.jsx("div",{className:"ml-4 space-y-1",children:c.selectedAddOns.map((g,p)=>r.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-2"}),g]},p))}),Ln(c.tipAmount||"0")>0&&r.jsxs("div",{className:"flex justify-between text-success text-sm",children:[r.jsx("span",{children:"Provider Tip"}),r.jsxs("span",{children:["R",Ln(c.tipAmount||"0").toFixed(2)]})]}),r.jsx(Pn,{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-semibold text-primary",children:[r.jsx("span",{children:"Service Subtotal"}),r.jsxs("span",{children:["R",f.toFixed(2)]})]})]})]},c.id)})})]}),r.jsxs(oe,{className:"mb-6 p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal"}),r.jsx("span",{className:"font-medium","data-testid":"payment-subtotal",children:Er(i.subtotal)})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Platform Fee (15%)"}),r.jsx("span",{className:"font-medium","data-testid":"payment-platform-fee",children:Er(i.platformFee)})]}),i.items.some(c=>Ln(c.tipAmount||"0")>0)&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Provider Tips"}),r.jsx("span",{className:"font-medium text-success","data-testid":"payment-tips",children:Er(i.items.reduce((c,d)=>c+Ln(d.tipAmount||"0"),0))})]}),r.jsx(Pn,{}),r.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[r.jsx("span",{children:"Total Paid"}),r.jsx("span",{className:"text-primary","data-testid":"payment-total",children:Er(i.totalAmount)})]}),r.jsxs("div",{className:"mt-4 text-sm text-gray-600 flex items-center",children:[r.jsx("span",{children:"Payment Status:"}),r.jsx(Ke,{className:"ml-2",children:i.paymentStatus})]})]})]}),r.jsx(oe,{className:"mb-6 p-6 bg-muted border-border",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(bs,{className:"w-6 h-6 text-primary mr-3 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Berry Events Bank Protection"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Your payment is held securely until all services are completed. You'll receive a full refund if services are not delivered as promised. Our 15% platform fee ensures quality service and customer protection."})]})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs(K,{onClick:l,variant:"outline",className:"flex-1","data-testid":"button-download-receipt",children:[r.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Download Receipt"]}),r.jsxs(K,{onClick:()=>t("/"),className:"flex-1 bg-primary hover:bg-accent text-primary-foreground","data-testid":"button-back-to-home",children:[r.jsx(eo,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs(oe,{className:"max-w-md w-full p-8 text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Order not found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The order you're looking for doesn't exist"}),r.jsx(K,{onClick:()=>t("/"),"data-testid":"button-back-home",children:"Back to Home"})]})})}function awe(){return r.jsxs(gG,{children:[r.jsx(ds,{path:"/",component:Yle}),r.jsx(ds,{path:"/minimalist",component:bfe}),r.jsx(ds,{path:"/cart-checkout",component:rwe}),r.jsx(ds,{path:"/order-confirmation/:orderId",component:iwe}),r.jsx(ds,{path:"/old-home",component:cle}),r.jsx(ds,{path:"/auth",component:Nfe}),r.jsx(ds,{path:"/booking",component:Sfe}),r.jsx(ds,{path:"/booking-confirmation",component:Cfe}),r.jsx(ds,{path:"/bookings",component:i0e}),r.jsx(ds,{path:"/services",component:u0e}),r.jsx(ds,{path:"/quote",component:I0e}),r.jsx(ds,{path:"/payment",component:h0e}),r.jsx(ds,{path:"/admin",component:OM}),r.jsx(ds,{path:"/admin-portal",component:OM}),r.jsx(ds,{path:"/verify-email",component:p2e}),r.jsx(ds,{path:"/reset-password",component:g2e}),r.jsx(ds,{path:"/providers",component:Qfe}),r.jsx(ds,{path:"/provider-onboarding",component:mme}),r.jsx(ds,{path:"/provider-training",component:yme}),r.jsx(ds,{path:"/provider-dashboard",component:Pme}),r.jsx(ds,{path:"/profile",component:fme}),r.jsx(ds,{path:"/wallet",component:nwe}),r.jsx(ds,{path:"/notifications",component:l0e}),r.jsx(ds,{path:"/mobile-app",component:p0e}),r.jsx(ds,{path:"/tracking",component:y8}),r.jsx(ds,{path:"/tracking/:bookingId",component:y8}),r.jsx(ds,{path:"/contact",component:x0e}),r.jsx(ds,{path:"/support",component:C0e}),r.jsx(ds,{path:"/help",component:k0e}),r.jsx(ds,{path:"/about",component:_0e}),r.jsx(ds,{path:"/safety",component:E0e}),r.jsx(ds,{path:"/feedback",component:T0e}),r.jsx(ds,{path:"/careers",component:M0e}),r.jsx(ds,{path:"/press",component:R0e}),r.jsx(ds,{path:"/provider-support",component:L0e}),r.jsx(ds,{path:"/berry-stars",component:D0e}),r.jsx(ds,{path:"/provider-earnings",component:O0e}),r.jsx(ds,{path:"/offline",component:Eme}),r.jsx(ds,{component:Ame})]})}function owe(){return r.jsx(OG,{client:ha,children:r.jsx(AQ,{children:r.jsx(PQ,{children:r.jsx(kQ,{children:r.jsxs(dI,{children:[r.jsx(XZ,{}),r.jsx(awe,{})]})})})})})}async function lwe(){if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.js",{scope:"/"});return console.log("Service Worker registered successfully:",e),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&confirm("New version available! Reload to update?")&&window.location.reload()})}),e}catch(e){console.error("Service Worker registration failed:",e)}}lwe();fD(document.getElementById("root")).render(r.jsx(owe,{}));export{Vs as _,dwe as c,y4 as g};
